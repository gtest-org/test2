2014-01-07T00:01:03  *** dstanek has quit IRC
2014-01-07T00:01:08  <gyee_> is there a way to restore a patch on behalf of someone else?
2014-01-07T00:01:27  <openstackgerrit> Jerry Zhao proposed a change to openstack-infra/config: Add compass project to stackforge Partial-bug: 1265229 Change-Id: I29bcffc64e7f3ea1dbd50ffae87206fe5b1229fe  https://review.openstack.org/65178
2014-01-07T00:01:40  <foobio> gyee_: in our current version of gerrit, only a gerrit global administrator can do that--if you give me the change url i'll be happy to
2014-01-07T00:01:53  <gyee_> foobio, https://review.openstack.org/#/c/57811/
2014-01-07T00:02:06  <gyee_> fabio's on vacation and asked me to finish up the patch for him
2014-01-07T00:02:08  <foobio> gyee_: once we get done upgrading to a more recent gerrit, we should be able to grant core teams that right via an acl
2014-01-07T00:02:13  *** mkerrin1 has joined #openstack-infra
2014-01-07T00:02:34  <foobio> gyee_: it's restored now. enjoy!
2014-01-07T00:02:35  *** lifeless_ has joined #openstack-infra
2014-01-07T00:02:45  *** david-lyle_ has quit IRC
2014-01-07T00:02:51  *** rwsu has quit IRC
2014-01-07T00:02:51  *** krotscheck has quit IRC
2014-01-07T00:02:51  *** dims_ has quit IRC
2014-01-07T00:02:51  *** UtahDave has quit IRC
2014-01-07T00:02:51  *** salv-orlando has quit IRC
2014-01-07T00:02:51  *** krtaylor has quit IRC
2014-01-07T00:02:52  *** nati_ueno has quit IRC
2014-01-07T00:02:52  *** herndon has quit IRC
2014-01-07T00:02:53  *** dkliban has quit IRC
2014-01-07T00:02:53  *** yidclare has quit IRC
2014-01-07T00:02:53  *** branen__ has quit IRC
2014-01-07T00:02:53  *** rcleere has quit IRC
2014-01-07T00:02:54  *** weshay has quit IRC
2014-01-07T00:02:54  *** mkerrin has quit IRC
2014-01-07T00:02:55  *** medberry has quit IRC
2014-01-07T00:02:55  *** jcooley has quit IRC
2014-01-07T00:02:55  *** lifeless has quit IRC
2014-01-07T00:02:56  *** rockstar has quit IRC
2014-01-07T00:02:57  *** rcleere_ is now known as rcleere
2014-01-07T00:02:58  <openstackgerrit> Jerry Zhao proposed a change to openstack-infra/config: Add compass project to stackforge  https://review.openstack.org/65178
2014-01-07T00:03:00  *** salv-orlando_ is now known as salv-orlando
2014-01-07T00:03:03  <morganfainberg> foobio, ooooh AWESOME if a core can do that w/ an ACL when we get a new verison
2014-01-07T00:03:04  <gyee_> foobio, thanks!
2014-01-07T00:03:13  <morganfainberg> foobio, that would make me super happy (as a core member)
2014-01-07T00:03:28  <gyee_> ++
2014-01-07T00:03:47  <morganfainberg> and means i don't need to tell people to come bug you guys for keystone reviews that need life breathed back into them
2014-01-07T00:03:51  <foobio> morganfainberg: yep, been on our wishlist for ages. i for one will be happy to no longer need to restore changes for people
2014-01-07T00:04:00  <morganfainberg> :)
2014-01-07T00:04:09  <morganfainberg> well, i look forward to new version of gerrit then!
2014-01-07T00:04:21  *** weshay has joined #openstack-infra
2014-01-07T00:04:27  <foobio> as much as i like playing the hero, there's already plenty of other broken thigs which need my time
2014-01-07T00:04:29  *** rockstar has joined #openstack-infra
2014-01-07T00:04:29  *** rockstar has joined #openstack-infra
2014-01-07T00:04:32  *** dims_ has joined #openstack-infra
2014-01-07T00:04:32  <foobio> er, things
2014-01-07T00:04:40  *** krotscheck has joined #openstack-infra
2014-01-07T00:04:48  *** krtaylor has joined #openstack-infra
2014-01-07T00:04:58  *** rwsu has joined #openstack-infra
2014-01-07T00:05:25  *** yamahata has quit IRC
2014-01-07T00:06:53  *** UtahDave has joined #openstack-infra
2014-01-07T00:06:53  *** dkliban has joined #openstack-infra
2014-01-07T00:06:53  *** jcooley has joined #openstack-infra
2014-01-07T00:07:22  <sdague> foobio: so we're getting those mysterious lost time at the beginning of runs again - https://jenkins02.openstack.org/job/gate-tempest-dsvm-full/4101/consoleFull
2014-01-07T00:07:32  <sdague> that was a git gc issue the last time, right?
2014-01-07T00:07:55  <foobio> sdague: i honestly am not sure. i think we've also seen it when jenkins masters are hammered (like now)
2014-01-07T00:08:22  <foobio> which is one of the reasons we're in the process of standing up jenkins02 and 04 at this moment
2014-01-07T00:08:28  <sdague> ok, cool
2014-01-07T00:08:28  <foobio> er, 03 and 04
2014-01-07T00:09:09  <sdague> I'll let you get back to it. Dinner time anyway. will ping for a post mortem tomorrow when things are mellow, as I missed what happened
2014-01-07T00:11:25  *** pmathews has quit IRC
2014-01-07T00:13:18  *** fifieldt has quit IRC
2014-01-07T00:13:36  *** fifieldt has joined #openstack-infra
2014-01-07T00:13:49  *** oubiwann has quit IRC
2014-01-07T00:16:33  <foobio> corvus: /var/lib/jenkins/plugins/{scp,zmq-event-publisher}.jpi exist on 03 and 04 now, copied from 02
2014-01-07T00:16:54  *** rcleere has quit IRC
2014-01-07T00:18:23  <openstackgerrit> Jerry Zhao proposed a change to openstack-infra/config: Add compass project to stackforge  https://review.openstack.org/65178
2014-01-07T00:18:24  *** dstanek has joined #openstack-infra
2014-01-07T00:19:01  <foobio> not sure what else is required (normally i've uploaded them via the webui instead, so no idea whether those help and maven metadata files in the similarly-named directories are needed)
2014-01-07T00:20:50  *** kraman has joined #openstack-infra
2014-01-07T00:21:55  <openstackgerrit> Doug Hellmann proposed a change to openstack-infra/config: Add jobs for cliff integration tests  https://review.openstack.org/65180
2014-01-07T00:23:17  <foobio> corvus: went ahead and added those too. hopefully they don't embed anything host-specific
2014-01-07T00:24:19  *** senk has quit IRC
2014-01-07T00:25:58  *** UtahDave has quit IRC
2014-01-07T00:30:05  *** foobio has quit IRC
2014-01-07T00:34:27  <devananda> something seems odd with jenkins on 48109
2014-01-07T00:34:31  *** eharney has quit IRC
2014-01-07T00:36:19  <devananda> gate started 10hr ago, no response. zuul status page shows "unknown" for the job and skipped for all the tests
2014-01-07T00:36:22  *** dstanek has quit IRC
2014-01-07T00:36:53  *** rnirmal has quit IRC
2014-01-07T00:37:33  *** dims_ is now known as dims
2014-01-07T00:40:20  *** lifeless_ is now known as lifeless
2014-01-07T00:41:56  *** salv-orlando has quit IRC
2014-01-07T00:42:16  *** salv-orlando has joined #openstack-infra
2014-01-07T00:45:15  *** ^d has quit IRC
2014-01-07T00:51:32  *** jerryz is now known as jerryzhao
2014-01-07T00:51:38  *** jerryzhao is now known as jerryz
2014-01-07T00:52:06  <openstackgerrit> Khai Do proposed a change to openstack-infra/jenkins-job-builder: make scm test as the examples  https://review.openstack.org/65186
2014-01-07T00:55:26  *** krotscheck has quit IRC
2014-01-07T00:58:59  *** prad has quit IRC
2014-01-07T00:59:36  <corvus> superbee2: let's start jenkins on 3 and 4 now
2014-01-07T00:59:39  <corvus> superbee2: i'll do 3
2014-01-07T01:00:02  *** superbee2 is now known as superbee
2014-01-07T01:00:33  <superbee> corvus: starting 4 now
2014-01-07T01:01:39  <superbee> corvus: will need to update the logstash client to consume events from those jenkinses as well
2014-01-07T01:02:14  <corvus> superbee: yes, we'll want to add them to everything except nodepool config in one change, then nodepool in a second
2014-01-07T01:02:41  <corvus> superbee: i think authn isn't right
2014-01-07T01:04:09  <corvus> superbee: i think there's some xml that needs editing; i'll do ti
2014-01-07T01:04:14  <superbee> corvus: ok
2014-01-07T01:06:31  <corvus> superbee: done, restarting both
2014-01-07T01:06:39  <superbee> corvus: which file was edited?
2014-01-07T01:06:45  * superbee is curious what was needed to fix it
2014-01-07T01:07:02  <corvus> hudson.tasks.Mailer.xml jenkins.model.JenkinsLocationConfiguration.xml org.codefirst.SimpleThemeDecorator.xml
2014-01-07T01:08:18  <corvus> superbee: want to run "jenkins-jobs update /etc/jenkins_jobs/config" ?
2014-01-07T01:08:24  <superbee> corvus: sure
2014-01-07T01:10:12  <superbee> corvus: there was an auth failure, I assume we either update xml to change the key or change the jjb ini to use a different key?
2014-01-07T01:10:36  *** rhsu has quit IRC
2014-01-07T01:11:18  <corvus> superbee: yeah, they have different api keys
2014-01-07T01:11:36  *** praneshp has quit IRC
2014-01-07T01:11:41  <corvus> superbee: i think we should stop them again and change the xml file for the gerrig user to match what jjb is sending
2014-01-07T01:11:46  <superbee> ok
2014-01-07T01:11:49  <superbee> stopping 4
2014-01-07T01:11:52  <openstackgerrit> Joshua Harlow proposed a change to openstack-infra/config: Add different envs for different sqlalchemy versions  https://review.openstack.org/65135
2014-01-07T01:12:10  <openstackgerrit> Jerry Zhao proposed a change to openstack-infra/config: Add compass project to stackforge  https://review.openstack.org/65178
2014-01-07T01:12:46  <corvus> superbee: oh, i think we have to copy the gerrig xml file from another host
2014-01-07T01:12:58  <superbee> I see
2014-01-07T01:13:21  <corvus> superbee: /var/lib/jenkins/users/gerrig/config.xml
2014-01-07T01:13:37  *** jasondotstar has joined #openstack-infra
2014-01-07T01:14:40  *** foobio has joined #openstack-infra
2014-01-07T01:17:31  <corvus> superbee: oh, i think i botched the xml extraction;
2014-01-07T01:17:35  <corvus> superbee: we're missing too many files
2014-01-07T01:17:46  <corvus> superbee: let me try again
2014-01-07T01:17:48  <superbee> corvus: k
2014-01-07T01:18:16  <foobio> okay, i'm back
2014-01-07T01:18:30  <foobio> hopefully that extended outage was my isp fixing flow issues
2014-01-07T01:18:36  *** praneshp has joined #openstack-infra
2014-01-07T01:18:38  <foobio> i'll check the logs in a sec
2014-01-07T01:18:58  *** weshay has quit IRC
2014-01-07T01:19:07  <superbee> foobio: basically corvus found that we were missing xml stuff that we needed so jenkins processes are stopped and he is redoing the xml extraction
2014-01-07T01:19:14  *** weshay has joined #openstack-infra
2014-01-07T01:19:25  <foobio> okay, caught the tail end of that already. thanks
2014-01-07T01:19:32  <foobio> sounds like i missed very little then
2014-01-07T01:19:51  <superbee> ya not much, we were poking at it then corvus realized what had happened
2014-01-07T01:20:04  *** ^d has joined #openstack-infra
2014-01-07T01:20:41  <hub_cap> so we just added our first core member (post the initial seed of members), and im really not sure what to do after the email approval :)
2014-01-07T01:20:42  *** nosnos has joined #openstack-infra
2014-01-07T01:21:00  <superbee> hub_cap: log into review.o.o, under admin groups find your core group and click on it
2014-01-07T01:21:11  <superbee> hub_cap: on the left there should be a members tab, go there, and add the user
2014-01-07T01:21:22  <hub_cap> o snap thats easy
2014-01-07T01:21:32  <hub_cap> thx superbee
2014-01-07T01:21:36  <superbee> np
2014-01-07T01:23:13  *** yaguang has joined #openstack-infra
2014-01-07T01:25:22  <corvus> superbee, foobio: the correct tarballs are in ~corvus on 03 and 04 (i hope)
2014-01-07T01:25:46  <superbee> corvus: just extract in place?
2014-01-07T01:25:47  *** jerryz is now known as jerryzhao
2014-01-07T01:26:04  <corvus> superbee: yes, then change those 3 files
2014-01-07T01:27:49  <foobio> corvus: okay. i originally looked at the 3 tarballs in your homedir on jenkins.o.o
2014-01-07T01:28:12  <corvus> foobio: same ones
2014-01-07T01:28:20  <foobio> awesome
2014-01-07T01:28:35  <corvus> still missing something though; the api keys are different
2014-01-07T01:30:22  <corvus> secret.key is different
2014-01-07T01:30:34  *** moted has joined #openstack-infra
2014-01-07T01:30:40  *** vijay has joined #openstack-infra
2014-01-07T01:31:49  *** CaptTofu has quit IRC
2014-01-07T01:33:28  <vijay> Can someone help creating a gerrit service account, it will be used by the TestInfraStructure at citrix
2014-01-07T01:33:56  *** melwitt has quit IRC
2014-01-07T01:34:19  *** vipul is now known as vipul-away
2014-01-07T01:35:19  *** dkranz has joined #openstack-infra
2014-01-07T01:36:08  *** weshay has quit IRC
2014-01-07T01:36:24  <foobio> vijay: sure, have you seen http://ci.openstack.org/third_party.html#requesting-a-service-account
2014-01-07T01:36:48  <foobio> vijay: that lists the information we'll need to be able to set it up for you
2014-01-07T01:36:51  <vijay> Yes. I have the details withe me right now
2014-01-07T01:37:01  <vijay> Shall i post it here?
2014-01-07T01:37:52  <foobio> vijay: the ssh key might be a little large (you could post it to http://paste.openstack.org/ and provide a link to it here if it's not published somewhere already)
2014-01-07T01:38:24  <foobio> vijay: the full name, username and e-mail address should be easy to communicate directly in channel though
2014-01-07T01:39:04  *** boris-42 has quit IRC
2014-01-07T01:39:59  <corvus> foobio, superbee: ugh; looks like secrets.tar.gz is missing a path component
2014-01-07T01:40:01  <corvus> fixing
2014-01-07T01:40:23  <vijay> ssh-key: http://paste.openstack.org/show/60544/
2014-01-07T01:40:37  <vijay> UserName: NetScalerAts
2014-01-07T01:40:54  <vijay> Display Name: NetScaler TestingSystem
2014-01-07T01:41:05  <vijay> Email-id: #Networking-CloudIntegDev@citrix.com
2014-01-07T01:41:59  *** dkranz has quit IRC
2014-01-07T01:42:25  <foobio> vijay: i've added it
2014-01-07T01:42:36  <foobio> vijay: test it out and let us know if you have any trouble with it
2014-01-07T01:42:37  <vijay> The email-id will be enabled only in another 3 hours. I have requested for creation.
2014-01-07T01:42:55  <superbee> foobio: have you followed the ability to vote for third party testers discussion?
2014-01-07T01:42:57  <SpamapS> when I get this, what bug should I reverify against: error: Failed to connect to 2001:4800:7813:516:3bc3:d7f6:ff04:aacb: Network is unreachable while accessing https://git.openstack.org/openstack/tempest/info/refs
2014-01-07T01:43:04  <superbee> foobio: I thin kwe want to defailt to not allowing voting
2014-01-07T01:43:12  <SpamapS> new bug on openstack-infra ?
2014-01-07T01:43:18  <SpamapS> looks entirely transient
2014-01-07T01:43:19  <foobio> vijay: i guess that was your e-mail to the openstack-infra mailing list earlier today. i'll follow up to it too
2014-01-07T01:43:24  *** sarob has joined #openstack-infra
2014-01-07T01:43:43  <superbee> SpamapS: ya, bug against openstack-infra with note that it appares to be a transient network problem will work
2014-01-07T01:44:18  *** talluri has quit IRC
2014-01-07T01:44:41  <corvus> okay the api keys match
2014-01-07T01:44:45  <foobio> superbee: i've been following, but looked like we hadn't arrived at and officially published a decision on it yet, so i'd been doing business as usual and disabling voting for specific accounts on request in the meantime
2014-01-07T01:44:47  <corvus> superbee: you should be able to run jjb now
2014-01-07T01:44:53  <superbee> corvus: running now
2014-01-07T01:45:09  *** CaptTofu has joined #openstack-infra
2014-01-07T01:45:15  *** ^d has quit IRC
2014-01-07T01:46:14  <superbee> corvus: did we make it official in that bofh last night and just fail at communicating it?
2014-01-07T01:46:18  <foobio> superbee: part of the challenge is that some of the third-party testing systems are implemented specifically to provide feedback on one (or a specific group of) stackforge project(s), so i'm not sure under which circumstances we evaluate that
2014-01-07T01:46:24  *** pcrews has quit IRC
2014-01-07T01:46:30  <SpamapS> superbee: ty, https://bugs.launchpad.net/openstack-ci/+bug/1266616 filed
2014-01-07T01:46:34  <corvus> superbee: i don't think we can make something like that official at a bof
2014-01-07T01:46:44  *** ryanpetrello has joined #openstack-infra
2014-01-07T01:46:50  <corvus> superbee: however, no one has objected to that portion of the proposed requirements in review
2014-01-07T01:46:57  <superbee> foobio: I think with ACLs? we can restrict which accounts can vote more precisely
2014-01-07T01:47:19  <vijay> foobio: I was not able to vote "--verified" with my account. But the newly created account "NetScalerATS" should be able to vote "verified" right?
2014-01-07T01:47:19  <superbee> corvus: thats fair, the change needs reviwe then?
2014-01-07T01:47:35  <foobio> vijay: yes
2014-01-07T01:47:48  <corvus> superbee: yes
2014-01-07T01:47:57  <lifeless> foobio: did you check whether your mirror is working atm?
2014-01-07T01:48:00  <superbee> however, please please please, make sure you are ready to vote verifiend when you start doing that
2014-01-07T01:48:05  *** yamahata has joined #openstack-infra
2014-01-07T01:48:23  <foobio> vijay: though it's worth noting that there are some consensus decisions coming to a head about additional requirements before voting on changes is appropriate
2014-01-07T01:48:45  <corvus> foobio: until we have a better plan, i think 'ask the relevant ptl' if a system is ready to vote is a reasonable plan to start with.
2014-01-07T01:48:51  <foobio> vijay: we'll update documentation accordingly once that information has been finalized
2014-01-07T01:49:48  <foobio> corvus: sounds sane, though we need to collect additional information to determine how to map a third-party testing system to a particular program, i suppose
2014-01-07T01:50:19  <vijay> Ok. Currently it does LBaaS API testing along with NetScaler and then votes. It listens to changes and tests only if the change submitted is relevant to LBaaS plugin or NetScaler or Tempest LBaaS Tests
2014-01-07T01:50:52  <superbee> jog0: any chance you can push a new patchset that addresses the current comments in the third party docs/
2014-01-07T01:51:37  <jog0> superbee: actually about to step out for dinner, you want to push a new version?
2014-01-07T01:51:58  <foobio> lifeless: i've been fighting broken internet service today, but have just about managed to get enough of a web proxy up to be able to get a vm launched where i can try running pypi-mirror. the job logs didn't indicate the usual signs we saw from pip 1.5/virtualenv 1.11 use, but i saw other tracebacks and so want to try running it myself
2014-01-07T01:52:20  <superbee> jog0: not really, I am conferencing :)
2014-01-07T01:52:30  *** prad has joined #openstack-infra
2014-01-07T01:52:32  <jog0> superbee: oh right enjoy LCA
2014-01-07T01:52:36  *** michchap_ has joined #openstack-infra
2014-01-07T01:52:38  *** dcramer_ has joined #openstack-infra
2014-01-07T01:52:41  *** prad has quit IRC
2014-01-07T01:52:45  <foobio> lifeless: also, i'm going to try to run it with newer pip so i can hopefully find other externally-hosted packages which haven't already turned up on unit test failures people have reporte
2014-01-07T01:52:46  <anteaya> vijay: it isn't what you are testing, it is if your system is stable (is it functioning) and do you have logs and contact information
2014-01-07T01:52:47  <foobio> d
2014-01-07T01:52:48  <superbee> corvus: JJB is still going on 04, I have it in screen so will just detach if necessary
2014-01-07T01:53:00  *** michchap has quit IRC
2014-01-07T01:53:24  <jog0> superbee: I'll push a new rev in the AM -- but if someone else wants to push one instead by all means they can
2014-01-07T01:53:31  <superbee> jog0: ok
2014-01-07T01:53:37  <foobio> lifeless: today has been full of more urgent issues which mostly killed my progress on that
2014-01-07T01:53:45  <anteaya> vijay: if your system is voting -1 because your system has fallen over, people will try to contact you and thenn your permissions will be revoked if you are not responsive
2014-01-07T01:53:48  <corvus> the only contentios thing in the patchset is the bit about the recheck commands.  the rest of the comments are about things people want to add.
2014-01-07T01:53:59  <corvus> so i'm okay merging as is and continuing to revise.
2014-01-07T01:54:09  <lifeless> foobio: ack
2014-01-07T01:54:11  <jog0> anteaya: btw since I got sick and couldn't make LCA I am seeing if I can make it to cananda
2014-01-07T01:54:12  <corvus> or a new patchset.  either way.
2014-01-07T01:54:24  <anteaya> jog0: woohoo!
2014-01-07T01:54:46  <corvus> superbee: jjb on 3 is done
2014-01-07T01:54:48  <anteaya> jog0: get better fast, lots of soup and sleep, we need you
2014-01-07T01:54:59  <superbee> corvus: done on 4 too
2014-01-07T01:55:09  <corvus> writing config chnages
2014-01-07T01:55:43  <jog0> anteaya: I am now on medication and starting to feel better
2014-01-07T01:55:59  <anteaya> foobio: also I see two new requests for 3rd party test accounts, please make them non-verifying by default
2014-01-07T01:56:41  <anteaya> jog0: awesome, keep me posted, health first, flying sick into cold weather won't help you, so feel good first
2014-01-07T01:56:49  <vijay> anteaya: ok.  Sure. To start with, to make sure our system is stable enuf. We have triggerred the system to vote -1 only after we manually trigger the workflow. It will send an internal mail if it is "-1" and only after we double check the system will post -1.
2014-01-07T01:56:54  <foobio> anteaya: new requests where?
2014-01-07T01:57:00  <harlowja> superbee i think corvus was thinking u might know about how https://github.com/openstack-infra/config/blob/master/modules/jenkins/manifests/slave.pp#L220 gets exposed to say nova (or other test users), do u know if there are any ENV variables set (or something similar to let the test know that this can be used)
2014-01-07T01:57:32  <superbee> harlowja: there aren't any set. Intead you can do what nova does which is test the connection
2014-01-07T01:57:38  <harlowja> ah
2014-01-07T01:57:39  <superbee> harlowja: I will get a link
2014-01-07T01:57:46  <anteaya> vijay: it sounds like a good approach, also make sure that muliple peopole check the email inbox for your testing system so you are responsive to inquires
2014-01-07T01:57:52  *** vipul-away is now known as vipul
2014-01-07T01:57:57  <anteaya> foobio: on the infra ml
2014-01-07T01:58:03  <vijay> antaeya: it is an email alias
2014-01-07T01:58:07  <harlowja> superbee thx!
2014-01-07T01:58:13  <vijay> antaeya: Also, the logs are uploaded to an external system for download, and we will available through email for comments
2014-01-07T01:58:41  <anteaya> vijay: sounds like you are positioning yourself for success, thank you
2014-01-07T01:59:10  <superbee> harlowja: http://git.openstack.org/cgit/openstack/nova/tree/nova/tests/db/test_migrations.py the docstring for that file is good as well as line 410
2014-01-07T01:59:11  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Add jenkins03 and 04 to most places  https://review.openstack.org/65191
2014-01-07T01:59:15  <corvus> superbee, foobio: ^
2014-01-07T01:59:50  <foobio> anteaya: if there are any new ones to the infra ml, then my internet breakage has delayed me receiving them. more likely they're requests i've already completed and replied to
2014-01-07T02:00:13  *** AaronGr is now known as AaronGr_Zzz
2014-01-07T02:00:25  *** ryanpetrello has quit IRC
2014-01-07T02:00:44  <superbee> corvus: lgtm
2014-01-07T02:02:19  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Start using jenkins03 and 04  https://review.openstack.org/65192
2014-01-07T02:03:19  <lifeless> foobio: alembic might be in the same boat
2014-01-07T02:03:25  <lifeless> No distributions at all found for alembic>=0.4.1 (from -r /tmp/tmpcfUzJx (line 1))
2014-01-07T02:03:33  <corvus> foobio, superbee: we'll want to merge the 1st change, then restart the gearman log client, check firewall rules, then merge the 2nd one
2014-01-07T02:03:34  <foobio> lifeless: sounds probable
2014-01-07T02:03:49  <foobio> lifeless: all fodder for a "pypi wall of shame"
2014-01-07T02:04:08  *** sarob has quit IRC
2014-01-07T02:04:29  <vijay> anteaya, foobio: Currently only the screen logs and the tempest logs from the devstack are uploaded by the test infrastructure. Is there a script which can be used to package more logs?
2014-01-07T02:04:58  *** senk has joined #openstack-infra
2014-01-07T02:05:49  <superbee> vijay: devstack-gate copies the logs, and it copies a lot more than just screen and tempest logs
2014-01-07T02:06:39  *** ryanpetrello has joined #openstack-infra
2014-01-07T02:07:17  *** talluri has joined #openstack-infra
2014-01-07T02:08:47  <corvus> foobio: i'm going away for a bit; what to do with jenkins3/4 is up to you for now (merging that 1st change should be safe)
2014-01-07T02:08:52  <superbee> vijay: https://git.openstack.org/cgit/openstack-infra/devstack-gate/tree/functions.sh#n334 is tehre
2014-01-07T02:09:02  <corvus> foobio: i'll be back in maybe 1.5-2 hours
2014-01-07T02:09:30  <vijay> superbee: Wonderful. Thanks will have a look.
2014-01-07T02:09:41  *** oubiwann has joined #openstack-infra
2014-01-07T02:10:45  <anteaya> foobio: you are correct, I believe you have responded already, can we implement this going forward please?
2014-01-07T02:12:09  <anteaya> mikal harlowja do you know of a script that vijay can use for packaging more logs from third party testing?
2014-01-07T02:12:36  <harlowja> hmmm, not sure
2014-01-07T02:13:30  <anteaya> fair enough, I have to stand up and walk away now, vijay you can ping me in -neutron if you hit an obstacle or need more
2014-01-07T02:13:38  *** senk has quit IRC
2014-01-07T02:13:43  <anteaya> and thank you for being responsive
2014-01-07T02:14:05  <vijay> anteaya: sure.
2014-01-07T02:14:18  *** ryanpetrello has quit IRC
2014-01-07T02:23:00  *** CaptTofu has quit IRC
2014-01-07T02:23:27  *** CaptTofu has joined #openstack-infra
2014-01-07T02:25:02  <foobio> anteaya: i haven't had time to read the proposal yet for revamping the process, but based on what i've heard it sounds like there may be some missing pieces to the picture still, and we'll need to update/announce those changes to the process
2014-01-07T02:35:07  *** dstanek has joined #openstack-infra
2014-01-07T02:36:37  <anteaya> foobio: fair enough
2014-01-07T02:37:03  *** nati_uen_ has quit IRC
2014-01-07T02:39:39  *** malini is now known as malini_afk
2014-01-07T02:41:21  *** amotoki has joined #openstack-infra
2014-01-07T02:41:50  *** vijay has quit IRC
2014-01-07T02:45:14  <openstackgerrit> A change was merged to openstack-infra/config: Add jenkins03 and 04 to most places  https://review.openstack.org/65191
2014-01-07T02:46:41  *** weshay has joined #openstack-infra
2014-01-07T02:54:10  <anteaya> for those interested in the 3rd party verification voting conversation, be sure to follow and weigh in here https://review.openstack.org/#/c/63478/5
2014-01-07T02:55:15  *** sandywalsh has quit IRC
2014-01-07T03:00:22  *** rhsu has joined #openstack-infra
2014-01-07T03:03:02  *** yamahata has quit IRC
2014-01-07T03:03:33  *** rhsu has left #openstack-infra
2014-01-07T03:09:26  <harlowja> superbee thx, making something similar @ https://review.openstack.org/#/c/65199/
2014-01-07T03:12:30  *** wenlock has quit IRC
2014-01-07T03:13:01  <lifeless> foobio: was pinning just virtual env sufficient?
2014-01-07T03:13:57  <lifeless> foobio: and is there a bug for this?
2014-01-07T03:16:32  <harlowja> does https://review.openstack.org/#/c/65135/ make sense to u guys, it adds alot of venvs :(
2014-01-07T03:19:45  <openstackgerrit> lifeless proposed a change to openstack-infra/pypi-mirror: Pin virtualenv as 1.11 is bust.  https://review.openstack.org/65201
2014-01-07T03:20:09  <lifeless> SpamapS: ^ is there a bug ?
2014-01-07T03:23:42  *** kraman has quit IRC
2014-01-07T03:29:39  <openstackgerrit> Ruslan Kamaldinov proposed a change to openstack-infra/config: Add Storyboard puppet module  https://review.openstack.org/65017
2014-01-07T03:30:21  *** mlipchuk has quit IRC
2014-01-07T03:30:54  <corvus> fohi
2014-01-07T03:31:03  <corvus> gah
2014-01-07T03:31:05  <corvus> foobio: hi
2014-01-07T03:31:09  *** corvus is now known as jeblair
2014-01-07T03:31:37  <jeblair> foobio: i think i can continue now
2014-01-07T03:32:43  <foobio> jeblair: hey
2014-01-07T03:33:29  <superbee> jeblair: you are you again, I am up acpi says almost 1.5 hours of battery
2014-01-07T03:33:39  <superbee> reality is probably closer to 1
2014-01-07T03:33:41  <foobio> lifeless: yeah, i opened a bug today to collect the various affected projects in. just a sec and i can find it
2014-01-07T03:33:43  <jeblair> foobio: i see the 1st change merged; has the log gearman client restarted?
2014-01-07T03:33:57  *** CaptTofu has quit IRC
2014-01-07T03:34:03  *** CaptTofu has joined #openstack-infra
2014-01-07T03:34:26  *** dcramer_ has quit IRC
2014-01-07T03:34:59  <foobio> lifeless: https://launchpad.net/bugs/1266513
2014-01-07T03:35:04  <superbee> jeblair: ps indicates that it may have been
2014-01-07T03:35:16  <foobio> jeblair: i haven't checked yet, but i'll figure out where/what to determine
2014-01-07T03:35:37  <superbee> jeblair: possible puppet did it for us, I didn't think it would beacuse you don't like that :)
2014-01-07T03:35:46  <jeblair> heh
2014-01-07T03:35:50  <openstackgerrit> lifeless proposed a change to openstack-infra/pypi-mirror: Pin virtualenv as 1.11 is bust.  https://review.openstack.org/65201
2014-01-07T03:36:45  <foobio> jenkins-log-client.yaml ends up consumed by a process on logstash.o.o, or deeper into the worker farm?
2014-01-07T03:37:03  <superbee> foobio: on logstash.o.o, the gearman client daemon
2014-01-07T03:37:18  <superbee> the -worker stuff happens on the farm
2014-01-07T03:38:12  <foobio> yeah, restarted 24 minutes after the config change merged, looks like
2014-01-07T03:38:21  *** weshay has quit IRC
2014-01-07T03:39:05  <foobio> Jan  7 03:09:53 logstash puppet-agent[3836]: (/Stage[main]/Log_processor::Client/Service[jenkins-log-client]) Triggered 'refresh' from 1 events
2014-01-07T03:39:29  <superbee> that matches ps, so I think we are good on that front
2014-01-07T03:40:11  * foobio has been trying in futility to get at least a little of the review backlog handled before passing out for the night
2014-01-07T03:40:28  <superbee> foobio: good luck (I feel bad for not helping much)
2014-01-07T03:40:48  *** praneshp has quit IRC
2014-01-07T03:40:52  <jeblair> the firewall on zuul has updated
2014-01-07T03:41:52  <jeblair> i reckon we should merge change#2 now
2014-01-07T03:42:04  <superbee> sounds good
2014-01-07T03:42:27  <jeblair> done
2014-01-07T03:43:12  *** nati_ueno has joined #openstack-infra
2014-01-07T03:43:59  *** krotscheck has joined #openstack-infra
2014-01-07T03:45:45  <fifieldt> thank you foobio :)
2014-01-07T03:45:52  <fifieldt> now I wonder how badly this will break :D
2014-01-07T03:47:01  *** dstanek has quit IRC
2014-01-07T03:47:34  <superbee> jeblair: I think we need to clean up the slave list on 03 and possibly 04 (checking that one now)
2014-01-07T03:47:37  *** yamahata has joined #openstack-infra
2014-01-07T03:47:41  *** krotscheck has quit IRC
2014-01-07T03:47:44  <superbee> jeblair: it seems to have been pulled in with the xml copy
2014-01-07T03:47:51  *** nati_ueno has quit IRC
2014-01-07T03:47:53  <foobio> fifieldt: well, since it's called as a separate hook, it at least shouldn't break anything else
2014-01-07T03:48:01  <fifieldt> I hope so :)
2014-01-07T03:48:15  <fifieldt> hey, where's the best place to see the logs it spams to>?
2014-01-07T03:48:15  <jeblair> superbee: ack, thx
2014-01-07T03:48:40  <superbee> 04 has the same problem
2014-01-07T03:49:06  <superbee> jeblair: should I manually delete the slaves or do we want to shutdown, then clean the xml?
2014-01-07T03:49:23  <jeblair> superbee: if it's just a few, then manually delet sholud be fine
2014-01-07T03:49:48  <superbee> jeblair: its a bunch, basically on slaves on the source jenkins
2014-01-07T03:50:02  <jeblair> superbee: ok, let's shut down then
2014-01-07T03:50:18  <jeblair> superbee: can you do that for both?
2014-01-07T03:50:21  <superbee> yup
2014-01-07T03:51:14  <superbee> jenkins is stopped, hacking xml on 04 now
2014-01-07T03:52:26  *** yamahata has quit IRC
2014-01-07T03:54:38  <foobio> fifieldt: it'll wind up dumped in the gerrit service log, which is only visible to those of us with admin control over the server. i can spot-check for failures/hits periodically and post them to paste.o.o until we're comfortable enough to undo the --dryrun
2014-01-07T03:55:06  <fifieldt> coolo
2014-01-07T03:55:09  <fifieldt> that would be nice
2014-01-07T03:55:29  <fifieldt> I really want to check that it's not giving false postives or negatives as much as posible
2014-01-07T03:55:52  <fifieldt> so a grep of the log for the appropriate bits in a couple days time would be nice
2014-01-07T03:56:16  <superbee> jeblair:  ithink the css may not have been correcteither, the webuis looked funny
2014-01-07T03:56:22  <superbee> jeblair: can you look at that?
2014-01-07T03:56:55  <jeblair> superbee: yes
2014-01-07T03:57:25  <jeblair> superbee: oh it's not running
2014-01-07T03:57:49  <jeblair> superbee: i'll look when you're done
2014-01-07T03:58:39  *** fallenpegasus has joined #openstack-infra
2014-01-07T03:59:18  <jeblair> nodepool is not running
2014-01-07T04:00:47  <superbee> jeblair: :( I have claered the slaves lists on 03 and 04
2014-01-07T04:01:09  <superbee> jeblair: should I start 3 and 4?
2014-01-07T04:01:19  <jeblair> superbee: yes
2014-01-07T04:01:49  *** CaptTofu has quit IRC
2014-01-07T04:01:49  <jeblair> superbee: i think it shut down gracefully, maybe puppet did it
2014-01-07T04:02:05  <superbee> 3 and 4 are starting
2014-01-07T04:02:16  *** CaptTofu has joined #openstack-infra
2014-01-07T04:02:51  *** noorul has joined #openstack-infra
2014-01-07T04:03:03  <noorul> foobio: hi
2014-01-07T04:03:17  <superbee> jeblair: they are up
2014-01-07T04:03:26  <foobio> hi noorul
2014-01-07T04:03:34  <jeblair> superbee: what's wrong with the css?
2014-01-07T04:03:35  <noorul> foobio: I see 2 +2s on https://review.openstack.org/#/c/64226/
2014-01-07T04:03:38  <lifeless> foobio: alembic was a false positive due to a dead dns server
2014-01-07T04:03:47  <noorul> foobio: Did you miss approving it or something else is required?
2014-01-07T04:03:50  <foobio> lifeless: great
2014-01-07T04:03:53  <superbee> jeblair: it actually lokos better now
2014-01-07T04:04:13  <superbee> jeblair: no idea why it looked different before. perhaps local network issues loading css?
2014-01-07T04:04:24  <jeblair> maybe
2014-01-07T04:04:59  <foobio> noorul: yep! sorry, i missed hitting the approve
2014-01-07T04:05:08  <foobio> approved now
2014-01-07T04:05:15  <noorul> foobio: Thank you!
2014-01-07T04:08:34  *** rcleere has joined #openstack-infra
2014-01-07T04:09:00  *** praneshp has joined #openstack-infra
2014-01-07T04:09:13  <jeblair> i'm running a bunch of nodepool deletes in screen to deal with things nodepool may have missed during its downtime
2014-01-07T04:11:05  <openstackgerrit> A change was merged to openstack-infra/config: Start using jenkins03 and 04  https://review.openstack.org/65192
2014-01-07T04:11:20  <openstackgerrit> A change was merged to openstack-infra/config: Add welcome_message.py to patchset-created trigger  https://review.openstack.org/61898
2014-01-07T04:13:05  <openstackgerrit> Ruslan Kamaldinov proposed a change to openstack-infra/config: Add Storyboard puppet module  https://review.openstack.org/65017
2014-01-07T04:14:22  <openstackgerrit> A change was merged to openstack-infra/config: Alter zookeeper params for Fedora.  https://review.openstack.org/62645
2014-01-07T04:14:35  <jeblair> the new config file is in place on nodepool
2014-01-07T04:14:47  <jeblair> and it's just started talking to jenkins03
2014-01-07T04:14:53  <openstackgerrit> A change was merged to openstack-infra/config: Update solum devstack job to install packages from test-requirements.txt  https://review.openstack.org/64226
2014-01-07T04:15:50  <superbee> jeblair: col
2014-01-07T04:15:52  <superbee> *cool
2014-01-07T04:16:21  *** fallenpegasus has quit IRC
2014-01-07T04:16:41  <openstackgerrit> Ruslan Kamaldinov proposed a change to openstack-infra/config: Add Storyboard puppet module  https://review.openstack.org/65017
2014-01-07T04:17:32  *** fallenpegasus has joined #openstack-infra
2014-01-07T04:18:53  <jeblair> it's launching nodes for them now
2014-01-07T04:19:21  *** noorul has left #openstack-infra
2014-01-07T04:19:40  <jeblair> 04 is going to get the first ones
2014-01-07T04:21:53  <jeblair> looks like credentials problem
2014-01-07T04:21:57  *** fallenpegasus has quit IRC
2014-01-07T04:24:38  <openstackgerrit> A change was merged to openstack-infra/config: Install tempest to re-use REST client code in solum functional tests  https://review.openstack.org/64062
2014-01-07T04:24:47  <openstackgerrit> A change was merged to openstack-infra/config: Add niceness gate for operations-guide  https://review.openstack.org/64567
2014-01-07T04:25:08  *** dcramer_ has joined #openstack-infra
2014-01-07T04:27:00  *** fallenpegasus has joined #openstack-infra
2014-01-07T04:27:32  *** talluri has quit IRC
2014-01-07T04:34:31  <openstackgerrit> Ruslan Kamaldinov proposed a change to openstack-infra/config: Add Storyboard puppet module  https://review.openstack.org/65017
2014-01-07T04:36:09  *** ArxCruz has quit IRC
2014-01-07T04:37:35  <jeblair> foobio, superbee: jenkins03 and jenkins04 are both running jobs now
2014-01-07T04:38:38  *** fallenpegasus has quit IRC
2014-01-07T04:41:48  * foobio cheers
2014-01-07T04:42:12  <foobio> hopefully this bodes for greater stability the rest of the week
2014-01-07T04:42:16  *** harlowja is now known as harlowja_away
2014-01-07T04:42:41  <jeblair> foobio: yeah, should get nodes/master closer to 100, which is i think where performance starts to degrade
2014-01-07T04:43:15  <jeblair> foobio: superbee was suggesting we sholud also move rax performance nodes into the gate (and increase our usage up to quota there)
2014-01-07T04:43:26  <jeblair> foobio: we might want to add one more jenkins master.  :)
2014-01-07T04:43:29  <fifieldt> foobio, did anything break crazily in the first hour? :D
2014-01-07T04:43:37  <jeblair> foobio: anyway, lunch time here
2014-01-07T04:44:51  <foobio> fifieldt: not sure--i've been trying to knock out more reviews, and am about to pass out for the night. haven't heard anyone scream about anything broken yet though
2014-01-07T04:44:59  <fifieldt> oh, sorry foobio
2014-01-07T04:45:03  <fifieldt> please sleep well :)
2014-01-07T04:45:12  <fifieldt> no screams is good
2014-01-07T04:46:35  <fifieldt> btw - thanks to infra for git.openstack.org ... performs so much faster than github (now I have a connection fast enough to tell the difference)
2014-01-07T04:49:58  <foobio> fifieldt: that's great to hear
2014-01-07T04:51:25  <fifieldt> Receiving objects: 100% (41222/41222), 65.49 MiB | 9.35 MiB/s, done
2014-01-07T04:51:31  <fifieldt> again and again and again ;)
2014-01-07T04:52:43  <openstackgerrit> A change was merged to openstack-infra/config: Add gerritbot for #openstack-anvil channel  https://review.openstack.org/53974
2014-01-07T04:52:51  <openstackgerrit> A change was merged to openstack-infra/config: Add oslo.rootwrap to the integrated gate  https://review.openstack.org/64677
2014-01-07T04:59:47  *** coolsvap has joined #openstack-infra
2014-01-07T05:00:43  <openstackgerrit> A change was merged to openstack-infra/config: Add libvirt-dev in anticipation of python-libvirt  https://review.openstack.org/64611
2014-01-07T05:01:01  *** openstackgerrit has quit IRC
2014-01-07T05:01:19  *** openstackgerrit has joined #openstack-infra
2014-01-07T05:10:04  *** jasondotstar has quit IRC
2014-01-07T05:12:23  *** harlowja_away is now known as harlowja
2014-01-07T05:13:24  <jog0> dumb rootwrap question: rootwrap's first arg is its config file. doesn't that mean that someone could use rootwrap as a local privilage escillation by making up there own rootwrap.conf?
2014-01-07T05:15:55  <zaro> superbee, jeblair, foobio : i think we are all set with review-dev.o.o.  is there something you guys do for testing it before rolling to prod?
2014-01-07T05:18:48  <jog0> dumb question answered: the config file arg is explicitly listed in the sudoers file
2014-01-07T05:18:48  *** nati_ueno has joined #openstack-infra
2014-01-07T05:19:58  *** yamahata has joined #openstack-infra
2014-01-07T05:20:47  *** dstufft_ has joined #openstack-infra
2014-01-07T05:21:42  <foobio> superbee: jeblair: i shouldn't have looked at zuul's status... jobs on 03 and 04 failing with "java.lang.NoClassDefFoundError: Could not initialize class hudson.Util" https://jenkins03.openstack.org/job/gate-tempest-dsvm-neutron/46/console
2014-01-07T05:22:13  *** dstufft has quit IRC
2014-01-07T05:23:27  <jeblair> zaro: yes, quite a bit more testing
2014-01-07T05:23:47  *** pmathews has joined #openstack-infra
2014-01-07T05:23:52  <foobio> also "java.lang.NoClassDefFoundError: Could not initialize class jenkins.model.Jenkins$MasterComputer"
2014-01-07T05:24:28  *** blamar has quit IRC
2014-01-07T05:24:37  <jeblair> foobio: hrm; we had to stop and restart jenkins04; i wonder if that could have caused something
2014-01-07T05:24:46  <jeblair> foobio: oh but that's on 03
2014-01-07T05:25:35  <jeblair> it's not all jobs
2014-01-07T05:25:39  <foobio> i see similar issues for jobs run on both of them
2014-01-07T05:26:13  <foobio> https://jenkins03.openstack.org/job/gate-tempest-dsvm-postgres-full/57/console was about 8 minutes ago
2014-01-07T05:27:08  <superbee> could my removal of the slaves list have acused that?
2014-01-07T05:27:28  <superbee> I removed the stuff between <slaves></slaves> pretty sure the master computer is special in jenkins though and you just get it
2014-01-07T05:27:35  <superbee> rather than needing it listed explicitly
2014-01-07T05:29:04  <jeblair> a lot of jobs ran on that one slave
2014-01-07T05:29:15  <jeblair> possibly many/all the failed ones
2014-01-07T05:29:39  *** vipul has quit IRC
2014-01-07T05:29:40  <jeblair> i wonder if the offline function failed
2014-01-07T05:30:20  *** vipul has joined #openstack-infra
2014-01-07T05:30:46  *** cody-somerville has quit IRC
2014-01-07T05:30:46  *** zul has quit IRC
2014-01-07T05:31:17  *** saper_ has joined #openstack-infra
2014-01-07T05:31:19  *** medberry has joined #openstack-infra
2014-01-07T05:31:20  *** medberry has joined #openstack-infra
2014-01-07T05:31:35  *** zul has joined #openstack-infra
2014-01-07T05:32:26  *** cody-somerville has joined #openstack-infra
2014-01-07T05:33:35  *** devanand1 has joined #openstack-infra
2014-01-07T05:33:57  *** w_ has joined #openstack-infra
2014-01-07T05:34:25  <zaro> jeblair: i think i've pretty much covered the basics.  not sure what to target next but can get started on testing something else if you like.
2014-01-07T05:35:40  <jeblair> zaro: we need answers to at least all of the things in the etherpad
2014-01-07T05:35:48  *** kraman has joined #openstack-infra
2014-01-07T05:35:53  <zaro> superbee: i've noticed that lots of methods to get master computer have been deprecated in the latest jenkins api.
2014-01-07T05:36:12  *** cody-somerville has quit IRC
2014-01-07T05:36:13  *** oubiwann has quit IRC
2014-01-07T05:36:13  *** salv-orlando has quit IRC
2014-01-07T05:36:13  *** rwsu has quit IRC
2014-01-07T05:36:13  *** rockstar has quit IRC
2014-01-07T05:36:14  *** lifeless has quit IRC
2014-01-07T05:36:14  *** harlowja has quit IRC
2014-01-07T05:36:14  *** ociuhandu has quit IRC
2014-01-07T05:36:14  *** luis_ has quit IRC
2014-01-07T05:36:15  *** andreaf has quit IRC
2014-01-07T05:36:16  *** milki has quit IRC
2014-01-07T05:36:16  *** crank has quit IRC
2014-01-07T05:36:17  *** SEJeff_work has quit IRC
2014-01-07T05:36:20  *** crank has joined #openstack-infra
2014-01-07T05:36:28  *** rockstar has joined #openstack-infra
2014-01-07T05:36:29  *** luis_ has joined #openstack-infra
2014-01-07T05:36:32  *** milki has joined #openstack-infra
2014-01-07T05:36:34  *** lifeless has joined #openstack-infra
2014-01-07T05:36:37  *** kraman has quit IRC
2014-01-07T05:36:38  *** andreaf has joined #openstack-infra
2014-01-07T05:36:38  *** SEJeff_work has joined #openstack-infra
2014-01-07T05:36:47  *** cody-somerville has joined #openstack-infra
2014-01-07T05:36:53  *** rockstar has quit IRC
2014-01-07T05:36:53  *** rockstar has joined #openstack-infra
2014-01-07T05:36:56  *** rwsu has joined #openstack-infra
2014-01-07T05:37:08  *** cody-somerville has quit IRC
2014-01-07T05:37:08  *** cody-somerville has joined #openstack-infra
2014-01-07T05:37:10  <superbee> jeblair: ^
2014-01-07T05:37:12  <jeblair> foobio: it looks like a bad node, possibly due to zuul having abroted its first build
2014-01-07T05:38:37  <jeblair> hrm, more than one
2014-01-07T05:38:55  <zaro> jeblair: ok. most have already been answered, rest just seem like decisions we need to make like which plugins to install, etc..
2014-01-07T05:39:37  <zaro> jeblair: i'll dig into it some more and try to answer all the questions that need answering.
2014-01-07T05:39:44  *** pleia2 has quit IRC
2014-01-07T05:39:44  *** sbadia has quit IRC
2014-01-07T05:39:44  *** olaph has quit IRC
2014-01-07T05:39:46  *** vladan has quit IRC
2014-01-07T05:39:46  *** saper has quit IRC
2014-01-07T05:39:47  *** akscram has quit IRC
2014-01-07T05:39:48  *** shardy has quit IRC
2014-01-07T05:39:48  *** sirushti has quit IRC
2014-01-07T05:39:48  *** devananda has quit IRC
2014-01-07T05:39:49  *** malini_afk has quit IRC
2014-01-07T05:39:51  *** _sirushti has joined #openstack-infra
2014-01-07T05:40:10  *** _sirushti is now known as sirushti
2014-01-07T05:40:39  *** vladan has joined #openstack-infra
2014-01-07T05:40:55  <zaro> jeblair, superbee : didn't know if you noticed: https://review-dev.openstack.org/monitoring
2014-01-07T05:41:45  *** sbadia has joined #openstack-infra
2014-01-07T05:42:02  <superbee> zaro: I had not noticed, thanks
2014-01-07T05:42:12  <superbee> zaro: that should be behind authentication thoug
2014-01-07T05:42:23  <jeblair> i think huge numbers of jobs are failing
2014-01-07T05:42:24  <superbee> and only be visible to admins if that isn't already the case
2014-01-07T05:42:30  <jeblair> let's worry about gerrit later
2014-01-07T05:42:31  <superbee> jeblair: because of the change?
2014-01-07T05:43:14  <zaro> superbee: i'll look into that.
2014-01-07T05:43:19  *** pleia2 has joined #openstack-infra
2014-01-07T05:43:46  <jeblair> superbee: i don't understand why, i'm talking about the thing foobio pointed out and i've been reporting on my investigations for the past 20 minutes
2014-01-07T05:44:33  <superbee> jeblair: ya, I just wasn't sure if you had correlated the two
2014-01-07T05:44:58  *** chandankumar has joined #openstack-infra
2014-01-07T05:45:29  *** rcleere has quit IRC
2014-01-07T05:45:49  *** fallenpegasus has joined #openstack-infra
2014-01-07T05:45:58  <superbee> https://issues.jenkins-ci.org/browse/JENKINS-19453 claims to have fixed something similar in 1.542
2014-01-07T05:46:19  *** malini has joined #openstack-infra
2014-01-07T05:46:37  <foobio> i'm also seeing a jenkins-related failure on https://jenkins01.openstack.org/job/gate-config-layout/1825/console which ran on 01
2014-01-07T05:46:57  *** shardy has joined #openstack-infra
2014-01-07T05:47:07  *** akscram has joined #openstack-infra
2014-01-07T05:47:11  <foobio> "Caused by: hudson.remoting.ChannelClosedException: channel is already closed"
2014-01-07T05:47:22  <jeblair> foobio: are you sure that wasn't an aborted job?
2014-01-07T05:47:38  <foobio> jeblair: shouldn't have been aborted. was at the head of its queue
2014-01-07T05:48:00  <jeblair> the gearman-plugin md5sum is different from jenkins02 and jenkins03
2014-01-07T05:48:42  <superbee> o_O /me looks at what versions are reported by jenkins
2014-01-07T05:48:56  *** Ryan_Lane has joined #openstack-infra
2014-01-07T05:49:38  <foobio> i only copied over the scp and zmq plugins from 02 to 03/04... i assume the gearman plugin was obtained elseways
2014-01-07T05:49:44  <superbee> jeblair: 03 has 0.0.3 installed, 01 has 0.0.4.ad75b7e
2014-01-07T05:50:01  <superbee> jeblair: I think we put 03 and 04 in shutdown mode, then update the gearman plugin to match 01/02
2014-01-07T05:50:06  <jeblair> superbee: i guess it needs a release
2014-01-07T05:50:11  *** dkliban_ has joined #openstack-infra
2014-01-07T05:50:12  <superbee> then swing back around and possibly release the plugin
2014-01-07T05:50:15  <superbee> ya that
2014-01-07T05:50:27  <jeblair> superbee: sounds good, you want to shutdown?
2014-01-07T05:50:32  <superbee> sure, doing that now
2014-01-07T05:50:39  *** oubiwann has joined #openstack-infra
2014-01-07T05:51:09  <jeblair> superbee: i'll copiy
2014-01-07T05:51:21  *** jcooley_ has joined #openstack-infra
2014-01-07T05:51:28  <superbee> 03 and 04 are now in shutdown mode
2014-01-07T05:51:45  <superbee> there is one job on each server
2014-01-07T05:51:59  <superbee> nope 3 is idle now, I am stopping it
2014-01-07T05:52:18  *** sirushti has quit IRC
2014-01-07T05:52:18  *** lifeless has quit IRC
2014-01-07T05:52:19  *** rockstar has quit IRC
2014-01-07T05:52:20  *** dcramer_ has quit IRC
2014-01-07T05:52:21  *** dkliban has quit IRC
2014-01-07T05:52:21  *** jcooley has quit IRC
2014-01-07T05:52:22  *** jcooley_ is now known as jcooley
2014-01-07T05:52:28  <superbee> jeblair: 3 is stopped, feel free to restart when you have updated the plugin
2014-01-07T05:53:07  <foobio> the jobs were failing rapidly enough i would expect 03 and 04 to quiesce quickly
2014-01-07T05:53:22  <jeblair> 03 starting
2014-01-07T05:54:00  <superbee> 04 is still running a job
2014-01-07T05:54:01  *** dcramer_ has joined #openstack-infra
2014-01-07T05:54:39  *** llu has joined #openstack-infra
2014-01-07T05:55:56  <jeblair> 03 reports 0.0.4.2.ad75b7e
2014-01-07T05:56:41  <superbee> jeblair: that looks correct, I tyoped the .2. earleier and left it out
2014-01-07T05:57:45  *** sirushti has joined #openstack-infra
2014-01-07T05:57:45  *** rockstar has joined #openstack-infra
2014-01-07T05:58:29  <jeblair> superbee: we can make sure the node running https://jenkins03.openstack.org/job/gate-config-layout/3/console is offlined and deleted correctly
2014-01-07T05:58:53  *** gyee_ has quit IRC
2014-01-07T05:59:04  *** lifeless has joined #openstack-infra
2014-01-07T05:59:20  <jeblair> superbee: don't shut down 04 yet
2014-01-07T05:59:31  <superbee> the node for the job you linked is offline
2014-01-07T05:59:38  <llu> hi, anyone knows the failure at http://logs.openstack.org/12/63912/1/gate/gate-tempest-dsvm-full/1cd8253/console.html?
2014-01-07T05:59:41  <superbee> will hold off on 04, it is still running a job
2014-01-07T05:59:48  *** talluri has joined #openstack-infra
2014-01-07T05:59:57  <openstackgerrit> A change was merged to openstack-infra/config: Give Zuul file descriptor breathing room.  https://review.openstack.org/64621
2014-01-07T06:00:06  <openstackgerrit> A change was merged to openstack-infra/config: Add requirements jobs for rally  https://review.openstack.org/63743
2014-01-07T06:00:07  <jeblair> superbee: Offline due to Gearman request
2014-01-07T06:00:08  <jeblair> excellent
2014-01-07T06:00:37  <jeblair> superbee: and now that node is gone
2014-01-07T06:01:13  *** sandywalsh has joined #openstack-infra
2014-01-07T06:02:13  <jeblair> superbee: i'm doen with 04; feel free to restart whet it's ready
2014-01-07T06:02:19  <foobio> llu: that looks like the issue jeblair and superbee are working on
2014-01-07T06:02:21  <superbee> jeblair: ok
2014-01-07T06:02:47  <superbee> jeblair: it seems to actually be running tempest properly, I guess I will just watch it and restart it when it is done
2014-01-07T06:03:44  <jeblair> superbee: i was getting a list of offline nodes on 04 so i could nodepool delete them (i think they are from our earlier thing.
2014-01-07T06:04:23  *** fallenpegasus has quit IRC
2014-01-07T06:05:25  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:05:27  *** fallenpegasus has quit IRC
2014-01-07T06:05:27  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:05:44  <llu> foobio: ok. what should I do now? Give another approval to put it into the gate queue since there is no reverify no bug now, or wait until it is fixed?
2014-01-07T06:06:30  *** fallenpegasus has quit IRC
2014-01-07T06:06:32  <foobio> llu: i suspect it's safe to reapprove now, but you may want to wait a few more minutes while they confirm
2014-01-07T06:06:47  <dstufft_> foobio: superbee mordred whoever, how hard would it be to try a 1.11.1 RC in the next day or two to make sure everything is kosher with it before we release it?
2014-01-07T06:06:57  <dstufft_> for virtualenv that is
2014-01-07T06:07:01  *** dstufft_ is now known as dstufft
2014-01-07T06:07:04  <lifeless> dstufft_: of virtualenv?
2014-01-07T06:07:08  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:07:09  <lifeless> heh
2014-01-07T06:07:29  <superbee> dstufft_: not too terrible, we should be able to grab a slave, upgrade to the rc then manually run a job that won't report to gerrit
2014-01-07T06:08:01  <jeblair> foobio: llu: should be ok now;
2014-01-07T06:08:02  <dstufft> assuming nobody objects in the pypa-dev mailing list, we're going to release 1.11.1 without pip 1.5.1 (normally they get released together) to solve the regressions that occured in virtualenv with 1.11
2014-01-07T06:08:14  <dstufft> it'll still have 1.5 bundled that is
2014-01-07T06:08:30  <lifeless> dstufft: UI'm having to rollback to both 1.4.1 and 1.10.1 to work.
2014-01-07T06:08:42  <lifeless> dstufft: It's not clear to me that 1.5 works at all
2014-01-07T06:08:43  <superbee> dstufft: though foobio may have the most bandwidth to help as the rest of us are conferencing
2014-01-07T06:08:48  <llu> jungi: jeblair: thanks for the info
2014-01-07T06:08:49  <superbee> and that means he doesn't have much bw...
2014-01-07T06:09:25  <dstufft> lifeless: can you verify that https://github.com/pypa/pip/issues?milestone=6&state=open captures whatever issues you're having with pip?
2014-01-07T06:09:33  <foobio> dstufft: yeah, i may be spread thin, but the pip/virtualenv patches are part of what i'm trying to get nailed down anyway
2014-01-07T06:11:02  <foobio> dstufft: #1428 is the only one there i'm aware we're hitting
2014-01-07T06:11:13  <lifeless> foobio: and netaddtr
2014-01-07T06:11:27  <dstufft> lifeless: FWIW we can't really roll back to 1.4.1 in virtualenv 1.11.1, so the options are basically hold up 1.11.1 until 1.5.1 is ready (which we want to get the issues in that milestone fixed in that), or release a 1.11.1 w/o 1.5.1 and then do a 1.11.2 w/ 1.5.1
2014-01-07T06:11:41  <lifeless> also we've found another bug with --enable-site-packages
2014-01-07T06:11:43  *** nicedice has quit IRC
2014-01-07T06:11:51  <foobio> lifeless: the netaddr et a issues aren't a bug, just us having to realign our requirements with the "pypi wall of shame"
2014-01-07T06:11:55  <superbee> jeblair: version of gearman plugin on 04 looks correct
2014-01-07T06:11:57  <dstufft> lifeless: netaddr is externally hosted yea? That won't change
2014-01-07T06:12:06  <dstufft> lifeless: can you file a virtualenv issue for it?
2014-01-07T06:12:16  *** nicedice has joined #openstack-infra
2014-01-07T06:12:29  <jeblair> foobio: 03 and 04 are running the correct gearman plugin now; one job on 03 finished and the node was offlined and delted correctly
2014-01-07T06:12:48  <lifeless> dstufft: where are teh virtualenv issues ?
2014-01-07T06:12:56  <jeblair> foobio: so i think we've corrected the problem;  we'll have more evidence is ~40mins
2014-01-07T06:12:56  <dstufft> github.com/pypa/virtualenv
2014-01-07T06:13:27  <lifeless> dstufft: do you have one about binaries being created in /usr/loval/bin rather than the venv (because the venv is missnig usr/bin/pip ?
2014-01-07T06:13:50  *** oubiwann has quit IRC
2014-01-07T06:13:51  <dstufft> lifeless: I think that's probably the pip/setupptols problem
2014-01-07T06:14:01  <dstufft> we switched how setuptools/pip got installed in 1.11
2014-01-07T06:14:22  <dstufft> and when you use --system-site-packages, it erroneously sees setuptools and/or pip installed in the system site packages, and doesn't install it in the venv
2014-01-07T06:14:26  <jeblair> superbee, foobio: i'll file a bug for reverifies
2014-01-07T06:14:30  <superbee> jeblair: ok
2014-01-07T06:14:38  <foobio> jeblair: thanks
2014-01-07T06:15:21  <foobio> dstufft: lifeless: yep, that's the one we're seeing--the fix has been merged to trunk for a couple days, just waiting on the 1.11.1 release for it
2014-01-07T06:16:03  <lifeless> dstufft: https://github.com/pypa/virtualenv/issues/531
2014-01-07T06:16:17  <foobio> i've personally tested the patch for the sitepackages issue and confirmed it fixes it for us where we have than enabled under tox
2014-01-07T06:16:20  <lifeless> dstufft: oh, ok ! ;)
2014-01-07T06:17:17  <dstufft> lifeless: oh https://github.com/pypa/virtualenv/issues/531 is a pip thing, and it's a purposeful change. warnings were emitted in 1.4, and in 1.5 the behavior changed
2014-01-07T06:17:30  <dstufft> netaddr doesn't host its files on PyPI
2014-01-07T06:17:41  *** fallenpegasus has quit IRC
2014-01-07T06:18:00  <lifeless> dstufft: yes, I would like to see them all copied into PyPI before disabling it
2014-01-07T06:18:05  <foobio> lifeless: the fix for netaddr is to talk them into uploading their releases to pypi (and the workaround is to whitelist them with cli options to pip)
2014-01-07T06:18:06  <lifeless> so we don't break /all the tooling/
2014-01-07T06:18:14  <dstufft> lifeless: we can't copy anything for netaddr, they have to do it themselves
2014-01-07T06:18:21  <dstufft> it looks like they might have done it though
2014-01-07T06:18:24  <lifeless> dstufft: I don't understand why
2014-01-07T06:18:29  <dstufft> https://pypi.python.org/simple/netaddr/
2014-01-07T06:18:31  <lifeless> dstufft: I'm getting that error right now...
2014-01-07T06:18:49  <dstufft> oh
2014-01-07T06:18:53  <dstufft> they don't have 0.7.6 uploaded
2014-01-07T06:19:11  <dstufft> 0.7.3 is the last version they uploaded to PyPI
2014-01-07T06:19:19  <foobio> netaddr moved *off* pypi for their newer releases
2014-01-07T06:19:20  <jeblair> bug 1266649 for rechecks
2014-01-07T06:19:28  <lifeless> dstufft: so has pypi disablined registering new releases that are broken like this?
2014-01-07T06:19:29  <foobio> i think it coincided with a change in upstream maintainers
2014-01-07T06:19:30  <jeblair> https://bugs.launchpad.net/openstack-ci/+bug/1266649
2014-01-07T06:19:38  <lifeless> dstufft: I'm super worried about a moving target where we keep having to whitelist everything
2014-01-07T06:19:56  <lifeless> dstufft: or should we just disable the new 1.5 stuff so that we're not chasing a moving target?
2014-01-07T06:20:34  <dstufft> lifeless: so there's 3 classes of "things pip can download"
2014-01-07T06:20:39  <dstufft> there's A) stuff hosted on PyPI
2014-01-07T06:20:53  <superbee> see https://github.com/drkjam/netaddr/issues/57 maybe we should all make noise on that issue
2014-01-07T06:21:07  <dstufft> B) Stuff linked directly from a /simple/foo/ page with a hash in the url like https://example.com/foo-1.0.tar.gz#md5=asdadasd
2014-01-07T06:21:26  <dstufft> C) Stuff either linked directly from /simple/foo/ page without a hash in the url, or stuff linked from a page linked from the /simple/foo/ page
2014-01-07T06:21:31  <foobio> lifeless: there's no global "disable" flag for the equivalent of --allow-unverified/--allow-insecure... you have to pass it for each package you want to whitelist (or drop back to running pip 1.4.1)
2014-01-07T06:21:49  <dstufft> netaddr falls in the C case for recent releases
2014-01-07T06:21:51  <lifeless> noise made
2014-01-07T06:21:55  <dstufft> which is a massive security problem
2014-01-07T06:22:08  <dstufft> because pip has no way to verify the file you're getting isn't being MITM'd
2014-01-07T06:22:10  *** boris-42 has joined #openstack-infra
2014-01-07T06:22:31  <lifeless> dstufft: yes, I get that. I object to pip making the change to require an option while PyPI still permits class C registrations to be made.
2014-01-07T06:22:44  <dstufft> (C is the case that --allow-unverified, or it's older name --allow-insecure allows)
2014-01-07T06:22:54  <lifeless> dstufft: because we're dealing with layers like tox -> pip or cron -> run-mirror -> pip
2014-01-07T06:23:04  <dstufft> B isn't a security issue, but a reliability issue, which is what --allow-external // --allow-all-external handles
2014-01-07T06:23:05  <dstufft> lifeless: so
2014-01-07T06:23:08  <dstufft> PyPI allowing them
2014-01-07T06:23:15  <dstufft> I fought really hard to disable them
2014-01-07T06:23:18  <lifeless> and having to mpoke trough all those layers whenever someone does C by mistake (or deliberately) is a massive PITA
2014-01-07T06:23:21  <dstufft> but distutils-sig wouldn't let me
2014-01-07T06:23:56  <dstufft> so the way pip works is the middle ground, authors can upload them, but even they won't be able to install them by default (assuming a pip >= 1.5) so they'll be incentivzed to upload
2014-01-07T06:23:58  <dstufft> but not forced
2014-01-07T06:23:58  <lifeless> dstufft: I'm there, I saw IIRC two peopel whinging
2014-01-07T06:24:05  <lifeless> :)
2014-01-07T06:24:15  <lifeless> anyhow, I'm whinging now, because the predictable outcome sucks
2014-01-07T06:24:45  <lifeless> dstufft: could pip be much more aggressive about complaining? E.g. say 'you need to file a bug with the upstream, what they are doing is insecure'.
2014-01-07T06:25:11  <foobio> _needs more shame_
2014-01-07T06:25:16  <lifeless> I think we should do a fork of netaddr like we were going to do for mysql, TBH.
2014-01-07T06:25:32  <lifeless> it's simpler than poking holes in all the infra to override this
2014-01-07T06:25:57  <dstufft> lifeless: there's some pain in the short term, because we're purposely removing or making things opt in that used to just work, so there's some subset of packages that this will fail for. But long term this will be a lot better.. it just sucks short term :(
2014-01-07T06:26:04  <dstufft> lifeless: we can adjust the message sure!
2014-01-07T06:26:10  <dstufft> I wrote the message, I suck at wording things
2014-01-07T06:26:24  <foobio> lifeless: it's not just netaddr. so far i've also had to whitelist netifaces and lazr.restful in some projects too, and i'm sure we have more
2014-01-07T06:26:37  <lifeless> dstufft: doesn't C require specific effort though? So there muust be some broken tooling or docs somewhere, or this would be a class B situation instead.
2014-01-07T06:27:12  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:27:53  <dstufft> lifeless: for *new* projects uploaded to PyPI (brand new, not new versions of an existing project) C requires specific effort -- it requires the author to either manually register an url through the PyPI web interface, or to purposely set the mode to the legacy option
2014-01-07T06:28:07  <dstufft> for existing projects, if we detected there was any versions that could only be isntalled externally, we left them in legacy mode
2014-01-07T06:28:44  <dstufft> for them, often times the authors don't realize it, because if they type ``setup.py register`` and don't type ``python setup.py upload`` they can get in this case
2014-01-07T06:29:20  <dstufft> or if they publish a version to their homepage, which is linked from their /simple/foo/ page but didn't upload it PyPI, then that falls in the C option again
2014-01-07T06:29:26  <foobio> yeah, i remember the -sig thread... it was disheartening. "we can't disable them, ever, because we can't be guaranteed we can ever reach them to let them know"
2014-01-07T06:29:26  <lifeless> yeah
2014-01-07T06:29:35  <lifeless> I'm worried about folk not realising
2014-01-07T06:29:40  <lifeless> netaddr has been broken for 3 months
2014-01-07T06:30:00  <dstufft> that last one was particularly troublesome before pip 1.4 when pip would install pre-releases by default
2014-01-07T06:30:24  <dstufft> because people would upload a pre-release to their project homepage for people to try, and pip's spider algorithm would find it on their homepage and install it
2014-01-07T06:30:56  <dstufft> foobio: FWIW Warehouse (PyPI 2.0) is going to eventually introduce a new API that isn't scraping the HTML pages of /simple/, and it will not support external links at all
2014-01-07T06:31:26  <foobio> looking forward to future sanity
2014-01-07T06:31:48  *** fallenpegasus has quit IRC
2014-01-07T06:31:56  <dstufft> lifeless: yea, We tried emailing what addresses we could find automatically, out of 30k projects or so there was about 5k total that we had to keep in legacy mode
2014-01-07T06:32:00  <lifeless> foobio: so I think we need an insecure-requirements.txt
2014-01-07T06:32:06  <lifeless> foobio: or something like that
2014-01-07T06:32:16  <dstufft> a good number of them were only for a "dev" requirement that was a git checkout or similar
2014-01-07T06:32:28  <dstufft> or for one old version that they forgot to upload
2014-01-07T06:32:34  <foobio> lifeless: i was thinking magic comment tags in global-requirements.txt, but i guess a separate file could work
2014-01-07T06:33:01  <lifeless> foobio: needs to be in requirements.txt itself
2014-01-07T06:33:10  <lifeless> foobio: doesn't it? Because we'll need pbr to auto enable this
2014-01-07T06:33:21  <dstufft> FWIW you might find my pypi-externals tool useful
2014-01-07T06:33:22  <dstufft> http://pypi-externals.caremad.io/netaddr/
2014-01-07T06:33:24  <lifeless> foobio: otherwise every single one of our devs will eventually end up asking
2014-01-07T06:33:37  <dstufft> tells you what versions of a project are only available externally
2014-01-07T06:33:44  <foobio> lifeless: at least for the tox use case, it's enough to just whitelist them in the tox.ini
2014-01-07T06:33:50  <lifeless> foobio: my assumption is we want to keep 'pip install .' working
2014-01-07T06:34:08  <lifeless> foobio: we have tox, we have tripleo, we have devstack, we have the mirror
2014-01-07T06:34:16  <dstufft> FWIW --allow-insecure//--allow-unverified//--allow-external work in a requirements.txt file
2014-01-07T06:34:20  <lifeless> foobio: + folk doing 'pip install ...
2014-01-07T06:34:55  <lifeless> dstufft: what does that look like?
2014-01-07T06:35:11  <lifeless> netaddr>0.7.6 --allow-insecure --allow-external
2014-01-07T06:35:12  <lifeless> ?
2014-01-07T06:35:27  <foobio> lifeless: good point--i hadn't tried that yet to see if it was also breaking on a straight pip install. i'll need to sleep on it though (approaching 2am here)
2014-01-07T06:35:41  <lifeless> foobio: SHOOO
2014-01-07T06:35:49  <dstufft> lifeless: https://gist.github.com/dstufft/8295462
2014-01-07T06:36:33  <foobio> that syntax may be easy enough to implement
2014-01-07T06:36:56  <lifeless> ok
2014-01-07T06:37:05  <lifeless> so we need the updater to look for -- lines too
2014-01-07T06:37:35  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:37:50  *** pmathews has quit IRC
2014-01-07T06:37:59  <foobio> though the fact that pip lets a transitive dependency override your download security policy that way is a little odd
2014-01-07T06:38:53  <dstufft> foobio: what do you mean?
2014-01-07T06:38:57  <foobio> i ask pip to install package A which then pulls in unverified dependency B... somewhat surprising
2014-01-07T06:39:02  <dstufft> pip doesn't process requirements.txt files
2014-01-07T06:39:07  *** harlowja has joined #openstack-infra
2014-01-07T06:39:12  <dstufft> not unless you point to them with -r
2014-01-07T06:39:22  <dstufft> that's an openstackism that does that with pbr
2014-01-07T06:39:38  <foobio> ahh, good point
2014-01-07T06:39:52  <foobio> normally you'd have to explicitly ask pip to -r the file
2014-01-07T06:40:04  <superbee> (because easy_install is broken for other reasons :) )
2014-01-07T06:40:38  <foobio> anyway
2014-01-07T06:40:41  * foobio sleeps
2014-01-07T06:40:41  <dstufft> there's no way for a setup.py (which is all pbr really is, it just reads the requirements.txt in, which I hate but it's really just setup.py still) to force an unverified dependency
2014-01-07T06:41:43  <dstufft> (this is actually why 1.5 turned off dependency links too, because a random package from PyPI shouldn't be able to control where you get files from)
2014-01-07T06:41:46  <dstufft> foobio: night!
2014-01-07T06:44:34  <lifeless> dstufft: so we can't make pip install nova Just Work anymore?
2014-01-07T06:45:41  <jeblair> superbee: nodepool has error: [Errno 24] Too many open files
2014-01-07T06:46:02  <dstufft> lifeless: don't use dependencies that aren't hosted on PyPI and it'll just work. You can't use stuff hosted elsewhere and have it just work without the user passing additional flags in a pip 1.5+ world
2014-01-07T06:46:06  <superbee> jeblair: :/
2014-01-07T06:46:19  <lifeless> dstufft: ok, so this is rather huge for us I think.
2014-01-07T06:46:20  <superbee> jeblair: I propose we do the same thing I proposed to zuul
2014-01-07T06:46:31  <superbee> jeblair: and ride it out until we can properly fix it
2014-01-07T06:46:49  *** fallenpegasus has quit IRC
2014-01-07T06:47:19  <jeblair> superbee: we should bump mysql max conn too if needed
2014-01-07T06:47:31  <dstufft> lifeless: FWIW the process for deprecating things not hosted on PyPI went though was documented http://www.python.org/dev/peps/pep-0438/
2014-01-07T06:47:35  <dstufft> documented here*
2014-01-07T06:47:39  <superbee> jeblair: want me to write the init script change?
2014-01-07T06:47:48  <jeblair> superbee: yes, thanks
2014-01-07T06:48:47  <lifeless> dstufft: yes, no problem there - again, I'm in the -sig
2014-01-07T06:48:56  *** fallenpegasus has joined #openstack-infra
2014-01-07T06:49:04  <lifeless> dstufft: my complaint is that we, as the nova authors, can't decide about our dependencies.
2014-01-07T06:49:23  <lifeless> dstufft: so we can't shield our many users from problems *we didn't create*
2014-01-07T06:50:33  <jeblair> nodepol just passed the 1M node mark
2014-01-07T06:50:35  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Bump nodepool's file descriptor limit.  https://review.openstack.org/65216
2014-01-07T06:50:37  <superbee> jeblair: ^
2014-01-07T06:50:41  <superbee> jeblair: woah
2014-01-07T06:50:57  * superbee looks into puppet-mysql for conn limits
2014-01-07T06:53:05  <dstufft> lifeless: well you decide what you depend on, so the future looking solution is don't depend on things that don't host their releases on PyPI. That doesn't exactly help the current situation but I don't see a better way currently to move to the desired outcome
2014-01-07T06:53:13  *** reed has quit IRC
2014-01-07T06:54:46  <lifeless> so we're back at forking some set of projects
2014-01-07T06:56:57  <superbee> jeblair: what value do you want for mysqld max_connections?
2014-01-07T06:57:16  <dstufft> lifeless: Of course we're open to suggestions, but anything I can think of just kicks the can down the road, either we provide a way for projects like nova to remove the pain of hosting externally, and projects like netaddr have little incentive to change (the netaddr issue was opened 3 months ago with no movement) in which case we're just shuffling deck chairs on the titantic
2014-01-07T06:57:23  <dstufft> until the point we actually do cut it off, at which point we're basically where we are today, sans maybe a few extra libraries
2014-01-07T06:57:45  <dstufft> forking might be the best solution for openstack, until netaddr (and any other projects) start hosting on PyPI
2014-01-07T06:58:02  <dstufft> or if they don't start hosting on PyPI, you may wish to their maintain it yourself, or find a new library
2014-01-07T06:58:16  <jeblair> superbee: == to open file limit
2014-01-07T06:58:23  <superbee> jeblair: ok
2014-01-07T06:59:09  <dstufft> to either maintain*
2014-01-07T06:59:38  <lifeless> dstufft: so, I would really like to reopen the -sig thing and make class C things flat impossible. Now.
2014-01-07T06:59:50  <lifeless> dstufft: that provides plenty of incentive for folk to register.
2014-01-07T07:00:19  <jeblair> lifeless: ++ the alternative sounds untenable
2014-01-07T07:00:37  <lifeless> folk that want to host separately can advise their users to add whatever extra pip index url their stuff *is* available at
2014-01-07T07:01:03  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Bump mysql connection limit for nodepool.  https://review.openstack.org/65218
2014-01-07T07:01:04  <dstufft> lifeless: I would be supportive of that, I hate the fact that class C exists at all, class B annoys me but I can see _some_ use case for it (it still requires a flag, but there's a --allow-all-external flag so it's not separate for each package)
2014-01-07T07:01:06  <lifeless> either way users need to add some options to their pip invocation
2014-01-07T07:01:10  <superbee> jeblair: ^ there is the change
2014-01-07T07:01:47  <dstufft> lifeless: an extra index can be as simple as a directory of tarballs if used with --find-links, so it's not like setting up your own mirror is hard
2014-01-07T07:01:51  <dstufft> "own index"
2014-01-07T07:02:06  <superbee> lifeless: ya, I think forking is probably the most direct and sane path to working
2014-01-07T07:02:37  <dstufft> lifeless: really PyPI could just allow the existing "legacy mode" applications to stay legacy, and just prevent anyone from switching to legacy mode ever again
2014-01-07T07:03:15  <superbee> or, we try to advertise the state of broken, apologize profusely and actively work to change deps
2014-01-07T07:03:22  <lifeless> dstufft: yes, I'm very worried about accidental switches to this mode for deps we choose
2014-01-07T07:03:56  <superbee> should be simple to register netaddr-working on pypi and upload an sdist whenever upstream releases a new version >_>
2014-01-07T07:04:53  *** praneshp has quit IRC
2014-01-07T07:04:59  <dstufft> lifeless: http://d.stufft.io/image/1u3v1W3S000e
2014-01-07T07:05:19  <dstufft> first number is the number of projects set to the legacy mode, second number is the total number of projects
2014-01-07T07:06:48  <dstufft> (if I remember correctly, a signifcant portion of the first number are projects whose only external version is a ==dev version)
2014-01-07T07:06:52  <lifeless> superbee: we could even automate it - openstack-$name-working
2014-01-07T07:06:57  <superbee> ya
2014-01-07T07:07:15  <superbee> we definitely could with some of our existing jobs even as they just wget sdist, push sdist
2014-01-07T07:07:16  *** fallenpegasus has quit IRC
2014-01-07T07:07:22  <lifeless> bbiab
2014-01-07T07:08:14  <dstufft> lifeless: superbee I am sorry for this pain though :( I promise things will be much more stable in the long run once we clear out the techincal debt
2014-01-07T07:11:13  *** masayukig has joined #openstack-infra
2014-01-07T07:18:07  *** AJaeger has joined #openstack-infra
2014-01-07T07:19:28  *** noorul has joined #openstack-infra
2014-01-07T07:19:32  <noorul> hi
2014-01-07T07:20:05  <noorul> Is there any infra changes going on now?
2014-01-07T07:20:08  *** talluri has quit IRC
2014-01-07T07:25:12  *** rcarrillocruz has joined #openstack-infra
2014-01-07T07:26:05  *** loq_mac has joined #openstack-infra
2014-01-07T07:26:18  *** jerryzhao has quit IRC
2014-01-07T07:31:17  <anteaya> noorul: yes, more jenkins are coming online
2014-01-07T07:31:24  <anteaya> noorul: why do you ask?
2014-01-07T07:31:26  *** luis_ has quit IRC
2014-01-07T07:32:30  *** StevenK has quit IRC
2014-01-07T07:34:54  *** jheiss_ has quit IRC
2014-01-07T07:38:49  <noorul> anteaya: I think I found the problem
2014-01-07T07:38:56  <noorul> anteaya: http://logs.openstack.org/06/65206/1/check/gate-solum-devstack-dsvm/3a53145/logs/screen-c-vol.txt.gz
2014-01-07T07:39:14  <noorul> anteaya: I asked because I see that feedback from Jenkins is taking too much of time
2014-01-07T07:39:15  *** StevenK has joined #openstack-infra
2014-01-07T07:40:32  *** loq_mac has quit IRC
2014-01-07T07:40:51  *** loq_mac has joined #openstack-infra
2014-01-07T07:41:22  <openstackgerrit> A change was merged to openstack-infra/config: Bump nodepool's file descriptor limit.  https://review.openstack.org/65216
2014-01-07T07:41:31  <openstackgerrit> A change was merged to openstack-infra/config: Bump mysql connection limit for nodepool.  https://review.openstack.org/65218
2014-01-07T07:43:40  *** loq_mac has quit IRC
2014-01-07T07:45:15  *** harlowja is now known as harlowja_away
2014-01-07T07:45:56  *** loq_mac has joined #openstack-infra
2014-01-07T08:05:40  *** mlipchuk has joined #openstack-infra
2014-01-07T08:06:29  *** mlipchuk has left #openstack-infra
2014-01-07T08:06:40  *** chandankumar has quit IRC
2014-01-07T08:07:15  <StevenK> Should I be concerned that my new patch hasn't hit zuul's status page?
2014-01-07T08:07:46  <superbee> StevenK: not really, zuul is bogged down dealing with the existing queues
2014-01-07T08:07:54  <superbee> StevenK: notice the event queue on the status page number
2014-01-07T08:08:04  <superbee> StevenK: it is non zero which means zuul has unprocessed events
2014-01-07T08:08:13  <StevenK> superbee: Status page number?
2014-01-07T08:08:16  <superbee> once that goes to 0 your change should be in the status page and if it isn't then you worry
2014-01-07T08:08:25  <superbee> StevenK: under queue lengths on the status page
2014-01-07T08:09:46  <StevenK> superbee: Oooh. '38 events' meaning zuul is behind by that much.
2014-01-07T08:10:00  *** fallenpegasus has joined #openstack-infra
2014-01-07T08:10:14  <superbee> StevenK: yup I bet one of those is the event your change generated
2014-01-07T08:10:39  <StevenK> superbee: I think that's a fairly safe bet, so I'll keep my money.
2014-01-07T08:11:24  *** AJaeger has left #openstack-infra
2014-01-07T08:11:27  *** yolanda has joined #openstack-infra
2014-01-07T08:12:22  *** talluri has joined #openstack-infra
2014-01-07T08:13:33  *** mlipchuk has joined #openstack-infra
2014-01-07T08:17:45  *** jamielennox has joined #openstack-infra
2014-01-07T08:19:11  *** llu has left #openstack-infra
2014-01-07T08:22:33  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Use performance rax nodes in the gate  https://review.openstack.org/65236
2014-01-07T08:22:33  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Remove devstack-precise-check rax images  https://review.openstack.org/65237
2014-01-07T08:22:52  <anteaya> noorul: okay, I looked at the file you linked and I don't see where it is saying Jenins is taking too much time
2014-01-07T08:23:03  *** hashar has joined #openstack-infra
2014-01-07T08:23:03  *** chandankumar has joined #openstack-infra
2014-01-07T08:23:09  <jeblair> superbee: ^
2014-01-07T08:23:20  <anteaya> noorul: but if this answers why the test is failing for you, that is fine
2014-01-07T08:25:13  *** afazekas has joined #openstack-infra
2014-01-07T08:25:34  <superbee> jeblair: those changes lgtm
2014-01-07T08:26:30  *** afazekas has quit IRC
2014-01-07T08:27:03  *** afazekas has joined #openstack-infra
2014-01-07T08:29:17  *** flaper87|afk is now known as flaper87
2014-01-07T08:29:17  *** chandankumar has quit IRC
2014-01-07T08:31:35  <jeblair> superbee: we have about another hour, i think that's pushing it for watching the first image build, etc, so i think we can wait to approve later
2014-01-07T08:31:44  *** afazekas has quit IRC
2014-01-07T08:32:42  <superbee> jeblair: wfm
2014-01-07T08:36:33  *** llu has joined #openstack-infra
2014-01-07T08:37:18  *** SergeyLukjanov has joined #openstack-infra
2014-01-07T08:38:34  *** dizquierdo has joined #openstack-infra
2014-01-07T08:39:51  *** fallenpegasus has quit IRC
2014-01-07T08:40:50  *** fallenpegasus has joined #openstack-infra
2014-01-07T08:41:42  *** coolsvap has quit IRC
2014-01-07T08:42:46  *** chandankumar has joined #openstack-infra
2014-01-07T08:44:42  *** blamar has joined #openstack-infra
2014-01-07T08:44:49  *** jcoufal has joined #openstack-infra
2014-01-07T08:46:04  *** afazekas has joined #openstack-infra
2014-01-07T08:49:32  *** saschpe_ has joined #openstack-infra
2014-01-07T08:50:18  *** saschpe has quit IRC
2014-01-07T08:52:25  *** nati_ueno has quit IRC
2014-01-07T08:55:21  *** rossella_s has joined #openstack-infra
2014-01-07T08:55:55  <noorul> Any idea why am I getting this error
2014-01-07T08:55:58  <noorul> http://logs.openstack.org/06/65206/1/check/gate-solum-devstack-dsvm/d1cbb27/logs/screen-c-vol.txt.gz
2014-01-07T08:56:58  *** loq_mac has quit IRC
2014-01-07T08:59:32  *** coolsvap has joined #openstack-infra
2014-01-07T09:03:54  <superbee> StevenK: https://bugs.launchpad.net/nova/+bug/1228977
2014-01-07T09:04:17  <superbee> its filed against nova, cloud archive, and the libvirt package
2014-01-07T09:04:26  *** derekh has joined #openstack-infra
2014-01-07T09:05:04  <superbee> noorul: no idea
2014-01-07T09:05:42  *** jpich has joined #openstack-infra
2014-01-07T09:06:13  <anteaya> is this a pbr issue? http://logs.openstack.org/06/65206/1/check/gate-solum-devstack-dsvm/d1cbb27/console.html#_2014-01-07_08_48_06_780
2014-01-07T09:06:22  *** mancdaz_away is now known as mancdaz
2014-01-07T09:10:02  *** johnthetubaguy has joined #openstack-infra
2014-01-07T09:10:03  *** fallenpegasus has quit IRC
2014-01-07T09:18:02  *** yassine has joined #openstack-infra
2014-01-07T09:18:34  <anteaya> noorul: if I understand correctly lifeless and superbee think the issue is an import error, for some reason oslo.config is not available: http://logs.openstack.org/06/65206/1/check/gate-solum-devstack-dsvm/d1cbb27/console.html#_2014-01-07_08_53_23_195
2014-01-07T09:19:35  <lifeless> http://logs.openstack.org/06/65206/1/check/gate-solum-devstack-dsvm/d1cbb27/console.html#_2014-01-07_08_50_00_727 reckons it installed it
2014-01-07T09:22:42  *** fallenpegasus has joined #openstack-infra
2014-01-07T09:23:03  <openstackgerrit> sahid proposed a change to openstack/requirements: Tox fails to build environment because of MySQL-Python  https://review.openstack.org/62028
2014-01-07T09:23:31  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Increase hpcloud ssh timeout to 180  https://review.openstack.org/65246
2014-01-07T09:25:37  *** fallenpegasus2 has joined #openstack-infra
2014-01-07T09:25:57  *** fallenpegasus has quit IRC
2014-01-07T09:33:59  *** pblaho has joined #openstack-infra
2014-01-07T09:34:17  *** fallenpegasus2 has quit IRC
2014-01-07T09:37:17  *** Ryan_Lane has quit IRC
2014-01-07T09:41:23  <noorul> anteaya, lifeless Thank yo for looking
2014-01-07T09:41:36  <hashar> good morning
2014-01-07T09:46:51  *** michchap_ has quit IRC
2014-01-07T09:46:56  <noorul> Could this (https://review.openstack.org/#/c/64226/) be the problem ?
2014-01-07T09:47:14  *** SergeyLukjanov is now known as _SergeyLukjanov
2014-01-07T09:47:45  *** michchap has joined #openstack-infra
2014-01-07T09:48:27  *** pblaho has left #openstack-infra
2014-01-07T09:48:44  *** pblaho has joined #openstack-infra
2014-01-07T09:49:25  *** lcestari has joined #openstack-infra
2014-01-07T09:50:36  <noorul> I don't think so. Strange that import is failing
2014-01-07T09:51:15  *** fifieldt has quit IRC
2014-01-07T10:01:00  *** chandankumar_ has joined #openstack-infra
2014-01-07T10:06:31  *** jooools has joined #openstack-infra
2014-01-07T10:07:04  *** _SergeyLukjanov is now known as SergeyLukjanov
2014-01-07T10:22:19  *** matel has joined #openstack-infra
2014-01-07T10:24:37  *** masayukig has quit IRC
2014-01-07T10:32:11  *** saschpe_ has quit IRC
2014-01-07T10:46:23  *** tma996 has joined #openstack-infra
2014-01-07T10:49:42  *** rossella_s_ has joined #openstack-infra
2014-01-07T10:50:22  *** CaptTofu has quit IRC
2014-01-07T10:50:28  *** CaptTofu has joined #openstack-infra
2014-01-07T10:52:58  *** jroovers has joined #openstack-infra
2014-01-07T10:53:00  *** rossella_s has quit IRC
2014-01-07T10:53:00  *** rossella_s_ is now known as rossella_s
2014-01-07T10:54:21  *** haypo has joined #openstack-infra
2014-01-07T10:55:14  *** yassine has quit IRC
2014-01-07T10:55:36  <haypo> hi. it's still not possible to specific Python 3-only dependencies in requirements.txt. jd__ proposed a patch: https://review.openstack.org/#/c/58770/
2014-01-07T10:55:51  <haypo> can someone please look at its patch?
2014-01-07T10:55:56  *** coolsvap has quit IRC
2014-01-07T10:56:19  <haypo> FYI i updated the https://wiki.openstack.org/wiki/Python3 page to add more recent information
2014-01-07T10:57:28  <jd__> mordred: ^^^
2014-01-07T10:57:36  <jd__> dhellmann: ^^^
2014-01-07T10:58:09  *** yaguang has quit IRC
2014-01-07T11:08:02  *** yamahata has quit IRC
2014-01-07T11:09:27  *** jroovers has quit IRC
2014-01-07T11:10:21  <chmouel> haypo: it would be nice to be able to specify a supported distro syntax directly in pip {test-}requirements.txt
2014-01-07T11:10:47  <haypo> chmouel: what is a "distro syntax"?
2014-01-07T11:11:06  <chmouel> haypo: sorry i mean python version
2014-01-07T11:11:34  <haypo> chmouel: i asked pip authors if they plan to support distlib labels like "[os.name == 'nt']" and the answer is no
2014-01-07T11:11:40  <haypo> chmouel: pip doesn't want to support that
2014-01-07T11:11:49  <chmouel> haypo: and python versions?
2014-01-07T11:11:58  <haypo> chmouel: neither
2014-01-07T11:12:23  <chmouel> haypo: ok
2014-01-07T11:13:19  <chmouel> haypo: i guess the tox.inis would need to be updated to support python3-requirements as well, right?
2014-01-07T11:14:04  <dstufft> FWIW (as a pip developer) that was a soft no from me. I don't personally think it makes a ton of sense for projects other than pbr based one because pbr is crazy and reads requirements.txt files inside of a setup.py :) Marcus or Paul might feel differently
2014-01-07T11:14:21  <dstufft> (Marcus and Paul being the other major pip devs)
2014-01-07T11:14:40  <haypo> dstufft: ah, you're here :-) hi
2014-01-07T11:14:48  <haypo> dstufft: i was trying to transfer you emails to chmouel
2014-01-07T11:14:52  <dstufft> haypo: I'm everywhere!
2014-01-07T11:15:31  <haypo> dstufft: the PEP 426 is still a draft, i don't think that pip is going to support markers in a near future, but requirements.txt is blocking me right now
2014-01-07T11:15:52  <haypo> dstufft: jd__'s option is simple and you may use something else later if pip evolves
2014-01-07T11:16:31  <haypo> i don't understand why https://review.openstack.org/#/c/58770/ is still stuck since the end of november, the latest patch is just one line !?
2014-01-07T11:17:04  <haypo> jd__: i don't understand how a single line is enough to support python3 dependencies. you also modified pbr?
2014-01-07T11:17:24  <jd__> haypo: the original patch was a bit more invasive, and I split it into what it is now and https://review.openstack.org/#/c/63236/
2014-01-07T11:17:36  <jd__> I already added you to these reviews
2014-01-07T11:17:42  <haypo> jd__: ah ok :)
2014-01-07T11:17:57  *** coolsvap has joined #openstack-infra
2014-01-07T11:19:12  <dstufft> haypo: pip supports markers inside of a Wheel right now, and has since pip gained Wheel support, setuptools doesn't really (it sort of does) but it supports python so you can replicate it in there. afaik openstack needs this because you don't write a setup.py really, you use pbr to extract from a requirements.txt.
2014-01-07T11:19:15  <dstufft> So the pbr patch would likely implement markers itself, process them, and dynamically add things to install_requires as if you wrote some code in setup.py to dynamically add them based on python version (or whatever)
2014-01-07T11:20:09  <dstufft> What I'd personally need for markers in a requirements.txt is a solid use case outside of pbr, because pbr is the wierdo and the one "doing it wrong" IMO -- unless I misunderstand how you're planning on using them :)
2014-01-07T11:21:03  <haypo> dstufft: for markers, it was suggested to write "mox [sys.version_info < (3,)]" and "mox3 [sys.version_info >= (3,)]" in requirements.txt
2014-01-07T11:21:36  <openstackgerrit> Soren Hansen proposed a change to openstack-infra/jenkins-job-builder: Make it possible to pass an SSH agent to jobs  https://review.openstack.org/65259
2014-01-07T11:21:37  *** CaptTofu has quit IRC
2014-01-07T11:22:29  <haypo> dstufft: (i don't know if it's the correct syntax for markers to check for python major version, python 2 and python 3)
2014-01-07T11:23:34  <haypo> dstufft: "pip supports markers inside of a Wheel right now" i need something different. i don't want to install mox on Python 3, because it only supports Python 2
2014-01-07T11:25:09  <haypo> dstufft: in setuptools, it's the install_requires parameter of the setup() function
2014-01-07T11:25:49  <haypo> i don't needs markers, just the ability to tag "this dependency is only for python 2" and "this one is only for python 3"
2014-01-07T11:25:55  <haypo> (others are for python 2 & python 3)
2014-01-07T11:26:03  <dstufft> haypo: Can you open an issue with github.com/pypa/pip ? I'm going to have to go soonish to take my daughter to the bus stop, and I'd like to get Marcus's and Paul's opinion too
2014-01-07T11:26:46  *** rfolco has joined #openstack-infra
2014-01-07T11:31:48  <haypo> jd__, dstufft : https://github.com/pypa/pip/issues/1433
2014-01-07T11:33:32  <dstufft> haypo: thanks
2014-01-07T11:33:46  <dstufft> I guess I'm not leaving heh, went outside and it's too damn cold, we're keeping her home
2014-01-07T11:34:14  <openstackgerrit> Mate Lakat proposed a change to openstack-infra/nodepool: Support nodes with launch condition  https://review.openstack.org/65261
2014-01-07T11:37:17  *** CaptTofu has joined #openstack-infra
2014-01-07T11:37:23  <openstackgerrit> Mate Lakat proposed a change to openstack-infra/nodepool: Support nodes with launch condition  https://review.openstack.org/65261
2014-01-07T11:42:17  *** jroovers has joined #openstack-infra
2014-01-07T11:44:29  <jd__> haypo: great
2014-01-07T11:44:33  *** roeyc has joined #openstack-infra
2014-01-07T11:44:36  *** SergeyLukjanov has quit IRC
2014-01-07T11:53:20  *** yolanda has quit IRC
2014-01-07T11:53:44  *** yolanda has joined #openstack-infra
2014-01-07T11:58:05  *** coolsvap has quit IRC
2014-01-07T12:06:51  *** CaptTofu has quit IRC
2014-01-07T12:09:40  *** pblaho has quit IRC
2014-01-07T12:14:03  *** SergeyLukjanov has joined #openstack-infra
2014-01-07T12:14:30  *** hashar has quit IRC
2014-01-07T12:19:37  *** talluri has quit IRC
2014-01-07T12:25:01  <chmouel> isn't that the gate a bit broken right now?
2014-01-07T12:25:30  <chmouel> or just super slow
2014-01-07T12:25:50  <sdague> chmouel: so all nova py 27 unit tests are failing
2014-01-07T12:26:01  <sdague> there was a bug for that on the list
2014-01-07T12:26:02  <chmouel> sdague: oh thanks didn't see that
2014-01-07T12:26:04  *** yassine has joined #openstack-infra
2014-01-07T12:26:07  <sdague> I don't know the other issues in there
2014-01-07T12:27:29  <chmouel> sdague: is somebody on https://bugs.launchpad.net/nova/+bug/1266711 ?
2014-01-07T12:29:54  <sdague> not as far as I know
2014-01-07T12:30:40  <sdague> I just woke up and was just making sure the bug had all the details that I'd seen people post in IRC
2014-01-07T12:31:09  <chmouel> sdague: okay, i can try to look at it but i haven't touched to nova since i think the bexar version
2014-01-07T12:33:10  *** b3nt_pin has joined #openstack-infra
2014-01-07T12:33:18  *** b3nt_pin is now known as beagles
2014-01-07T12:35:16  <openstackgerrit> Sean Dague proposed a change to openstack-infra/elastic-recheck: add bug for nova libvirt failure  https://review.openstack.org/65266
2014-01-07T12:35:57  *** salv-orlando has joined #openstack-infra
2014-01-07T12:40:43  <openstackgerrit> Sean Dague proposed a change to openstack-infra/elastic-recheck: add bug for nova libvirt failure  https://review.openstack.org/65266
2014-01-07T12:47:11  <chmouel> sdague: it would be nice to have the elastic recheck page http://status.openstack.org/elastic-recheck/ directly in http://status.openstack.org but not sure who takes care of this page
2014-01-07T12:47:25  *** heyongli has joined #openstack-infra
2014-01-07T12:47:57  <sdague> chmouel: agreed, did you see my whole thread on that? :)
2014-01-07T12:48:18  <chmouel> sdague: oh no,i haven't will read it
2014-01-07T12:48:36  <sdague> honestly we need the e-r page a bit more functional first, it's top of my list, which is why I'm trying to not actually chase gate bugs as it will keep me from doing that
2014-01-07T12:49:56  <chmouel> sdague: yeah agreed
2014-01-07T12:52:29  *** weshay has joined #openstack-infra
2014-01-07T12:52:52  *** kruskakli has joined #openstack-infra
2014-01-07T12:53:55  *** smarcet has joined #openstack-infra
2014-01-07T12:55:57  <anteaya> foobio once you are around can you advise kruskakli if there is any way he can manually sign into his tail-f account and manually clean up the -1 votes still outstanding?
2014-01-07T12:56:56  <kruskakli> also, is this the place to ask about this error when using tox: https://bitbucket.org/pypa/setuptools/issue/129/assertionerror-egg-info-pkg-info-is-not-a
2014-01-07T12:56:59  *** yaguang has joined #openstack-infra
2014-01-07T12:57:13  <kruskakli> it started to occur 2-January
2014-01-07T12:57:15  <anteaya> kruskakli: let's focus on one thing at a time please
2014-01-07T12:57:34  <anteaya> kruskakli: these patches need the -1 votes removed: http://paste.openstack.org/show/60626/
2014-01-07T12:57:38  <kruskakli> anteaya: sure, but that error caused the -1 votes in the end... :-)
2014-01-07T12:58:15  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: Mark resolved bugs  https://review.openstack.org/65157
2014-01-07T12:59:10  *** lukego has joined #openstack-infra
2014-01-07T12:59:19  <anteaya> kruskakli: no, the -1 votes occured because your system was unstable and shouldn't have had voting turned on in the first place
2014-01-07T12:59:50  <anteaya> also when posting to the mailing list, it is helpful if one topic is addressed per thread
2014-01-07T13:00:13  <anteaya> so addressing an error is best done in a support channel for that error
2014-01-07T13:00:37  <anteaya> in this case it is a development error and asking in #openstack-dev is a good first step
2014-01-07T13:00:38  <kruskakli> anteaya: sure, I'm trying to find my ways around here
2014-01-07T13:00:49  <anteaya> kruskakli: I'm glad to hear that
2014-01-07T13:00:51  *** nosnos has quit IRC
2014-01-07T13:01:06  <anteaya> and hope that what I am offering is useful information
2014-01-07T13:01:19  <kruskakli> anteaya: absolutely, I'm very greatful :-)
2014-01-07T13:01:28  *** nosnos has joined #openstack-infra
2014-01-07T13:01:48  <anteaya> I wonder if we should see a level of famialiryt with openstack and its processes prior to granting 3rd party testing accounts
2014-01-07T13:02:07  *** afazekas has quit IRC
2014-01-07T13:02:29  <anteaya> since having a third party testing account randomly voting because it is broken has a very bad effect on the community as a whole
2014-01-07T13:02:47  <anteaya> and if you aren't familiar with the openstack processes, you wouldn't know that
2014-01-07T13:02:55  <kruskakli> mm...the openstack-environment has been kind of overwhelming
2014-01-07T13:02:58  <anteaya> just thinking out loud here
2014-01-07T13:03:13  <anteaya> kruskakli: yes, I can understand that
2014-01-07T13:03:20  <anteaya> it is for most people
2014-01-07T13:03:54  <anteaya> kruskakli: do you mind if I ask, what is the motivation for having a 3rd party testing account if you aren't familiar with openstack processes?
2014-01-07T13:04:01  <kruskakli> I for one could settle for manual voting, based on the outcome of my tests
2014-01-07T13:04:17  *** dkranz has joined #openstack-infra
2014-01-07T13:04:22  *** CaptTofu has joined #openstack-infra
2014-01-07T13:04:54  <anteaya> kruskakli: some 3rd party testing accounts have the results reported internally with a manual process to forward those results to gerrit
2014-01-07T13:05:19  <kruskakli> anteaya: we had a 'driver' for our NCS product developed, that we want to maintain, however we are a small company and it landed in my lap...
2014-01-07T13:05:48  <anteaya> did your company develop the driver?
2014-01-07T13:06:07  *** nosnos has quit IRC
2014-01-07T13:07:03  *** hashar has joined #openstack-infra
2014-01-07T13:07:10  <kruskakli> anteaya: a contractor (a former colleque)
2014-01-07T13:07:31  <kruskakli> + some inhouse work
2014-01-07T13:08:44  <anteaya> who wrote the tests you are running?
2014-01-07T13:08:52  <anteaya> as in how do you know what to test?
2014-01-07T13:09:39  <kruskakli> the test was written by the contractor, I wrote the automation harness to make it fit with Jenkins
2014-01-07T13:10:39  *** yamahata has joined #openstack-infra
2014-01-07T13:11:01  <anteaya> this just sounds really fragile
2014-01-07T13:11:29  <anteaya> what happens if something changes and the tests you are running need to be adjusted to fit the change?
2014-01-07T13:11:42  *** pblaho has joined #openstack-infra
2014-01-07T13:12:17  <kruskakli> anteaya: then I have to dig into it, I also have easy ways of contacting the contractor if necessary
2014-01-07T13:12:27  <kruskakli> it's an old friend
2014-01-07T13:12:47  <anteaya> just so you know what you are going to have to expect
2014-01-07T13:13:08  <anteaya> so this landed on your lap
2014-01-07T13:13:14  <kruskakli> anteaya: yup
2014-01-07T13:13:22  <anteaya> and you have no prior knowledge of openstack
2014-01-07T13:13:23  *** johnthetubaguy has quit IRC
2014-01-07T13:13:48  <anteaya> is setting up the third party testing the first time you have interacted with anything openstack?
2014-01-07T13:13:53  <kruskakli> anteaya: I've played around with it a year ago or so
2014-01-07T13:14:27  <sdague> foobio: something seems odd in the zuul allocator, where when it's allocating dsvm nodes it's not going top to bottom. So you'll have jobs towards the tail of the gate that have all their resources, but towards the top that are still waiting on nodes
2014-01-07T13:14:46  <kruskakli> but i'm really just running the unit tests of the driver, but toward an NCS system instead of a dummy sink
2014-01-07T13:15:12  <anteaya> kruskakli: from your perspective that is how it will seem
2014-01-07T13:15:46  <anteaya> what you are doing is conveying information that the rest of the openstack community needs to know is trustworthy
2014-01-07T13:16:07  <anteaya> since the information is relied upon by those making decisions
2014-01-07T13:16:19  <sdague> kruskakli: so one other thing to realize, because of the amount of upstream code openstack depends on, that Jan 2nd event (which I think was the new pip release) is something you'll see at least once a month, where some upstream piece breaks an interface on us
2014-01-07T13:16:26  <anteaya> and -1 verification votes means that patch might not get reviewed
2014-01-07T13:16:35  <sdague> so best to code defensively around things like that
2014-01-07T13:17:08  <kruskakli> sdague: sure, so that's I would be fine doing manual voting
2014-01-07T13:17:16  <sdague> kruskakli: yep
2014-01-07T13:17:22  <sdague> that's what smokestack did for a long time
2014-01-07T13:17:43  <sdague> it queued a bunch of votes on their side, and dan prince would manually verify them and put them through
2014-01-07T13:18:08  *** thomasem has joined #openstack-infra
2014-01-07T13:19:01  *** dcramer_ has quit IRC
2014-01-07T13:19:10  *** amotoki has quit IRC
2014-01-07T13:19:14  <kruskakli> I guess I just can clear out the 'gerrit approve' commands in the gerrit config in the jenkins plugin to disable any voting?
2014-01-07T13:19:40  *** talluri_ has joined #openstack-infra
2014-01-07T13:20:31  *** CaptTofu has quit IRC
2014-01-07T13:20:57  *** CaptTofu has joined #openstack-infra
2014-01-07T13:20:58  <foobio> kruskakli: anteaya: just skimming scrollback at the moment (was up seriously late working), but you should be able to leave a vote of 0 to remove the -1... just has to be done via the ssh api, can't log into that account using the webui
2014-01-07T13:21:17  <anteaya> foobio: very good
2014-01-07T13:21:33  <foobio> sdague: it wasn't doing that last night. very odd
2014-01-07T13:21:41  <anteaya> kruskakli: that might be a start, but keep in mind this account now has voting disabled
2014-01-07T13:21:56  <sdague> foobio: yeh, looks like it started about 6 or 7 hours ago
2014-01-07T13:21:59  <anteaya> foobio: and yes, I understand, thanks for the new jenkinses
2014-01-07T13:22:06  <kruskakli> foobio: thanks, any example of how to use ssh for this purpose?
2014-01-07T13:22:16  <anteaya> kruskakli: I can help you
2014-01-07T13:22:23  <foobio> sdague: it also doesn't seem to be doing it now--did you catch it in the middle of recalculating a reset
2014-01-07T13:22:30  *** dkliban_ has quit IRC
2014-01-07T13:22:35  <kruskakli> anteaya: aha, so I can't clear out those votes by voting 0 then?
2014-01-07T13:22:39  <sdague> foobio: yes
2014-01-07T13:22:44  <anteaya> kruskakli: have you read this page? http://ci.openstack.org/third_party.html
2014-01-07T13:22:48  <foobio> kruskakli: same way you voted -1 with it (same basic api syntax)
2014-01-07T13:23:06  <sdague> oh, sorry, that first comment was unrelated
2014-01-07T13:23:09  <anteaya> foobio: will it work if voting is disabled for that account?
2014-01-07T13:23:23  <foobio> anteaya: i don't know
2014-01-07T13:23:30  <kruskakli> anteaya: yes, but will re-read it since I've forgotten what it says... :-)
2014-01-07T13:23:39  <anteaya> foobio: very good
2014-01-07T13:23:41  *** ArxCruz has joined #openstack-infra
2014-01-07T13:23:47  <anteaya> kruskakli: thank you
2014-01-07T13:24:05  <kruskakli> anteaya: thanks for your help, much appreciated!
2014-01-07T13:24:13  <sdague> foobio: honest, if there was an easy way to do it, all the keystone and nova patches should be kicked from the queue
2014-01-07T13:24:26  <sdague> as they are both failing unit tests, a lot
2014-01-07T13:24:27  <anteaya> kruskakli: np
2014-01-07T13:24:38  <anteaya> kruskakli: thanks for being available to learn
2014-01-07T13:24:50  <anteaya> kruskakli: so after that page, read this one: http://gerrit-documentation.googlecode.com/svn/Documentation/2.3/cmd-review.html
2014-01-07T13:25:03  <kruskakli> anteaya: I'll be around in these channels from now on
2014-01-07T13:25:23  <anteaya> kruskakli: thank you, that will make a big difference to the success of your testing
2014-01-07T13:25:56  <anteaya> please join #openstack-dev if you haven't already
2014-01-07T13:26:38  *** jroovers has quit IRC
2014-01-07T13:26:56  <kruskakli> anteaya: joined!
2014-01-07T13:27:05  <anteaya> kruskakli: thanks
2014-01-07T13:27:32  <foobio> sdague: short of uploading trivial updates to all those patchsets, nothing springs to mind
2014-01-07T13:29:04  <smarcet> foobio: morning , i just approved this change, https://review.openstack.org/#/c/65152/, but seems that is stuck, i mean , merge didnt happen
2014-01-07T13:30:09  <chmouel> anteaya: fyi that tool https://github.com/pandemicsyn/fgerrit/ can batch bunch of gerrit votes if needed
2014-01-07T13:30:36  <foobio> smarcet: the gating system is going a bit slowly at the moment... it should pick it up shortly
2014-01-07T13:30:56  *** oubiwann has joined #openstack-infra
2014-01-07T13:31:12  <foobio> smarcet: apparently everyone is now back from their holidays and approving changes, so we're dealing with some unprecedented load
2014-01-07T13:31:13  <smarcet> foobio: oh got it, thought that i need clicking and viewing all files on commit to marked them as reviewed
2014-01-07T13:31:29  <smarcet> foobio: i understand np :), thx for the info
2014-01-07T13:31:38  <anteaya> chmouel: thanks
2014-01-07T13:32:14  <anteaya> I will admit I am having a hard time identifying the feature set of the tool amoungst all the agressive language
2014-01-07T13:32:23  *** talluri_ has quit IRC
2014-01-07T13:33:15  <anteaya> chmouel: we actually were looking for a tool this morning (Australia time) to do just that - batch gerrit votes
2014-01-07T13:34:23  <foobio> anteaya: usually we just stick a bunch of ssh api calls in a temporary shell script and run it
2014-01-07T13:34:30  *** jroovers has joined #openstack-infra
2014-01-07T13:35:02  *** dstanek has joined #openstack-infra
2014-01-07T13:35:12  <anteaya> foobio: makes sense
2014-01-07T13:35:33  <anteaya> mikal had offered to do up a script this morning
2014-01-07T13:35:46  <anteaya> but he had things to do like run his miniconf
2014-01-07T13:35:54  <sdague> foobio: yeh, I should write a tool to bulk snip like that
2014-01-07T13:36:04  <foobio> or a for loop in shell over a list of changes or whatever
2014-01-07T13:36:04  <kruskakli> anteaya: trying to vote 0 on this: https://review.openstack.org/#/c/64802 doing this: ssh -p 29418 ncsopenstack gerrit review -m '"Clearing out wrong -1 vote"' --verified=0 c1d53fd4
2014-01-07T13:36:33  <foobio> smarcet: your change finally made it into a test queue according to http://status.openstack.org/zuul/ so it should return in just a bit
2014-01-07T13:36:34  <kruskakli> gives me: error: Change is closed\n one or more approvals failed; review output above
2014-01-07T13:36:47  <smarcet> foobio: tnx sire for the info
2014-01-07T13:36:55  <sdague> kruskakli: the change is abandoned
2014-01-07T13:37:02  <sdague> so no voting can happen on it
2014-01-07T13:37:15  <kruskakli> sdague: aha, ok so for those I don't need to clear out the vote?
2014-01-07T13:37:23  <kruskakli> ok, I see
2014-01-07T13:37:53  <anteaya> kruskakli: you can't clear out the vote, gerrit won't let you since it is abandoned
2014-01-07T13:38:05  *** michchap has quit IRC
2014-01-07T13:38:29  <kruskakli> and the same goes for status:Merged I assume?
2014-01-07T13:38:37  *** michchap has joined #openstack-infra
2014-01-07T13:38:59  <anteaya> kruskakli: yes, if the patch is merged you don't need to change the vote
2014-01-07T13:39:09  <anteaya> not sure what gerrit will give you if you try
2014-01-07T13:40:04  <anteaya> but I do appreciate you taking the time to do this, and learn the process
2014-01-07T13:40:17  <kruskakli> anteaya: ok, I looked at all those changesets they were all either Abandoned or Merged
2014-01-07T13:40:45  *** _ruhe is now known as ruhe
2014-01-07T13:41:11  <kruskakli> should I ask about that tox-traceback error in #openstack-dev ?
2014-01-07T13:42:21  <anteaya> kruskakli: okay, thanks for looking at them
2014-01-07T13:42:36  <anteaya> kruskakli: can you put the error in a paste please?
2014-01-07T13:42:43  <anteaya> paste.openstack.org
2014-01-07T13:42:54  <anteaya> and bring the url back here, I will take a look
2014-01-07T13:43:11  <anteaya> but normally yes, -dev is a good place to start
2014-01-07T13:43:31  <dstufft> foobio: I don't know if it's a problem you guys hit or not, but pip 1.5.1 will work with verisons of setuptools < 0.8
2014-01-07T13:44:18  <kruskakli> anteaya: http://paste.openstack.org/show/60635/
2014-01-07T13:47:50  <anteaya> kruskakli: okay thank you
2014-01-07T13:48:02  <anteaya> now let's go back the sdague's comment
2014-01-07T13:48:14  <anteaya> about a pip version release that broke us
2014-01-07T13:48:22  *** mrodden has joined #openstack-infra
2014-01-07T13:50:03  <anteaya> kruskakli: so you are running neutron in a vagrant, correct?
2014-01-07T13:51:28  <foobio> dstufft: good to know... i think that may be the issue which had forced us to use get-pip on all of our systems because we couldn't get in-place upgrades to work (various setuptools and pkg-config exceptions)
2014-01-07T13:52:42  *** CaptTofu has quit IRC
2014-01-07T13:52:49  *** CaptTofu has joined #openstack-infra
2014-01-07T13:53:48  *** dprince has joined #openstack-infra
2014-01-07T13:53:49  <dstufft> foobio: techincally pip 1.5.1 won't require setuptools to install from a Wheel (but will from a sdist) at all, with the ceaveat that if you install pip from a sdist that the setuptools entrypoint wrapper requires some version of setuptools installed
2014-01-07T13:53:49  <kruskakli> anteaya: yes
2014-01-07T13:55:14  <kruskakli> anteaya: perhaps I should paste my setup script?
2014-01-07T13:56:26  <foobio> dstufft: great--that simplifies things a good deal
2014-01-07T13:56:26  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: add bug for nova libvirt failure  https://review.openstack.org/65266
2014-01-07T13:56:54  <anteaya> kruskakli: sure
2014-01-07T13:57:06  <anteaya> kruskakli: the more information, the better
2014-01-07T13:58:17  <kruskakli> anteaya: at the end of http://paste.openstack.org/show/60636/
2014-01-07T13:58:30  <kruskakli> you'll find the Vagrantfile and the setup.sh script
2014-01-07T13:59:38  *** dhellmann is now known as dhellmann_
2014-01-07T14:00:38  *** rcleere has joined #openstack-infra
2014-01-07T14:01:22  <kruskakli> anteaya: sorry this contains the correct Vagrantfile http://paste.openstack.org/show/60637/
2014-01-07T14:02:42  *** pblaho has quit IRC
2014-01-07T14:03:02  <anteaya> kruskakli: okay for starters, our infrastructure uses precise, not quantal
2014-01-07T14:03:23  <anteaya> and we use pip for installation of python packages not easy_install
2014-01-07T14:03:52  <kruskakli> anteaya: aha, good
2014-01-07T14:03:55  <anteaya> these might seem like small points, but the closer you replicate our set-up the easier it will be for you
2014-01-07T14:04:42  <kruskakli> anteaya: I'll try precise and pip and see if that changes anything
2014-01-07T14:05:43  <anteaya> kruskakli: awesome, thank you
2014-01-07T14:06:00  <anteaya> also do a fresh clone/install of devstack/neutron
2014-01-07T14:06:19  <anteaya> I'm signing off for sleep purposes
2014-01-07T14:06:29  <kruskakli> anteaya: ok, thanks
2014-01-07T14:06:44  <anteaya> you are welcome to ping me in -neutron and keep me informed of your progress
2014-01-07T14:06:54  <anteaya> thanks for taking an interest
2014-01-07T14:06:59  <kruskakli> anteaya: will do
2014-01-07T14:07:15  *** jasondotstar has joined #openstack-infra
2014-01-07T14:07:31  <anteaya> it will take a while but hopefully we can help you get what you need so you have a better sense of how to achieve your goals
2014-01-07T14:07:40  <anteaya> kruskakli: thanks
2014-01-07T14:07:55  * anteaya shuts down for my night
2014-01-07T14:09:42  *** saschpe has joined #openstack-infra
2014-01-07T14:11:08  *** dcramer_ has joined #openstack-infra
2014-01-07T14:14:30  *** saschpe has quit IRC
2014-01-07T14:14:54  *** mfer has joined #openstack-infra
2014-01-07T14:15:15  *** noorul has left #openstack-infra
2014-01-07T14:15:40  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: force removal of libvirt-dev  https://review.openstack.org/65278
2014-01-07T14:17:41  *** dims has quit IRC
2014-01-07T14:17:55  *** changbl has quit IRC
2014-01-07T14:18:31  *** tma996 has quit IRC
2014-01-07T14:18:55  *** dims has joined #openstack-infra
2014-01-07T14:19:01  *** dkliban has joined #openstack-infra
2014-01-07T14:19:04  *** tma996 has joined #openstack-infra
2014-01-07T14:19:16  *** dims is now known as Guest71835
2014-01-07T14:19:56  *** Guest71835 has quit IRC
2014-01-07T14:20:13  *** Guest71835 has joined #openstack-infra
2014-01-07T14:22:48  <sdague> ok, here
2014-01-07T14:22:53  <foobio> yep
2014-01-07T14:22:58  *** julim has joined #openstack-infra
2014-01-07T14:22:59  <foobio> so to recap...
2014-01-07T14:23:38  *** tma996 has quit IRC
2014-01-07T14:24:09  <foobio> when we reverted the most recent change to add ubuntu cloud archive on our ubuntu slaves, we apparently neglected to ensure /etc/apt/sources.list.d/cloudarchive.list got removed, and so upon installing libvirt-dev we ended up with a bunch of packages updated... http://paste.openstack.org/show/60640/
2014-01-07T14:24:23  <foobio> i'll rework that list to show the versions they started at
2014-01-07T14:24:32  <sdague> foobio: ok, so how do we recover?
2014-01-07T14:24:48  <sdague> because that seems like we need to rebuild all those unit test nodes from scratch
2014-01-07T14:24:55  *** Guest71835 has quit IRC
2014-01-07T14:24:57  <sdague> as rollback isn't really supported
2014-01-07T14:25:43  <sdague> what is the unit test node build model?
2014-01-07T14:25:57  *** dims_ has joined #openstack-infra
2014-01-07T14:26:53  <foobio> rollback generally works for most stuff. packages that keep data around or which make one-way updates to their configuration are an exception to that
2014-01-07T14:27:08  *** saschpe has joined #openstack-infra
2014-01-07T14:27:24  <foobio> sdague: we build unit test nodes by hand with the help of the launch.py script in openstack-infra/config:launch
2014-01-07T14:28:15  <sdague> ok
2014-01-07T14:28:31  <foobio> okay, so here are the package versions which changed today... http://paste.openstack.org/show/60645
2014-01-07T14:28:54  <foobio> we may only need to downgrade those first three
2014-01-07T14:29:05  *** tma996 has joined #openstack-infra
2014-01-07T14:29:16  <foobio> the others are probably normal updates to precise, but i'll check them in just a sec
2014-01-07T14:29:46  <sdague> yeh, probably
2014-01-07T14:31:11  <sdague> foobio: so how would you orchestrate the rollback?
2014-01-07T14:31:55  *** yassine has quit IRC
2014-01-07T14:32:03  *** yassine has joined #openstack-infra
2014-01-07T14:32:25  <foobio> sdague: thankfully we have all the slaves configured as salt minions
2014-01-07T14:32:37  *** sandywalsh has quit IRC
2014-01-07T14:32:44  <sdague> ok, but you still need to provide the puppet policy, no?
2014-01-07T14:32:56  <foobio> sorry, still trying to get up to speed--it's my fault for looking at irc when i first woke up, rather than after coffee/shower/et cetera. i have a full day and it's clearly not going as planned
2014-01-07T14:33:17  <foobio> sdague: yeah, i'm proposing a change to remove that file
2014-01-07T14:33:33  <foobio> then get it applied, then use salt to downgrade package versions everywhere
2014-01-07T14:34:11  *** w_ is now known as olaph
2014-01-07T14:34:32  <sdague> ok
2014-01-07T14:34:38  <sdague> so the downgrade is manual
2014-01-07T14:34:42  *** saschpe has quit IRC
2014-01-07T14:35:06  <foobio> yeah, but i can tell salt to do it on all 58 unit test slaves at once
2014-01-07T14:35:12  <sdague> cool
2014-01-07T14:36:10  <russellb> thanks a bunch guys :)
2014-01-07T14:36:38  *** AJaeger has joined #openstack-infra
2014-01-07T14:37:21  *** homeless has joined #openstack-infra
2014-01-07T14:37:47  <foobio> russellb: thank me for the unscheduled ubuntu cloud archive test ;)
2014-01-07T14:38:08  <sdague> isn't there someone from cannonical around we can blame for that :)
2014-01-07T14:38:26  <foobio> sdague: don't anger zul. we need him
2014-01-07T14:38:48  *** afazekas has joined #openstack-infra
2014-01-07T14:40:36  *** tma996 has quit IRC
2014-01-07T14:40:51  *** alexpilotti has joined #openstack-infra
2014-01-07T14:44:10  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Really remove Ubuntu Cloud Archive for now  https://review.openstack.org/65281
2014-01-07T14:44:12  <foobio> ninja-approving that ^ now
2014-01-07T14:45:50  *** sandywalsh has joined #openstack-infra
2014-01-07T14:46:05  <annegentle_> hey all, what's the latest on releasing clouddocs-maven-plugin? We'll need a release soon for a pair of new features for the API reference page, and dcramer_ and I were wondering where we're at.
2014-01-07T14:46:05  *** eharney has joined #openstack-infra
2014-01-07T14:46:51  *** wenlock has joined #openstack-infra
2014-01-07T14:46:58  *** oubiwann has quit IRC
2014-01-07T14:47:07  <mriedem> this looks like a total infra fail when something was down, so not sure if there was a bug to reverify against or not? anyone know?
2014-01-07T14:47:07  <mriedem> http://logs.openstack.org/16/60716/4/gate/gate-tempest-dsvm-postgres-full/c99e3f8/console.html
2014-01-07T14:47:19  *** wenlock has quit IRC
2014-01-07T14:47:27  <mriedem> nm, looks like bug https://bugs.launchpad.net/openstack-ci/+bug/1266578
2014-01-07T14:47:32  *** tma996 has joined #openstack-infra
2014-01-07T14:48:12  <foobio> mriedem: different issue, but basically the same traceback
2014-01-07T14:48:26  <mriedem> foobio: do i need a different bug?
2014-01-07T14:48:28  <foobio> i think someone opened a bug for that event last night
2014-01-07T14:48:31  <mriedem> oh
2014-01-07T14:48:33  <mriedem> looking
2014-01-07T14:48:47  <mriedem> here we go https://bugs.launchpad.net/openstack-ci/+bug/1266692
2014-01-07T14:49:28  <foobio> yep, basically we brought two more jenkins masters online last night to deal with the increased load, but accidentally started them with an outdated gearman plugin which didn't know how to properly offline used slaves
2014-01-07T14:49:44  *** ruhe is now known as _ruhe
2014-01-07T14:49:46  <mriedem> ok, i should hold off on reverifying nova patches right now though right?
2014-01-07T14:49:51  <mriedem> due to the libvirt issue
2014-01-07T14:50:12  <foobio> mriedem: yes, until i get the libvirt on the slaves downgraded to an older, more usable (for us) version
2014-01-07T14:50:17  <foobio> i'm guessing about 30 minutes
2014-01-07T14:50:23  <mriedem> k, thanks
2014-01-07T14:50:36  *** ociuhandu has joined #openstack-infra
2014-01-07T14:51:17  <foobio> #status alert working on undoing the accidental libvirt upgrade which is causing nova and keystone unit test failures (ETA 15:30 UTC)
2014-01-07T14:51:18  <openstackstatus> NOTICE: working on undoing the accidental libvirt upgrade which is causing nova and keystone unit test failures (ETA 15:30 UTC)
2014-01-07T14:51:20  *** ChanServ changes topic to "working on undoing the accidental libvirt upgrade which is causing nova and keystone unit test failures (ETA 15:30 UTC)"
2014-01-07T14:52:57  <openstackgerrit> Malini Kamalambal proposed a change to openstack-infra/config: Add Job for marconi-tempest integration  https://review.openstack.org/65140
2014-01-07T14:54:08  <annegentle_> wah emergencies always take over my doc build needs :) /whine
2014-01-07T14:55:33  <foobio> annegentle_: manufacturing emergencies is my job
2014-01-07T14:55:42  <annegentle_> foobio: nicely done :)
2014-01-07T14:55:57  <AJaeger> annegentle_, should we help with producing some doc build emergencies? ;)
2014-01-07T14:56:31  *** coolsvap has joined #openstack-infra
2014-01-07T14:56:44  <AJaeger> foobio, thanks for approving the operations-guide niceness gate working with openstack-doc-tools - everything looks fine. Now time to use this for api-site ;)
2014-01-07T14:57:27  <openstackgerrit> A change was merged to openstack-infra/config: Really remove Ubuntu Cloud Archive for now  https://review.openstack.org/65281
2014-01-07T14:57:47  *** burt has joined #openstack-infra
2014-01-07T15:00:58  *** che-arne has joined #openstack-infra
2014-01-07T15:01:03  *** heyongli has quit IRC
2014-01-07T15:01:52  <sdague> foobio: so... with more digging, I actually think nova code is wrong
2014-01-07T15:02:48  *** marun has quit IRC
2014-01-07T15:03:22  *** mancdaz is now known as mancdaz_away
2014-01-07T15:03:55  <foobio> sdague: quite possibly, but that's why we've had a bug open for ages asking nova devs to dig into why tempest fails with new libvirt
2014-01-07T15:04:15  <foobio> i hadn't even checked to see if the unit tests also exhibited issues, but apparently they do
2014-01-07T15:04:44  *** mancdaz_away is now known as mancdaz
2014-01-07T15:09:21  *** dhellmann_ is now known as dhellmann
2014-01-07T15:10:42  *** luisg has joined #openstack-infra
2014-01-07T15:13:30  *** yaguang has quit IRC
2014-01-07T15:14:59  *** dkranz has quit IRC
2014-01-07T15:17:31  <foobio> okay, manually downgraded precise40, confirmed on precise39 that i could do the same via salt.run... http://paste.openstack.org/show/60652/
2014-01-07T15:17:48  <foobio> (that's the resulting downgrades in the dpkg log)
2014-01-07T15:17:57  <foobio> doing the same en masse for the rest now
2014-01-07T15:19:20  <chmouel> sdague: is there some sort of regexp on the elastic search queries?
2014-01-07T15:19:28  *** oubiwann has joined #openstack-infra
2014-01-07T15:19:43  *** haypo has left #openstack-infra
2014-01-07T15:19:53  <foobio> i'll do a pass on them once that completes to confirm they're all showing libvirt0 0.9.8-2ubuntu17.16 and then we can recheck a previously failed job
2014-01-07T15:20:14  *** alexpilotti has quit IRC
2014-01-07T15:20:33  <sdague> chmouel: no
2014-01-07T15:20:54  <sdague> search engines don't really work with regex
2014-01-07T15:21:16  *** alexpilotti has joined #openstack-infra
2014-01-07T15:21:51  <sdague> because in order to search that much data efficiently you need to precompute all the token location indexes
2014-01-07T15:22:48  <russellb> foobio: if you want to add openstack-ci to the bug ... https://bugs.launchpad.net/nova/+bug/1266711
2014-01-07T15:22:58  <russellb> document the infra side of this
2014-01-07T15:23:36  <lifeless> sdague: there is a regex search engine that is efficient
2014-01-07T15:23:44  <lifeless> sdague: based on a google paper about google codesearch
2014-01-07T15:23:48  *** oubiwann_ has joined #openstack-infra
2014-01-07T15:24:20  <lifeless> sdague: search for 'regex search index code' in google
2014-01-07T15:24:22  <sdague> lifeless: sure. I can be more specific - lucene based search engines
2014-01-07T15:24:24  <foobio> russellb: thanks
2014-01-07T15:24:31  <lifeless> sdague: ah heh :)
2014-01-07T15:24:34  <sdague> which are the basis of all the major open source search engines
2014-01-07T15:25:02  *** oubiwann has quit IRC
2014-01-07T15:25:08  *** kraman has joined #openstack-infra
2014-01-07T15:25:50  *** alexpilotti has quit IRC
2014-01-07T15:26:48  *** rcleere has quit IRC
2014-01-07T15:27:15  <mriedem> sdague: chmouel: there is some kind of regex capability in logstash, superbee linked me to a page on the syntax once
2014-01-07T15:27:15  <mriedem> but i don't think e-r queries were honoring it if i remember correctly...
2014-01-07T15:27:43  *** ^d has joined #openstack-infra
2014-01-07T15:27:47  <chmouel> mriedem, sdague: ah ok thanks
2014-01-07T15:27:48  *** mancdaz is now known as mancdaz_away
2014-01-07T15:28:28  <mriedem> chmouel: i think this was the one i had which wasn't working: https://review.openstack.org/#/c/62067/4/queries/1258682.yaml
2014-01-07T15:28:37  <sdague> mriedem: so even if it was supported, it would be effectively like going from an index scan to a table scan on our data
2014-01-07T15:28:40  <mriedem> i think it works in logstash but not e-r
2014-01-07T15:29:00  <openstackgerrit> Chmouel Boudjnah proposed a change to openstack-infra/elastic-recheck: Add message about failures on hpcloud.  https://review.openstack.org/65292
2014-01-07T15:29:08  <sdague> mriedem: so that's globbing not regex :)
2014-01-07T15:29:25  <sdague> and I think that doesn't work because you need to put the string in quotes
2014-01-07T15:29:30  <sdague> if it has a glob
2014-01-07T15:29:48  <chmouel> ah yeah "some sort of" regexp i was including globbing in there :)
2014-01-07T15:30:02  <chmouel> let me know if that submission looks good ^
2014-01-07T15:30:26  <foobio> some day i will write a paper about the various different kinds of regex implementations and their quirks, and call it "regular expressions are anything but regular"
2014-01-07T15:30:42  <chmouel> foobio: heh
2014-01-07T15:31:13  <sdague> chmouel: is there really a reason to put the devstack-precise- in there at all?
2014-01-07T15:31:32  <mriedem> sdague: there were two different bugs with the same trace
2014-01-07T15:31:43  * mriedem gets them
2014-01-07T15:31:57  <foobio> for an out-in-left-field kind of regex, i give you "cisco ios bgp prefix regular expressions"
2014-01-07T15:32:16  <mriedem> sdague: https://bugs.launchpad.net/bugs/+bugs?field.searchtext=java.io.IOException%3A+Remote+call+on&search=Search+Bug+Reports&field.scope=all&field.scope.target=
2014-01-07T15:33:08  *** jpich has quit IRC
2014-01-07T15:33:44  *** saschpe has joined #openstack-infra
2014-01-07T15:33:49  <sdague> mriedem: so they probably should be merged
2014-01-07T15:33:57  <foobio> chmouel: mriedem: sdague: i question the usefulness (or accuracy) of adding jenkins agent java exceptions to e-r. those are individual isolated events, and usually fixed within hours. by the time they make it into e-r's field of view, it's time to remove them again so that they don't point people at the bug for the wrong incident
2014-01-07T15:34:53  *** mancdaz_away is now known as mancdaz
2014-01-07T15:34:57  <foobio> unless you really just want a blanket pattern for all manner of incidents infra-side which impact jenkins operation or connectivity, ever
2014-01-07T15:35:16  <sdague> foobio: I disagree for the following reasons
2014-01-07T15:35:34  <foobio> that's like having a bug for "sometimes python generates a traceback"
2014-01-07T15:35:35  <mriedem> foobio: that hp one has 61 hits in the last 7 days
2014-01-07T15:35:35  <mriedem> http://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiamF2YS5pby5JT0V4Y2VwdGlvbjogUmVtb3RlIGNhbGwgb24gZGV2c3RhY2stcHJlY2lzZS1ocGNsb3VkXCIgQU5EIG1lc3NhZ2U6XCJmYWlsZWRcIiBBTkQgZmlsZW5hbWU6XCJjb25zb2xlLmh0bWxcIiIsImZpZWxkcyI6W10sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNjA0ODAwIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJ0aW1lIjp7InVzZXJfaW50ZXJ2YWwiOjB9LCJzdGFtcCI6MTM4OTEwODc5OTkzNH0=
2014-01-07T15:35:55  <openstackgerrit> Chmouel Boudjnah proposed a change to openstack-infra/elastic-recheck: Add message about failures on hpcloud.  https://review.openstack.org/65292
2014-01-07T15:35:58  <sdague> 1) we can't compute our classification rates if we have some nebulus amount of gate fails which aren't binned
2014-01-07T15:36:31  *** saschpe has quit IRC
2014-01-07T15:36:34  <sdague> 2) it is important to figure out what percentage of gate resets are infra vs. inherent races
2014-01-07T15:37:06  <foobio> sdague: so i guess this brings us back to rechecks on specific bugs for isolated infra events aren't really useful, and we might as well just have a catch-all bug which makes no pretense about what it is
2014-01-07T15:37:18  <foobio> i can see the logic in that
2014-01-07T15:38:09  <sdague> if you want to handle infra issues that way (i.e. you see no value in trying to bin them out), I'm fine with it
2014-01-07T15:38:32  *** _ruhe is now known as ruhe
2014-01-07T15:39:01  <sdague> we do need to be able to account bugs against infra though
2014-01-07T15:40:10  *** wenlock has joined #openstack-infra
2014-01-07T15:40:52  *** alexpilotti has joined #openstack-infra
2014-01-07T15:41:34  <mriedem> sdague: for this one: https://review.openstack.org/#/c/62067/4/queries/1258682.yaml , the logstash query wasn't working when there were quotes around the lines with the wildcard, and removing them made the logstash query hit,
2014-01-07T15:41:34  <mriedem> not sure if that would be different with e-r though?
2014-01-07T15:41:36  <foobio> yeah, agreed. there just may not be a lot of benefit to rechecking on individual bugs since e-r isn't going to be able to tell those incidents apart so it's mostly going to be pointing devs at catchall bugs anyway
2014-01-07T15:44:04  <sdague> foobio: some times. the pypi mirror was an example exactly the opposite
2014-01-07T15:44:21  <sdague> I think think that infra has the same 2 kinds of bugs that other projects have
2014-01-07T15:44:32  *** lukego has quit IRC
2014-01-07T15:44:40  <foobio> probably so
2014-01-07T15:44:43  <sdague> intermittent issues
2014-01-07T15:44:54  <sdague> and flat out breaks that nothing moves forward until they are solved
2014-01-07T15:45:05  <sdague> maybe more of the second camp
2014-01-07T15:45:30  <sdague> because things like the jenkins slave changes don't get self tested
2014-01-07T15:45:37  <sdague> so there are a few more ways to land a break
2014-01-07T15:46:09  <sdague> anyway, it's probably worth a discussion on -dev or -infra list about how we should approach it
2014-01-07T15:46:46  <sdague> because it does end up also as a useful metric of "what could someone do to help the gates" the most.
2014-01-07T15:47:15  <foobio> yep--totally merits a wider audience
2014-01-07T15:48:27  *** nati_ueno has joined #openstack-infra
2014-01-07T15:51:30  <foobio> okay, libvirt downgrades completed... there was some delay as we had a broken version of salt-minion on some of them which was failing on the apt-get commands i was trying to pass in (apparently unattended upgrades from the salt deb package repository still aren't working, i think because it's hitting config file changes)
2014-01-07T15:51:31  <foobio> i'm going to recheck a previously failed nova change
2014-01-07T15:51:54  *** blamar has quit IRC
2014-01-07T15:51:56  *** senk has joined #openstack-infra
2014-01-07T15:53:43  *** rnirmal has joined #openstack-infra
2014-01-07T15:54:29  <dhellmann> I know (think?) there have been some changes to the recheck feature of gerrit, is it still possible to 'recheck no bug' for an old changeset that hasn't been through the test suite in a while?
2014-01-07T15:54:49  <foobio> dhellmann: yep
2014-01-07T15:55:02  <mriedem> dhellmann: yeah, i think sdague actually wants that, there was a ML thread on it a few weeks back
2014-01-07T15:55:05  <dhellmann> I rechecked https://review.openstack.org/#/c/56093/14 about 15 minutes ago, maybe I'm just not waiting long enough -- the queue looks fairly long in zuul
2014-01-07T15:55:15  <dhellmann> mriedem: right, that's what I thought I remembered
2014-01-07T15:55:43  <mriedem> i did it this morning on a nova patch that didn't run through jenkins since november
2014-01-07T15:55:44  <sdague> dhellmann: yes, it's all just very busy right now
2014-01-07T15:55:45  <foobio> dhellmann: it's only "reverify no bug" which was removed
2014-01-07T15:55:58  <dhellmann> foobio: cool, that's what I remembered
2014-01-07T15:55:59  <foobio> dhellmann: yeah, zuul is pretty bogged down handling results from resets and recalculating the dependent queue in the gate pipeline
2014-01-07T15:56:04  * dhellmann had 2 weeks off and forgot how to computer
2014-01-07T15:56:11  <sdague> heh
2014-01-07T15:56:12  <mriedem> dhellmann: http://lists.openstack.org/pipermail/openstack-dev/2013-December/022797.html
2014-01-07T15:56:25  <sdague> foobio: how's the libvirt downgrade?
2014-01-07T15:56:32  <dhellmann> foobio: I'll go review another and be more patient, I just wanted to make sure I had done it properly -- thanks!
2014-01-07T15:56:45  <foobio> sdague: i've filed a recheck on 64893, just waiting for the job to start
2014-01-07T15:57:07  <sdague> foobio: well there are plenty of nova changes still in the queue
2014-01-07T15:57:09  <mriedem> do e-r bugs get opened against openstack-ci and tagged with elastic-recheck?
2014-01-07T15:57:17  <mriedem> not seeing a bug tracking system for elastic-recheck in launchpad
2014-01-07T15:57:39  <sdague> mriedem: we aren't using a formal bug tracker for e-r
2014-01-07T15:57:40  <foobio> mriedem: yeah, that's what i've been doing anyway
2014-01-07T15:58:01  <sdague> -ETOOMANYTRACKERS
2014-01-07T15:58:07  <foobio> mriedem: for the couple infra bugs which got filed for e-r i've simply added an "elastic-recheck" tag on them
2014-01-07T15:58:22  <mriedem> foobio: ok, that's what i saw and will do, thanks
2014-01-07T15:58:23  <sdague> mriedem: so if there is an e-r issue better to just stick it out here somewhere
2014-01-07T15:58:30  *** dkranz has joined #openstack-infra
2014-01-07T15:58:45  <mriedem> sdague: the issue is my busted e-r query with wildcards
2014-01-07T15:58:53  <sdague> gotcha
2014-01-07T15:58:56  <mriedem> i see that it's not reporting, so gonna report the bug and try to fix it
2014-01-07T15:59:35  <mriedem> shit gets crazy in here and lost quickly, so want to make sure i have a bug filed so i don't forget it
2014-01-07T15:59:46  <kraman> mordred: ping
2014-01-07T16:00:57  <sdague> ok, cool
2014-01-07T16:01:20  <foobio> kraman: mordred's in australia this week, so if he's awake he probably shouldn't be
2014-01-07T16:01:29  <sdague> we need bug management via irc
2014-01-07T16:01:31  <annegentle_> foobio: ok, tagging 0.2 for the openstack-doc-tools, and I don't recall doing a git pull previously, but the instructions on https://wiki.openstack.org/wiki/GerritJenkinsGit say to do so... is that just to make sure you've got the latest?
2014-01-07T16:01:45  <annegentle_> foobio: this tagging thing isn't innate to me yet :)
2014-01-07T16:02:33  <annegentle_> foobio: and we don't have milestone-proposed
2014-01-07T16:03:02  *** rcleere has joined #openstack-infra
2014-01-07T16:03:05  <annegentle_> foobio: basically I just took the master, git checkout -b release-0.2 and then expect to tag that. I hope that's right...
2014-01-07T16:03:54  <foobio> annegentle_: yes. sometimes your changes don't merge in exactly the same order as they exist in your local repository, in which case there's a merge commit or the change got a different sha when it was cherry-picked in. if you tag your local repo without first pulling from the public one, you might tag the wrong sha
2014-01-07T16:04:28  *** eharney_ has joined #openstack-infra
2014-01-07T16:04:37  <annegentle_> foobio: ok so for the not-changing-often repo, my method should be ok?
2014-01-07T16:05:02  *** eharney has quit IRC
2014-01-07T16:05:41  <foobio> annegentle_: it seemed to work okay last time, but it's not really safe to tag without first making sure you have the same commits the rest of the world is seeing
2014-01-07T16:07:01  <foobio> annegentle_: in other words, you got lucky, but i wouldn't make a habit of tempting fate that way
2014-01-07T16:07:06  *** rnirmal has quit IRC
2014-01-07T16:07:31  *** rnirmal has joined #openstack-infra
2014-01-07T16:08:00  *** eharney_ is now known as eharney
2014-01-07T16:08:08  <foobio> annegentle_: this is also one of the reasons to develop your changes in topic branches and leave your local master clean so you can pull into it safely with --ff-only
2014-01-07T16:08:22  *** nati_ueno has quit IRC
2014-01-07T16:08:58  *** nati_ueno has joined #openstack-infra
2014-01-07T16:09:07  <david-lyle> foobio: can you update https://review.openstack.org/#/admin/groups/146,members to me?  I need to release a new version of django-openstack-auth to support django 1.6
2014-01-07T16:09:45  <foobio> david-lyle: sure thing. usually the outgoing ptl should add the incoming ptl, but in your case i can see that might not have happened as intended
2014-01-07T16:10:00  <david-lyle> there are a few things like that
2014-01-07T16:10:11  <david-lyle> I'm not admin in launchpad either
2014-01-07T16:10:19  <david-lyle> for horizon
2014-01-07T16:10:28  *** SergeyLukjanov is now known as _SergeyLukjanov
2014-01-07T16:10:43  <foobio> david-lyle: it's also a good reason to designate one or more release delegates from your core team to handle things like that in your absence or during transitions
2014-01-07T16:10:44  *** dims_ is now known as dims
2014-01-07T16:11:27  <david-lyle> foobio: good suggestion, I'll do that
2014-01-07T16:11:27  <foobio> david-lyle: i've added you to the group in gerrit... i'll let you remove gabriel or not as you see fit
2014-01-07T16:11:37  <david-lyle> foobio: thx
2014-01-07T16:11:54  *** reed has joined #openstack-infra
2014-01-07T16:12:06  <foobio> yw
2014-01-07T16:12:09  *** jooools has quit IRC
2014-01-07T16:12:54  <foobio> grr... 64893 is still waiting for a precise node to run the py27 job
2014-01-07T16:13:14  *** jooools has joined #openstack-infra
2014-01-07T16:13:41  <foobio> sdague: though this looks promising... https://jenkins02.openstack.org/job/gate-nova-python27/14699/console
2014-01-07T16:13:47  *** johnthetubaguy has joined #openstack-infra
2014-01-07T16:13:57  *** MarkAtwood has joined #openstack-infra
2014-01-07T16:13:59  <foobio> (that's the earliest non-failing nova change in the gate right now)
2014-01-07T16:14:30  *** jgrimm has joined #openstack-infra
2014-01-07T16:16:00  *** nati_ueno has quit IRC
2014-01-07T16:16:03  *** yamahata has quit IRC
2014-01-07T16:16:06  <annegentle_> foobio: so how is milestone-proposed made?
2014-01-07T16:16:11  *** marun has joined #openstack-infra
2014-01-07T16:16:21  *** nati_ueno has joined #openstack-infra
2014-01-07T16:16:30  *** johnthetubaguy1 has joined #openstack-infra
2014-01-07T16:16:43  *** chandankumar has quit IRC
2014-01-07T16:17:36  *** blamar has joined #openstack-infra
2014-01-07T16:17:47  *** johnthetubaguy has quit IRC
2014-01-07T16:17:48  <annegentle_> foobio: I want to be "right" :)
2014-01-07T16:17:52  <foobio> annegentle_: a release manager creates a new branch from master when the milestone is in sight, and then changes from master get backported to the milestone-proposed branch
2014-01-07T16:18:02  <annegentle_> foobio: oh ok
2014-01-07T16:18:20  <annegentle_> foobio: that's overkill for this for now, seems like.
2014-01-07T16:19:05  <foobio> annegentle_: that is the model we use for server projects, but for libraries and utilities we generally just tag sequentially on master and don't make branches
2014-01-07T16:19:20  <annegentle_> foobio: ok,t hat's more our model, the libraries
2014-01-07T16:19:26  <foobio> yep
2014-01-07T16:19:45  <annegentle_> foobio: still, locally I'd not change master, I'd checkout -b based on master, I think
2014-01-07T16:19:52  <foobio> annegentle_: just tag the current state of the repository when you want to release, and tag again when it's time for another release
2014-01-07T16:19:59  <annegentle_> foobio: don't you love how I have to "talk aloud" through this ? Hope I'm not driving you crazy
2014-01-07T16:20:04  <annegentle_> foobio: sounds good
2014-01-07T16:20:24  <annegentle_> foobio: tag on master?
2014-01-07T16:20:24  <foobio> annegentle_: you can do that... checkout origin/master though, not your local master
2014-01-07T16:20:43  <foobio> annegentle_: yes, tag only on master
2014-01-07T16:21:02  <annegentle_> foobio: okie. git checkout master; git remote update; git pull origin master is the same thing?
2014-01-07T16:21:36  <foobio> annegentle_: for the server projects which use stable branches and milestones, we have special jobs to merge those tags back into master, but it's not necessary on a non-branching project
2014-01-07T16:22:40  <foobio> annegentle_: your example is of using a local master branch and pulling into it from the origin remote's master branch, but if you don't pull --ff-only you risk mixing local changes with the state of the published repository
2014-01-07T16:23:09  <annegentle_> foobio: makes sense, and I've never --ff-only, but I can see what to avoid now... thanks!
2014-01-07T16:23:30  *** pmathews has joined #openstack-infra
2014-01-07T16:24:34  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Fix the e-r query for bug 1258682  https://review.openstack.org/65303
2014-01-07T16:24:53  <foobio> annegentle_: if you want to do it via checkout, use 'git remote update && git checkout -b foo origin/master' which should create a local branch "foo" tracking the master branch from the origin remote
2014-01-07T16:25:35  <annegentle_> foobio: okie.
2014-01-07T16:25:44  <annegentle_> foobio: also how many -infra folks are in Australia?
2014-01-07T16:25:53  <annegentle_> foobio: mostly just idle curiousity
2014-01-07T16:26:30  <foobio> then you can tag on that throwaway branch and push the tag, and it will be a clean copy of the published master branch you're tagging on
2014-01-07T16:27:02  <foobio> annegentle_: depends on how you #define "folks" but all the core/root admins besides me, and also several of the non-core team members
2014-01-07T16:28:11  <foobio> but infra has tentacles which reach far and wide, so "-infra folks" could be a ton of people (there are currently 231 lurking on the irc channel, for example, many of which are likely there for lca too)
2014-01-07T16:28:27  <foobio> er, many of whom
2014-01-07T16:28:37  * foobio hates when he grammarfails
2014-01-07T16:28:48  * dstufft is not in australia, but is also mostly here to whine about things
2014-01-07T16:28:58  <annegentle_> foobio: nice grammar :)
2014-01-07T16:29:15  <annegentle_> dstufft: I whined earlier, probably hit my quota
2014-01-07T16:29:37  <foobio> dstufft: you can start by whining about how you're not in australia right now (otherwise you'd have written it whinging, i think)
2014-01-07T16:29:49  *** gyee_ has joined #openstack-infra
2014-01-07T16:30:15  <dstufft> foobio: lol
2014-01-07T16:31:40  <foobio> sdague: i've seen three nova changes pass python27 unit tests in the gate, so i think i'll sound the all-clear. objections?
2014-01-07T16:32:26  *** AaronGr_Zzz is now known as AaronGr
2014-01-07T16:33:07  *** nati_ueno has quit IRC
2014-01-07T16:33:13  *** nati_uen_ has joined #openstack-infra
2014-01-07T16:33:39  <foobio> sdague: four more on track to finish in the next 10 minutes too and haven't failed yet
2014-01-07T16:34:49  *** SergeyLukjanov has joined #openstack-infra
2014-01-07T16:35:11  <mfer> folks, anyone have a little time to chat about https://bugs.launchpad.net/openstack-ci/+bug/1242569
2014-01-07T16:35:20  <mfer> This is the new project creation bug
2014-01-07T16:35:47  <mfer> as I understand it, there is a fix that just needs to be all test... the fix has been merged in
2014-01-07T16:35:56  *** chandankumar_ has quit IRC
2014-01-07T16:36:38  *** nati_uen_ has quit IRC
2014-01-07T16:36:57  *** nati_ueno has joined #openstack-infra
2014-01-07T16:38:06  <foobio> mfer: yes, i'm hoping to try pushing one through today (i saw a couple which didn't have -2 votes on them) and will then ask the other cores to remove their -2 votes if it works
2014-01-07T16:38:28  <foobio> but they're all on the opposite side of the globe at the moment, so won't be on until later
2014-01-07T16:38:39  *** mrmartin has joined #openstack-infra
2014-01-07T16:39:15  <mfer> foobio mine is at https://review.openstack.org/#/c/62069/. jeblair marked it down due to the bug after first passing it. I think this is fine.
2014-01-07T16:39:45  <mfer> i did have to push a second change due to changes in config
2014-01-07T16:40:30  *** nati_ueno has quit IRC
2014-01-07T16:40:37  *** nati_uen_ has joined #openstack-infra
2014-01-07T16:41:00  *** nati_uen_ has quit IRC
2014-01-07T16:41:23  <foobio> mfer: yep, hopefully we can catch up on those outstanding project additions in the next 12-24 hours if nothing else major breaks and diverts my attention
2014-01-07T16:41:25  *** dkranz has quit IRC
2014-01-07T16:41:32  *** UtahDave has joined #openstack-infra
2014-01-07T16:41:56  *** mrmartin has quit IRC
2014-01-07T16:42:47  <mfer> foobio if there is anything I can do please feel free to ping me.
2014-01-07T16:42:55  *** mancdaz is now known as mancdaz_away
2014-01-07T16:42:56  <mfer> I'm happy to help and learn more
2014-01-07T16:43:48  *** hashar has quit IRC
2014-01-07T16:44:15  *** marun has quit IRC
2014-01-07T16:45:34  *** hashar has joined #openstack-infra
2014-01-07T16:46:20  <foobio> sdague: those other four passed as well, and so did the recheck on 64893
2014-01-07T16:47:27  <foobio> #status ok unit tests seem to be passing consistently after the upgrade. use bug 1266711 for related rechecks
2014-01-07T16:47:27  <openstackstatus> NOTICE: unit tests seem to be passing consistently after the upgrade. use bug 1266711 for related rechecks
2014-01-07T16:47:28  *** ChanServ changes topic to "Discussion of OpenStack Project Infrastructure | Docs http://ci.openstack.org/ | Bugs https://launchpad.net/openstack-ci | Code https://git.openstack.org/cgit/openstack-infra/"
2014-01-07T16:48:27  *** johnthetubaguy1 has quit IRC
2014-01-07T16:49:09  *** ruhe is now known as ruhe_away
2014-01-07T16:49:16  *** johnthetubaguy has joined #openstack-infra
2014-01-07T16:49:43  *** rossella_s_ has joined #openstack-infra
2014-01-07T16:49:43  *** johnthetubaguy has quit IRC
2014-01-07T16:49:54  *** johnthetubaguy has joined #openstack-infra
2014-01-07T16:50:42  <mriedem> sdague: looks like elasticsearch doesn't analyze wildcards by default: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#_wildcards
2014-01-07T16:51:29  <foobio> mriedem: they're disabled in the config except on one field, i think. if memory serves that was for performance reasons
2014-01-07T16:51:40  *** julim has quit IRC
2014-01-07T16:51:49  <mriedem> foobio: that's what the es docs say, it's disabled by default for performance
2014-01-07T16:51:50  <foobio> jesusaurus may remember more
2014-01-07T16:51:50  <mriedem> memory consumption
2014-01-07T16:52:01  *** MarkAtwood has quit IRC
2014-01-07T16:52:24  <mriedem> foobio: which config?
2014-01-07T16:52:53  *** rossella_s has quit IRC
2014-01-07T16:52:54  *** rossella_s_ is now known as rossella_s
2014-01-07T16:52:56  *** flaper87 is now known as flaper87|afk
2014-01-07T16:53:05  *** dkranz has joined #openstack-infra
2014-01-07T16:53:16  *** Ryan_Lane has joined #openstack-infra
2014-01-07T16:53:20  <foobio> the kibana or elasticsearch config templates in openstack-infra/config. i don't remember which one exactly, i just remember spending a while figuring that out a couple months back
2014-01-07T16:53:37  <mriedem> ok, i'll look
2014-01-07T16:53:47  <mriedem> i might be able to hack around it with a regex but not sure
2014-01-07T16:54:01  <mriedem> and not sure if that would even be acceptable
2014-01-07T16:54:21  *** ruhe_away is now known as ruhe
2014-01-07T16:55:13  *** marun has joined #openstack-infra
2014-01-07T16:55:33  <sdague> mriedem: yeh, I think that in general we probably want to err away from doing anything to impact es performance
2014-01-07T16:55:35  *** MarkAtwood has joined #openstack-infra
2014-01-07T16:55:35  *** herndon has joined #openstack-infra
2014-01-07T16:55:59  *** mancdaz_away is now known as mancdaz
2014-01-07T16:56:59  *** roeyc has quit IRC
2014-01-07T16:58:04  <mriedem> the wildcard in the one query is just to glob on build_name, looks like there are at least 7 of them that could be hit
2014-01-07T16:58:19  <mriedem> maybe build_name doesn't even need to be in the query, but i think it was to avoid false negatives
2014-01-07T16:58:44  *** ruhe is now known as ruhe_away
2014-01-07T16:59:06  *** SergeyLukjanov has quit IRC
2014-01-07T16:59:13  <jesusaurus> mriedem: if you want to analyzed on wildcards, i think you would set that in the file /etc/elastcisearch/default-mapping.json (not sure where in -infra/config thats managed)
2014-01-07T16:59:33  <mriedem> jesusaurus: here? https://git.openstack.org/cgit/openstack-infra/config/tree/modules/elasticsearch/files/elasticsearch.mapping.json
2014-01-07T16:59:58  <mriedem> anyway, i don't think we need/want the wildcard analysis, we should doc it though
2014-01-07T17:00:00  *** hashar has quit IRC
2014-01-07T17:00:18  <mriedem> i ran this w/o the wildcards and it has actually more hits on jobs that weren't in the original query, e.g. the rally one, all fails:
2014-01-07T17:00:18  <mriedem> http://logstash.openstack.org/#eyJzZWFyY2giOiJtZXNzYWdlOlwiQnVpbGQgdGltZWQgb3V0IChhZnRlclwiIEFORCBtZXNzYWdlOlwibWludXRlcykuIE1hcmtpbmcgdGhlIGJ1aWxkIGFzIGZhaWxlZC5cIiBBTkQgZmlsZW5hbWU6XCJjb25zb2xlLmh0bWxcIiIsImZpZWxkcyI6W10sIm9mZnNldCI6MCwidGltZWZyYW1lIjoiNjA0ODAwIiwiZ3JhcGhtb2RlIjoiY291bnQiLCJ0aW1lIjp7InVzZXJfaW50ZXJ2YWwiOjB9LCJzdGFtcCI6MTM4OTExMzkyODY5Nn0=
2014-01-07T17:00:47  *** dkranz has quit IRC
2014-01-07T17:01:29  <jesusaurus> mriedem: yeah thats the file
2014-01-07T17:02:22  <jesusaurus> i actually just stopped analyzing some fields in my cluster setup because the analysis does stuff like split strings on '-'
2014-01-07T17:02:54  *** markmcclain has quit IRC
2014-01-07T17:03:19  *** ruhe_away is now known as ruhe
2014-01-07T17:04:07  *** Ryan_Lane has quit IRC
2014-01-07T17:04:57  *** MarkAtwood has quit IRC
2014-01-07T17:05:45  *** jasondotstar has left #openstack-infra
2014-01-07T17:06:03  *** jasondotstar has joined #openstack-infra
2014-01-07T17:06:32  *** DennyZhang has joined #openstack-infra
2014-01-07T17:07:34  *** tma996 has quit IRC
2014-01-07T17:07:50  *** markmcclain has joined #openstack-infra
2014-01-07T17:08:17  *** rwsu has quit IRC
2014-01-07T17:08:25  *** andreaf has quit IRC
2014-01-07T17:08:28  *** hashar has joined #openstack-infra
2014-01-07T17:09:35  *** marun has quit IRC
2014-01-07T17:10:04  <mrodden> are there any docs for using nodepool?
2014-01-07T17:10:35  <foobio> mrodden: nothing substantial yet--jeblair is still drafting them
2014-01-07T17:10:37  *** prad has joined #openstack-infra
2014-01-07T17:10:38  *** alexpilotti has quit IRC
2014-01-07T17:10:41  <mrodden> ok
2014-01-07T17:11:12  <foobio> mrodden: but others have gotten it to work by looking at what little it comes with and maybe some code comments, plus asking a handful of questions in here
2014-01-07T17:11:17  <portante> foobio: this grenade job timed out after 65 minutes, http://logs.openstack.org/35/64835/2/gate/gate-grenade-dsvm/c39e0db/
2014-01-07T17:11:22  <portante> no logs were saved
2014-01-07T17:11:24  <portante> :(
2014-01-07T17:11:40  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Fix the e-r query for bug 1258682  https://review.openstack.org/65303
2014-01-07T17:11:54  <portante> should I file a bug for that, and then what is the best way forward to get this job reverified?
2014-01-07T17:12:07  <mriedem> portante: see the patch i just pushed ^
2014-01-07T17:12:16  <mriedem> excellent timing
2014-01-07T17:12:30  <foobio> portante: that's going to be one of those edge cases where 5 minutes apparently wasn't enough. maybe we should consider bumping the jenkins timeouts to 15 minutes more than the devstack timeouts just to be safe (we saw log uploads going very slowly yesterday when the jenkins masters were heavily loaded)
2014-01-07T17:12:38  *** dkranz has joined #openstack-infra
2014-01-07T17:13:13  <portante> foobio: perhaps we need to insert a heartbeat into the jobs?
2014-01-07T17:13:21  <foobio> portante: i should be able to dig up the console log for it at least
2014-01-07T17:13:21  <portante> instead of just doing a timeout alone?
2014-01-07T17:13:33  <portante> foobio: great
2014-01-07T17:13:50  <foobio> portante: perhaps... i think that's more or less the idea with the per-test timeouts in testr though
2014-01-07T17:14:27  <foobio> we should make sure that each individual test can run in a reasonable amount of time, and refactor the ones which take too long
2014-01-07T17:14:37  <portante> foobio: agreed
2014-01-07T17:14:39  <foobio> and then we can set aggressive per-test timeouts
2014-01-07T17:16:08  <foobio> portante: oh, the log link you provided already includes the console log
2014-01-07T17:16:20  *** jorisroovers has joined #openstack-infra
2014-01-07T17:16:23  <portante> mriedem: thanks, though it does not appear to be the exact same mode of failure ...
2014-01-07T17:16:40  <portante> foobio: yes, that appears to be the only thing that was captured aside from the setup .txt files
2014-01-07T17:17:47  <foobio> portante: oh, it looks like maybe devstack-gate didn't kill that job at the 60-minute mark, so it kept running until jenkins killed it at 65. maybe we have a mismatch in the set durations... digging deeper
2014-01-07T17:18:10  <portante> foobio: looks torgomatic reverified it using bug 1254270
2014-01-07T17:18:14  *** senk has quit IRC
2014-01-07T17:19:47  *** mancdaz is now known as mancdaz_away
2014-01-07T17:19:50  <foobio> looks like the job passed d-g the envvar to kill it at 60... http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/jenkins_job_builder/config/devstack-gate.yaml#n654
2014-01-07T17:20:28  *** jroovers has quit IRC
2014-01-07T17:20:47  <foobio> yeah, can see it at http://logs.openstack.org/35/64835/2/gate/gate-grenade-dsvm/c39e0db/console.html#_2014-01-07_15_48_36_312 as well
2014-01-07T17:20:50  *** jorisroovers has quit IRC
2014-01-07T17:24:56  <openstackgerrit> Doug Hellmann proposed a change to openstack-infra/config: Add jobs for cliff integration tests  https://review.openstack.org/65180
2014-01-07T17:25:10  <foobio> i wonder if the gate_hook function never gets called for grenade runs
2014-01-07T17:25:55  <foobio> nevermind. i'm crackers. it has to since that's how grenade.sh gets reached
2014-01-07T17:27:55  *** marun has joined #openstack-infra
2014-01-07T17:28:22  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Add some documentation on wildcard limitations in queries  https://review.openstack.org/65326
2014-01-07T17:28:50  *** yassine has quit IRC
2014-01-07T17:29:55  <sdague> foobio: note it was 46 minutes from job kick off, until that job actually started
2014-01-07T17:30:10  <sdague> http://logs.openstack.org/35/64835/2/gate/gate-grenade-dsvm/c39e0db/console.html#_2014-01-07_15_48_36_341
2014-01-07T17:31:32  <foobio> sdague: yeah, i think the d-g gate hook probably was not reached until well after 5 minutes into the job, which explains the behavior we saw with jenkins killing it before teh wrap script
2014-01-07T17:32:07  *** rossella_s has quit IRC
2014-01-07T17:32:16  *** pcrews has joined #openstack-infra
2014-01-07T17:32:22  <sdague> honestly, it's probably worth providing an early kill timeout at job start
2014-01-07T17:32:26  <mordred> morning all
2014-01-07T17:32:33  <sdague> if we don't get to job start in 10 minutes, kill the job
2014-01-07T17:32:42  <foobio> mordred: wow, you're up early
2014-01-07T17:32:47  <sdague> because it's going to cause a cascading fail
2014-01-07T17:32:49  <mordred> foobio: I'm in Palo Alto :)
2014-01-07T17:32:58  <sdague> mordred: wait, I thought you were at lca?
2014-01-07T17:33:19  *** marun has quit IRC
2014-01-07T17:33:39  *** marun has joined #openstack-infra
2014-01-07T17:33:50  *** jerryz has joined #openstack-infra
2014-01-07T17:34:26  *** dizquierdo has quit IRC
2014-01-07T17:34:58  *** oubiwann has joined #openstack-infra
2014-01-07T17:35:02  *** dstanek has quit IRC
2014-01-07T17:35:39  *** johnthetubaguy1 has joined #openstack-infra
2014-01-07T17:36:02  <foobio> the palo alto just outside of perth?
2014-01-07T17:36:38  *** DennyZhang has quit IRC
2014-01-07T17:36:42  *** senk has joined #openstack-infra
2014-01-07T17:37:53  *** johnthetubaguy has quit IRC
2014-01-07T17:38:25  *** oubiwann_ has quit IRC
2014-01-07T17:39:17  <sdague> he's just trying to trick us to not have to work on infra issues :)
2014-01-07T17:41:03  *** Hefeweizen has quit IRC
2014-01-07T17:41:09  *** senk1 has joined #openstack-infra
2014-01-07T17:41:15  *** senk has quit IRC
2014-01-07T17:41:24  *** DennyZhang has joined #openstack-infra
2014-01-07T17:42:33  *** mgagne1 has joined #openstack-infra
2014-01-07T17:44:12  *** hashar has quit IRC
2014-01-07T17:45:15  *** zigo_ has joined #openstack-infra
2014-01-07T17:46:51  *** derekh has quit IRC
2014-01-07T17:46:55  *** persia__ has joined #openstack-infra
2014-01-07T17:47:18  *** cyeoh_ has joined #openstack-infra
2014-01-07T17:47:46  *** briancli1e has joined #openstack-infra
2014-01-07T17:47:48  *** lcestari has quit IRC
2014-01-07T17:48:23  <mordred> bah. like I do work anyway
2014-01-07T17:50:51  *** rnirmal has quit IRC
2014-01-07T17:50:53  *** blamar has quit IRC
2014-01-07T17:50:53  *** mgagne has quit IRC
2014-01-07T17:50:55  *** bknudson has quit IRC
2014-01-07T17:50:55  *** morganfainberg has quit IRC
2014-01-07T17:50:59  *** Adri2000 has quit IRC
2014-01-07T17:50:59  *** briancline has quit IRC
2014-01-07T17:50:59  *** Alex_Gaynor has quit IRC
2014-01-07T17:51:00  *** persia has quit IRC
2014-01-07T17:51:00  *** cyeoh has quit IRC
2014-01-07T17:51:01  *** zigo has quit IRC
2014-01-07T17:51:02  *** morganfainberg has joined #openstack-infra
2014-01-07T17:51:03  *** Alex_Gaynor_ has joined #openstack-infra
2014-01-07T17:51:16  *** morganfainberg has quit IRC
2014-01-07T17:51:16  *** morganfainberg has joined #openstack-infra
2014-01-07T17:51:20  *** bknudson has joined #openstack-infra
2014-01-07T17:51:37  *** Alex_Gaynor_ is now known as Alex_Gaynor
2014-01-07T17:51:38  *** rnirmal has joined #openstack-infra
2014-01-07T17:52:24  *** lcestari has joined #openstack-infra
2014-01-07T17:53:20  *** Ryan_Lane has joined #openstack-infra
2014-01-07T17:53:24  *** Adri2000 has joined #openstack-infra
2014-01-07T17:53:41  *** Ryan_Lane has quit IRC
2014-01-07T17:53:41  *** Ryan_Lane has joined #openstack-infra
2014-01-07T17:53:46  *** Adri2000 has quit IRC
2014-01-07T17:53:46  *** Adri2000 has joined #openstack-infra
2014-01-07T17:57:24  *** atiwari has joined #openstack-infra
2014-01-07T17:58:25  *** DennyZhang has quit IRC
2014-01-07T17:59:58  *** oubiwann_ has joined #openstack-infra
2014-01-07T18:00:50  *** Ryan_Lane has quit IRC
2014-01-07T18:02:31  *** oubiwann has quit IRC
2014-01-07T18:06:10  *** harlowja_away is now known as harlowja
2014-01-07T18:09:40  *** morganfainberg has quit IRC
2014-01-07T18:09:41  *** bknudson has quit IRC
2014-01-07T18:10:14  *** bknudson has joined #openstack-infra
2014-01-07T18:11:09  *** morganfainberg has joined #openstack-infra
2014-01-07T18:11:24  *** harlowja has joined #openstack-infra
2014-01-07T18:12:45  *** esker has joined #openstack-infra
2014-01-07T18:12:47  *** nati_ueno has joined #openstack-infra
2014-01-07T18:13:01  *** dims has quit IRC
2014-01-07T18:17:34  *** talluri has joined #openstack-infra
2014-01-07T18:18:23  *** dims has joined #openstack-infra
2014-01-07T18:19:08  *** julim has joined #openstack-infra
2014-01-07T18:19:25  <markmcclain> ugh the gate just reset again with missing logs
2014-01-07T18:19:32  <markmcclain> https://jenkins01.openstack.org/job/gate-grenade-dsvm/3065/console
2014-01-07T18:20:34  <markmcclain> oops sorry skipped over a line in the logs.. actually hit the 65 min limit discussed earlier
2014-01-07T18:21:07  <foobio> markmcclain: yep, probably took too long to get started and didn't have enough remaining time to finish
2014-01-07T18:21:31  <markmcclain> yeah.. there's a 50 min gap
2014-01-07T18:23:44  <foobio> without timestamps in the setup logs, it's hard to tell where it was lagging
2014-01-07T18:24:46  *** Ajaeger1 has joined #openstack-infra
2014-01-07T18:25:25  *** CaptTofu has quit IRC
2014-01-07T18:25:52  *** CaptTofu has joined #openstack-infra
2014-01-07T18:26:41  *** dstufft_ has joined #openstack-infra
2014-01-07T18:26:43  *** dstanek has joined #openstack-infra
2014-01-07T18:27:36  *** dstufft has quit IRC
2014-01-07T18:28:14  <jerryz> foobio: ^ https://review.openstack.org/#/c/65178/ please take a look if you have time. and also https://bugs.launchpad.net/openstack-ci/+bug/1266603 , thanks!
2014-01-07T18:28:43  <foobio> we're definitely pegging zuul's cpu today... http://cacti.openstack.org/cacti/graph.php?action=view&local_graph_id=389&rra_id=all
2014-01-07T18:28:49  <foobio> wonder whether it's related
2014-01-07T18:29:46  <foobio> load average spiking up to 140 at times... http://cacti.openstack.org/cacti/graph.php?action=view&local_graph_id=388&rra_id=all
2014-01-07T18:29:50  *** SergeyLukjanov has joined #openstack-infra
2014-01-07T18:31:15  <foobio> it's on an 8g rackspace flavor right now, so maybe it's time to consider a bigger zuul
2014-01-07T18:32:22  <mordred> foobio: perhaps a performance flavor
2014-01-07T18:32:36  <foobio> like rocky road
2014-01-07T18:34:02  *** changbl has joined #openstack-infra
2014-01-07T18:34:45  *** mlipchuk has quit IRC
2014-01-07T18:35:58  <jlk> go perf, and you'll never go back
2014-01-07T18:36:36  *** CaptTofu_ has joined #openstack-infra
2014-01-07T18:38:06  *** talluri has quit IRC
2014-01-07T18:38:07  *** CaptTofu has quit IRC
2014-01-07T18:42:47  *** smarcet has left #openstack-infra
2014-01-07T18:43:54  *** praneshp has joined #openstack-infra
2014-01-07T18:44:14  <foobio> looking at graphs for the various central systems involved in setup for that job (jenkins01, review, git.*, zuul) that's the only likely resource starvation i'm seeing
2014-01-07T18:44:38  *** dstufft_ is now known as dstufft
2014-01-07T18:44:44  <foobio> unless it was the performance of the slave itself or something external like a network issue
2014-01-07T18:45:31  *** CaptTofu has joined #openstack-infra
2014-01-07T18:45:37  *** CaptTofu_ has quit IRC
2014-01-07T18:47:32  *** dims has quit IRC
2014-01-07T18:47:33  *** jooools has quit IRC
2014-01-07T18:48:03  *** dims has joined #openstack-infra
2014-01-07T18:48:05  *** senk1 has quit IRC
2014-01-07T18:48:22  <foobio> checked static too, and didn't see anything too out of the ordinary either
2014-01-07T18:48:27  *** jooools has joined #openstack-infra
2014-01-07T18:48:31  <foobio> some load average spikes up around 5 but very brief
2014-01-07T18:50:51  <jgriffith> foobio: correct me if I'm wrong on: https://bugs.launchpad.net/tempest/+bug/1265623
2014-01-07T18:51:08  <jgriffith> foobio: seems it can be closed as "upgrade to newer virtualenv version" ?
2014-01-07T18:51:14  *** julim_ has joined #openstack-infra
2014-01-07T18:51:16  *** krtaylor has quit IRC
2014-01-07T18:52:19  <foobio> jgriffith: i think the install_venv_common.py bit relevant to cinder is actually an oslo fix?
2014-01-07T18:52:30  <sdague> yes, it's an oslo bug
2014-01-07T18:52:34  <jgriffith> foobio: I believe so yes
2014-01-07T18:52:39  <jgriffith> sdague: thanks
2014-01-07T18:52:46  <foobio> i'd consider switching the cinder bugtask to oslo since that's where it would be worked around, if at all
2014-01-07T18:52:53  <jgriffith> foobio: will do
2014-01-07T18:52:55  <jgriffith> foobio: sdague thanks
2014-01-07T18:53:10  *** oubiwann_ is now known as oubiwann
2014-01-07T18:53:21  *** dcramer_ has quit IRC
2014-01-07T18:53:45  *** che-arne has quit IRC
2014-01-07T18:53:47  *** senk has joined #openstack-infra
2014-01-07T18:54:12  *** resker has joined #openstack-infra
2014-01-07T18:54:52  *** jcoufal-mob has joined #openstack-infra
2014-01-07T18:59:04  <foobio> mordred: so, if you're around, last night dstufft mentioned something which might be our ticket to working around the current external packages issue we have... we can put the options in requirements files like https://gist.github.com/dstufft/8295462
2014-01-07T18:59:16  <sdague> foobio: zuul leaking memory?
2014-01-07T18:59:33  <sdague> that seems like a really high load average for an environment that's not swapping to death
2014-01-07T18:59:36  <foobio> mordred: i think we'd need to get pbr to grok that too, as well as the global-requirements enforcement/proposal jobs?
2014-01-07T18:59:54  <foobio> sdague: no swap utilization, memory seems reasonable
2014-01-07T19:00:06  <foobio> sdague: the git merge calculations are what kills it, i think
2014-01-07T19:00:37  <foobio> anybody want an infra meeting?
2014-01-07T19:01:18  *** julim has quit IRC
2014-01-07T19:01:18  *** bknudson has quit IRC
2014-01-07T19:01:19  *** changbl has quit IRC
2014-01-07T19:01:20  *** morganfainberg has quit IRC
2014-01-07T19:01:20  *** esker has quit IRC
2014-01-07T19:02:17  *** changbl has joined #openstack-infra
2014-01-07T19:05:24  *** jcoufal-mob has quit IRC
2014-01-07T19:06:17  *** bknudson has joined #openstack-infra
2014-01-07T19:06:17  *** morganfainberg has joined #openstack-infra
2014-01-07T19:06:20  *** jcoufal-m has joined #openstack-infra
2014-01-07T19:06:20  *** Ryan_Lane has joined #openstack-infra
2014-01-07T19:06:41  *** hashar has joined #openstack-infra
2014-01-07T19:07:12  *** hashar has quit IRC
2014-01-07T19:07:12  *** hashar has joined #openstack-infra
2014-01-07T19:07:32  *** blamar has joined #openstack-infra
2014-01-07T19:07:35  *** morganfainberg is now known as Guest73162
2014-01-07T19:07:35  *** Ryan_Lane is now known as Guest36676
2014-01-07T19:07:36  *** Guest73162 has quit IRC
2014-01-07T19:07:36  *** Guest73162 has joined #openstack-infra
2014-01-07T19:08:01  <openstackgerrit> Eli Klein proposed a change to openstack-infra/jenkins-job-builder: Added rbenv-env wrapper  https://review.openstack.org/65340
2014-01-07T19:08:14  *** krtaylor has joined #openstack-infra
2014-01-07T19:08:47  *** Guest73162 is now known as needscoffee
2014-01-07T19:09:44  *** _david_ has joined #openstack-infra
2014-01-07T19:10:14  *** Guest36676 has quit IRC
2014-01-07T19:12:12  *** atiwari has quit IRC
2014-01-07T19:12:58  *** dcramer_ has joined #openstack-infra
2014-01-07T19:15:01  *** needscoffee is now known as not_stevemar
2014-01-07T19:15:43  <dstufft> foobio: note, there's no way for pbr to pass those options via the setup.py
2014-01-07T19:15:53  *** not_stevemar has quit IRC
2014-01-07T19:16:01  <dstufft> foobio: those only work for requirements files read via ``pip install -r requirements.txt``
2014-01-07T19:16:10  *** praneshp has quit IRC
2014-01-07T19:16:36  <foobio> dstufft: good point, that hadn't dawned on me
2014-01-07T19:17:20  <foobio> i think pbr imports pip as a module, but no idea what it can actually do about it from that end
2014-01-07T19:17:32  *** praneshp has joined #openstack-infra
2014-01-07T19:17:38  <dstufft> foobio: I'm pretty sure that's for when someone unpacks the tarball and calls ``python setup.py install`` manually
2014-01-07T19:17:53  <foobio> yeah, it is
2014-01-07T19:17:55  <dstufft> and that gets disabled when pip is installing it
2014-01-07T19:18:15  <foobio> right, okay
2014-01-07T19:21:08  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Add e-r query for bug 1266611  https://review.openstack.org/65344
2014-01-07T19:21:18  *** jcoufal-m has quit IRC
2014-01-07T19:22:19  *** praneshp has quit IRC
2014-01-07T19:25:18  *** saper_ is now known as saper
2014-01-07T19:25:47  *** dcramer_ has quit IRC
2014-01-07T19:26:01  *** mgagne1 is now known as mgagne
2014-01-07T19:28:33  *** dcramer_ has joined #openstack-infra
2014-01-07T19:28:58  *** CaptTofu_ has joined #openstack-infra
2014-01-07T19:30:00  *** jroovers has joined #openstack-infra
2014-01-07T19:30:10  <hashar> zaro: hey ! :-) Wikimedia Zuul got switched to Gearman successfully !  Thank you so much for your patch to jenkins gearman plugin :-]
2014-01-07T19:30:26  *** morganfainberg has joined #openstack-infra
2014-01-07T19:30:35  *** morganfainberg has quit IRC
2014-01-07T19:30:47  *** morganfainberg has joined #openstack-infra
2014-01-07T19:30:57  *** CaptTofu has quit IRC
2014-01-07T19:34:20  <foobio> hashar: also, congrats on having a scalable ci. now you can add more jenkins masters, or replace them with turbo-hipster ;)
2014-01-07T19:34:22  <zaro> hashar: good to hear.
2014-01-07T19:35:05  <hashar> took me a while :-D
2014-01-07T19:35:14  <hashar> our last upgrade was back in May 2013...
2014-01-07T19:36:01  *** CaptTofu has joined #openstack-infra
2014-01-07T19:36:13  *** CaptTofu_ has quit IRC
2014-01-07T19:36:26  <hashar> foobio: what the hell is turbo-hipster ? :D
2014-01-07T19:36:47  *** mrodden has quit IRC
2014-01-07T19:37:14  *** mrodden has joined #openstack-infra
2014-01-07T19:37:37  *** praneshp has joined #openstack-infra
2014-01-07T19:37:49  <reed> slightly off topic: what's your choice for spam prevention systems, free(dom) software, for website comments?
2014-01-07T19:38:14  <hashar> volunteers :-D
2014-01-07T19:38:16  <foobio> hashar: that should be the title in http://git.openstack.org/cgit/stackforge/turbo-hipster/plain/README.md
2014-01-07T19:38:36  <hashar> foobio: yeah that is exactly what I wanted to do
2014-01-07T19:38:53  <hashar> tiny gearman client that would run tasks instead of having Jenkins in between
2014-01-07T19:39:18  <hashar> I thought about a basic linting task that would fetch repo then run flake8
2014-01-07T19:39:25  <foobio> hashar: you should talk to jhesketh (whenever he's around next) and mikal about it
2014-01-07T19:40:02  <hashar> reed: more seriously we have a bunch of very lame measure such as captcha / IP blocking
2014-01-07T19:40:06  <foobio> hashar: right now they have it running timed nova database migration tests and reporting results for them on gerrit changes
2014-01-07T19:40:21  <openstackgerrit> Eli Klein proposed a change to openstack-infra/jenkins-job-builder: Added rbenv-env wrapper  https://review.openstack.org/65352
2014-01-07T19:40:48  <reed> hashar, thanks... any experience with http://bad-behavior.ioerror.us/ ?
2014-01-07T19:40:58  <hashar> reed: some private measures on the backend to detect well known spammers.  And finally we have tons of volunteers
2014-01-07T19:41:11  *** CaptTofu has quit IRC
2014-01-07T19:41:26  <reed> hashar, makes sense
2014-01-07T19:41:48  <hashar> reed: and we have some folks that wrote some kind of AI which does roughly 10k reverts per minutes : https://en.wikipedia.org/wiki/User:ClueBot_NG
2014-01-07T19:41:52  <reed> I was looking at Ask OpenStack, we're incredibly lucky that so far we haven't had much trouble
2014-01-07T19:42:56  <hashar> foobio: I am pretty sure that can be generalized to other jobs as well. Afterall you barely use jenkins anymore.
2014-01-07T19:43:54  *** CaptTofu has joined #openstack-infra
2014-01-07T19:44:14  <foobio> hashar: yes, we're incrementally reducing the jenkins-specific features we rely on in our systems, so that day will almost certainly eventually arrive
2014-01-07T19:44:17  *** hogepodge has joined #openstack-infra
2014-01-07T19:46:32  <foobio> hashar: right now the biggest hurdle is probably just making sense of the various jenkinsisms in our jjb yaml and turning it into something we can feed to a generalized worker
2014-01-07T19:47:02  <foobio> (or a fairly lengthy migration/translation project)
2014-01-07T19:47:14  <Shrews> foobio: So, was a change made to pbr recently to not allow pip to download externally hosted packages?
2014-01-07T19:47:34  <dstufft> That was a change in pip
2014-01-07T19:47:54  <foobio> Shrews: the release of pip 1.5 on january 2nd
2014-01-07T19:48:04  <Shrews> oh? uh.. hrm
2014-01-07T19:48:05  <dstufft> http://www.python.org/dev/peps/pep-0438/
2014-01-07T19:48:15  <dstufft> ^ More details about the general deprecating external hosted stuff
2014-01-07T19:48:22  *** resker has quit IRC
2014-01-07T19:48:51  *** yolanda has quit IRC
2014-01-07T19:48:54  *** esker has joined #openstack-infra
2014-01-07T19:49:32  <Shrews> thx. believe i can work around this for now with the --allow-external option
2014-01-07T19:49:36  <foobio> Shrews: we're still working through solutions for our end to deal with it until those remaining packages end up on pypi proper. tracking with https://launchpad.net/bugs/1266513 and https://etherpad.openstack.org/p/pip1.5Upgrade
2014-01-07T19:50:15  <Shrews> thx x 2
2014-01-07T19:50:17  <dstufft> foobio: there's https://github.com/pypa/pip/issues/1268 though I'm opposed to it, but in the interest of being ~transparent~ and what not :]
2014-01-07T19:51:51  <foobio> dstufft: yeah, i'm fairly opposed to it as well. it will just turn into conventional wisdom that you always run pip with that flag and nobody will fix the remaining semi-popular libraries which are the cause
2014-01-07T19:52:43  *** praneshp has quit IRC
2014-01-07T19:52:55  <foobio> at least forcing people to enumerate the broken ones leads to a sort of "wall of shame" situation, and guilts the developers into fixing their problem
2014-01-07T19:53:15  <dstufft> foobio: I added it to your etherpad, but just fyi if you all need --allow-insecure to stick around past 1.7 just let me know and we'll make it happen. It's mostly getting removed just to keep our list of hidden options down to a minimum
2014-01-07T19:53:20  *** esker has quit IRC
2014-01-07T19:53:26  *** flaper87|afk is now known as flaper87
2014-01-07T19:54:02  <dstufft> foobio: yea, that was part of the original goal, I wanted people to know which libraries were making them type this crap out so they shamed developers into doing it :V
2014-01-07T19:54:11  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Add some documentation on wildcard limitations in queries  https://review.openstack.org/65326
2014-01-07T19:54:12  <foobio> dstufft: i figured, bit i also don't see any problem with transitioning after 1.6 is released. as long as we have an option which works across 2-3 releases i think it's fine, to give people a way to run it before and after upgrading pip
2014-01-07T19:54:23  <dstufft> foobio: cool
2014-01-07T19:54:56  *** afazekas has quit IRC
2014-01-07T19:55:11  <foobio> i'm just leery of forcing options right now which only work with the very shiniest, newest pip release and leaving everyone out in the cold until they upgrade
2014-01-07T19:55:17  <dstufft> ya
2014-01-07T19:55:30  <dstufft> that's why we kept --allow-insecure around when we renamed it to --allow-unverified
2014-01-07T19:55:43  <hashar> foobio: ah I forgot about jjb :/
2014-01-07T19:55:51  <foobio> and it's very much appreciated!
2014-01-07T19:55:53  <hashar> foobio: at least the jobs definitions are abstracted out.
2014-01-07T19:56:00  <dstufft> I kinda want to convince folks to switch pip to semver tbh
2014-01-07T19:56:06  <dstufft> maybe after i'm done breaking stuff :V
2014-01-07T19:56:18  *** sarob has joined #openstack-infra
2014-01-07T19:56:28  <foobio> hashar: right. we're in a better position to replace jenkins since everything is in jjb yaml, as opposed to if we were stuck trying to translate it all out of jenkins xml
2014-01-07T19:56:57  *** praneshp has joined #openstack-infra
2014-01-07T19:57:28  <foobio> hashar: also, the yaml as it stands now provides us with a pretty good view of what we're still missing non-jenkins coverage for
2014-01-07T19:57:48  <openstackgerrit> Matt Riedemann proposed a change to openstack-infra/elastic-recheck: Add some documentation on wildcard limitations in queries  https://review.openstack.org/65326
2014-01-07T19:58:13  <foobio> the closer everything gets to being a reference to something else in jjb or a shell block, the closer we are to being able to stop doing it in jenkins
2014-01-07T19:58:58  <hashar> foobio: do you know whether turbo-hipster has a mechanism to clone the repos with the proper changes?
2014-01-07T19:59:24  <foobio> hashar: no idea whether they're doing that or using our gerrit-git-prep.sh
2014-01-07T19:59:28  <mordred> hashar: I believe so - I believe it's cloning them directly from zuul
2014-01-07T19:59:33  <foobio> i haven't looked at it closely yet
2014-01-07T19:59:35  <hashar> yeah code reuse!
2014-01-07T19:59:37  <mordred> me either
2014-01-07T19:59:53  <hashar> I wanted to write a tiny zuul-cloner client that would be given ZUUL_ variables + repositories to clone
2014-01-07T20:00:04  <hashar> and would do everything for me just like your devstack shell script
2014-01-07T20:00:12  <hashar> except, written in python :-D
2014-01-07T20:00:55  <foobio> mordred: planning to be on the defcore call? if so, it's starting nopw
2014-01-07T20:01:22  <ttx> conveniently placed at the same time as the TC meeting, yay
2014-01-07T20:01:44  *** jcoufal has quit IRC
2014-01-07T20:01:49  *** harlowja is now known as harlowja_away
2014-01-07T20:02:04  *** harlowja_away is now known as harlowja
2014-01-07T20:02:25  <mordred> foobio: no, I'm not. I'm planning on being at teh TC meeting which has been scheduled for a few years now
2014-01-07T20:02:30  <foobio> mordred: and #refstsack
2014-01-07T20:02:36  *** jcoufal has joined #openstack-infra
2014-01-07T20:02:37  <foobio> er stack
2014-01-07T20:02:41  *** sarob has quit IRC
2014-01-07T20:03:27  *** dkliban has quit IRC
2014-01-07T20:06:03  *** sarob has joined #openstack-infra
2014-01-07T20:06:12  *** praneshp has quit IRC
2014-01-07T20:06:37  *** krotscheck has joined #openstack-infra
2014-01-07T20:10:16  *** gyee_ has quit IRC
2014-01-07T20:10:21  *** jergerber has joined #openstack-infra
2014-01-07T20:10:21  *** jergerber has quit IRC
2014-01-07T20:12:33  *** praneshp has joined #openstack-infra
2014-01-07T20:14:13  *** praneshp has quit IRC
2014-01-07T20:17:13  <krotscheck> dhellmann: Hey, mordred just forwarded a question of mine to you regarding wsme/pecan. I don't suppose there's a project somewhere that I can reference as a starting point?
2014-01-07T20:17:39  <dhellmann> krotscheck: ceilometer, ironic, and tuskar all use pecan and wsme
2014-01-07T20:18:19  <krotscheck> Awesome, thanks.
2014-01-07T20:18:45  *** sarob has quit IRC
2014-01-07T20:18:45  *** esker has joined #openstack-infra
2014-01-07T20:19:20  <ruhe> krotscheck: fyi there is a patch with intends to add pecan to storyboard - https://review.openstack.org/#/c/63118/
2014-01-07T20:19:29  <ruhe> *which intends
2014-01-07T20:21:31  <krotscheck> ruhe: Thanks, I'll take a look.
2014-01-07T20:21:42  <krotscheck> I'm technically on vacation, it might be a bit.
2014-01-07T20:24:11  *** sarob has joined #openstack-infra
2014-01-07T20:24:23  *** sarob has quit IRC
2014-01-07T20:24:39  *** CaptTofu has quit IRC
2014-01-07T20:24:48  <jog0> whoa gate is way backed up
2014-01-07T20:24:51  *** sarob has joined #openstack-infra
2014-01-07T20:25:33  *** CaptTofu has joined #openstack-infra
2014-01-07T20:25:42  <jog0> sdague: 74 patches, and top is from 22 hours ago
2014-01-07T20:26:05  *** senk has quit IRC
2014-01-07T20:26:06  <sdague> yeh, well nova vs. libvirt was a culprit
2014-01-07T20:26:30  <jog0> gah libvirt
2014-01-07T20:26:38  <jog0> it used to work
2014-01-07T20:27:22  <jog0> I like the graph http://status.openstack.org/elastic-recheck/
2014-01-07T20:27:23  <jog0> lol
2014-01-07T20:28:01  <krotscheck> I don't suppose someone from infra can take a look at this patch? https://review.openstack.org/#/c/64761/
2014-01-07T20:28:56  *** sarob_ has joined #openstack-infra
2014-01-07T20:29:00  *** esker has quit IRC
2014-01-07T20:29:00  <foobio> krotscheck: i already have it starred. hopefully i'll get to it in the next day or so
2014-01-07T20:29:14  *** melwitt has joined #openstack-infra
2014-01-07T20:29:31  <foobio> maybe today depending on what else crops up
2014-01-07T20:29:31  *** sarob has quit IRC
2014-01-07T20:29:36  *** esker has joined #openstack-infra
2014-01-07T20:29:51  <krotscheck> foobio: Oh, thanks. THat'd be appreciated :)
2014-01-07T20:31:05  <krotscheck> foobio: In particular I'm curious about whether the test reporting that I'm doing is appropriate - I've got manual tarball uploads for some of the test output.
2014-01-07T20:33:28  <openstackgerrit> Andreas Jaeger proposed a change to openstack/requirements: Add openstack-doc-tools  https://review.openstack.org/65361
2014-01-07T20:33:50  *** esker has quit IRC
2014-01-07T20:34:02  *** dkliban has joined #openstack-infra
2014-01-07T20:35:04  *** sarob_ has quit IRC
2014-01-07T20:35:37  *** sarob has joined #openstack-infra
2014-01-07T20:35:58  *** praneshp has joined #openstack-infra
2014-01-07T20:39:49  *** banix has joined #openstack-infra
2014-01-07T20:40:15  *** sarob has quit IRC
2014-01-07T20:41:45  <mriedem> chmouel: i think you can abandon this: https://review.openstack.org/#/c/65292/
2014-01-07T20:41:47  <mriedem> it's a duplicate
2014-01-07T20:43:42  <dkranz> foobio: The periodic-tempest-dsvm-all-havana builds have been failing for at least two weeks http://logs.openstack.org/periodic-qa/periodic-tempest-dsvm-all-havana/aeece8b/console.html.gz
2014-01-07T20:43:52  <chmouel> mriedem: yeah sounds good but mine was catching explicitely the cloud provider (i.e: HP here) so we can track those yours look a bit more greedy right?
2014-01-07T20:43:55  <dkranz> foobio: I could not see anything interesting in the logs
2014-01-07T20:44:29  <dkranz> foobio: The error is "timeout: failed to run command `/opt/stack/new/devstack-gate/devstack-vm-gate.sh': No such file or directory"
2014-01-07T20:44:31  <mriedem> chmouel: if you look at the elastic-recheck status page, it should already be catching those failures with the existing query
2014-01-07T20:44:32  <foobio> dkranz: interesting. i knew devstack exercises on grizzly were breaking havana grenade
2014-01-07T20:44:38  <mriedem> so yes, it's greedy and generic
2014-01-07T20:44:57  <mriedem> chmouel: that particular issue is going to be an ongoing infra problem so i'd say let the existing query always handle it
2014-01-07T20:45:00  <dkranz> foobio: This error seems to happen before devstack is even installed
2014-01-07T20:45:02  <foobio> dkranz: oh, that looks like a broken job--i'll see what's gone wrong there
2014-01-07T20:45:25  <dkranz> foobio: logstash shows many hits on that same job over the last two weeks
2014-01-07T20:45:27  <chmouel> mriedem: what if we want to detect a particuliar cloud providerr?
2014-01-07T20:45:31  <dkranz> foobio: thanks
2014-01-07T20:45:50  *** sarob has joined #openstack-infra
2014-01-07T20:45:53  <foobio> dkranz: are other periodic devstack-gate jobs failing with a similar error?
2014-01-07T20:46:09  <dkranz> foobio: Yes, the periodic stress job
2014-01-07T20:46:23  <mriedem> chmouel: my guess is elastic-recheck will report back on the patch with multiple bugs and the author will recheck on one of them
2014-01-07T20:46:31  <dkranz> foobio: http://logs.openstack.org/periodic-qa/periodic-tempest-dsvm-stress-havana/419b810
2014-01-07T20:46:52  <chmouel> mriedem: ok
2014-01-07T20:46:53  <dkranz> foobio: Always the same two fail
2014-01-07T20:47:03  <foobio> k, that may help me narrow down a common code path. thanks dkranz
2014-01-07T20:47:07  <mriedem> chmouel: either way, i think it's going to always be whack a mole with that failure
2014-01-07T20:48:21  *** _david_ has left #openstack-infra
2014-01-07T20:48:27  <chmouel> mriedem: yeah agreed, it's the "sh*** happens" catch all bug :)
2014-01-07T20:49:10  *** smarcet has joined #openstack-infra
2014-01-07T20:54:20  *** jroovers has quit IRC
2014-01-07T20:56:40  *** SergeyLukjanov has quit IRC
2014-01-07T20:56:49  *** arosen has joined #openstack-infra
2014-01-07T20:56:53  *** SergeyLukjanov has joined #openstack-infra
2014-01-07T21:00:25  *** krotscheck has quit IRC
2014-01-07T21:01:26  *** dizquierdo has joined #openstack-infra
2014-01-07T21:02:39  *** jroovers has joined #openstack-infra
2014-01-07T21:06:32  *** jorisroovers has joined #openstack-infra
2014-01-07T21:06:52  *** jroovers has quit IRC
2014-01-07T21:10:34  *** jcoufal has quit IRC
2014-01-07T21:10:52  *** ryanpetrello has joined #openstack-infra
2014-01-07T21:11:18  *** smarcet has left #openstack-infra
2014-01-07T21:13:08  *** senk has joined #openstack-infra
2014-01-07T21:13:24  *** jorisroovers has quit IRC
2014-01-07T21:13:33  <openstackgerrit> Khai Do proposed a change to openstack-infra/config: install gerrit core plugins  https://review.openstack.org/65368
2014-01-07T21:16:01  *** Hefeweizen has joined #openstack-infra
2014-01-07T21:16:26  *** pballand has joined #openstack-infra
2014-01-07T21:16:34  <openstackgerrit> Eli Klein proposed a change to openstack-infra/jenkins-job-builder: Add local-branch option  https://review.openstack.org/65369
2014-01-07T21:17:32  *** jooools has quit IRC
2014-01-07T21:17:58  *** julim_ has quit IRC
2014-01-07T21:18:20  *** mrodden1 has joined #openstack-infra
2014-01-07T21:18:39  *** julim has joined #openstack-infra
2014-01-07T21:19:26  *** mrodden has quit IRC
2014-01-07T21:19:54  <openstackgerrit> Peter Balland proposed a change to openstack-infra/config: Remove gates from Congress  https://review.openstack.org/64730
2014-01-07T21:21:57  <SpamapS> what is the long term plan for netifaces / netaddr? Are the authors going to move them onto pypi?
2014-01-07T21:22:45  <openstackgerrit> Khai Do proposed a change to openstack-infra/config: install gerrit core plugins  https://review.openstack.org/65368
2014-01-07T21:23:04  <foobio> SpamapS: perhaps you can ask them (i think someone posted a link to a bug opened against netaddr asking them to switch releases back to pypi)
2014-01-07T21:23:07  *** julim has quit IRC
2014-01-07T21:25:14  *** ociuhandu has quit IRC
2014-01-07T21:26:00  <SpamapS> foobio: Yeah I'm sending David Moss an email now
2014-01-07T21:26:15  <SpamapS> https://github.com/drkjam/netaddr/issues/57 ftr
2014-01-07T21:29:45  <pballand> can someone point me to a doc/howto for getting a project ready for pep8 tests (configure project for tox?)
2014-01-07T21:30:18  <SpamapS> pballand: there is a repo you can copy
2014-01-07T21:30:37  <Ajaeger1> pballand: cookiecutter is the repo
2014-01-07T21:30:54  <SpamapS> pballand: https://git.openstack.org/cgit/openstack-dev/cookiecutter/
2014-01-07T21:32:00  <pballand> SpamapS: That's exactly what I was looking for, thanks!
2014-01-07T21:34:19  <SpamapS> pballand: no, thank you :)
2014-01-07T21:36:24  <arosen> Hi, is there a way to push to review.openstack.org over http instead of ssh?
2014-01-07T21:36:50  *** ociuhandu has joined #openstack-infra
2014-01-07T21:37:43  * arosen on a network where i'm only able to make an outbound connection over http  today :( 
2014-01-07T21:40:07  *** marun has quit IRC
2014-01-07T21:40:19  <foobio> arosen: there is not, no
2014-01-07T21:42:22  *** CaptTofu has quit IRC
2014-01-07T21:42:28  *** CaptTofu has joined #openstack-infra
2014-01-07T21:42:35  <arosen> foobio: ah I found out a way to do it. Gerrit seems to provide this functionality.
2014-01-07T21:42:44  <arosen> git  push http://review.openstack.org:/openstack/nova.git HEAD:refs/for/master
2014-01-07T21:42:52  <arosen> you have to get an http password and use that in gerrit though
2014-01-07T21:43:31  <foobio> arosen: i suspect that is not a feature in gerrit 2.4 (what we're currently running)
2014-01-07T21:43:36  <arosen> I'll go ahead and document this on: https://wiki.openstack.org/wiki/GerritJenkinsGit
2014-01-07T21:43:48  <arosen> foobio: nah it worked :)
2014-01-07T21:43:56  <foobio> really? i'm surprised
2014-01-07T21:44:01  <foobio> neat!
2014-01-07T21:44:12  <arosen> foobio:  proof :P http://codepad.org/WkHZwfwq
2014-01-07T21:44:15  * foobio has been totally schooled
2014-01-07T21:44:50  <jog0> sdague: looks like you were right, now that libvirt is fixed gate is moving a bit
2014-01-07T21:49:48  *** johnthetubaguy1 has quit IRC
2014-01-07T21:49:50  *** sarob has quit IRC
2014-01-07T21:50:19  *** sarob has joined #openstack-infra
2014-01-07T21:50:42  *** mfer has quit IRC
2014-01-07T21:51:23  *** jamielennox is now known as jamielennox|away
2014-01-07T21:54:24  *** jpich has joined #openstack-infra
2014-01-07T21:54:38  <jog0> jeblair: http://status.openstack.org/zuul/ the top of the gate queue is stuck
2014-01-07T21:54:59  *** sarob has quit IRC
2014-01-07T21:56:33  <jeblair> so we need zuul to push git refs to a git server farm and stop serving them itself
2014-01-07T21:56:41  <jeblair> but no one has had a chance to work on that yet afaik
2014-01-07T21:56:59  *** jcoufal-m has joined #openstack-infra
2014-01-07T21:57:07  <jeblair> in the mean time, replacing zuul with a sizable performance node would probably be helpful.
2014-01-07T21:57:09  <jog0> jeblair: thats related to gate-tempest-dsvm-large-ops:queued at the top of the gate
2014-01-07T21:57:33  <jeblair> jog0: i can't see what you're talking about because zuul is so slow
2014-01-07T21:58:16  <jog0> jeblair: pastebin from top of gate http://paste.openstack.org/show/60694/
2014-01-07T21:58:23  <jog0> note the queued statuses
2014-01-07T21:58:57  <jeblair> jog0: it should get to it; that usually happens when jenkins completely fails to run a job
2014-01-07T21:59:08  <jeblair> jog0: we used to error out there, now we detect and re-enqueue
2014-01-07T21:59:40  <jog0> jeblair: ahh that makes sense thanks
2014-01-07T21:59:48  <jog0> silly jenkins
2014-01-07T22:01:13  *** syerrapragada1 has joined #openstack-infra
2014-01-07T22:01:20  *** syerrapragada1 has quit IRC
2014-01-07T22:01:32  *** Ajaeger1 has quit IRC
2014-01-07T22:04:07  *** praneshp has quit IRC
2014-01-07T22:05:54  *** gyee has quit IRC
2014-01-07T22:06:33  *** jamielennox|away is now known as jamielennox
2014-01-07T22:08:47  *** ruhe is now known as _ruhe
2014-01-07T22:09:23  *** sandywalsh has quit IRC
2014-01-07T22:09:47  <dstufft> foobio: setuptools released, so we'll have a 1.11.1rc1 in the next couple hours at the most
2014-01-07T22:10:06  <foobio> dstufft: awesome
2014-01-07T22:10:37  *** CaptTofu has quit IRC
2014-01-07T22:11:04  *** CaptTofu has joined #openstack-infra
2014-01-07T22:11:10  <sdague> so a good zuul web ui enhancement would be the # of hrs a change has been in the gate
2014-01-07T22:11:20  <sdague> as that seems to be the best indicator of reset at this point
2014-01-07T22:11:41  <sdague> and today it's all manual to figure that out
2014-01-07T22:12:03  <jeblair> sdague: yeah, would be trivial (zuul tracks that; item.enqueue_time)
2014-01-07T22:12:34  *** jasondotstar has quit IRC
2014-01-07T22:12:44  *** sparkycollier has joined #openstack-infra
2014-01-07T22:13:37  *** CaptTofu has quit IRC
2014-01-07T22:13:44  *** CaptTofu has joined #openstack-infra
2014-01-07T22:13:45  *** hashar has quit IRC
2014-01-07T22:14:21  *** jroovers has joined #openstack-infra
2014-01-07T22:14:23  *** jroovers has quit IRC
2014-01-07T22:15:00  *** jroovers has joined #openstack-infra
2014-01-07T22:15:43  <foobio> mordred: so, here's a problem statement for pbr...
2014-01-07T22:15:55  <foobio> mordred: this fails... http://paste.openstack.org/show/60699
2014-01-07T22:16:07  <foobio> mordred: this works... http://paste.openstack.org/show/60700
2014-01-07T22:16:25  <foobio> mordred: do you have any ideas on how we might take advantage of the latter to solve the former?
2014-01-07T22:16:54  <mordred> foobio: I don't think the former is a thing we want to solve
2014-01-07T22:17:14  <mordred> foobio: I believe that pbr is behaving appropriately - the user has installed pip 1.5 and pip 1.5 does not allow installing insecure things
2014-01-07T22:17:23  <foobio> mordred: okay, so pip installs from source using pip 1.5 are not intended. got it
2014-01-07T22:17:37  <mordred> well, I mean, nova currently depends on an insecure package
2014-01-07T22:17:44  *** gyee has joined #openstack-infra
2014-01-07T22:17:45  <foobio> well, pip installs of current nova with pip 1.5 i mean
2014-01-07T22:17:56  <mordred> right. I think that is a bug somewhere, but I don't think it's a pbr bug
2014-01-07T22:18:12  <mordred> as in - I do not want to add an "allow insecure" to pbr, because that would defeat much of the point of having secure checking
2014-01-07T22:19:27  <sdague> is build_uuid fully unique in es metadata?
2014-01-07T22:19:35  <sdague> or is it unique per build_job?
2014-01-07T22:20:11  <jeblair> sdague: it's fully unique
2014-01-07T22:21:05  *** sandywalsh has joined #openstack-infra
2014-01-07T22:22:05  <sdague> ok, that makes certain things way easier for me :)
2014-01-07T22:22:12  <sdague> which, I didn't realize before
2014-01-07T22:22:21  <sdague> jeblair: thanks
2014-01-07T22:22:24  *** foobio has quit IRC
2014-01-07T22:23:58  *** foobio has joined #openstack-infra
2014-01-07T22:24:22  <jog0> sdague: thats the first u in uuid
2014-01-07T22:25:00  <jeblair> jog0: heh
2014-01-07T22:25:43  <foobio> ugh, my isp needs to stop breaking whatever it's decided to break this week
2014-01-07T22:26:13  *** dprince has quit IRC
2014-01-07T22:26:29  <jeblair> foobio: if we wanted to resize zuul, we could do a host swap
2014-01-07T22:26:40  <jeblair> foobio: the only firewall that would have to be reloaded is graphite
2014-01-07T22:27:00  <jeblair> everything else connects _to_ zuul
2014-01-07T22:27:20  *** malini is now known as malini_afk
2014-01-07T22:27:43  *** dizquierdo has quit IRC
2014-01-07T22:28:03  <jeblair> foobio: or we could work on pushing zuul refs to git.o.o
2014-01-07T22:28:51  <jeblair> or a brand new git farm
2014-01-07T22:29:24  <jeblair> (if we push them to git.o.o, i'd want to push them to an alternate set of trees (eg git.o.o/zuul/openstack/foo)
2014-01-07T22:30:52  *** foobio has quit IRC
2014-01-07T22:31:30  *** rnirmal has quit IRC
2014-01-07T22:31:48  *** weshay is now known as weshay_afk
2014-01-07T22:33:17  *** marun has joined #openstack-infra
2014-01-07T22:33:40  *** dstanek has quit IRC
2014-01-07T22:36:25  *** thomasem has quit IRC
2014-01-07T22:39:21  *** dkranz has quit IRC
2014-01-07T22:40:23  *** sarob has joined #openstack-infra
2014-01-07T22:40:47  *** sarob has quit IRC
2014-01-07T22:41:17  *** sarob has joined #openstack-infra
2014-01-07T22:43:31  *** jcoufal-m has quit IRC
2014-01-07T22:43:38  *** sarob_ has joined #openstack-infra
2014-01-07T22:43:45  *** jcoufal-m has joined #openstack-infra
2014-01-07T22:44:24  *** ArxCruz has quit IRC
2014-01-07T22:44:30  *** foobio has joined #openstack-infra
2014-01-07T22:45:02  <foobio> hopefully that's the last of my connectivity issues. not at all conducive to discussion
2014-01-07T22:45:29  *** praneshp has joined #openstack-infra
2014-01-07T22:45:31  *** burt has quit IRC
2014-01-07T22:45:57  *** sarob has quit IRC
2014-01-07T22:46:00  <sdague> jog0: sure... I just mistook that it was tied to the changeset
2014-01-07T22:46:04  <sdague> vs. the jobs
2014-01-07T22:46:16  <sdague> my lack of understanding
2014-01-07T22:46:39  <jeblair> foobio: i think that we can get zuul pushing to git.o.o with a reasonable amount of effort, probably not much more than a zuul server resize
2014-01-07T22:46:55  <jeblair> foobio: so maybe that's what we should pursue to relieve the load on z.o.o
2014-01-07T22:47:07  <foobio> jeblair: agreed, just had a look at eavesdrop to see what i'd missed :/
2014-01-07T22:47:20  <jroovers> hi foobio, can I ask a quick question related to bug rechecks?
2014-01-07T22:47:27  <jeblair> foobio: it would need a small-moderate patch to zuul, and a scheme to set up the repos on the git servers
2014-01-07T22:47:31  <foobio> jeblair: what sort of alternate trees were you thinking?
2014-01-07T22:47:47  <foobio> jroovers: sure
2014-01-07T22:48:09  <jeblair> foobio: we have something (is it manage-projects) create the repos on git.o.o, right?
2014-01-07T22:48:10  <jroovers> foobio, I accidently did a recheck with a wrong bug number, I have found the correct one now. Can I check the recheck comment? What is the right way to approach this?
2014-01-07T22:48:20  <foobio> jeblair: just an additional set of shadow repositories, maybe not indexed by cgit?
2014-01-07T22:48:27  <foobio> jeblair: right, we do
2014-01-07T22:48:28  <jeblair> foobio: yes
2014-01-07T22:48:43  <jroovers> foobio, "*change the recheck number"
2014-01-07T22:48:57  <foobio> jroovers: sure, you can leave an additional recheck comment. zuul will ignore it, but the rechecks stream will see and add it
2014-01-07T22:49:22  <foobio> jroovers: it's additive though... you can't really remove old references, but there's enough noise in them anyway that it's expected
2014-01-07T22:49:33  <jroovers> foobio, ok thanks
2014-01-07T22:49:53  <foobio> jeblair: so, i think we could quite easily init a second set of repos no problem
2014-01-07T22:50:23  <foobio> jeblair: but we'd also need to see if gerrit's replication config supports mirroring to a different repo name
2014-01-07T22:50:33  <foobio> jeblair: or maybe just a different path but the same name
2014-01-07T22:50:39  *** flaper87 is now known as flaper87|afk
2014-01-07T22:51:12  <foobio> the latter should work in gerrit i think? but serving those might get more complicated
2014-01-07T22:51:29  <foobio> i'll have a look at the replication config syntax and see
2014-01-07T22:52:03  <jroovers> foobio, thanks!
2014-01-07T22:52:07  <jeblair> foobio: actually i don't think gerrit needs to replicate
2014-01-07T22:52:20  <jeblair> foobio: i think we just need to have zuul push to these repos
2014-01-07T22:53:15  <mriedem> anyone ever gotten a regex query to work in logstash?
2014-01-07T22:53:16  <foobio> jeblair: oh, that might simplify things... right, zuul creates refs and pushes whatever objects are necessary to build them
2014-01-07T22:53:30  <foobio> jeblair: so no need for replication, agreed
2014-01-07T22:54:20  <jeblair> foobio: yep.  i can work on adding the feature to zuul to push to configurable locations; if you have time to figure out how to get another set of repos created and served, that would be helpful
2014-01-07T22:54:39  <jeblair> foobio: (and if not, i'll pick that up when i'm done with zuul)
2014-01-07T22:55:19  <jeblair> i don't think i'm walking through the park today :(
2014-01-07T22:56:09  <mriedem> mrodden1: have you written logstash queries with regex?
2014-01-07T22:56:21  <mriedem> mrodden1: trying to get this to work (check|gate)-(tempest|grenade)-[a-z\-]+
2014-01-07T22:57:33  <jeblair> mriedem: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html
2014-01-07T22:57:53  <mriedem> jeblair: yeah, been looking through that one for awhile
2014-01-07T22:57:55  <jeblair> mriedem: i think it's elasticsearch syntax, so maybe that will help
2014-01-07T22:57:57  <jeblair> oh sorry
2014-01-07T22:58:04  * jeblair fails to be helpful
2014-01-07T22:58:21  *** foobio has quit IRC
2014-01-07T22:58:27  <mriedem> well this says most regex should work as long as it's in forward slashes
2014-01-07T22:58:27  <mriedem> http://lucene.apache.org/core/4_0_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Regexp_Searches
2014-01-07T22:58:30  *** lcestari has quit IRC
2014-01-07T22:58:35  *** jcoufal-m has quit IRC
2014-01-07T22:58:51  *** jcoufal-m has joined #openstack-infra
2014-01-07T22:59:18  *** foobio has joined #openstack-infra
2014-01-07T23:00:08  *** senk has quit IRC
2014-01-07T23:00:17  *** jpich has quit IRC
2014-01-07T23:00:25  *** jcoufal-m has quit IRC
2014-01-07T23:01:06  *** melwitt has quit IRC
2014-01-07T23:01:27  *** melwitt has joined #openstack-infra
2014-01-07T23:01:54  *** melwitt has quit IRC
2014-01-07T23:01:58  *** melwitt1 has joined #openstack-infra
2014-01-07T23:03:09  <mrodden1> mriedem: i haven't done any really advanced regex-y things with elasticsearch so idk
2014-01-07T23:03:47  <mriedem> might be a bug or limitation
2014-01-07T23:03:48  <mriedem> https://github.com/elasticsearch/kibana/issues/631
2014-01-07T23:04:41  <sdague> mriedem: so I think what that actually means is you can't use it for message
2014-01-07T23:04:59  <mriedem> sdague: trying to use it for build_name
2014-01-07T23:05:51  <sdague> mriedem: so you'll have to bypass the query builder to get er to create that kind of query
2014-01-07T23:05:59  <sdague> or extend query builder
2014-01-07T23:07:12  *** melwitt1 has quit IRC
2014-01-07T23:07:31  <sdague> mriedem: https://github.com/openstack-infra/elastic-recheck/blob/master/elastic_recheck/query_builder.py#L22
2014-01-07T23:07:32  *** melwitt has joined #openstack-infra
2014-01-07T23:07:40  <sdague> that's what an actual es query gets created as
2014-01-07T23:07:43  <mriedem> i'm just going to brute force the query and list the current check|gate/tempest|grenade builds
2014-01-07T23:08:00  <sdague> so you'd need a regex leaf in there I think
2014-01-07T23:08:32  *** dcramer_ has quit IRC
2014-01-07T23:08:38  *** foobio has quit IRC
2014-01-07T23:08:59  *** ^d has quit IRC
2014-01-07T23:11:54  *** foobio has joined #openstack-infra
2014-01-07T23:12:25  *** senk has joined #openstack-infra
2014-01-07T23:13:20  *** hogepodge has quit IRC
2014-01-07T23:14:00  *** hogepodge has joined #openstack-infra
2014-01-07T23:14:15  <mriedem> sdague: do you know if the regexp query will get intersected with the query entry?
2014-01-07T23:14:28  <mriedem> *multiple entries in the dict i mean
2014-01-07T23:14:33  <sdague> mriedem: so to use it in er would be a deeper patch
2014-01-07T23:14:50  <sdague> because we try to simplify it for people
2014-01-07T23:14:56  <mriedem> yeah, like i'd have to add a regexp field to the yaml files right?
2014-01-07T23:15:00  <sdague> yep
2014-01-07T23:16:47  <mriedem> sdague: so would you be against me just brute-forcing the build_name in this query? https://review.openstack.org/#/c/65303/
2014-01-07T23:16:57  <mriedem> until we had regexp support in e-r?
2014-01-07T23:18:00  <pballand> is there a way to bypass verification (as a core-reviewer) while I get the tests passing?
2014-01-07T23:18:10  <sdague> honestly, I'd be +2 with that bug as is
2014-01-07T23:18:26  <mriedem> sdague: feel free to comment in the review :)
2014-01-07T23:20:26  <dstufft> foobio: mordred sdague superbee whoever else https://gist.github.com/dstufft/ad130655c81e45098bff
2014-01-07T23:20:27  *** dims has quit IRC
2014-01-07T23:20:40  <dstufft> that should fix the --system-site-packages problem
2014-01-07T23:21:02  <mordred> cool!
2014-01-07T23:21:54  <dstufft> If it's at all possible to test that in the openstack infra and let me know if it fixes i for you that'd be awesome
2014-01-07T23:21:55  *** ryanpetrello has quit IRC
2014-01-07T23:22:05  <foobio> pballand: non-working jobs can be set to non-voting as long as you have at least one voting job unique to your project
2014-01-07T23:24:04  <pballand> foobio: do I set that in layout.yaml?
2014-01-07T23:24:39  <pballand> (perhaps instead of https://review.openstack.org/#/c/64730/)
2014-01-07T23:25:12  *** senk1 has joined #openstack-infra
2014-01-07T23:26:03  <foobio> pballand: yes, you can set a job name pattern to non-voting, or you can just make your jobs always return 0 (success) and rely on looking at the logs for them to tune them up
2014-01-07T23:26:51  *** sparkycollier has quit IRC
2014-01-07T23:27:12  <foobio> pballand: there is one catch with non-voting jobs... you need at least one voting job, and you can't use the shared gate-noop job if you run other jobs for your project
2014-01-07T23:27:37  <foobio> pballand: so if you need something like that, you'd want a clone of the -noop job specific to your project
2014-01-07T23:27:47  *** senk has quit IRC
2014-01-07T23:27:50  *** CaptTofu has quit IRC
2014-01-07T23:28:24  <pballand> is there a quick tox hack to make pep8 and py27 return 0?
2014-01-07T23:28:44  *** CaptTofu has joined #openstack-infra
2014-01-07T23:29:37  <foobio> pballand: probably, though i'm not sure exactly... i'd have to play around with it
2014-01-07T23:30:00  <superbee> sdague: why does er need to explicitly support regexes?
2014-01-07T23:30:36  <superbee> isnt the query just passed through mostly as is?
2014-01-07T23:35:07  <pballand> foobio: thanks, I'll play around with the targets in tox.ini to get a working set
2014-01-07T23:35:54  <foobio> pballand: also, you can run tox locally and just not enable jobs for your project until you're ready to start using them
2014-01-07T23:36:03  *** dims has joined #openstack-infra
2014-01-07T23:36:08  <foobio> pballand: and simply start with only the gate-noop job
2014-01-07T23:36:39  *** jroovers has quit IRC
2014-01-07T23:37:00  <pballand> foobio: I started there, but that's been stuck in review for 5 days - probably better to keep in the project and not bother the infra codebase
2014-01-07T23:37:15  *** oubiwann has quit IRC
2014-01-07T23:38:17  *** rcleere has quit IRC
2014-01-07T23:38:17  <foobio> pballand: yes, sorry, our review bandwidth has been insufficient to keep up with requests. a lot of holiday backlog still
2014-01-07T23:38:33  * mordred looks away
2014-01-07T23:38:56  <mriedem> superbee: query_string and regexp are different things in elasticsearch
2014-01-07T23:39:07  <pballand> foobio: no worries - if there is a way I can stay out of the way (like faking out tests) I'll do it
2014-01-07T23:39:17  <mriedem> superbee: see my comment here: https://review.openstack.org/#/c/65303/
2014-01-07T23:39:30  <foobio> pballand: your patience is appreciated
2014-01-07T23:39:31  <mriedem> superbee: and right now elastic-recheck only sends the query_string to ES
2014-01-07T23:40:36  <pballand> foobio: your build system services for a stackforge project are appreciated :)
2014-01-07T23:40:57  <mriedem> ah infra, when i spend my day in here i feel like i spent 8 hours figuring out why something won't work o-)
2014-01-07T23:41:20  <foobio> pballand: glad to hear it! part of our lack of review bandwidth is that we spend a lot of time keeping those running :/
2014-01-07T23:42:30  *** senk1 has quit IRC
2014-01-07T23:43:26  *** senk has joined #openstack-infra
2014-01-07T23:44:30  <foobio> mriedem: that sounds like every day to me ;)
2014-01-07T23:45:14  <mriedem> foobio: i know, it's amazing, always appreciative of the work you guys do
2014-01-07T23:46:28  *** changbl has quit IRC
2014-01-07T23:46:38  *** mriedem has quit IRC
2014-01-07T23:48:08  *** cyeoh_ is now known as cyeoh
2014-01-07T23:50:48  *** prad has quit IRC
2014-01-07T23:53:55  <pballand> foobio: FYI, replacing the tox commands with 'true' was sufficient for my needs - I can leave the existing gates and reenable from my project once things are cleaned up
2014-01-07T23:56:10  <zaro> superbee: gerrit monitoring is already setup to be viewable by gerrit admins.  we are both admins so we both get access.
2014-01-07T23:57:28  *** _ruhe is now known as ruhe
2014-01-07T23:58:41  *** melwitt has quit IRC
2014-01-07T23:59:21  *** melwitt has joined #openstack-infra
