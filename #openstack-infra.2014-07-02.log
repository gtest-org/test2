2014-07-02T00:00:55  <jhesketh> superbee: in the interest of moving things forward, do you think it'd be better to just trial jenkins07 and if it fails undo it?
2014-07-02T00:01:16  <superbee> jhesketh: yes, and I don't expect it to be a problem because gearman deals with those env vars directly
2014-07-02T00:01:27  *** unicell has joined #openstack-infra
2014-07-02T00:01:30  <superbee> jhesketh: to me the tricky bit were the changes you already wrote and I approved to make the job not use the plugin
2014-07-02T00:01:41  <jhesketh> cool
2014-07-02T00:01:44  *** wenlock has quit IRC
2014-07-02T00:01:48  <jhesketh> superbee: okay, when's a good time to do this?
2014-07-02T00:02:23  <superbee> jhesketh: I can probably take a stab at that tomorrow
2014-07-02T00:02:32  <superbee> jhesketh: this evening isn't good beacuse EMELTING
2014-07-02T00:02:45  <superbee> and I am already babysitting a pvmove and image rebuilds
2014-07-02T00:03:37  <jhesketh> all good
2014-07-02T00:03:39  <jhesketh> thanks superbee :-)
2014-07-02T00:05:03  *** david-lyle has quit IRC
2014-07-02T00:05:03  *** mmaglana has quit IRC
2014-07-02T00:06:04  *** david-lyle has joined #openstack-infra
2014-07-02T00:06:15  *** msabramo has quit IRC
2014-07-02T00:06:48  <superbee> mordred: I don't know why run_all.sh is skipping review.o.o
2014-07-02T00:06:51  *** anode has quit IRC
2014-07-02T00:06:56  <superbee> mordred: any chance you know why that is happening?
2014-07-02T00:07:10  *** chuckC has quit IRC
2014-07-02T00:07:18  <arosen> superbee: after this merged: https://review.openstack.org/#/c/102697/ I'm not able to push to:  ssh://arosen@review.openstack.org:29418/stackforge/python-congressclient.git yet
2014-07-02T00:07:26  <arosen> I guess it might take a little time?
2014-07-02T00:07:32  <superbee> arosen: yes the project hasn't been created for some reason
2014-07-02T00:07:32  *** atiwari has quit IRC
2014-07-02T00:07:38  <superbee> arosen: because puppet hasn't run on review.openstack.org
2014-07-02T00:07:43  <arosen> ah okay.
2014-07-02T00:07:44  <arosen> thanks
2014-07-02T00:07:45  <jesusaurus> is run_all.sh new? how does that get triggered?
2014-07-02T00:07:49  <superbee> its the thing I am hoping mordred will look into above because its breaking me now too
2014-07-02T00:07:57  <superbee> jesusaurus: its new ish been around for a few weeks. and cron
2014-07-02T00:08:17  <superbee> I really wish puppet agent --disable was a bit more clear about whether or not it is disabled
2014-07-02T00:08:30  *** msabramo has joined #openstack-infra
2014-07-02T00:09:26  <jbooboo> superbee: puppet agent --disable is dangerous on any git-related machines because of the ordering
2014-07-02T00:10:08  <jbooboo> superbee: that's why i'm updating the project rename instructions to indicate that the run_all cron should be stopped
2014-07-02T00:10:19  <superbee> jbooboo: ya  Ithink I merged that change
2014-07-02T00:10:26  <jbooboo> (there is not a good way to do that now, we need to make that better)
2014-07-02T00:10:27  <superbee> jbooboo: but I don't even know if puppet is disabled
2014-07-02T00:10:38  <superbee> all I know is it has been 48ish minutes since puppet ran on review.o.o
2014-07-02T00:10:44  *** david-lyle has quit IRC
2014-07-02T00:10:46  <superbee> and mordred was the last person to report working on this stuff
2014-07-02T00:10:47  <jbooboo> superbee: check syslog?
2014-07-02T00:11:03  *** zehicle_at_dell has quit IRC
2014-07-02T00:11:31  <superbee> syslog only shows the 2319 catalog run complete message
2014-07-02T00:12:06  <superbee> puppet is running on other nodes on a 15 minutes interval
2014-07-02T00:12:20  <superbee> maybe I should just try running it manually with --noop. maybe error reporting is broken? /me does this
2014-07-02T00:12:54  <jbooboo> superbee: it may not be running on review.o.o if it's breaking on a git host
2014-07-02T00:13:17  <superbee> jbooboo: oh
2014-07-02T00:13:25  <superbee> also --noop on review.o.o was clean /me checks git01
2014-07-02T00:13:33  <melwitt> superbee: what does it mean to add the hudson-openstack account to the nova bug team? (https://bugs.launchpad.net/python-novaclient/+bug/1326503)
2014-07-02T00:13:34  <uvirtbot> Launchpad bug 1326503 in python-novaclient "hudson-openstack not working for python-novaclient" [Undecided,New]
2014-07-02T00:13:53  <superbee> puppet on git01.openstack.org failed with return code: 1 thats it
2014-07-02T00:14:48  <superbee> melwitt: its a launchpad groups membership permissions thing
2014-07-02T00:15:01  <superbee> melwitt: some projects have oepn bug and allow gerrit to assign bugs with no issues
2014-07-02T00:15:17  <superbee> melwitt: but if the project isn't open then you need to explicitly give the user gerrit uses permissions to do operations like that
2014-07-02T00:15:30  <superbee> err: Could not retrieve catalog from remote server: Error 400 on SERVER: Duplicate declaration: File[/etc/httpd/conf/httpd.conf]
2014-07-02T00:15:38  <superbee> I think we must've udpated apache module?
2014-07-02T00:15:54  <superbee> maybe I should've been meaner with my vote on that...
2014-07-02T00:16:20  <melwitt> superbee: okay. I was trying to see if I could add it but I don't see a way. I'm not a admin of nova-bugs but I am a member
2014-07-02T00:16:33  <sdague> hmmm... the requirements fix didn't seem to do a thing - http://logs.openstack.org/60/103960/1/check/gate-oslo-incubator-python33/31f5d50/console.html
2014-07-02T00:17:09  <superbee> sdague: we don't enforce requirements on unittests
2014-07-02T00:17:13  <superbee> sdague: so the update has to merge first
2014-07-02T00:17:36  <superbee> jesusaurus: ^ any chance you have time to debug the apache moduelthing?
2014-07-02T00:17:48  <sdague> superbee: which update?
2014-07-02T00:17:57  *** melwitt has quit IRC
2014-07-02T00:17:59  <superbee> sdague: the requirements file update in oslo-incubator
2014-07-02T00:18:04  <sdague> oh
2014-07-02T00:18:08  <sdague> gotcha
2014-07-02T00:18:19  *** dangers is now known as dangers_away
2014-07-02T00:19:21  <jbooboo> superbee, mordred: okay, so we've been trying to adopt this policy where we approve potentially disruptive puppet patches when their authors are around to monitor and fix changes
2014-07-02T00:19:30  <jbooboo> superbee, mordred: we don't seem to actually be doing that
2014-07-02T00:20:08  <jesusaurus> superbee: sure, did that "revert" get merged?
2014-07-02T00:20:21  <jesusaurus> ah, so it did
2014-07-02T00:20:46  <superbee> jbooboo: yes I dunno who approved it or when
2014-07-02T00:20:48  <jesusaurus> superbee: do you have a link of the error for me?
2014-07-02T00:20:57  <superbee> but I failed at -1ing so :(
2014-07-02T00:21:06  <jbooboo> https://review.openstack.org/#/c/103258/
2014-07-02T00:21:10  <jbooboo> mordred: approved it
2014-07-02T00:21:26  <superbee> jesusaurus only what I pasted above. puppetboard may have more
2014-07-02T00:21:29  <jbooboo> and neither monitored it himself nor mode sure that jesusaurus was around to do so :(
2014-07-02T00:22:02  <mtreinish> superbee: yes, I'd support pacman everywhere :)
2014-07-02T00:22:03  *** msabramo has quit IRC
2014-07-02T00:22:14  <marun> in job yaml, I'm assuming there is an 80 char limit?  how would you suggest I format the following?
2014-07-02T00:22:16  <marun> sudo -H -u stack OS_SUDO_TESTING=1 OS_ROOTWRAP_CMD='sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf' tox -e functional
2014-07-02T00:23:34  <jbooboo> marun: i'm not aware of such a limit -- however, you might consider making a new tox env
2014-07-02T00:23:40  <jbooboo> marun: maybe 'sudo-functional'
2014-07-02T00:24:16  <marun> jbooboo: ah, fair enough.  putting the configuration in the neutron tree likely makes more sense than in config
2014-07-02T00:24:24  *** Ryan_Lane has joined #openstack-infra
2014-07-02T00:24:33  *** gangil has quit IRC
2014-07-02T00:24:33  *** gokrokve has quit IRC
2014-07-02T00:24:44  <jbooboo> yeah, seems like a good place for those vars
2014-07-02T00:25:05  *** dims__ has quit IRC
2014-07-02T00:25:40  <lifeless> now I have to call a variable pseudo-functional somewhere that sudo is used.
2014-07-02T00:26:14  <jbooboo> lifeless: all of our software is sudo-functional ;)
2014-07-02T00:26:56  <marun> heh
2014-07-02T00:28:10  <ianw> mordred: re https://review.openstack.org/#/c/88479/27 what environment do you use for local testing?
2014-07-02T00:29:12  <jbooboo> ianw: i think a change in that series made a doc update about how to run it?
2014-07-02T00:31:16  <ianw> jbooboo: https://review.openstack.org/#/c/88479/29/modules/openstack_project/files/nodepool/elements/README.rst i assume ubuntu trusty?
2014-07-02T00:32:47  <superbee> ianw: tools/build-image.sh is what you want
2014-07-02T00:33:01  <jesusaurus> superbee: okay, it looks like the two templates (one from the cgit module and one from the upgraded apache module) have some significant differences
2014-07-02T00:33:17  <jesusaurus> and theres no simple way to just turn off the one in the apache module
2014-07-02T00:33:31  <jesusaurus> so we should probably revert back to 0.0.4
2014-07-02T00:37:37  *** Ryan_Lane has quit IRC
2014-07-02T00:39:04  <jbooboo> ianw: well, i hope it works on precise since that's what nodepool is running on right now :)
2014-07-02T00:39:29  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Revert "Revert "Downgrade puppetlabs-apache to version 0.0.4.""  https://review.openstack.org/104038
2014-07-02T00:40:29  *** signed8bit is now known as signed8bit_ZZZzz
2014-07-02T00:41:27  *** HACKING-TWITTER has quit IRC
2014-07-02T00:43:05  *** dims__ has joined #openstack-infra
2014-07-02T00:43:11  <mordred> jbooboo, superbee: sorry - my bad - I failed to flag that in my brain as potentially disruptive.
2014-07-02T00:43:32  *** HACKING-TWITTER has joined #openstack-infra
2014-07-02T00:44:26  <mordred> although in retrospect, how I could have possibly thought that was non-disruptive is beyond me
2014-07-02T00:44:39  <jbooboo> mordred: 'revert' something seems like a nice safe thing to do, but really it should have been "try upgrading apache module again"
2014-07-02T00:44:54  *** Ryan_Lane has joined #openstack-infra
2014-07-02T00:45:00  <jbooboo> mordred: or "revert revert apache upgrade"
2014-07-02T00:45:11  <jbooboo> we're basically one revert off
2014-07-02T00:45:30  *** msabramo has joined #openstack-infra
2014-07-02T00:45:43  *** jp_at_hp has quit IRC
2014-07-02T00:45:52  <openstackgerrit> Maru Newby proposed a change to openstack-infra/config: Fix neutron func job to use gate-specific tox env  https://review.openstack.org/104039
2014-07-02T00:46:02  *** signed8bit_ZZZzz is now known as signed8bit
2014-07-02T00:46:16  *** jdahlin has joined #openstack-infra
2014-07-02T00:46:32  *** signed8bit is now known as signed8bit_ZZZzz
2014-07-02T00:46:35  *** signed8bit_ZZZzz is now known as signed8bit
2014-07-02T00:49:19  <lifeless> is the requirements job broken or something?
2014-07-02T00:49:34  <lifeless> I'm seeing patches from 'longgeek' that seem to do exactly what the requirements jobs do
2014-07-02T00:49:40  <lifeless> e.g. 103390
2014-07-02T00:50:44  *** dstanek is now known as dstanek_zzz
2014-07-02T00:51:41  *** yaguang has joined #openstack-infra
2014-07-02T00:53:09  * jesusaurus begins the 30 minute commute home
2014-07-02T00:54:37  <superbee> pvmove complete
2014-07-02T00:58:35  *** xianghui has joined #openstack-infra
2014-07-02T00:59:18  *** bdpayne has quit IRC
2014-07-02T00:59:59  *** nati_ueno has quit IRC
2014-07-02T01:01:16  *** nati_ueno has joined #openstack-infra
2014-07-02T01:06:17  *** talluri has joined #openstack-infra
2014-07-02T01:07:55  <harlowja> anyone aware of a bug for 'Routes is in an unsupported or invalid wheel' issue?
2014-07-02T01:08:32  <superbee> harlowja: yes they have a bad wheel
2014-07-02T01:08:43  <superbee> harlowja: a requirements change was pushed and merged to remove that version
2014-07-02T01:08:49  <harlowja> kk, thx
2014-07-02T01:08:51  *** jp_at_hp has joined #openstack-infra
2014-07-02T01:09:15  <harlowja> guess thats still filtering out to the other projects, thx superbee
2014-07-02T01:09:45  *** nati_ueno has quit IRC
2014-07-02T01:10:06  *** nati_ueno has joined #openstack-infra
2014-07-02T01:13:06  <sdague> harlowja: you need to sync manually for unit tests
2014-07-02T01:13:52  <harlowja> sdague ya, makes sense, just seeing alot of oslo-incubator reviews hitting that; https://review.openstack.org/#/c/104022/ already up
2014-07-02T01:14:08  <sdague> harlowja: yep, I rebased my change on that one
2014-07-02T01:14:39  <harlowja> sdague kk, good idea
2014-07-02T01:14:50  *** jp_at_hp has quit IRC
2014-07-02T01:17:14  *** dstanek_zzz is now known as dstanek
2014-07-02T01:19:27  *** nelsnelson has joined #openstack-infra
2014-07-02T01:20:05  *** Sukhdev has quit IRC
2014-07-02T01:22:14  *** Sukhdev has joined #openstack-infra
2014-07-02T01:22:20  *** marcoemorais has quit IRC
2014-07-02T01:23:58  *** nelsnelson has quit IRC
2014-07-02T01:24:23  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Add support for negative requirements  https://review.openstack.org/102726
2014-07-02T01:24:53  *** nelsnelson has joined #openstack-infra
2014-07-02T01:25:45  *** signed8bit is now known as signed8bit_ZZZzz
2014-07-02T01:27:30  *** otherwiseguy has quit IRC
2014-07-02T01:27:45  *** moted has quit IRC
2014-07-02T01:27:55  *** otherwiseguy has joined #openstack-infra
2014-07-02T01:31:19  *** xchu has joined #openstack-infra
2014-07-02T01:32:03  *** zz_dimtruck is now known as dimtruck
2014-07-02T01:32:48  <mordred> oh my. ^^
2014-07-02T01:32:55  <mordred> jhesketh: what crazy things are you doing now?
2014-07-02T01:33:20  <jhesketh> mordred: trying to earn a beer off jogo_away
2014-07-02T01:33:57  <jhesketh> mordred: the idea is to not retrigger automatic checks when a reviewer has left a -1
2014-07-02T01:33:57  <mordred> jhesketh: nicely done. that makes me want to actually implement that feature in zuul - so taht you could ask zuul how many beers each person is owed
2014-07-02T01:34:08  <mordred> jhesketh: nice
2014-07-02T01:34:15  *** nelsnelson has quit IRC
2014-07-02T01:34:43  <jhesketh> mordred: and a count system that stops code from merging until the beer has been claimed
2014-07-02T01:35:47  <mordred> jhesketh: if we start now, we could have it ready by next april fool's
2014-07-02T01:36:35  *** yaguang has quit IRC
2014-07-02T01:37:20  <StevenK> I don't know if I like reviewing turning into a drinking game ...
2014-07-02T01:38:12  <superbee> StevenK: embrace the liver damage
2014-07-02T01:38:23  <superbee> jhesketh: if you ever make it to portland I have kegs >_>
2014-07-02T01:38:36  <jhesketh> superbee: you only say that because of how many drinks I owe you ;-)
2014-07-02T01:38:38  <jhesketh> oh shiny! :-)
2014-07-02T01:38:58  *** Ryan_Lane has quit IRC
2014-07-02T01:39:04  <superbee> jhesketh: maybe I will just make you help me brew the next beer to fill the kegs while we drink the ones already kegged
2014-07-02T01:39:39  *** MarkAtwood has joined #openstack-infra
2014-07-02T01:39:55  <jhesketh> I'm all up for learning :-)
2014-07-02T01:42:05  *** markwash has quit IRC
2014-07-02T01:43:54  <ianw> mordred / anyone : is this image build script cloning git.openstack.org/* ?
2014-07-02T01:44:28  <ianw> it seems to be downloading *a lot*
2014-07-02T01:46:02  <mordred> ianw: yse
2014-07-02T01:46:14  <mordred> ianw: it clones every single git repo on git.openstack.org
2014-07-02T01:46:32  <mordred> ianw: however, it does local caching
2014-07-02T01:46:44  <mordred> ianw: so once you build once, the _second_ time you build will go MUCH quicker
2014-07-02T01:46:45  <ianw> mordred: hmm, do you know how big that will end up being?
2014-07-02T01:46:55  <mordred> not off the top of my head, no
2014-07-02T01:47:15  <ianw> like 1gb or more like 10?
2014-07-02T01:47:33  * mordred looks
2014-07-02T01:48:22  <mordred> ianw: the resulting image will be 2G
2014-07-02T01:48:37  <lifeless> FWIW my image-create cache is 13G
2014-07-02T01:48:45  <mordred> ianw: in the process, it will produce 2.5G of cache
2014-07-02T01:48:47  <lifeless> but I've been building many different things
2014-07-02T01:49:00  <lifeless> and have lots of different root dirs etc
2014-07-02T01:49:04  <mordred> lifeless: you're crazy
2014-07-02T01:49:04  *** nosnos has joined #openstack-infra
2014-07-02T01:49:12  <ianw> ok, thanks, i'm just in the land of 200gb/month isp quotas
2014-07-02T01:49:17  <lifeless> mordred: foxlike
2014-07-02T01:49:22  <mordred> ianw: AH. ewww
2014-07-02T01:49:24  <lifeless> ianw: ok so this is why we cache things :)
2014-07-02T01:49:24  *** gokrokve has joined #openstack-infra
2014-07-02T01:49:34  <lifeless> ianw: so you don't go over quota
2014-07-02T01:50:14  <ianw> lifeless: yeah, but i've still got to get it the first time :)
2014-07-02T01:50:18  *** baohua has joined #openstack-infra
2014-07-02T01:51:20  *** yaguang has joined #openstack-infra
2014-07-02T01:51:22  *** otherwiseguy has quit IRC
2014-07-02T01:52:19  * ianw super-checks i'm not accidentally tethered, because that would probably bankrupt me
2014-07-02T01:53:04  *** mriedem has quit IRC
2014-07-02T01:54:00  *** praneshp has quit IRC
2014-07-02T01:54:23  *** r1chardj0n3s is now known as r1chard_afk
2014-07-02T01:55:10  *** nosnos has quit IRC
2014-07-02T01:55:35  *** nosnos has joined #openstack-infra
2014-07-02T01:56:08  *** otter768 has joined #openstack-infra
2014-07-02T01:57:27  *** homeless has quit IRC
2014-07-02T01:59:03  *** dkranz has quit IRC
2014-07-02T02:02:19  *** hdd_ has joined #openstack-infra
2014-07-02T02:03:05  *** wenlock has joined #openstack-infra
2014-07-02T02:04:04  <ianw> $ git clone git://git.openstack.org/stackforge/python-congressclient.git
2014-07-02T02:04:05  <ianw> Cloning into 'python-congressclient'...
2014-07-02T02:04:05  <ianw> fatal: The remote end hung up unexpectedly
2014-07-02T02:04:13  <ianw> ^ is this just me?  it seems pretty repeatable
2014-07-02T02:06:10  *** dstufft|laptop has joined #openstack-infra
2014-07-02T02:06:12  *** signed8bit_ZZZzz is now known as signed8bit
2014-07-02T02:06:42  *** signed8bit is now known as signed8bit_ZZZzz
2014-07-02T02:07:39  *** nati_ueno has quit IRC
2014-07-02T02:08:36  <superbee> ianw: its not just you
2014-07-02T02:08:46  <superbee> puppet isn't running on the git farm right now
2014-07-02T02:10:16  *** nati_ueno has joined #openstack-infra
2014-07-02T02:12:24  *** otherwiseguy has joined #openstack-infra
2014-07-02T02:14:46  <ianw> superbee: is that a known issue?
2014-07-02T02:16:20  <superbee> ya it came up in scrollback around 0000UTC
2014-07-02T02:16:32  <superbee> I am currently melting so trying to avoid hot computer with keys to do more fixing
2014-07-02T02:18:52  *** MarkAtwood has quit IRC
2014-07-02T02:21:17  *** nati_ueno has quit IRC
2014-07-02T02:21:43  *** nati_ueno has joined #openstack-infra
2014-07-02T02:21:58  *** Ryan_Lane has joined #openstack-infra
2014-07-02T02:22:40  *** zhiyan_ is now known as zhiyan
2014-07-02T02:22:50  *** nati_ueno has quit IRC
2014-07-02T02:24:22  *** xianghui has quit IRC
2014-07-02T02:26:42  *** dstanek is now known as dstanek_zzz
2014-07-02T02:29:35  *** arnaud has quit IRC
2014-07-02T02:30:49  *** zhiyan is now known as zhiyan_
2014-07-02T02:31:22  *** signed8bit_ZZZzz is now known as signed8bit
2014-07-02T02:31:33  *** r1chard_afk is now known as r1chardj0n3s
2014-07-02T02:32:07  *** signed8bit has quit IRC
2014-07-02T02:32:28  *** signed8bit has joined #openstack-infra
2014-07-02T02:32:51  *** signed8bit has quit IRC
2014-07-02T02:34:16  *** talluri has quit IRC
2014-07-02T02:36:59  *** camunoz is now known as camunoz_away
2014-07-02T02:42:01  *** zhiyan_ is now known as zhiyan
2014-07-02T02:43:13  *** wenlock has quit IRC
2014-07-02T02:43:47  *** changbl has joined #openstack-infra
2014-07-02T02:44:02  *** chuckC has joined #openstack-infra
2014-07-02T02:44:16  *** penguinRaider has quit IRC
2014-07-02T02:45:17  *** pballand has joined #openstack-infra
2014-07-02T02:46:15  *** Sukhdev has quit IRC
2014-07-02T02:48:02  *** dstanek_zzz is now known as dstanek
2014-07-02T02:49:13  *** alexandra has joined #openstack-infra
2014-07-02T02:49:38  *** alexandra is now known as asettle
2014-07-02T02:49:49  *** pballand has quit IRC
2014-07-02T02:50:32  *** harlowja is now known as harlowja_away
2014-07-02T02:52:55  *** praneshp has joined #openstack-infra
2014-07-02T02:54:32  *** asettle has quit IRC
2014-07-02T02:58:32  *** otherwiseguy has quit IRC
2014-07-02T02:59:22  *** ArxCruz has joined #openstack-infra
2014-07-02T03:00:55  *** yaguang has quit IRC
2014-07-02T03:01:11  *** yaguang has joined #openstack-infra
2014-07-02T03:02:21  *** nati_ueno has joined #openstack-infra
2014-07-02T03:03:22  *** theannegentle has joined #openstack-infra
2014-07-02T03:04:49  *** otherwiseguy has joined #openstack-infra
2014-07-02T03:04:54  *** theannegentle has quit IRC
2014-07-02T03:05:32  *** xianghui has joined #openstack-infra
2014-07-02T03:08:03  *** xchu has quit IRC
2014-07-02T03:09:43  *** dims__ has quit IRC
2014-07-02T03:10:18  *** gyee has quit IRC
2014-07-02T03:11:23  *** alexandra_ has joined #openstack-infra
2014-07-02T03:11:44  *** alexandra_ is now known as asettle
2014-07-02T03:15:07  *** mwagner_ has quit IRC
2014-07-02T03:20:51  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-07-02T03:22:22  *** zhiyan is now known as zhiyan_
2014-07-02T03:24:41  *** zhiyan_ is now known as zhiyan
2014-07-02T03:26:16  *** zehicle_at_dell has joined #openstack-infra
2014-07-02T03:27:29  *** mwagner_ has joined #openstack-infra
2014-07-02T03:27:50  *** nosnos has quit IRC
2014-07-02T03:30:16  *** zhiyan has quit IRC
2014-07-02T03:33:11  *** camunoz_away is now known as camunoz
2014-07-02T03:35:03  *** gangil has joined #openstack-infra
2014-07-02T03:37:18  *** zhiyan has joined #openstack-infra
2014-07-02T03:37:50  *** gothicmindfood_ has joined #openstack-infra
2014-07-02T03:37:58  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-07-02T03:39:35  *** zhiyan is now known as zhiyan_
2014-07-02T03:39:35  *** otherwiseguy has quit IRC
2014-07-02T03:40:06  *** otherwiseguy has joined #openstack-infra
2014-07-02T03:40:24  *** zhiyan_ is now known as zhiyan
2014-07-02T03:46:28  *** zhiyan is now known as zhiyan_
2014-07-02T03:48:13  *** talluri has joined #openstack-infra
2014-07-02T03:50:24  *** zhiyan_ is now known as zhiyan
2014-07-02T03:50:57  *** arnaud has joined #openstack-infra
2014-07-02T03:56:08  *** zehicle_at_dell has quit IRC
2014-07-02T03:57:27  *** zehicle_at_dell has joined #openstack-infra
2014-07-02T04:01:27  *** praneshp_ has joined #openstack-infra
2014-07-02T04:01:44  *** asettle has quit IRC
2014-07-02T04:02:06  *** pcrews has quit IRC
2014-07-02T04:02:33  *** zehicle_at_dell has quit IRC
2014-07-02T04:02:52  *** zehicle_at_dell has joined #openstack-infra
2014-07-02T04:02:58  *** lcheng has joined #openstack-infra
2014-07-02T04:04:27  *** praneshp has quit IRC
2014-07-02T04:04:28  *** praneshp_ is now known as praneshp
2014-07-02T04:06:12  *** ArxCruz has quit IRC
2014-07-02T04:07:50  *** zehicle_at_dell has quit IRC
2014-07-02T04:08:40  *** zehicle_at_dell has joined #openstack-infra
2014-07-02T04:09:55  *** garyh has quit IRC
2014-07-02T04:10:19  *** yfried_ has quit IRC
2014-07-02T04:11:17  *** nelsnelson has joined #openstack-infra
2014-07-02T04:12:33  *** olaph has quit IRC
2014-07-02T04:12:55  *** Sukhdev has joined #openstack-infra
2014-07-02T04:16:50  <tchaypo> 12
2014-07-02T04:21:22  *** gothicmindfood_ has quit IRC
2014-07-02T04:25:53  <openstackgerrit> Jamie Lennox proposed a change to openstack/requirements: Add requests-mock package to global requirements  https://review.openstack.org/104067
2014-07-02T04:30:44  *** alexandra_ has joined #openstack-infra
2014-07-02T04:31:05  *** alexandra_ is now known as asettle
2014-07-02T04:31:42  *** dimtruck is now known as zz_dimtruck
2014-07-02T04:32:13  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-07-02T04:32:31  *** crc32 has quit IRC
2014-07-02T04:36:13  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-07-02T04:37:36  *** dims__ has joined #openstack-infra
2014-07-02T04:42:02  *** nosnos has joined #openstack-infra
2014-07-02T04:42:35  *** dims__ has quit IRC
2014-07-02T04:47:23  *** arnaud has quit IRC
2014-07-02T04:49:52  *** arnaud has joined #openstack-infra
2014-07-02T04:53:30  *** yfried_ has joined #openstack-infra
2014-07-02T04:55:09  *** otter768 has quit IRC
2014-07-02T04:55:21  *** colettecello has joined #openstack-infra
2014-07-02T04:56:05  *** gothicmindfood has quit IRC
2014-07-02T05:02:43  *** HACKING-TWITTER has quit IRC
2014-07-02T05:02:44  *** dims__ has joined #openstack-infra
2014-07-02T05:03:11  *** gangil has quit IRC
2014-07-02T05:04:29  *** dstanek is now known as dstanek_zzz
2014-07-02T05:06:58  *** asettle has quit IRC
2014-07-02T05:07:33  *** dims__ has quit IRC
2014-07-02T05:08:00  *** otherwiseguy has quit IRC
2014-07-02T05:08:45  *** colettecello is now known as gothicmindfood
2014-07-02T05:11:29  *** HACKING-TWITTER has joined #openstack-infra
2014-07-02T05:11:45  *** alexandra_ has joined #openstack-infra
2014-07-02T05:15:53  *** otherwiseguy has joined #openstack-infra
2014-07-02T05:16:44  *** marun is now known as marun_afk
2014-07-02T05:16:53  *** gothicmindfood has left #openstack-infra
2014-07-02T05:21:20  *** Ryan_Lane has quit IRC
2014-07-02T05:21:24  *** amitpp has joined #openstack-infra
2014-07-02T05:21:34  *** otherwiseguy has quit IRC
2014-07-02T05:21:38  *** afazekas_ has joined #openstack-infra
2014-07-02T05:22:34  *** HACKING-TWITTER has quit IRC
2014-07-02T05:24:44  *** rwsu has quit IRC
2014-07-02T05:25:20  *** basha has joined #openstack-infra
2014-07-02T05:27:02  *** zul has quit IRC
2014-07-02T05:27:03  *** ildikov has joined #openstack-infra
2014-07-02T05:27:08  *** cody-somerville has quit IRC
2014-07-02T05:27:45  *** cody-somerville has joined #openstack-infra
2014-07-02T05:28:27  *** zul has joined #openstack-infra
2014-07-02T05:28:54  *** gothicmindfood has joined #openstack-infra
2014-07-02T05:29:53  *** HACKING-TWITTER has joined #openstack-infra
2014-07-02T05:31:56  <openstackgerrit> Chris Buccella proposed a change to openstack/requirements: Update glanceclient to 0.13.1  https://review.openstack.org/104070
2014-07-02T05:33:16  *** bdpayne has joined #openstack-infra
2014-07-02T05:33:44  *** gema_ is now known as gema
2014-07-02T05:35:03  *** amitpp has quit IRC
2014-07-02T05:37:27  *** basha has quit IRC
2014-07-02T05:38:02  *** otherwiseguy has joined #openstack-infra
2014-07-02T05:38:11  *** chandan_kumar has joined #openstack-infra
2014-07-02T05:38:33  *** basha has joined #openstack-infra
2014-07-02T05:40:43  *** HACKING-TWITTER has quit IRC
2014-07-02T05:40:55  *** amitpp has joined #openstack-infra
2014-07-02T05:41:25  *** lcheng has quit IRC
2014-07-02T05:42:27  *** otherwiseguy has quit IRC
2014-07-02T05:45:49  *** basha_ has joined #openstack-infra
2014-07-02T05:46:25  *** basha has quit IRC
2014-07-02T05:46:26  *** basha_ is now known as basha
2014-07-02T05:48:32  *** otherwiseguy has joined #openstack-infra
2014-07-02T05:49:38  *** mrmartin has joined #openstack-infra
2014-07-02T05:51:52  *** dstanek_zzz is now known as dstanek
2014-07-02T05:52:09  *** bdpayne has quit IRC
2014-07-02T05:52:55  *** otherwiseguy has quit IRC
2014-07-02T05:53:46  *** ildikov has quit IRC
2014-07-02T05:58:03  *** hdd_ has quit IRC
2014-07-02T05:59:54  *** zz_dimtruck is now known as dimtruck
2014-07-02T06:01:31  *** dstanek is now known as dstanek_zzz
2014-07-02T06:02:19  *** rcarrillocruz has joined #openstack-infra
2014-07-02T06:03:27  *** dims__ has joined #openstack-infra
2014-07-02T06:03:39  *** nati_ueno has quit IRC
2014-07-02T06:04:03  *** rcarrill` has quit IRC
2014-07-02T06:04:45  *** HACKING-TWITTER has joined #openstack-infra
2014-07-02T06:06:01  *** dstanek_zzz is now known as dstanek
2014-07-02T06:08:46  *** dims__ has quit IRC
2014-07-02T06:09:46  *** akuznetsova has joined #openstack-infra
2014-07-02T06:10:10  *** mrmartin has quit IRC
2014-07-02T06:11:10  *** Sukhdev has quit IRC
2014-07-02T06:13:58  <superbee> FYI re gerrit release "There is a major regression in 2.8.6 that causes exceptions in database transactions."
2014-07-02T06:14:21  <StevenK> superbee: ... Yay?
2014-07-02T06:14:34  <superbee> StevenK: it probably won't affect us
2014-07-02T06:14:46  <superbee> because we don't upgrade quickly
2014-07-02T06:14:55  <superbee> but there was talk at one point of maybe upgraded soonish
2014-07-02T06:15:42  *** dstanek is now known as dstanek_zzz
2014-07-02T06:16:03  *** HACKING-TWITTER has quit IRC
2014-07-02T06:16:21  <akuznetsova> Hi all, I updated requirement in one repository due to global-requirements from master branch and got this http://logs.openstack.org/08/103908/1/check/gate-mistral-pep8/2016953/console.html
2014-07-02T06:16:37  *** nati_ueno has joined #openstack-infra
2014-07-02T06:16:43  <akuznetsova> Can somebody explain me what the problem is?
2014-07-02T06:17:36  <superbee> akuznetsova: ideally you shouldn't depend on pep8 and flake8 directly. instead hacking will pull it what it needs
2014-07-02T06:17:52  <superbee> akuznetsova: I believe the problem is the version specified there is different that what hacking specifies
2014-07-02T06:18:17  <superbee> or flake8
2014-07-02T06:18:34  <akuznetsova> should I just remove pep8 and flake8 from my requirements?
2014-07-02T06:18:47  <superbee> yes I think so
2014-07-02T06:19:28  <akuznetsova> superbee, thanks, I will try
2014-07-02T06:27:27  *** jdahlin has quit IRC
2014-07-02T06:29:39  *** gokrokve has quit IRC
2014-07-02T06:32:00  *** HACKING-TWITTER has joined #openstack-infra
2014-07-02T06:34:29  *** rcarrill` has joined #openstack-infra
2014-07-02T06:35:10  *** ildikov has joined #openstack-infra
2014-07-02T06:36:54  *** rcarrillocruz has quit IRC
2014-07-02T06:37:30  *** dimtruck is now known as zz_dimtruck
2014-07-02T06:38:02  *** rfolco has quit IRC
2014-07-02T06:40:52  *** ildikov has quit IRC
2014-07-02T06:41:56  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-07-02T06:47:10  *** HACKING-TWITTER has quit IRC
2014-07-02T06:47:19  *** doude has joined #openstack-infra
2014-07-02T06:47:26  *** alexandra_ has quit IRC
2014-07-02T06:49:49  *** dstufft|laptop has quit IRC
2014-07-02T06:51:02  *** nati_ueno has quit IRC
2014-07-02T06:51:32  *** tkelsey has joined #openstack-infra
2014-07-02T06:55:48  <openstackgerrit> Valeriy Ponomaryov proposed a change to openstack-infra/config: Added devstack job for manila  https://review.openstack.org/99933
2014-07-02T06:56:23  *** GheRivero_afk is now known as GheRivero
2014-07-02T07:00:32  *** gokrokve has joined #openstack-infra
2014-07-02T07:01:38  *** pcrews has joined #openstack-infra
2014-07-02T07:02:15  *** rdopieralski has joined #openstack-infra
2014-07-02T07:02:20  *** gokrokve_ has joined #openstack-infra
2014-07-02T07:04:08  <openstackgerrit> A change was merged to openstack-infra/config: Fixing deprecation warnings  https://review.openstack.org/101045
2014-07-02T07:04:09  *** gokrokv__ has joined #openstack-infra
2014-07-02T07:04:55  *** gokrokve has quit IRC
2014-07-02T07:06:15  *** mrmartin has joined #openstack-infra
2014-07-02T07:07:03  *** gokrokve_ has quit IRC
2014-07-02T07:08:52  *** gokrokv__ has quit IRC
2014-07-02T07:11:13  *** rdopieralski has quit IRC
2014-07-02T07:11:29  *** mrda is now known as mrda_away
2014-07-02T07:17:44  *** pcrews has quit IRC
2014-07-02T07:19:53  *** ociuhandu has joined #openstack-infra
2014-07-02T07:19:54  *** flaper87|afk is now known as flaper87
2014-07-02T07:24:14  *** jlibosva has joined #openstack-infra
2014-07-02T07:24:28  *** mrmartin has quit IRC
2014-07-02T07:25:00  *** afazekas_ is now known as afazekas
2014-07-02T07:26:57  *** otherwiseguy has joined #openstack-infra
2014-07-02T07:28:52  *** andreykurilin_ has joined #openstack-infra
2014-07-02T07:29:17  *** mzoeller has joined #openstack-infra
2014-07-02T07:31:05  *** arnaud has quit IRC
2014-07-02T07:31:46  *** otherwiseguy has quit IRC
2014-07-02T07:32:49  *** otherwiseguy has joined #openstack-infra
2014-07-02T07:33:47  *** hashar has joined #openstack-infra
2014-07-02T07:34:52  <mattoliverau> night all
2014-07-02T07:34:59  <mattoliverau> its dinner making time!
2014-07-02T07:35:31  *** flaper87 is now known as flaper87|afk
2014-07-02T07:37:12  *** otherwiseguy has quit IRC
2014-07-02T07:38:00  *** pblaho has joined #openstack-infra
2014-07-02T07:38:16  <openstackgerrit> Radoslav Gerganov proposed a change to openstack-infra/config: Add button that shows/hides CI comments in Gerrit  https://review.openstack.org/95743
2014-07-02T07:38:20  *** jcoufal has joined #openstack-infra
2014-07-02T07:38:44  *** praneshp has quit IRC
2014-07-02T07:39:47  <openstackgerrit> A change was merged to openstack-infra/nodepool: Update pbr version  https://review.openstack.org/103347
2014-07-02T07:42:46  <rgerganov> mordred, are you around?
2014-07-02T07:45:23  *** mkerrin has joined #openstack-infra
2014-07-02T07:47:46  *** camunoz is now known as camunoz_gone
2014-07-02T07:50:45  *** Hal_ has joined #openstack-infra
2014-07-02T07:50:59  *** ildikov has joined #openstack-infra
2014-07-02T07:51:22  *** mestery has quit IRC
2014-07-02T07:53:28  *** andreykurilin_ has quit IRC
2014-07-02T07:53:54  *** lcheng has joined #openstack-infra
2014-07-02T07:54:52  *** basha has quit IRC
2014-07-02T07:55:29  *** basha has joined #openstack-infra
2014-07-02T07:55:45  *** mestery has joined #openstack-infra
2014-07-02T07:56:04  *** jpich has joined #openstack-infra
2014-07-02T07:57:43  *** penguinRaider has joined #openstack-infra
2014-07-02T08:00:00  *** markmc has joined #openstack-infra
2014-07-02T08:00:59  <tteggel> hpcloud have a nova deploy going on this morning GMT. starting in 30 mins. expect some api calls to fail.
2014-07-02T08:03:41  <hashar> rgerganov: mordred has been idle for 2h30m, he is most probably sleeping by now
2014-07-02T08:04:03  <hashar> SergeyLukjanov: <tteggel>	 hpcloud have a nova deploy going on this morning GMT. starting in 30 mins. expect some api calls to fail.
2014-07-02T08:04:15  <hashar> SergeyLukjanov: I think you are the only one with access at this time of the day :D
2014-07-02T08:04:34  <rgerganov> hashar, I am looking for someone that can make a very simple change on review-dev.openstack.org
2014-07-02T08:04:39  <rgerganov> hashar, do you know anyone?
2014-07-02T08:04:57  *** gokrokve has joined #openstack-infra
2014-07-02T08:06:17  *** dims__ has joined #openstack-infra
2014-07-02T08:06:39  <hashar> rgerganov: if you are logged in with your launchpad account you can browse the All-Projects rights https://review-dev.openstack.org/#/admin/projects/All-Projects,access
2014-07-02T08:07:08  <hashar> I can't list members of the Administrators group though
2014-07-02T08:08:44  <SergeyLukjanov> hashar, hey
2014-07-02T08:09:22  <hashar> rgerganov: I guess anyone that did a change recently most probably has admin rights. You might want to ask on the infra mailing list.  But maybe everything is puppetized and you can do the change in openstack-infra/config.git
2014-07-02T08:09:36  *** gokrokve has quit IRC
2014-07-02T08:09:49  <rgerganov> hashar, thanks;  I am looking for someone that can modify files on the server; specifically https://review-dev.openstack.org/static/hideci.js
2014-07-02T08:10:11  <hashar> SergeyLukjanov: I guess hpcloud would no more respond to nodepool requests for a little bit. No clue about the impact :D
2014-07-02T08:10:34  <SergeyLukjanov> hashar, I think that it shouldn't break anything
2014-07-02T08:10:50  <hashar> rgerganov: apparently not in puppet. So I have no clue :/
2014-07-02T08:11:04  *** dims__ has quit IRC
2014-07-02T08:11:11  <SergeyLukjanov> we've implemented some mechanisms for non-responding clouds before enabling tripleo cloud
2014-07-02T08:11:12  *** IvanBerezovskiy has joined #openstack-infra
2014-07-02T08:12:14  <hashar> sounds good :-]
2014-07-02T08:12:18  *** yfried_ has quit IRC
2014-07-02T08:13:24  *** yfried_ has joined #openstack-infra
2014-07-02T08:13:59  *** yfried_ has joined #openstack-infra
2014-07-02T08:14:17  *** amitpp has quit IRC
2014-07-02T08:14:31  *** oomichi has quit IRC
2014-07-02T08:14:41  *** amitpp has joined #openstack-infra
2014-07-02T08:16:28  *** fifieldt_ has joined #openstack-infra
2014-07-02T08:17:03  *** flaper87|afk is now known as flaper87
2014-07-02T08:18:16  *** yfried_ has quit IRC
2014-07-02T08:18:30  *** yfried has joined #openstack-infra
2014-07-02T08:18:47  *** fifieldt has quit IRC
2014-07-02T08:19:47  *** ihrachyshka has joined #openstack-infra
2014-07-02T08:19:55  <openstackgerrit> Nikita Konovalov proposed a change to openstack-infra/infra-specs: StoryBoard search spec  https://review.openstack.org/97254
2014-07-02T08:20:26  *** guangjun has joined #openstack-infra
2014-07-02T08:21:18  *** lcheng has quit IRC
2014-07-02T08:26:10  *** basha has quit IRC
2014-07-02T08:26:20  *** Hal_ has quit IRC
2014-07-02T08:26:23  *** jp_at_hp has joined #openstack-infra
2014-07-02T08:26:44  *** lcheng has joined #openstack-infra
2014-07-02T08:26:45  *** Hal_ has joined #openstack-infra
2014-07-02T08:30:07  *** gokrokve has joined #openstack-infra
2014-07-02T08:31:56  *** fifieldt_ is now known as fifieldt
2014-07-02T08:32:22  *** otherwiseguy has joined #openstack-infra
2014-07-02T08:33:41  <openstackgerrit> A change was merged to openstack-infra/config: Adds a docs-specs repository  https://review.openstack.org/103115
2014-07-02T08:34:31  *** gokrokve has quit IRC
2014-07-02T08:35:19  *** Hal_ has quit IRC
2014-07-02T08:36:52  *** otherwiseguy has quit IRC
2014-07-02T08:41:12  *** derekh_ has joined #openstack-infra
2014-07-02T08:42:29  *** yfried has quit IRC
2014-07-02T08:43:45  *** dizquierdo has joined #openstack-infra
2014-07-02T08:47:12  *** MIDENN_ has quit IRC
2014-07-02T08:47:44  *** mdenny has joined #openstack-infra
2014-07-02T08:48:07  *** jcoufal has quit IRC
2014-07-02T08:48:46  *** jgallard has joined #openstack-infra
2014-07-02T08:50:54  *** Hal_ has joined #openstack-infra
2014-07-02T08:53:48  *** mrmartin has joined #openstack-infra
2014-07-02T08:55:20  <openstackgerrit> A change was merged to openstack-infra/config: Index the os-collect-config logs in tripleo jobs  https://review.openstack.org/99950
2014-07-02T08:56:23  *** pelix has joined #openstack-infra
2014-07-02T09:00:27  *** gema has quit IRC
2014-07-02T09:00:33  *** e0ne has joined #openstack-infra
2014-07-02T09:02:19  *** penguinRaider has left #openstack-infra
2014-07-02T09:02:25  *** gema has joined #openstack-infra
2014-07-02T09:02:40  *** gokrokve has joined #openstack-infra
2014-07-02T09:03:26  *** Longgeek has joined #openstack-infra
2014-07-02T09:03:27  *** NikitaKo_ has joined #openstack-infra
2014-07-02T09:03:32  *** Longgeek has quit IRC
2014-07-02T09:03:53  *** gokrokve has quit IRC
2014-07-02T09:04:30  *** gokrokve has joined #openstack-infra
2014-07-02T09:04:42  *** Longgeek has joined #openstack-infra
2014-07-02T09:07:30  *** dims__ has joined #openstack-infra
2014-07-02T09:09:11  *** gokrokve has quit IRC
2014-07-02T09:12:04  *** dims__ has quit IRC
2014-07-02T09:17:46  *** zz_johnthetubagu is now known as johnthetubaguy
2014-07-02T09:18:28  *** tcammann_ has joined #openstack-infra
2014-07-02T09:19:51  <tcammann_> Hey the gate-oslo-incubator-python33 job has been failing consistently for the last 8 hours or so. e.g. https://review.openstack.org/#/c/99695/ Any ideas?
2014-07-02T09:20:52  <openstackgerrit> Christian Hofstädtler proposed a change to openstack-infra/jenkins-job-builder: Add Gitlab Merge Request trigger  https://review.openstack.org/104120
2014-07-02T09:24:34  *** andreaf has joined #openstack-infra
2014-07-02T09:25:18  <markmc> tcammann_, looks like pycrypto isn't building
2014-07-02T09:25:39  *** maxbit has quit IRC
2014-07-02T09:25:49  <therve> I think it's more failing with the Routes dependency
2014-07-02T09:26:42  <openstackgerrit> Christian Hofstädtler proposed a change to openstack-infra/jenkins-job-builder: Add Gitlab Merge Request trigger  https://review.openstack.org/104120
2014-07-02T09:27:23  <pelix> hashar: any idea as to why the bug in mina-sshd wouldn't be ticked if using a host key generated with openssl?
2014-07-02T09:27:45  <hashar> pelix: glad you ask: I have no clue :-(
2014-07-02T09:27:58  <pelix> lol
2014-07-02T09:28:58  <pelix> should we push to have the hash mismatch patch added in the mean time to git-review or wait until a fixed version of gerrit appears?
2014-07-02T09:29:13  <hashar> pelix: I reproduced the issue with some old version of Gerrit I had.  I am fighting to upgrade the Gerrit with the version that might fix the issue
2014-07-02T09:29:34  <hashar> how is Gerrit installed in the git-review integration tests ?
2014-07-02T09:29:43  <hashar> Gerrit Code Review 2.8.1-4-ga1048ce ready
2014-07-02T09:29:43  <hashar>  \O/
2014-07-02T09:30:11  <pelix> downloaded from http://gerrit-releases.storage.googleapis.com/
2014-07-02T09:31:32  <openstackgerrit> Christian Hofstädtler proposed a change to openstack-infra/jenkins-job-builder: Add Gitlab Merge Request trigger  https://review.openstack.org/104120
2014-07-02T09:33:10  <hashar> pelix: Christian (our Gerrit/Java guru) cherry picked a few patches and crafted me http://quelltextlich.at/gerrit-2.8.1-4-ga1048ce.war
2014-07-02T09:33:21  <hashar> might want to mirror that to some place and try running tests with it
2014-07-02T09:33:35  <hashar> that fix the hash mismatch issue for me
2014-07-02T09:33:40  <openstackgerrit> Sergey Skripnick proposed a change to openstack-infra/devstack-gate: Add option to enable profiling  https://review.openstack.org/104123
2014-07-02T09:33:43  <hashar> might cause over bugs though (we never know)
2014-07-02T09:33:54  <pelix> :D
2014-07-02T09:35:08  <openstackgerrit> Sergey Skripnick proposed a change to openstack-infra/devstack-gate: Add option to enable profiling  https://review.openstack.org/104123
2014-07-02T09:38:16  *** ch has joined #openstack-infra
2014-07-02T09:38:39  <tcammann_> markmc: Looks like the wheel package was updated yesterday
2014-07-02T09:39:34  *** liusheng is now known as liusheng-leave
2014-07-02T09:39:40  <ch> hi! i've got technical trouble signing the icla on review.o.o -> Server Error/
2014-07-02T09:40:01  <ch> Cannot store contact information; what am i doing wrong?
2014-07-02T09:40:23  *** MIDENN_ has joined #openstack-infra
2014-07-02T09:40:27  *** mdenny has quit IRC
2014-07-02T09:44:01  <hashar> pelix: our bug report will be updated with bit more details ( https://bugzilla.wikimedia.org/show_bug.cgi?id=53895 )
2014-07-02T09:45:59  <pelix> hashar: going to try testing with gerrit-2.8.6 since David Pursehouse did a release this morning
2014-07-02T09:46:01  <pelix> :0
2014-07-02T09:46:09  <pelix> or :) rather
2014-07-02T09:46:42  <hashar> pelix: might not have the mina sshd patch though
2014-07-02T09:46:50  *** ch has left #openstack-infra
2014-07-02T09:46:57  <pelix> it does, but apparently it also has a DB regression, nuts
2014-07-02T09:47:02  <hashar> nice!
2014-07-02T09:47:33  <tcammann_> I believe the gate-oslo-incubator-python33 is failing due to the wheel releasing v0.23.0 yesterday https://pypi.python.org/pypi/wheel and the Routes is now for some reason invalid. We should change the requirements to use 0.22.0 or below.
2014-07-02T09:48:03  <tcammann_> Routes uses the .whl format
2014-07-02T09:48:50  <pelix> hashar: hopefully he should have a new release sometime in the next day or two that fixes the DB regression, so for git-review it should be as simple as pointing at the new release.
2014-07-02T09:51:42  <hashar> pelix: awesome! Looking forward to the tests finally passing reliably
2014-07-02T09:51:55  *** MIDENN_ has quit IRC
2014-07-02T09:52:01  <derekh_> In the last hour a commit merged so that tripleo os-collect-config logs are indexed by logstash, but the "message" is being populated with %{logmessage} instead of actual data, has anybody got any idea why ? http://logstash.openstack.org/#eyJzZWFyY2giOiJ0YWdzOm9zLWNvbGxlY3QtY29uZmlnIiwiZmllbGRzIjpbXSwib2Zmc2V0IjowLCJ0aW1lZnJhbWUiOiI5MDAiLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsidXNlcl9pbnRlcnZhbCI6MH0sIm1vZGUiOiIiLCJhbmFseXplX2ZpZWxkIjoiIiwic3RhbXAi
2014-07-02T09:52:01  <derekh_> OjE0MDQyOTQ1MjA3NTJ9
2014-07-02T09:52:10  <derekh_> http://logstash.openstack.org/#eyJzZWFyY2giOiJ0YWdzOm9zLWNvbGxlY3QtY29uZmlnIiwiZmllbGRzIjpbXSwib2Zmc2V0IjowLCJ0aW1lZnJhbWUiOiI5MDAiLCJncmFwaG1vZGUiOiJjb3VudCIsInRpbWUiOnsidXNlcl9pbnRlcnZhbCI6MH0sIm1vZGUiOiIiLCJhbmFseXplX2ZpZWxkIjoiIiwic3RhbXAiOjE0MDQyOTQ1MjA3NTJ9
2014-07-02T09:52:12  *** mdenny has joined #openstack-infra
2014-07-02T09:52:42  *** mkoderer has quit IRC
2014-07-02T09:53:34  <tteggel> hpcloud deploy complete "Normality has been restored. Anything you can't cope with is therefore your own problem." :)
2014-07-02T09:55:59  *** unicell1 has joined #openstack-infra
2014-07-02T09:56:09  *** basha has joined #openstack-infra
2014-07-02T09:58:16  *** unicell has quit IRC
2014-07-02T10:02:36  *** gokrokve has joined #openstack-infra
2014-07-02T10:02:38  *** guangjun has quit IRC
2014-07-02T10:03:27  *** Longgeek has quit IRC
2014-07-02T10:03:59  *** Longgeek has joined #openstack-infra
2014-07-02T10:07:19  *** gokrokve has quit IRC
2014-07-02T10:07:47  *** skolekonov has joined #openstack-infra
2014-07-02T10:07:53  *** Longgeek has quit IRC
2014-07-02T10:08:17  *** dims__ has joined #openstack-infra
2014-07-02T10:11:25  *** unicell1 has quit IRC
2014-07-02T10:11:59  *** hashar has quit IRC
2014-07-02T10:12:15  *** hashar has joined #openstack-infra
2014-07-02T10:13:01  *** jcoufal has joined #openstack-infra
2014-07-02T10:13:03  *** dims__ has quit IRC
2014-07-02T10:14:47  *** jgallard has quit IRC
2014-07-02T10:15:58  *** Hal_ has quit IRC
2014-07-02T10:21:45  *** Longgeek has joined #openstack-infra
2014-07-02T10:22:09  *** lcheng has quit IRC
2014-07-02T10:24:07  *** NikitaKo_ has quit IRC
2014-07-02T10:27:27  *** lcheng has joined #openstack-infra
2014-07-02T10:32:05  *** matrohon has quit IRC
2014-07-02T10:32:58  *** dims__ has joined #openstack-infra
2014-07-02T10:38:52  *** roeyc has joined #openstack-infra
2014-07-02T10:41:27  *** fabo has quit IRC
2014-07-02T10:41:58  *** fabo has joined #openstack-infra
2014-07-02T10:43:00  <openstackgerrit> Roman Podoliaka proposed a change to openstack-infra/config: Test oslo.db against all supported SA branches  https://review.openstack.org/104134
2014-07-02T10:45:22  *** matrohon has joined #openstack-infra
2014-07-02T10:46:53  <sdague> derekh_: I don't think any of the grok rules actually match your logs
2014-07-02T10:49:20  *** mdenny has quit IRC
2014-07-02T10:49:24  <sdague> where is your log format definition for these logs in the logstash indexer?
2014-07-02T10:49:46  *** mdenny has joined #openstack-infra
2014-07-02T10:54:52  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: Restrict 1336172 query on build_name  https://review.openstack.org/103933
2014-07-02T10:57:37  *** ildikov_ has joined #openstack-infra
2014-07-02T10:57:42  *** andreykurilin_ has joined #openstack-infra
2014-07-02T10:59:13  <derekh_> sdague: I didn't know there was such a thing, so I guess they need to be added to agent.conf ?
2014-07-02T10:59:45  *** asselin has quit IRC
2014-07-02T10:59:55  *** asselin has joined #openstack-infra
2014-07-02T11:00:20  *** ildikov has quit IRC
2014-07-02T11:02:23  <sdague> ok, how did you expect this to work? :) Maybe we can work backwards from there and figure out what's missing in the config.
2014-07-02T11:02:31  *** gokrokve has joined #openstack-infra
2014-07-02T11:03:51  *** e0ne has quit IRC
2014-07-02T11:03:57  *** maxbit has joined #openstack-infra
2014-07-02T11:05:41  <derekh_> sdague: I thought that I told logstash the file to index and then it just appeared, anyways will push an update to the config
2014-07-02T11:05:47  <derekh_> once I figure it out
2014-07-02T11:06:49  <derekh_> bbiab
2014-07-02T11:06:50  <sdague> so you need to tell it the kind of file it is, as we used that for indexing.
2014-07-02T11:07:04  <sdague> I think the issue is you need to add syslog to the tags
2014-07-02T11:07:11  <sdague> because these look like syslog files
2014-07-02T11:07:38  <derekh_> sdague: cool, will have an update in a bit, once I'm back, thanks
2014-07-02T11:08:15  *** gokrokve has quit IRC
2014-07-02T11:10:26  *** Longgeek has quit IRC
2014-07-02T11:10:54  *** Longgeek has joined #openstack-infra
2014-07-02T11:12:26  *** andreykurilin_ has quit IRC
2014-07-02T11:15:06  *** otherwiseguy has joined #openstack-infra
2014-07-02T11:16:39  *** yaguang has quit IRC
2014-07-02T11:19:06  *** otherwiseguy has quit IRC
2014-07-02T11:23:08  *** hashar has quit IRC
2014-07-02T11:26:45  <ttx> notmyname: for swift 2.0.0-rc2 I think the right way to do it at this point would be to cut a temporary proposed/2.0.0 branch and backport to that.
2014-07-02T11:27:23  <ttx> we might need https://review.openstack.org/#/c/102822/ to merge first though (support for proposed/* ACLs)
2014-07-02T11:29:42  <ttx> foobio: when you're up, consider re-approving ^ and modifying https://$GERRIT/#/admin/projects/All-Projects,access too
2014-07-02T11:30:16  *** yaguang has joined #openstack-infra
2014-07-02T11:32:06  *** tkelsey has quit IRC
2014-07-02T11:33:27  *** e0ne has joined #openstack-infra
2014-07-02T11:33:42  *** bcrochet|afk is now known as bcrochet
2014-07-02T11:40:18  *** mkoderer has joined #openstack-infra
2014-07-02T11:45:48  *** julim has joined #openstack-infra
2014-07-02T11:47:52  *** ArxCruz has joined #openstack-infra
2014-07-02T11:50:49  *** amitpp has quit IRC
2014-07-02T11:54:03  *** NikitaKo_ has joined #openstack-infra
2014-07-02T11:54:41  <openstackgerrit> Kashyap Chamarthy proposed a change to openstack-infra/elastic-recheck: Add query for Ceilometer timeout - bug 1336755  https://review.openstack.org/104160
2014-07-02T11:54:42  <uvirtbot> Launchpad bug 1336755 in ceilometer "telemetry_notification_api.py test times out waiting for Nova notification" [Undecided,New] https://launchpad.net/bugs/1336755
2014-07-02T11:55:49  *** saper has joined #openstack-infra
2014-07-02T11:55:52  *** NikitaKo_ has quit IRC
2014-07-02T11:56:48  *** NikitaKo_ has joined #openstack-infra
2014-07-02T11:58:39  <openstackgerrit> A change was merged to openstack-infra/config: Change ACLs to apply on proposed/* branches  https://review.openstack.org/102822
2014-07-02T11:59:02  *** nosnos has quit IRC
2014-07-02T11:59:35  *** nosnos has joined #openstack-infra
2014-07-02T12:00:29  *** Shrews has quit IRC
2014-07-02T12:01:46  *** yaguang has quit IRC
2014-07-02T12:02:18  *** rlandy has joined #openstack-infra
2014-07-02T12:02:21  *** Shrews has joined #openstack-infra
2014-07-02T12:02:38  *** gokrokve has joined #openstack-infra
2014-07-02T12:02:52  *** Longgeek_ has joined #openstack-infra
2014-07-02T12:03:27  *** mbacchi has joined #openstack-infra
2014-07-02T12:04:08  *** nosnos has quit IRC
2014-07-02T12:04:24  *** jgallard has joined #openstack-infra
2014-07-02T12:06:03  *** Longgeek has quit IRC
2014-07-02T12:06:37  <openstackgerrit> Jamie Lennox proposed a change to openstack/requirements: Add requests-mock package to global requirements  https://review.openstack.org/104067
2014-07-02T12:06:44  *** unicell has joined #openstack-infra
2014-07-02T12:07:17  *** basha has quit IRC
2014-07-02T12:07:34  *** gokrokve has quit IRC
2014-07-02T12:07:40  *** Longgeek_ has quit IRC
2014-07-02T12:08:17  *** Longgeek has joined #openstack-infra
2014-07-02T12:08:57  *** mugsie has joined #openstack-infra
2014-07-02T12:14:14  *** otherwiseguy has joined #openstack-infra
2014-07-02T12:15:04  *** annegent_ has joined #openstack-infra
2014-07-02T12:15:33  *** alexpilotti has joined #openstack-infra
2014-07-02T12:16:39  *** rfolco has joined #openstack-infra
2014-07-02T12:18:23  *** yaguang has joined #openstack-infra
2014-07-02T12:18:59  *** otherwiseguy has quit IRC
2014-07-02T12:19:49  *** doug-fish has joined #openstack-infra
2014-07-02T12:21:54  *** annegent_ is now known as annegentle_
2014-07-02T12:22:16  *** mdenny has quit IRC
2014-07-02T12:22:30  <openstackgerrit> Cyril Roelandt proposed a change to openstack/requirements: Bump glanceclient to 0.13.1  https://review.openstack.org/104170
2014-07-02T12:22:54  *** mdenny has joined #openstack-infra
2014-07-02T12:23:11  <openstackgerrit> A change was merged to openstack/requirements: Add python-marconiclient  https://review.openstack.org/102806
2014-07-02T12:25:25  *** doude has quit IRC
2014-07-02T12:25:42  <openstackgerrit> A change was merged to openstack/requirements: Update python-cinderclient>=1.0.7  https://review.openstack.org/103056
2014-07-02T12:27:19  *** pdmars has joined #openstack-infra
2014-07-02T12:27:30  <openstackgerrit> Andreas Jaeger proposed a change to openstack/requirements: Update openstack-doc-tools  https://review.openstack.org/104171
2014-07-02T12:29:14  *** dstanek_zzz is now known as dstanek
2014-07-02T12:30:28  *** doude has joined #openstack-infra
2014-07-02T12:31:21  *** pdmars_ has joined #openstack-infra
2014-07-02T12:31:33  *** pdmars has quit IRC
2014-07-02T12:31:59  <openstackgerrit> A change was merged to openstack-infra/release-tools: Add bug-deferral feature to process_bugs.py  https://review.openstack.org/102218
2014-07-02T12:32:30  <openstackgerrit> A change was merged to openstack-infra/release-tools: Support proposed/* branches in release scripts  https://review.openstack.org/102831
2014-07-02T12:34:37  *** Hal_ has joined #openstack-infra
2014-07-02T12:35:35  *** mestery has quit IRC
2014-07-02T12:37:50  *** hashar has joined #openstack-infra
2014-07-02T12:38:14  *** talluri has quit IRC
2014-07-02T12:38:48  *** talluri has joined #openstack-infra
2014-07-02T12:39:10  *** mestery has joined #openstack-infra
2014-07-02T12:39:40  *** otherwiseguy has joined #openstack-infra
2014-07-02T12:39:53  *** unicell has quit IRC
2014-07-02T12:40:42  <openstackgerrit> A change was merged to openstack-infra/release-tools: Support swift and oslo milestone releases  https://review.openstack.org/99892
2014-07-02T12:42:21  *** BobBall_ has joined #openstack-infra
2014-07-02T12:42:28  <openstackgerrit> A change was merged to openstack-infra/release-tools: The argparse module was added in requirements  https://review.openstack.org/103389
2014-07-02T12:42:32  *** BobBall has quit IRC
2014-07-02T12:43:19  *** talluri has quit IRC
2014-07-02T12:44:37  *** dprince has joined #openstack-infra
2014-07-02T12:45:29  <rgerganov> sdague, hi, do you have credentials for review-dev.openstack.org? I'd like to make a one line change in hideci.js
2014-07-02T12:45:52  *** adalbas has joined #openstack-infra
2014-07-02T12:45:54  <sdague> rgerganov: no, sorry.
2014-07-02T12:46:03  <sdague> SergeyLukjanov or foobio probably do
2014-07-02T12:46:47  <rgerganov> sorry for bothering you guys, but there is no easy way to test this locally
2014-07-02T12:47:12  *** BobBall_ has quit IRC
2014-07-02T12:47:20  *** BobBall has joined #openstack-infra
2014-07-02T12:47:44  *** BobBall is now known as Guest60921
2014-07-02T12:50:00  *** unicell has joined #openstack-infra
2014-07-02T12:50:57  <SergeyLukjanov> rgerganov, hey
2014-07-02T12:51:15  <SergeyLukjanov> rgerganov, which kind of access do you need?
2014-07-02T12:51:52  <rgerganov> SergeyLukjanov, I'd like to change ciRegex in https://review-dev.openstack.org/static/hideci.js
2014-07-02T12:52:04  *** baohua has quit IRC
2014-07-02T12:52:18  <rgerganov> SergeyLukjanov, it should be / Dev$/
2014-07-02T12:52:27  *** baohua has joined #openstack-infra
2014-07-02T12:52:41  <rgerganov> that is a hack to test my pending patch for hiding CI comments
2014-07-02T12:52:57  *** dims__ has quit IRC
2014-07-02T12:52:58  <SergeyLukjanov> Zwkrgybi864957
2014-07-02T12:53:13  *** julim has quit IRC
2014-07-02T12:53:24  <SergeyLukjanov> storing my tab name here ;)
2014-07-02T12:53:26  *** dims__ has joined #openstack-infra
2014-07-02T12:54:07  <SergeyLukjanov> rgerganov, it should be updated on the host?
2014-07-02T12:54:17  <rgerganov> SergeyLukjanov, yes
2014-07-02T12:54:27  *** weshay has joined #openstack-infra
2014-07-02T12:54:38  *** julim has joined #openstack-infra
2014-07-02T12:55:04  *** radez_g0n3 is now known as radez
2014-07-02T12:55:19  <foobio> looks like /home/gerrit2/review_site/static/hideci.js on review-dev was last updated three days ago
2014-07-02T12:55:35  <SergeyLukjanov> foobio, morning
2014-07-02T12:55:38  *** annegentle_ has quit IRC
2014-07-02T12:55:51  <SergeyLukjanov> foobio, I'm going to update it now, is it ok?
2014-07-02T12:55:59  <rgerganov> foobio, yeah, mordred deployed it
2014-07-02T12:57:11  <foobio> SergeyLukjanov: sure, go ahead. i was hoping we had a small puppet change to deploy it just to review-dev, but apparently not
2014-07-02T12:57:26  <foobio> looks like it was just done manually
2014-07-02T12:57:29  <SergeyLukjanov> foobio, yeah, I've not find it too
2014-07-02T12:57:44  *** jlibosva has quit IRC
2014-07-02T12:58:09  <SergeyLukjanov> rgerganov, done
2014-07-02T12:58:09  *** dkranz has joined #openstack-infra
2014-07-02T12:58:15  <rgerganov> SergeyLukjanov, thanks!
2014-07-02T12:59:10  <foobio> SergeyLukjanov: looks like it may also require a gerrit restart there (at least i see one in the shell history performed immediately following mordred's edit)
2014-07-02T12:59:19  *** jlibosva has joined #openstack-infra
2014-07-02T12:59:25  *** pblaho has quit IRC
2014-07-02T12:59:28  <rgerganov> hm, the rest of the changes are gone
2014-07-02T12:59:35  <SergeyLukjanov> foobio, the js script updated already
2014-07-02T12:59:41  <SergeyLukjanov> foobio, https://review-dev.openstack.org/static/hideci.js
2014-07-02T13:00:00  <rgerganov> what about GerritSiteHeader.html? I think it is reverted
2014-07-02T13:00:15  <rgerganov> the "Toggle CI" button doesn't show up
2014-07-02T13:00:38  *** BobBall_ has joined #openstack-infra
2014-07-02T13:01:18  <kashyap> Heya folks, Sean Dague suggested an idea on #openstack-qa to host the Fedora image (for DevStack download) to tarballs.openstack.org/fedora since there have been mirroring issues from external mirrors
2014-07-02T13:01:55  *** mdenny has quit IRC
2014-07-02T13:01:56  *** BobBall_ is now known as GnomeKing
2014-07-02T13:02:04  *** dangers_away is now known as dangers
2014-07-02T13:02:26  *** mfer has joined #openstack-infra
2014-07-02T13:02:39  *** gokrokve has joined #openstack-infra
2014-07-02T13:02:43  <rgerganov> SergeyLukjanov, foobio now my browser requests https://review-dev.openstack.org/static/hideci.js?e=5d13164c690e5a28d09de3e94155baa8 which result in 404
2014-07-02T13:03:39  <rgerganov> I have no idea where this URL parameter comes from
2014-07-02T13:03:48  *** chandan_kumar is now known as chandankumar
2014-07-02T13:03:59  *** Guest60921 has quit IRC
2014-07-02T13:05:22  <foobio> rgerganov: is it possible the other files are managed by puppet? if so, it probably overwrote them back to their previous contents configured in the openstack-infra/config project
2014-07-02T13:05:31  *** tkelsey has joined #openstack-infra
2014-07-02T13:05:53  <kashyap> I wonder what do admins here think for the above suggestion
2014-07-02T13:06:12  <rgerganov> foobio, this is the puppet change in my patch: https://review.openstack.org/#/c/95743/7/modules/openstack_project/manifests/gerrit.pp
2014-07-02T13:06:20  *** yaguang has quit IRC
2014-07-02T13:06:35  <foobio> kashyap: that seems like something we'd only want to turn on in our automated test runs, and not in general for all users of devstack. also having some mechanism to update that cached copy when upstream's image gets changed would probably be warranted
2014-07-02T13:06:54  <kashyap> afazekas, sdague ^
2014-07-02T13:07:03  *** gokrokve has quit IRC
2014-07-02T13:07:17  <kashyap> foobio, Why not for all users of devstack? Just asking out of ignorance
2014-07-02T13:07:35  <foobio> kashyap: we already cache it onto our devstack snapshot images using nodepool, anyway, so it shouldn't be downloaded on every run, but only when we're creating new images
2014-07-02T13:08:06  <foobio> kashyap: we're not the fedora project, so ideally we shouldn't expect devstack users to get fedora images from us
2014-07-02T13:08:35  <foobio> kashyap: just like we don't intend for devstack users to get pypi packages from our pypi mirror, but rather from the real pypi
2014-07-02T13:08:39  <kashyap> foobio, True, this is not a long term solution,
2014-07-02T13:08:41  *** MarkAtwood has joined #openstack-infra
2014-07-02T13:08:52  <kashyap> I'm only trying to see if the mirroring issues are for real from Fedora Project
2014-07-02T13:09:13  <kashyap> The admins (Kevin Fenzi) there frequently ask me, if OpenStack upstream faces mirroring issues, and have specific details
2014-07-02T13:09:21  <kashyap> They're ready to jump on it to help out
2014-07-02T13:09:39  <foobio> kashyap: so to take a step back, what problem are you trying to solve? have we been having stale images due to nodepool image update failures from fedora image download problems?
2014-07-02T13:09:41  <foobio> or something else?
2014-07-02T13:10:21  <kashyap> foobio, Let me see if I can summarize -
2014-07-02T13:10:44  <openstackgerrit> A change was merged to openstack-infra/storyboard-webclient: Search use case 1: Quicknav  https://review.openstack.org/102652
2014-07-02T13:10:50  <openstackgerrit> Sean Dague proposed a change to openstack-infra/elastic-recheck: fix fingerprint to deal with n-obj hit  https://review.openstack.org/104185
2014-07-02T13:10:53  <foobio> kashyap: because we don't download fedora images for every devstack job we run. we bundle it into the snapshots which we use to spin up devstack test nodes, and that only gets refreshed daily
2014-07-02T13:11:38  <sdague> foobio: right, but if we have a 10% failure rate pulling into nodepool, then how does that impact nodepool builds?
2014-07-02T13:11:45  <kashyap> foobio, Fair enough (I understand the case where it's snapshotted & reused)
2014-07-02T13:12:00  *** xianghui has quit IRC
2014-07-02T13:12:07  <foobio> sdague: 1 in 10 nodepool images end up being a day older than the others
2014-07-02T13:12:17  <openstackgerrit> Nikita Konovalov proposed a change to openstack-infra/storyboard: DB api for teams  https://review.openstack.org/104186
2014-07-02T13:12:17  *** e0ne has quit IRC
2014-07-02T13:12:19  * foobio checks to see if it's happening now
2014-07-02T13:12:58  <sdague> yeh, part of what's hard here is the nodepool logs not being available outside of infra-root
2014-07-02T13:13:21  *** MarkAtwood has quit IRC
2014-07-02T13:13:24  <kashyap> Ah, that was what I was about to ask, if the logs are available
2014-07-02T13:13:29  <foobio> sdague: the nodepool image update logs *are* published and readily excessible to everyone
2014-07-02T13:13:39  <foobio> http://nodepool.openstack.org/
2014-07-02T13:13:44  *** e0ne has joined #openstack-infra
2014-07-02T13:14:02  *** MarkAtwood has joined #openstack-infra
2014-07-02T13:14:18  *** GnomeKin1 has joined #openstack-infra
2014-07-02T13:14:43  <derekh_> If this file out of date http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/templates/logstash/agent.conf.erb I can't find log-pusher.py anywhere, I'm guessing I should be looking at log-gearman-worker.py
2014-07-02T13:14:45  <openstackgerrit> A change was merged to openstack-infra/storyboard-webclient: Added custom CSS aliases for common storyboard icons.  https://review.openstack.org/102963
2014-07-02T13:14:46  <derekh_> *Is
2014-07-02T13:14:50  <openstackgerrit> A change was merged to openstack-infra/storyboard-webclient: Auth error handling  https://review.openstack.org/101867
2014-07-02T13:15:03  <sdague> foobio: oh,
2014-07-02T13:15:16  *** eharney has joined #openstack-infra
2014-07-02T13:15:35  <foobio> anyway, a quick survey of our 8 locations where we build devstack-trusty snapshots seem to have successfully updated twice in the past 48 hours... i'll check again around 15:00 when today's runs complete
2014-07-02T13:15:42  <rgerganov> SergeyLukjanov, do you have a minute to check something on the review-dev host?
2014-07-02T13:15:47  <openstackgerrit> A change was merged to openstack-infra/storyboard-webclient: Notification Priority Constant  https://review.openstack.org/103966
2014-07-02T13:17:44  <foobio> derekh_: maybe what you're looking for is in http://git.openstack.org/cgit/openstack-infra/config/tree/modules/log_processor
2014-07-02T13:17:56  *** GnomeKing has quit IRC
2014-07-02T13:18:29  <sdague> foobio: well I don't see errors in there, but the nodepool logs are pretty interleaved, so it's a little hard to see what's going on :)
2014-07-02T13:18:37  <derekh_> foobio: cool, thanks
2014-07-02T13:18:43  <foobio> derekh_: i think it got split out into its own top-level puppet module on a refactor
2014-07-02T13:19:14  <foobio> sdague: yeah, it's suboptimal, but the data is there. i end up filtering for the provider+label i'm interested in
2014-07-02T13:19:48  <foobio> sdague: but i'm sure we wouldn't turn down improvements to nodepool's logging which make it easier for others to diagnose failures
2014-07-02T13:20:16  <sdague> foobio: ok, I stick it on my queue.... so sometime around the Q release :)
2014-07-02T13:20:19  *** MarkAtwood has quit IRC
2014-07-02T13:20:39  *** dkliban_afk is now known as dkliban
2014-07-02T13:21:25  *** yaguang has joined #openstack-infra
2014-07-02T13:22:30  *** mriedem has joined #openstack-infra
2014-07-02T13:22:35  <foobio> sdague: so soon?!?
2014-07-02T13:23:10  *** NikitaKo_ has quit IRC
2014-07-02T13:23:56  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: fix fingerprint to deal with n-obj hit  https://review.openstack.org/104185
2014-07-02T13:24:02  <foobio> anyway, i don't currently see image updates impacted by cache refresh download issues, but if/when it does happen the impact is negligible since we just keep using the previous day's image wherever we failed to update
2014-07-02T13:24:34  <foobio> and we could always stick in some additional retry logic if it does become inconvenient for some reason
2014-07-02T13:24:55  *** GnomeKin1 is now known as Bobba
2014-07-02T13:25:10  <sdague> ok
2014-07-02T13:25:22  <foobio> also, if we start building one image and uploading it to all providers via glance, the number of times we download it would be the same whether we're building a new image or updating our network mirror
2014-07-02T13:25:34  *** rgerganov has quit IRC
2014-07-02T13:25:39  <sdague> yeh
2014-07-02T13:26:00  <sdague> well, is that true?
2014-07-02T13:26:11  <sdague> because we'd pull it to the mirror once, it would be known good
2014-07-02T13:26:23  <sdague> or are you seeing the image build with yesterday's image?
2014-07-02T13:26:36  <sdague> vs. building from a clean base
2014-07-02T13:26:39  <foobio> would we only pull it to the mirror once? does fedora not release new images?
2014-07-02T13:27:46  <foobio> but also i believe dib does its own local caching, so wouldn't redownload files unnecessarily (others who have worked directly with it should correct me if i've misunderstood)
2014-07-02T13:28:43  <sdague> foobio: these images are very specifically version tagged
2014-07-02T13:29:17  *** xianghui has joined #openstack-infra
2014-07-02T13:29:21  <foobio> and we don't update the reference to them in devstack?
2014-07-02T13:29:52  <sdague> not very often
2014-07-02T13:30:03  <sdague> this is the image that's needed for heat testing
2014-07-02T13:30:35  <foobio> i suspect we'd still need to dynamically identify when new versions are in need of being downloaded, whether the trigger is new versions appearing on a remote site or new version references in devstack itself, and automatically act accordingly
2014-07-02T13:30:45  <sdague> afazekas has the 3rd update for that image in 8 months pending
2014-07-02T13:31:43  *** annegent_ has joined #openstack-infra
2014-07-02T13:31:46  <foobio> currently nodepool figures out what to download by inspecting devstack source i think, but locally caching that and reusing it across rebuilds if it's still the same shouldn't be too much effort
2014-07-02T13:34:20  *** julim has quit IRC
2014-07-02T13:35:13  *** prad has joined #openstack-infra
2014-07-02T13:35:46  *** julim has joined #openstack-infra
2014-07-02T13:35:57  <sdague> foobio: actually we have an image_list.sh
2014-07-02T13:36:07  <sdague> because the source inspection was really error prone
2014-07-02T13:36:17  <foobio> yeah, that. i remember when it was added now
2014-07-02T13:37:02  *** lcheng has quit IRC
2014-07-02T13:37:12  *** pcrews has joined #openstack-infra
2014-07-02T13:38:32  *** jlibosva has quit IRC
2014-07-02T13:38:34  *** lcheng has joined #openstack-infra
2014-07-02T13:39:00  *** jlibosva has joined #openstack-infra
2014-07-02T13:40:11  <foobio> hrm, so looking at cache_devstack.py, since it runs on a fresh template we'd need to push the pre-cached files onto it if we wanted to reuse them, so we'd likely need some separate mechanism on the nodepool server to collect, cache and dump them to the templates
2014-07-02T13:40:17  *** sgordon has joined #openstack-infra
2014-07-02T13:40:35  <sgordon> anyone looked at ask.o.o today? seems we have a bit of a spam issue...
2014-07-02T13:40:42  <kashyap> Sorry foobio - My internet at my parents is abysmal, and my IRC proxy went bonkers, if you addressed any message for me, likely I haven't got it
2014-07-02T13:40:51  <foobio> but with dib, as i said, i think there's caching already build in
2014-07-02T13:41:18  <foobio> kashyap: http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2014-07-02.log
2014-07-02T13:41:45  <foobio> sgordon: that's awesome
2014-07-02T13:41:45  <kashyap> sgordon, Yeah, I looked at it, the same crap was plagued to ask.fp.o
2014-07-02T13:42:10  <sgordon> foobio, i find it amusing that you only get 5 "report abuse" points per day
2014-07-02T13:42:16  <kashyap> sgordon, I guess I even called that spammer on that number & asked him to refrain (on a request from a ask.fp.o admin)
2014-07-02T13:42:21  <foobio> reed: ^ fyi
2014-07-02T13:42:24  <sgordon> foobio, but it seems you can create around 15 questions in 2 minutes
2014-07-02T13:42:38  <sgordon> before having to create another account (which they did)
2014-07-02T13:42:38  <foobio> sgordon: yeah, amusing indeed
2014-07-02T13:43:38  *** annegent_ has quit IRC
2014-07-02T13:44:12  *** annegent_ has joined #openstack-infra
2014-07-02T13:44:41  *** wenlock has joined #openstack-infra
2014-07-02T13:45:13  *** jpeeler has quit IRC
2014-07-02T13:45:40  *** jpeeler has joined #openstack-infra
2014-07-02T13:45:40  *** jpeeler has quit IRC
2014-07-02T13:45:40  *** jpeeler has joined #openstack-infra
2014-07-02T13:47:14  *** prad has quit IRC
2014-07-02T13:51:16  *** homeless has joined #openstack-infra
2014-07-02T13:51:57  *** thedodd has joined #openstack-infra
2014-07-02T13:52:55  *** unicell has quit IRC
2014-07-02T13:53:04  *** lcheng has quit IRC
2014-07-02T13:54:08  *** baohua has quit IRC
2014-07-02T13:56:21  *** miqui has quit IRC
2014-07-02T13:57:09  *** amitpp has joined #openstack-infra
2014-07-02T13:58:02  *** NikitaKo_ has joined #openstack-infra
2014-07-02T13:59:09  *** mestery_ has joined #openstack-infra
2014-07-02T13:59:18  *** manueldesbonnet has joined #openstack-infra
2014-07-02T14:00:07  *** mestery has quit IRC
2014-07-02T14:00:14  *** mestery_ is now known as mestery
2014-07-02T14:00:43  *** amitpp has quit IRC
2014-07-02T14:01:03  *** amalagon has joined #openstack-infra
2014-07-02T14:01:36  *** lcheng has joined #openstack-infra
2014-07-02T14:02:40  *** gokrokve has joined #openstack-infra
2014-07-02T14:03:23  *** zz_dimtruck is now known as dimtruck
2014-07-02T14:03:24  *** yaguang has quit IRC
2014-07-02T14:03:35  *** julim has quit IRC
2014-07-02T14:04:19  *** julim has joined #openstack-infra
2014-07-02T14:04:31  <dhellmann> foobio: thanks for tracking down that wheel issue and getting the fix pushed through
2014-07-02T14:04:45  * dhellmann makes a note not to take off mondays any more
2014-07-02T14:05:57  * foobio makes a note to take mondays off instead
2014-07-02T14:06:25  <foobio> sgordon: reed: i think we've squashed all the spambot posts for now, but should probably keep an eye out for more
2014-07-02T14:06:51  <sgordon> foobio, it would be preferable to actually delete them
2014-07-02T14:07:01  *** gokrokve has quit IRC
2014-07-02T14:07:11  <sgordon> foobio, for that kind of spammer the closed state with all the text still present is good enough for them
2014-07-02T14:07:17  *** MarkAtwood has joined #openstack-infra
2014-07-02T14:07:18  <sgordon> so not going to dissuade them in any way
2014-07-02T14:07:26  <foobio> sgordon: agreed. hopefully reed will get in touch with evgeny and get that to happen at some point
2014-07-02T14:08:01  <foobio> sgordon: reporting a bug about it at https://bugs.launchpad.net/openstack-community/+bugs?field.tag=askproject may also help
2014-07-02T14:08:13  *** MarkAtwood has quit IRC
2014-07-02T14:08:44  <foobio> sgordon: note that the openstack infrastructure team has no access to that system, so can't really do much about it
2014-07-02T14:09:59  <sgordon> does anybody then?
2014-07-02T14:10:05  <foobio> sgordon: might be that there are ask admins who can delete posts through the webui, though i don't know who they are... hopefully they have some bulk delete/hide feature at their disposal
2014-07-02T14:10:54  *** rwsu has joined #openstack-infra
2014-07-02T14:10:55  *** wenlock has quit IRC
2014-07-02T14:11:34  *** jlibosva has quit IRC
2014-07-02T14:11:45  <foobio> hmm... looks like ask calls them "moderators"
2014-07-02T14:11:50  *** jlibosva has joined #openstack-infra
2014-07-02T14:13:07  <foobio> https://wiki.openstack.org/wiki/Community/AskModerators#One_URL.2C_One_Question.2C_One_Answer implies moderators can delete questions
2014-07-02T14:13:55  <manueldesbonnet> Howdy, I'm looking to get https://review.openstack.org/#/c/101475/ approved, if possible (it's a change to pypimirror to allow specifying requirements files on cmdline).
2014-07-02T14:13:59  <manueldesbonnet> Any takers?
2014-07-02T14:14:01  *** hashar has quit IRC
2014-07-02T14:14:28  *** salv-orlando has joined #openstack-infra
2014-07-02T14:15:45  <foobio> sgordon: oho, looks like i actually have sufficient karma to be a moderator, but someone else has already deleted them now anyway
2014-07-02T14:16:03  <foobio> sgordon: i guess worth keeping in mind for next time
2014-07-02T14:16:28  <sgordon> i dont suppose you know what the magic number is
2014-07-02T14:16:32  <sgordon> i am still on ~1400
2014-07-02T14:16:51  <foobio> sgordon: the top-right corner of the main interface claims 100
2014-07-02T14:17:04  *** yaguang has joined #openstack-infra
2014-07-02T14:17:11  *** vhoward- has joined #openstack-infra
2014-07-02T14:17:35  <foobio> sgordon: when i view a question i see a somewhat discreet "delete" trashcan next to the "close" button
2014-07-02T14:18:18  <sgordon> ah yes
2014-07-02T14:18:42  *** vhoward- has left #openstack-infra
2014-07-02T14:19:28  *** e0ne has quit IRC
2014-07-02T14:19:59  *** basha has joined #openstack-infra
2014-07-02T14:21:24  *** msabramo has quit IRC
2014-07-02T14:21:28  *** afazekas has quit IRC
2014-07-02T14:22:16  *** yfried has joined #openstack-infra
2014-07-02T14:25:01  *** NikitaKo_ has quit IRC
2014-07-02T14:26:37  *** gokrokve has joined #openstack-infra
2014-07-02T14:27:01  *** Hal_ has quit IRC
2014-07-02T14:27:22  *** gokrokve_ has joined #openstack-infra
2014-07-02T14:30:00  *** Hal_ has joined #openstack-infra
2014-07-02T14:30:19  <yolanda> jbooboo, working on changes for nodepool. Looking at your review, looks as if you want to drop the old method of uploading images using snapshots?
2014-07-02T14:30:23  *** nelsnelson has quit IRC
2014-07-02T14:30:52  *** nelsnelson has joined #openstack-infra
2014-07-02T14:31:27  *** gokrokve has quit IRC
2014-07-02T14:31:46  *** zz_gondoi is now known as gondoi
2014-07-02T14:32:14  <anteaya> I had a cranky router this morning
2014-07-02T14:32:28  *** wenlock has joined #openstack-infra
2014-07-02T14:33:19  <anteaya> ArxCruz: thanks for letting me know
2014-07-02T14:33:32  <ArxCruz> anteaya: np :)
2014-07-02T14:33:41  <ArxCruz> still working, i'll let you know when it's done :)
2014-07-02T14:33:56  *** msabramo has joined #openstack-infra
2014-07-02T14:34:02  *** sabeen2 has joined #openstack-infra
2014-07-02T14:34:09  <anteaya> krtaylor: yeah, nothing listed though I'm confident the topic will come up in many ways, not the least of which when we discuss vinz and gerrit gui
2014-07-02T14:34:13  <anteaya> ArxCruz: kk, thanks
2014-07-02T14:34:21  *** jcoufal has quit IRC
2014-07-02T14:34:22  <anteaya> ArxCruz: is your system disabled then?
2014-07-02T14:34:34  *** prad has joined #openstack-infra
2014-07-02T14:35:11  <ArxCruz> anteaya: no, but it's not voting, I need to have enabled to test :/
2014-07-02T14:35:13  <ArxCruz> sorry
2014-07-02T14:35:27  <anteaya> well as long as it isn't voting
2014-07-02T14:35:45  <anteaya> can you have it enabled on sandbox only and have it test there?
2014-07-02T14:36:00  <anteaya> the community doesn't like to be the testing platform for things
2014-07-02T14:36:08  <anteaya> unless you have conscious consent
2014-07-02T14:36:40  <anteaya> because when you do that
2014-07-02T14:36:48  <anteaya> you train people to ignore your system
2014-07-02T14:36:53  *** jcoufal has joined #openstack-infra
2014-07-02T14:37:00  <anteaya> which is a bad choice
2014-07-02T14:37:58  *** sabeen2 has quit IRC
2014-07-02T14:38:16  *** sabeen1 has quit IRC
2014-07-02T14:38:16  *** sabeen2 has joined #openstack-infra
2014-07-02T14:38:47  <krtaylor> anteaya, I was asking because there was a small chance I could go to mid-cycle, hard to justify w/o CI content
2014-07-02T14:39:17  <anteaya> ah okay
2014-07-02T14:39:23  <krtaylor> anteaya, I'll still offer to have a mid-cycle for 3rd party systems in Austin :)
2014-07-02T14:39:24  <anteaya> let me help you justify
2014-07-02T14:39:37  <anteaya> right, a bit late to plan that one I think
2014-07-02T14:39:53  <anteaya> but perhaps we can plan if for k release
2014-07-02T14:40:15  *** signed8bit has joined #openstack-infra
2014-07-02T14:40:17  <krtaylor> anteaya, and a bit early to have real content, yes perhaps for K
2014-07-02T14:40:53  <anteaya> also the reason we don't explictly state third party business on the qa/infra meetup agenda is we tend to attract people who want tutorials on how to set up their system rather than wanting to help infra and qa work on infra and qa issues
2014-07-02T14:40:55  *** Bobba is now known as BobBall
2014-07-02T14:41:36  <anteaya> so I'm willing to write a letter to whomever needs to read the letter to get you to attend germany
2014-07-02T14:41:40  <anteaya> since I want you to be there
2014-07-02T14:41:48  <anteaya> so what do I do to make that happen?
2014-07-02T14:41:59  *** basha has quit IRC
2014-07-02T14:42:24  *** ociuhandu has quit IRC
2014-07-02T14:42:42  <krtaylor> anteaya, understood, that is a problem
2014-07-02T14:43:13  <krtaylor> anteaya, I don't think a letter is necessary, but you could help me come up with CI discussion justificsation
2014-07-02T14:43:19  <anteaya> yes, and we are trying to make all the people happy, which is hard
2014-07-02T14:43:19  <krtaylor> and justification
2014-07-02T14:43:27  <anteaya> sure
2014-07-02T14:43:29  *** gokrokve_ has quit IRC
2014-07-02T14:43:29  <krtaylor> hehheh
2014-07-02T14:43:46  <anteaya> toss some words on an etherpad and we can move them around until you have what you need
2014-07-02T14:43:49  <anteaya> how's that
2014-07-02T14:44:01  <krtaylor> yes, hard, but we could get a lot of doc/definitions work done
2014-07-02T14:44:05  <krtaylor> anteaya,  will do
2014-07-02T14:44:06  <anteaya> tons
2014-07-02T14:44:17  <anteaya> hey I could put infra-manual on the agenda
2014-07-02T14:44:21  <anteaya> would that help?
2014-07-02T14:44:28  <anteaya> I plan on working on that anyway
2014-07-02T14:44:37  *** jgrimm has joined #openstack-infra
2014-07-02T14:44:38  <tteggel> hpcloud instance boot times high at the moment.. we're working the issue
2014-07-02T14:44:44  *** otherwiseguy has quit IRC
2014-07-02T14:44:48  <anteaya> tteggel: thanks for the heads up
2014-07-02T14:44:57  <anteaya> appreciate it
2014-07-02T14:45:02  <krtaylor> anteaya,  do we have a useful set of CI folks attending?
2014-07-02T14:45:06  <tteggel> anteaya: you're welcome
2014-07-02T14:45:10  * krtaylor needs to review attending
2014-07-02T14:45:14  <anteaya> tteggel: anything we can do to help?
2014-07-02T14:45:43  *** yaguang has quit IRC
2014-07-02T14:45:59  <tteggel> anteaya: don't think so. our DB is in meltdown. we have an couple of mysql experts in attendance
2014-07-02T14:45:59  <anteaya> krtaylor: well all of infra is involved with helping third party be as smooth as possible
2014-07-02T14:46:05  <anteaya> I'm just playing point
2014-07-02T14:46:18  <anteaya> tteggel: very good, don't let me interupt
2014-07-02T14:46:29  <anteaya> tteggel: do say if we can help with anything
2014-07-02T14:46:43  <tteggel> anteaya: will do
2014-07-02T14:46:48  <anteaya> tteggel: thanks
2014-07-02T14:47:10  <anteaya> krtaylor: and we will be discussing vinz, which is the hopeful gerrit gui replacement
2014-07-02T14:47:18  *** gokrokve has joined #openstack-infra
2014-07-02T14:47:32  <anteaya> so the whole ml discussion about how to represent third party ci will get much air time
2014-07-02T14:47:54  <anteaya> and your input would be very welcome in that discusssion
2014-07-02T14:48:19  <anteaya> krtaylor: what do you need to see to decide if you want to attend?
2014-07-02T14:48:41  <anteaya> because I guarentee there will be value for you there
2014-07-02T14:48:57  <foobio> sdague: your https://review.openstack.org/104009 nova change is hitting an interesting py26 unit test failure in the gate
2014-07-02T14:49:02  *** ArxCruz has quit IRC
2014-07-02T14:49:06  *** ArxCruz_ has joined #openstack-infra
2014-07-02T14:50:55  *** ArxCruz_ has quit IRC
2014-07-02T14:51:11  *** andreaf has quit IRC
2014-07-02T14:51:31  *** devkulkarni has joined #openstack-infra
2014-07-02T14:51:31  *** ArxCruz has joined #openstack-infra
2014-07-02T14:52:32  <krtaylor> anteaya, its not me, its getting approval, need strong case
2014-07-02T14:52:37  *** mfer has quit IRC
2014-07-02T14:52:58  <krtaylor> anteaya, I have to drive to office, bbiab and we'll discuss more
2014-07-02T14:53:30  <sdague> foobio: yeh
2014-07-02T14:53:48  <sdague> honestly, I've not landed an openstack without 3 rechecks in a week :)
2014-07-02T14:53:55  <sdague> and they are all different fails
2014-07-02T14:54:04  <sdague> so my energy to dig has been exhausted
2014-07-02T14:54:51  *** tkelsey has quit IRC
2014-07-02T14:54:53  <mtreinish> sdague: push the patch to remove py26 testing from nova
2014-07-02T14:54:58  <mtreinish> it seems like a justified response :)
2014-07-02T14:55:14  *** mfer has joined #openstack-infra
2014-07-02T14:55:33  *** dims__ has quit IRC
2014-07-02T14:55:51  *** ociuhandu has joined #openstack-infra
2014-07-02T14:56:07  <anteaya> krtaylor: kk
2014-07-02T14:56:10  <anteaya> drive safe
2014-07-02T14:56:24  *** vhoward- has joined #openstack-infra
2014-07-02T14:58:46  *** yaguang has joined #openstack-infra
2014-07-02T14:59:41  *** miqui has joined #openstack-infra
2014-07-02T15:02:28  *** e0ne has joined #openstack-infra
2014-07-02T15:05:46  *** krtaylor has quit IRC
2014-07-02T15:06:17  *** jaypipes-GOOAL has quit IRC
2014-07-02T15:07:07  *** tkelsey_ has joined #openstack-infra
2014-07-02T15:08:37  *** doug-fish has quit IRC
2014-07-02T15:09:01  *** doug-fish has joined #openstack-infra
2014-07-02T15:10:21  *** gokrokve has quit IRC
2014-07-02T15:11:06  *** mrmartin has quit IRC
2014-07-02T15:11:54  *** gokrokve has joined #openstack-infra
2014-07-02T15:13:14  *** virmitio has joined #openstack-infra
2014-07-02T15:13:19  *** moted has joined #openstack-infra
2014-07-02T15:17:23  *** MarkAtwood has joined #openstack-infra
2014-07-02T15:17:49  *** doug-fish has quit IRC
2014-07-02T15:18:08  *** doug-fish has joined #openstack-infra
2014-07-02T15:18:13  *** xianghui has quit IRC
2014-07-02T15:18:45  *** matrohon has quit IRC
2014-07-02T15:19:34  *** packet has joined #openstack-infra
2014-07-02T15:23:26  *** hashar has joined #openstack-infra
2014-07-02T15:23:37  *** dims__ has joined #openstack-infra
2014-07-02T15:24:13  <mordred> mtreinish: :)
2014-07-02T15:25:28  *** jlibosva has quit IRC
2014-07-02T15:25:52  *** gokrokve has quit IRC
2014-07-02T15:27:29  *** dims__ has quit IRC
2014-07-02T15:27:54  *** dims__ has joined #openstack-infra
2014-07-02T15:28:59  *** matrohon has joined #openstack-infra
2014-07-02T15:32:16  *** gondoi is now known as zz_gondoi
2014-07-02T15:35:12  *** zz_gondoi is now known as gondoi
2014-07-02T15:36:39  *** unicell has joined #openstack-infra
2014-07-02T15:36:41  *** james_li has joined #openstack-infra
2014-07-02T15:36:47  *** mzoeller has quit IRC
2014-07-02T15:38:59  <zaro> morning
2014-07-02T15:39:13  *** deny_ has joined #openstack-infra
2014-07-02T15:40:01  *** yfried has quit IRC
2014-07-02T15:40:15  <openstackgerrit> A change was merged to openstack/requirements: Update glanceclient to 0.13.1  https://review.openstack.org/104070
2014-07-02T15:40:25  *** misterpink has quit IRC
2014-07-02T15:40:43  <hashar> good morning!
2014-07-02T15:41:00  <hashar> if you ever heard of Gerrit hash mismatch bug of doom.  We apparently got the solution https://bugzilla.wikimedia.org/show_bug.cgi?id=53895#c28
2014-07-02T15:41:25  <hashar> Apache Mina SSHD needs to be updated.   pelix told me he was going to try a new version of Gerrit that got that bugfix
2014-07-02T15:42:00  <zaro> jhesketh, superbee : i believe nodepool is on jenkins-dev https://review.openstack.org/#/c/88026
2014-07-02T15:42:10  *** jcoufal has quit IRC
2014-07-02T15:42:14  *** otherwiseguy has joined #openstack-infra
2014-07-02T15:43:17  *** yfried has joined #openstack-infra
2014-07-02T15:44:03  *** yaguang has quit IRC
2014-07-02T15:44:06  *** afazekas has joined #openstack-infra
2014-07-02T15:44:23  *** msabramo has quit IRC
2014-07-02T15:44:32  *** chandankumar has quit IRC
2014-07-02T15:44:42  <zaro> hashar: good to know.  which version of gerrit was that bug introduced?
2014-07-02T15:46:03  <hashar> zaro: apparently related to Java version being used
2014-07-02T15:46:39  <hashar> zaro: our bug report is quite old. I don't think anyone bothered to bisect the multiple softwares involved
2014-07-02T15:47:59  *** changbl has quit IRC
2014-07-02T15:48:04  *** gangil has joined #openstack-infra
2014-07-02T15:48:25  <openstackgerrit> Julien Vey proposed a change to openstack-infra/config: Add solum-infra-guestagent repo to stackforge  https://review.openstack.org/99705
2014-07-02T15:50:29  *** nati_ueno has joined #openstack-infra
2014-07-02T15:51:38  *** ihrachyshka has quit IRC
2014-07-02T15:53:02  <zaro> hashar: we are on java '(IcedTea 2.4.7) (7u55-2.4.7-1ubuntu1~0.12.04.2)' but have not run into the problem yet, or not that anyone has reported.
2014-07-02T15:53:44  <hashar> I have no idea which version of java we are running :/
2014-07-02T15:54:18  *** pdmars_ has quit IRC
2014-07-02T15:55:16  <openstackgerrit> Emilien Macchi proposed a change to openstack-infra/config: Move puppet-trove to Stackforge  https://review.openstack.org/104244
2014-07-02T15:55:22  <foobio> zaro: hashar: actually we run into it all the time in our git-review functional testing
2014-07-02T15:55:26  *** pballand has joined #openstack-infra
2014-07-02T15:55:40  *** msabramo has joined #openstack-infra
2014-07-02T15:56:02  <jbooboo> superbee, jhesketh: i've put jenkins07 in shutdown mode (maybe jobs will be closer to being done when superbee comes online)
2014-07-02T15:56:14  <foobio> zaro: hashar: the reason we don't see it in public is that if you have bouncy castle loaded the problem method seems to not be in the code path any longer (presumably one of the routines offloaded to bc)
2014-07-02T15:56:21  <pelix> zaro: hashar: the latest gerrit 2.8.6 has the fix, but broke other stuff (namely DB transactions), but it may still work for the unit tests
2014-07-02T15:56:25  <foobio> s/public/production/
2014-07-02T15:56:43  *** roeyc has quit IRC
2014-07-02T15:57:16  <openstackgerrit> Emilien Macchi proposed a change to openstack-infra/config: Move puppet-trove to Stackforge  https://review.openstack.org/104244
2014-07-02T15:57:36  <tteggel> hpcloud instance build time issue resolved. should be back to normal.
2014-07-02T15:57:42  <foobio> the details of the error in mina-sshd are amusing too. if the generated key material starts with a zero byte, some functions strip it causing a mismatch 1 in 256 times
2014-07-02T15:58:07  *** Sukhdev has joined #openstack-infra
2014-07-02T15:58:09  <hashar> though on the gerrit-review integration test that happen more frequently apparently
2014-07-02T15:58:14  *** bdpayne has joined #openstack-infra
2014-07-02T15:58:16  <foobio> tteggel: great--thanks for the update! luckily it didn't seem to impact us heavily (at least not that i noticed in the graphs)
2014-07-02T15:58:22  <hashar> we have a patch that haven't yet landed after 6 rechecks or so
2014-07-02T15:58:42  <foobio> hashar: i don't think it really happened more often... i think that we actually make roughly that many ssh connections over the course of one test run
2014-07-02T15:58:47  *** IvanBerezovskiy has left #openstack-infra
2014-07-02T15:58:48  *** otherwiseguy has quit IRC
2014-07-02T15:58:59  <hashar> foobio: oh of course!
2014-07-02T15:59:10  <foobio> so the chances that one gets fouled up by the 1:256 chance is extremely high
2014-07-02T15:59:42  *** skolekonov has quit IRC
2014-07-02T16:00:00  *** pballand has quit IRC
2014-07-02T16:00:32  <ttx> jbooboo: ping re: using proposed/* now for swift 2.0.0-rc2
2014-07-02T16:00:39  <foobio> if 2.8.6 incorporates an updated mina-sshd with the fix, i'll try a patch switching to that in the tox env
2014-07-02T16:00:52  *** signed8b_ has joined #openstack-infra
2014-07-02T16:00:58  <jbooboo> ttx: i suspect we may have some gerrit acl work to do; will check
2014-07-02T16:00:59  *** otherwiseguy has joined #openstack-infra
2014-07-02T16:01:03  <ttx> jbooboo: context: swift 2.0.0 needs a few commits backported, RC1 was tagged on master
2014-07-02T16:01:24  <foobio> jbooboo: i updated the all-projects acl this morning when i reapproved ttx's rebased acl patch
2014-07-02T16:01:25  <ttx> jbooboo: my proposal would be to create a temporary proposed/2.0.0 branch and backport to it, tag on it
2014-07-02T16:01:29  <jbooboo> ttx: i'm guessing foobio already did that :)
2014-07-02T16:01:31  <jbooboo> foobio: yay
2014-07-02T16:01:39  *** signed8bit has quit IRC
2014-07-02T16:01:45  <zaro> foobio: maybe you should try on 2.9, it's about to be released any day now.
2014-07-02T16:02:02  <ttx> jbooboo: afaik we have the tooling aligned now, merge_tags was also pushed
2014-07-02T16:02:30  *** anode has joined #openstack-infra
2014-07-02T16:02:33  *** mestery has quit IRC
2014-07-02T16:02:34  <ttx> jbooboo: if you're right that the magic should just happen with proposed/foo, then I think that will work
2014-07-02T16:02:44  <foobio> zaro: there's a balance between testing git-review with a gerrit version people are likely to already have running in public, and a version of gerrit which doesn't cause tests to arbitrarily fail. but yes i expect 2.9 will start getting tested for git-review changes soon
2014-07-02T16:02:45  <jbooboo> ttx: ok, i can't think of anything that would block; i can stand by to assist if there are problems
2014-07-02T16:03:08  <ttx> cool, let me try to manually create the branch from the RC1 tag
2014-07-02T16:03:17  *** gyee has joined #openstack-infra
2014-07-02T16:03:31  <zaro> foobio: 2.8.x doesn't have the CHANGE_OWNER acl, 2.9 does.
2014-07-02T16:03:35  * ttx engages manual mode
2014-07-02T16:03:53  *** pballand has joined #openstack-infra
2014-07-02T16:03:57  <foobio> zaro: awesome--i can't wait for us to upgrade so we have access to start using that
2014-07-02T16:04:07  <tteggel> foobio: welcome. i want to see the error rate from hpcloud drop too
2014-07-02T16:04:14  <foobio> zaro: did they keep the old change screen around in 2.9 after all?
2014-07-02T16:04:42  <ttx> jbooboo: the idea would be to merge tags and then delete that proposed/2.0.0 branch
2014-07-02T16:05:04  <jbooboo> ttx: sounds good
2014-07-02T16:05:31  *** bdpayne has quit IRC
2014-07-02T16:06:08  <zaro> foobio: hmm, i believe so. might default to new change screen but default can be set in gerrit.config
2014-07-02T16:06:21  *** gokrokve has joined #openstack-infra
2014-07-02T16:08:04  <ttx> jbooboo: ok, proposed/2.0.0 branch craeted, post job making a tarball from it
2014-07-02T16:08:55  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/git-review: Update tests to use Gerrit 2.8.6  https://review.openstack.org/104249
2014-07-02T16:08:56  *** arnaud has joined #openstack-infra
2014-07-02T16:09:08  *** ildikov has joined #openstack-infra
2014-07-02T16:09:48  <jbooboo> 2014-07-02 16:08:20.365 | [SCP] uploading file: '/srv/static/tarballs/swift/swift-proposed-2.0.0.tar.gz'
2014-07-02T16:10:00  <zaro> foobio: speaking of.. would it be possible to move this along?  https://review.openstack.org/#/c/94675
2014-07-02T16:10:08  <ttx> jbooboo: sounds legit
2014-07-02T16:10:28  <zaro> foobio: it's been in the que for a while and i believe rcarrillocruz is waiting for it to lang.
2014-07-02T16:10:36  <zaro> *lang/land
2014-07-02T16:10:57  *** lcheng has quit IRC
2014-07-02T16:11:03  <foobio> zaro: does that appear in 2.8.5?
2014-07-02T16:11:05  *** ildikov|2 has joined #openstack-infra
2014-07-02T16:11:11  *** ildikov has quit IRC
2014-07-02T16:12:01  <zaro> foobio: no, it's not back ported.
2014-07-02T16:12:04  <foobio> hrm... looks like it's not included in any tags
2014-07-02T16:12:32  <foobio> okay, so this is a backport to 2.8 of something earmarked for 2.9 or 3.0?
2014-07-02T16:12:33  *** ildikov_ has quit IRC
2014-07-02T16:12:51  <zaro> yes
2014-07-02T16:13:02  <mordred> jbooboo: neat!
2014-07-02T16:14:14  *** paul-- has quit IRC
2014-07-02T16:15:40  <foobio> zaro: if we approve 94675 we still need to update the config repo to refer to the new warfile url, right?
2014-07-02T16:15:51  <jbooboo> yesterday, i learned that sheng kee makes hong kong style pineapple buns!  i'm so excited because i've been jonesing and that was looking to be an expensive breakfast.
2014-07-02T16:16:22  <foobio> zaro: also, do you know whether any of our current hook scripts will break when gerrit starts applying the new command-line option?
2014-07-02T16:16:40  *** otherwiseguy has quit IRC
2014-07-02T16:16:45  <ttx> jbooboo: notmyname should push a few backports to that branch soon. Could you keep an eye on the tests and make sure they do what they are supposed to do ?
2014-07-02T16:17:10  <jbooboo> ttx, notmyname: let me know when
2014-07-02T16:17:11  <ttx> I think they will, the use case is not that weird (shall use master everywhere else)
2014-07-02T16:17:37  *** rgerganov has joined #openstack-infra
2014-07-02T16:18:05  <foobio> hashar: i'm exercising 2.8.6 in https://review.openstack.org/104249 to confirm the bug is gone... first pass was all green!
2014-07-02T16:18:37  *** gangil has left #openstack-infra
2014-07-02T16:19:15  *** paul-- has joined #openstack-infra
2014-07-02T16:19:23  <zaro> foobio: yes, an update to load new ware would be required as well.
2014-07-02T16:19:26  <reed> sgordon, foobio: evgeny is working on a fix for the bot issue, ETA a couple of days... hopefully
2014-07-02T16:19:37  *** mestery has joined #openstack-infra
2014-07-02T16:19:45  <foobio> reed: awesome--thanks for the heads up
2014-07-02T16:19:56  *** atiwari has joined #openstack-infra
2014-07-02T16:19:58  *** mriedem has quit IRC
2014-07-02T16:20:09  *** jcoufal has joined #openstack-infra
2014-07-02T16:20:30  *** doude has quit IRC
2014-07-02T16:20:33  <pleia2> good morning
2014-07-02T16:22:41  <zaro> foobio: i haven't tested but should be completely backwards compatible. IIRC the scripts in jeepyb retreives the info by name.  rcarrillcruz wanted to update jeepyb with the additional info.
2014-07-02T16:24:51  <annegent_> reed: around?
2014-07-02T16:24:56  <foobio> zaro: okay, great. the only hook i specifically remember breaking on unrecognized options was the trivial rebase hook, which we don't use now
2014-07-02T16:25:02  <reed> annegent: yes
2014-07-02T16:25:37  *** ArxCruz has quit IRC
2014-07-02T16:26:11  *** ArxCruz has joined #openstack-infra
2014-07-02T16:26:35  <hashar> foobio: awesome!
2014-07-02T16:26:42  <hashar> foobio: gotta move out. bbl
2014-07-02T16:27:07  <openstackgerrit> Julien Vey proposed a change to openstack-infra/config: Add solum-infra-guestagent repo to stackforge  https://review.openstack.org/99705
2014-07-02T16:27:22  *** hashar has quit IRC
2014-07-02T16:30:41  *** krtaylor has joined #openstack-infra
2014-07-02T16:31:19  *** markmc has quit IRC
2014-07-02T16:31:38  <zaro> foobio: from looking at the code, it looks like it will just ignore the new arg. http://git.openstack.org/cgit/openstack-infra/jeepyb/tree/jeepyb/cmd/update_bug.py#n328
2014-07-02T16:31:40  *** basha has joined #openstack-infra
2014-07-02T16:32:30  *** david-lyle has joined #openstack-infra
2014-07-02T16:33:17  *** ArxCruz has quit IRC
2014-07-02T16:33:25  *** ArxCruz_ has joined #openstack-infra
2014-07-02T16:33:32  *** ildikov|2 has quit IRC
2014-07-02T16:33:34  <foobio> zaro: well, yeah, as long as our other hook scripts are written similarly then they should also be fine (remember that this option is being passed as part of all of those hook calls, so every hook script needs to be written to ignore unrecognized options)
2014-07-02T16:33:48  *** nati_ueno has quit IRC
2014-07-02T16:34:17  *** flaper87 is now known as flaper87|afk
2014-07-02T16:35:09  <ruhe> mordred: hi! question about recent changes in select-mirror.sh. now it uses http://pypi.openstack.org/simple ; who controls this mirror and how can i push a specific package to that mirror?
2014-07-02T16:35:43  <pelix> hashar: I can confirm we'll have to wait for the gerrit 2.8.7 to test git-review against release as 2.8.6 clearly has some issues...
2014-07-02T16:35:43  *** bdpayne has joined #openstack-infra
2014-07-02T16:35:47  *** basha has quit IRC
2014-07-02T16:35:52  *** ArxCruz_ has quit IRC
2014-07-02T16:36:08  *** ArxCruz has joined #openstack-infra
2014-07-02T16:36:56  <foobio> ruhe: that mirror is a direct copy of pypi.python.org
2014-07-02T16:37:37  <ruhe> foobio: hi. do you have any idea why a package (which is present on pypi.python.org) wouldn't be present in this mirror?
2014-07-02T16:37:54  <ruhe> foobio: here is the package https://pypi.python.org/pypi/yaql
2014-07-02T16:37:56  <openstackgerrit> A change was merged to stackforge/python-jenkins: Adds assert_node_exists()  https://review.openstack.org/100835
2014-07-02T16:38:02  <foobio> ruhe: checking
2014-07-02T16:38:04  <zaro> foobio: ohh of course. i'll double check the other ones.
2014-07-02T16:38:16  *** dizquierdo has quit IRC
2014-07-02T16:38:33  <ruhe> foobio: thanks
2014-07-02T16:39:05  *** dkehn__ has joined #openstack-infra
2014-07-02T16:40:07  <jbooboo> yolanda: yes -- my guess is that it would be easiest to remove the support for snapshot-based images in nodepool.  ideally, we would keep them both, but i think the concurrency requirements are different enough that it would be compilacetd
2014-07-02T16:40:11  *** Ajaeger has joined #openstack-infra
2014-07-02T16:40:24  <jbooboo> yolanda: so if you find that you agree and it would be easier to remove it, i think that's fine.
2014-07-02T16:40:25  <foobio> mordred: ruhe has found an interesting gap... https://pypi.python.org/simple/yaql/ exists (and has tarball links) while there is no http://pypi.openstack.org/simple/yaql/ at all
2014-07-02T16:41:01  <Ajaeger> Hi infra team, I have a few docu problems. Has anybody now some time for some help, please?
2014-07-02T16:41:44  <jbooboo> foobio, mordred: grep yaql /var/log/bandersnatch/mirror.log  produces nothing
2014-07-02T16:41:59  *** dkehnx has quit IRC
2014-07-02T16:42:02  <yolanda> jbooboo, ok, at the moment i was separating cases, but it will be much simpler to just drop it
2014-07-02T16:42:24  <foobio> jbooboo: yep
2014-07-02T16:42:49  <yolanda> i can upload something for tomorrow
2014-07-02T16:42:51  <mordred> jbooboo: problem with the cron job perhaps? you can run "bandersnatch mirror" at any time and it should do a mirror run real quick
2014-07-02T16:43:04  <jbooboo> mordred: it's running regularly
2014-07-02T16:43:11  <mordred> k. well, that's both good and bad
2014-07-02T16:43:14  <jbooboo> mordred: http://paste.openstack.org/show/85336/ there's the latest output
2014-07-02T16:43:24  <mordred> oh- I mis-read the above - I thought you were saying there was no output in the log :)
2014-07-02T16:43:32  <jbooboo> also, do whe know why it's having that problem with skll every time?
2014-07-02T16:43:50  <jbooboo> (it repats that output for every run)
2014-07-02T16:43:51  *** marcoemorais has joined #openstack-infra
2014-07-02T16:44:21  <reed> sgordon, jpich, foobio: ask.openstack.org looks better now, thanks those who helped deleting spam and blocking users
2014-07-02T16:44:27  <jbooboo> foobio: i'm assuming i should have cronspam with previous mirror output, yeah?
2014-07-02T16:44:34  <foobio> jbooboo: yes
2014-07-02T16:44:45  <jbooboo> foobio: i can't find cronspam with yaql in it
2014-07-02T16:44:53  *** thedodd has quit IRC
2014-07-02T16:45:11  <jbooboo> so there was probably never an error reported, or if there was, it must have been in an inital run or something
2014-07-02T16:45:22  *** annegent_ has quit IRC
2014-07-02T16:45:30  *** marcoemorais has quit IRC
2014-07-02T16:45:44  *** ArxCruz_ has joined #openstack-infra
2014-07-02T16:45:49  *** marcoemorais has joined #openstack-infra
2014-07-02T16:45:49  *** hemna__ is now known as hemna
2014-07-02T16:46:16  <foobio> agreed. i'm digging through the fs tree currently to see if it's somehow being misplaced or under different capitalization
2014-07-02T16:46:16  <jbooboo> Ajaeger: how can i help?
2014-07-02T16:46:47  *** ArxCruz has quit IRC
2014-07-02T16:46:48  *** otherwiseguy has joined #openstack-infra
2014-07-02T16:46:50  <Ajaeger> First issue is: https://review.openstack.org/#/c/103115 was approved - but I do not see the docs-specs repository
2014-07-02T16:46:59  <Ajaeger> jbooboo: thanks ^
2014-07-02T16:47:06  *** jpich has quit IRC
2014-07-02T16:47:38  <Ajaeger> jbooboo: are some manual steps necessary?
2014-07-02T16:47:45  <openstackgerrit> Doug Hellmann proposed a change to openstack-infra/infra-specs: Add spec for adding cross-project unit test jobs  https://review.openstack.org/95885
2014-07-02T16:47:53  <jbooboo> Ajaeger: no, but i think someone broke puppet yesterday
2014-07-02T16:48:29  <Ajaeger> jbooboo: that would explain my second issue as well - https://review.openstack.org/#/c/103578/ was approved but jenkins still has the old slave script
2014-07-02T16:48:51  *** marcoemorais1 has joined #openstack-infra
2014-07-02T16:49:06  <dhellmann> jbooboo: is it safe for me to proceed with implementing ^^? There hasn't been any feedback on the spec, yet, since I think I filed it when you guys were dealing with outages.
2014-07-02T16:49:18  <dhellmann> jbooboo: well, not quite true, lifeless did leave some questions which I've answered
2014-07-02T16:49:24  <Ajaeger> jbooboo: and perhaps my 3rd one as well - http://pypi.openstack.org/openstack/openstack-doc-tools/ does not have the new 0.16.1 release...
2014-07-02T16:50:15  <foobio> jbooboo: mordred: nothing at all for 'find /srv/static/mirror/ | grep -i yaql' so presumably bandersnatch is just ignoring it outright
2014-07-02T16:50:20  *** marcoemorais has quit IRC
2014-07-02T16:50:31  *** zhiyan is now known as zhiyan_
2014-07-02T16:51:22  *** zhiyan_ is now known as zhiyan
2014-07-02T16:51:32  <Ajaeger> foobio, see also my issue above - normally pypi.o.o has a new tag within an hour but I'm waiting now for four hours for 0.16.1
2014-07-02T16:51:39  <jbooboo> wow
2014-07-02T16:51:53  <jbooboo> apparently no one reviewed the emergency revert of the patcch that broke apache
2014-07-02T16:52:23  <rgerganov> mordred: could you please redeploy https://review.openstack.org/#/c/95743/ on review-dev.openstack.org? I have fixed a problem with ciRegex - it was too slow
2014-07-02T16:52:36  *** pelix has quit IRC
2014-07-02T16:52:42  *** harlowja_away is now known as harlowja
2014-07-02T16:52:52  *** tkelsey_ has quit IRC
2014-07-02T16:53:32  <jbooboo> Ajaeger: i've approved the patch that should fix puppet runs, things should happen in a few hours
2014-07-02T16:53:56  <zaro> foobio, rcarrillcruz:: double checked, all those jeepyb scripts use the same pattern.  will just ignore new params.
2014-07-02T16:54:02  <jbooboo> Ajaeger: i don't know why that would not have the latest release
2014-07-02T16:54:16  <jbooboo> Ajaeger: we'll need to check the post job
2014-07-02T16:54:53  <Ajaeger> jbooboo: ok, will check back for the first two issues later/tomorrow. Thanks!
2014-07-02T16:55:13  <jbooboo> Ajaeger: i'm looking up the post job for the third one
2014-07-02T16:55:40  <foobio> http://logs.openstack.org/f8/f8d93fcd5fc4b57b474a5ff7ecbf8d8a5e4e4173/release/openstack-doc-tools-pypi-both-upload/1faf6fc/console.html seems to have uploaded
2014-07-02T16:55:40  <Ajaeger> jbooboo: https://jenkins.openstack.org/job/openstack-doc-tools-pypi-both-upload/2/
2014-07-02T16:55:51  <Ajaeger> foobio: you're too fast for me ;)
2014-07-02T16:56:49  <jbooboo> Ajaeger: oh, it's on pypi.python.org: https://pypi.python.org/pypi/openstack-doc-tools/0.16.1
2014-07-02T16:56:50  <Ajaeger> jbooboo, foobio: It's available indeed at https://pypi.python.org/pypi/openstack-doc-tools/
2014-07-02T16:56:52  <foobio> https://pypi.python.org/pypi/openstack-doc-tools/ has it
2014-07-02T16:56:52  <jbooboo> it's just not in the mirror
2014-07-02T16:56:58  <jbooboo> hah
2014-07-02T16:57:07  <Ajaeger> jbooboo: yeah, it's not in the mirrors
2014-07-02T16:57:24  <Ajaeger> and what's even strangeer is that 0.16 is in the mirror but building uses 0.15
2014-07-02T16:57:28  <openstackgerrit> A change was merged to openstack-infra/config: Revert "Revert "Downgrade puppetlabs-apache to version 0.0.4.""  https://review.openstack.org/104038
2014-07-02T16:57:30  <jbooboo> so this could be another manifestation of the bandersnatch problem foobio and hopefully mordred are working on
2014-07-02T16:57:39  *** dkehn__ is now known as dkehnx
2014-07-02T16:57:50  <jbooboo> that change ^^ should get puppet running again, so maybe in 10 mins or so we'll have new projects
2014-07-02T16:57:51  <foobio> yeo, not at http://pypi.openstack.org/simple/openstack-doc-tools/
2014-07-02T16:57:52  <mordred> jbooboo, foobio: dstufft said something about bandersnatch behavior when it sees a stale thing
2014-07-02T16:58:01  <mordred> dstufft: you aroudn? what was the remediation for that again?
2014-07-02T16:58:09  <Ajaeger> http://logs.openstack.org/19/104219/1/check/gate-security-doc-tox-checklang/3b1f930/console.html - shows that 0.15 is ued
2014-07-02T16:58:33  <Ajaeger> s/ued/used/
2014-07-02T16:58:41  *** whoops has joined #openstack-infra
2014-07-02T16:58:53  <Ajaeger> jbooboo: if you think I should come check back later, no problem...
2014-07-02T16:59:07  <jbooboo> mordred: i think we have 3 problems: 1) yaql is not in the mirror at all, 2) openstack-doc-tools has an old version in the mirror, and 3) the mirror emits error messages about skll: http://paste.openstack.org/show/85336/
2014-07-02T16:59:12  <foobio> Ajaeger: yep, it seems that it ended up on upstream pypi but out mirror routine hasn't pulled a copy from there
2014-07-02T16:59:30  <jbooboo> dstufft: ^ see 3 problems
2014-07-02T16:59:46  *** jgallard has quit IRC
2014-07-02T17:00:25  <mordred> jbooboo: I'm operating under the hunch that they're all related - based on something dstufft said a while back that I may have mis-interpreted
2014-07-02T17:00:49  <mordred> dstufft: namely something about noticing when a package has stale entries in the CDN
2014-07-02T17:01:04  <Ajaeger> foobio, jbooboo, mordred : Thanks for looking at this! I'll keep silent watching you debug it ;)
2014-07-02T17:01:57  <mordred> I was thinking it meant that there was a possibility that we'd end up with a package stale for a little bit - but it seems that maybe it means that bandersnatch goes bonkers and there is a deeper (and crappier) problem we have to fix
2014-07-02T17:02:22  *** jamielennox is now known as jamielennox|away
2014-07-02T17:02:43  <mordred> jbooboo: but I think dstufft can clarify and help know where we should look
2014-07-02T17:02:50  *** Longgeek has quit IRC
2014-07-02T17:02:52  <foobio> mordred: does bandersnatch have a debug option, so we could tell it for example to update its mirror for just that package and then inspect its decision making?
2014-07-02T17:03:39  *** otherwiseguy has quit IRC
2014-07-02T17:04:16  <foobio> the manpage on static.o.o for bandersnatch is... let's just say unenlightening. i'll go hunting actual documentation
2014-07-02T17:04:19  <jbooboo> dhellmann: spec lgtm
2014-07-02T17:04:27  <dhellmann> jbooboo: cool, thanks
2014-07-02T17:05:17  *** otherwiseguy has joined #openstack-infra
2014-07-02T17:05:25  <mordred> foobio: it has something to do with pypi serial numbers
2014-07-02T17:05:50  <jbooboo> dhellmann: for the record, i don't think i ignored that the whole time; i think i read it and saw lifeless's suggestions and thought they were good and waited for a response.  so i've only been ignoring it for a a day or so! :)
2014-07-02T17:06:08  <dhellmann> jbooboo: yeah, that's sort of what I figured happened :-)
2014-07-02T17:06:29  *** mmaglana has joined #openstack-infra
2014-07-02T17:07:09  <jbooboo> dhellmann: i'm really glad we have all those options documented.  i'm sure we're going to be reading them in 6 months :)
2014-07-02T17:07:23  <ruhe> foobio: jbooboo: i've just compared contents of pypi.python.org/simple and pypi.openstack.org/simple . the latter one is missing 1081 packages (45588 compared to 44507)
2014-07-02T17:07:41  <dhellmann> jbooboo: it's like you can see into the future
2014-07-02T17:07:46  <jbooboo> dstufft, mordred: so we're up to 1081 problems! :)
2014-07-02T17:07:51  <foobio> mordred: yeah, i'm guessing this is related to https://bitbucket.org/ctheune/bandersnatch/issue/41/hundreds-of-packages-fail-to-sync ?
2014-07-02T17:08:45  *** gondoi is now known as zz_gondoi
2014-07-02T17:08:55  *** zhiyan is now known as zhiyan_
2014-07-02T17:09:01  *** SumitNaiksatam has quit IRC
2014-07-02T17:09:30  *** ArxCruz has joined #openstack-infra
2014-07-02T17:11:12  *** derekh_ has quit IRC
2014-07-02T17:11:42  *** zz_gondoi is now known as gondoi
2014-07-02T17:11:51  *** ArxCruz_ has quit IRC
2014-07-02T17:14:08  <openstackgerrit> Khai Do proposed a change to stackforge/python-jenkins: Add a gitreview file  https://review.openstack.org/104261
2014-07-02T17:14:33  *** praneshp has joined #openstack-infra
2014-07-02T17:15:04  <foobio> mordred: i'm not finding much at all in the way of debugging options for bandersnatch (unless we want to run it under pdb or something)
2014-07-02T17:15:50  *** johnthetubaguy is now known as zz_johnthetubagu
2014-07-02T17:16:11  <ruhe> foobio: as a temporary fix (in case if this problem will not be resolved soon), would it make sense to add "extra-index-url = http://pypi.python.org/simple/" to the select-mirror.sh?
2014-07-02T17:16:24  *** devkulkarni has quit IRC
2014-07-02T17:16:28  *** gondoi is now known as zz_gondoi
2014-07-02T17:16:36  <Ajaeger> jbooboo: docs-specs exists - so the puppet patch fixed it!
2014-07-02T17:16:36  *** Ryan_Lane has joined #openstack-infra
2014-07-02T17:18:58  *** melwitt has joined #openstack-infra
2014-07-02T17:19:05  <Ajaeger> jbooboo: still an empty repo, so puppet is not finished with doing its magic...
2014-07-02T17:21:42  *** dkehn__ has joined #openstack-infra
2014-07-02T17:21:47  *** otherwiseguy has quit IRC
2014-07-02T17:23:02  *** amcrn has joined #openstack-infra
2014-07-02T17:23:52  *** dkehn__ has quit IRC
2014-07-02T17:24:16  *** dkehn__ has joined #openstack-infra
2014-07-02T17:24:17  *** SumitNaiksatam has joined #openstack-infra
2014-07-02T17:24:53  *** dkehn_ has quit IRC
2014-07-02T17:25:20  *** dkehnx has quit IRC
2014-07-02T17:25:37  *** crc32 has joined #openstack-infra
2014-07-02T17:25:52  *** mriedem has joined #openstack-infra
2014-07-02T17:26:33  *** dkehn__ is now known as dkehnx
2014-07-02T17:26:43  *** dkehn has joined #openstack-infra
2014-07-02T17:29:44  *** sparkycollier has joined #openstack-infra
2014-07-02T17:31:28  <jbooboo> Ajaeger: there's a further puppet problem that prevented manage-projects from running on review.o.o; looking
2014-07-02T17:33:03  *** mbacchi has quit IRC
2014-07-02T17:33:36  <mgagne> Does it bother anyone that program names aren't consistent across programs? "Queue service", "Block Storage", "DNS Services", etc.
2014-07-02T17:35:02  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Revert "Fixing deprecation warnings"  https://review.openstack.org/104269
2014-07-02T17:35:04  <superbee> o/
2014-07-02T17:35:08  <jbooboo> nibalizer: ^
2014-07-02T17:35:36  <foobio> ruhe: hopefully we can just get a workaround in place to grab the things the mirror software is missing for whatever reason
2014-07-02T17:35:37  <superbee> today is not my day
2014-07-02T17:35:43  <superbee> jbooboo: thank you for starting 07
2014-07-02T17:35:45  <Ajaeger> mgagne: The documentation team had already some fun with the capitalization of Service ;)
2014-07-02T17:35:52  *** mwagner_ has quit IRC
2014-07-02T17:36:11  <foobio> mgagne: i used to be that ocd, but then i started treating it with regular doses of alcohol
2014-07-02T17:36:24  <mgagne> Ajaeger: glad to know I'm not the only one losing sleep over it =)
2014-07-02T17:36:25  <ruhe> foobio: did you fix everything again? :)
2014-07-02T17:36:32  <ruhe> foobio: here is http://pypi.openstack.org/simple/yaql/
2014-07-02T17:36:42  *** rgerganov has quit IRC
2014-07-02T17:36:50  <Ajaeger> mgagne: feel free to discuss with annegentle on #openstack-doc or on our doc mailing list
2014-07-02T17:37:11  <foobio> ruhe: i did not, but i'm thinking mordred is also doing things (or else it magically fixed itself, which would be simultaneously thrilling and frightening)
2014-07-02T17:37:54  <jbooboo> okay, that revert fixes the last of the broken puppet problems
2014-07-02T17:38:19  <ruhe> foobio: anyway, thank you very much for helping to dig through this issue!
2014-07-02T17:38:52  <mgagne> Ajaeger: hehe, it makes it harder for people to come up with "templates" such as "Installs and configures the <program-name> service for OpenStack (<program-code-name>)." You end up with ungrammatical sentences :P
2014-07-02T17:39:49  *** markwash has joined #openstack-infra
2014-07-02T17:39:52  <nibalizer> jbooboo: woot
2014-07-02T17:39:55  <Ajaeger> ruhe, foobio: Interesting 0.16.1 is on http://pypi.openstack.org/simple/openstack-doc-tools/ but not on http://pypi.openstack.org/openstack/openstack-doc-tools/
2014-07-02T17:40:04  *** e0ne has quit IRC
2014-07-02T17:40:16  <foobio> Ajaeger: the latter is no longer used
2014-07-02T17:40:30  <Ajaeger> foobio: Ah, didn't know...
2014-07-02T17:40:33  *** UtahDave has joined #openstack-infra
2014-07-02T17:40:46  <foobio> Ajaeger: the first one is our new full pypi mirror, the second one is our old partial mirror
2014-07-02T17:41:10  *** dstanek is now known as dstanek_lunch
2014-07-02T17:41:15  <nibalizer> superbee: a pupetboard challenger appeared today: https://github.com/spotify/puppetexplorer
2014-07-02T17:41:16  *** pballand has quit IRC
2014-07-02T17:41:46  <Ajaeger> foobio: thanks for the explanation
2014-07-02T17:41:53  <lifeless> dhellmann: want me to look again at whatever it was you invoked my name w.r.t. ?
2014-07-02T17:42:25  <openstackgerrit> A change was merged to openstack-infra/config: Revert "Fixing deprecation warnings"  https://review.openstack.org/104269
2014-07-02T17:43:04  <anteaya> I've been in the cinder meeting and such, kinda lost, anything I can do to help?
2014-07-02T17:43:34  *** chuckC has quit IRC
2014-07-02T17:43:50  *** UtahDave has left #openstack-infra
2014-07-02T17:44:04  <anteaya> nibalizer: given the work we put into puppetboard is it worth spending any time evaluating puppetexplorer at this point?
2014-07-02T17:44:17  <anteaya> well mostly your work into puppetboard
2014-07-02T17:44:41  *** zzelle has joined #openstack-infra
2014-07-02T17:46:27  *** pballand has joined #openstack-infra
2014-07-02T17:46:56  *** mbacchi has joined #openstack-infra
2014-07-02T17:49:27  *** openstackgerrit has quit IRC
2014-07-02T17:50:12  *** openstackgerrit has joined #openstack-infra
2014-07-02T17:50:22  <Ajaeger> foobio, jbooboo the pypi issue seems to be fixed - 0.16.1 is now used for gating!
2014-07-02T17:50:37  *** denis_makogon_ has joined #openstack-infra
2014-07-02T17:51:18  *** denis_makogon has quit IRC
2014-07-02T17:51:21  *** denis_makogon_ is now known as denis_makogon
2014-07-02T17:51:36  *** dmakogon_ has joined #openstack-infra
2014-07-02T17:51:51  <superbee> nibalizer: neat. That seems more data query driven and less dashboardy
2014-07-02T17:53:58  * Ajaeger just cloned the new docs-specs  - thanks jbooboo!
2014-07-02T17:54:20  *** annegent_ has joined #openstack-infra
2014-07-02T17:54:56  *** otherwiseguy has joined #openstack-infra
2014-07-02T17:55:13  *** Shrews has quit IRC
2014-07-02T17:55:21  *** marcoemorais has joined #openstack-infra
2014-07-02T17:56:03  *** marcoemorais has quit IRC
2014-07-02T17:56:21  *** marcoemorais has joined #openstack-infra
2014-07-02T17:56:49  <dstufft> mordred: what's up
2014-07-02T17:56:53  <dstufft> just got back from the dentist
2014-07-02T17:57:32  <foobio> dstufft: we discovered quite a lot of things that bandersnatch apparently didn't mirror from pypi.python.org
2014-07-02T17:57:51  <dstufft> did bandersnatch say the mirror was successful
2014-07-02T17:57:54  <anteaya> Ajaeger: so now you need an openstack-doc-specs-core group made up, yeah? https://review.openstack.org/#/admin/groups/?filter=openstack-doc
2014-07-02T17:58:00  *** Sukhdev has quit IRC
2014-07-02T17:58:13  <anteaya> Ajaeger: with at least one person in it, the ptl I assume
2014-07-02T17:58:18  <openstackgerrit> Khai Do proposed a change to stackforge/python-jenkins: make JSON depth response configurable  https://review.openstack.org/93105
2014-07-02T17:58:34  *** marcoemorais1 has quit IRC
2014-07-02T17:59:00  <Ajaeger> anteaya: yes, please
2014-07-02T17:59:15  <foobio> dstufft: yaql was the first one reported (we didn't get anything at all mirrored for it) but then it was pointed out that a new release of opensatck-doc-tools wasn't being picked up either
2014-07-02T17:59:28  <foobio> dstufft: and yeah, bandersnatch runs reported no errors at all
2014-07-02T17:59:39  <Ajaeger> anteaya: annegentle is the ptl
2014-07-02T17:59:48  *** arnaud has quit IRC
2014-07-02T18:00:24  *** pballand has quit IRC
2014-07-02T18:00:25  <Ajaeger> but you can add me as well and I'll add her ;)
2014-07-02T18:00:34  <Ajaeger> anteaya: can you do this or who can?
2014-07-02T18:00:35  <anteaya> foobio: the doc-specs project need an openstack-doc-specs-core gerrit group, with the openstack-doc-ptl in it, please
2014-07-02T18:00:48  <anteaya> Ajaeger: I can't, I was just clarifying
2014-07-02T18:01:27  <anteaya> foobio: http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/gerrit/acls/openstack/docs-specs.config
2014-07-02T18:01:48  <jbooboo> superbee, foobio, mordred, SergeyLukjanov, jhesketh: http://lists.openstack.org/pipermail/openstack-infra/2014-July/001486.html
2014-07-02T18:01:49  <Ajaeger> anteaya: thanks for the help ;)
2014-07-02T18:01:54  <anteaya> Ajaeger: sure :D
2014-07-02T18:02:07  <dstufft> foobio: sounds like a bandersnatch bug, if if it's reporting that the mirror was successful and it wasn't
2014-07-02T18:02:10  *** mestery has quit IRC
2014-07-02T18:02:19  <dstufft> foobio: might be related to the switch to json instead of xmlrpc
2014-07-02T18:02:41  <foobio> dstufft: yeah, definitely seemed like a bug, just wasn't sure if you happened to know a good way to isolate and debug
2014-07-02T18:02:50  <foobio> or potential workarounds
2014-07-02T18:02:51  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Cleaned up autoresize_width directive.  https://review.openstack.org/104275
2014-07-02T18:03:06  <superbee> jbooboo: lgtm
2014-07-02T18:03:08  *** otherwiseguy has quit IRC
2014-07-02T18:03:21  <dstufft> foobio: not offhand, you can delete the state file to get bandersnatch to to a complete sync instead of an incremental sync tho
2014-07-02T18:03:23  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Added search interface  https://review.openstack.org/99975
2014-07-02T18:03:31  <jbooboo> foobio: as a result of fixing the puppet bugs, all the acl changes just went through: http://puppetboard.openstack.org/report/review.openstack.org/5b72ffeebdeed5efed54df519248b72a57ebf6c3
2014-07-02T18:03:32  *** annegent_ has quit IRC
2014-07-02T18:03:40  <foobio> Ajaeger: anteaya: the acl doesn't seem to have been applied to that project in gerrit
2014-07-02T18:03:49  <Alex_Gaynor> jbooboo: for the livegrep stuff, I'm proposing a new system, but don't actually have th ekeys to the kingdom, does that mean I need to coax someone from the infra team into "owning" it?
2014-07-02T18:03:49  <anteaya> foobio: how interesting
2014-07-02T18:03:51  <foobio> jbooboo: oh, great!
2014-07-02T18:04:01  <anteaya> okay
2014-07-02T18:04:16  <Alex_Gaynor> PS: would love some reviews on that :-)
2014-07-02T18:04:50  <anteaya> Alex_Gaynor: not really owning it, just is it in a place they can fix
2014-07-02T18:05:02  <anteaya> and do we have enough docs to fix any brokeness
2014-07-02T18:05:05  <anteaya> and yay
2014-07-02T18:05:07  <Ajaeger> foobio: puppet was just run for it - perhaps it's not finished yet?
2014-07-02T18:05:12  <jbooboo> Alex_Gaynor: yeah, once the change lands, you'll want to poke someone to actually spin up the node, but other than that, we're quite happy for you to continue to feel an ownership interest in it via puppet modifications :)
2014-07-02T18:05:32  <anteaya> Alex_Gaynor: do you have the url for the patch?
2014-07-02T18:05:46  <Alex_Gaynor> anteaya: https://review.openstack.org/#/c/96877/
2014-07-02T18:05:46  *** nati_ueno has joined #openstack-infra
2014-07-02T18:05:49  <anteaya> thanks
2014-07-02T18:05:51  <Alex_Gaynor> jbooboo: sounds good, thanks
2014-07-02T18:05:54  <anteaya> yay livegrep!
2014-07-02T18:06:02  *** packet has quit IRC
2014-07-02T18:06:10  <foobio> anteaya: Ajaeger: yeah, that's what i thought too, but manage-projects seems to no longer be in progress so it must have thought it did what it needed. perhaps another run will fix it, or produce some error message i can act on
2014-07-02T18:06:46  <Ajaeger> foobio: ok, let's wait and monitor ;)
2014-07-02T18:06:58  <anteaya> kk
2014-07-02T18:07:05  <superbee> jbooboo: foobio mordred I will kick off image rebuilds shortly to complete the pypi mirror switchover unless you want ot wait for further bandersnatch debugging
2014-07-02T18:07:17  *** shayneburgess has joined #openstack-infra
2014-07-02T18:07:22  *** changbl has joined #openstack-infra
2014-07-02T18:07:24  <anteaya> Alex_Gaynor: was there ever any discussion bringing livegrep under stackforge and therefore git.o.o?
2014-07-02T18:07:25  <superbee> as those builds should complete now with the projects that were just created
2014-07-02T18:07:39  <anteaya> Alex_Gaynor: and do you have any thoughts on this?
2014-07-02T18:08:20  <jbooboo> foobio: http://paste.openstack.org/show/85341/
2014-07-02T18:08:26  <Alex_Gaynor> anteaya: I don't think the author of livegrep really has any interest in moving it under stackforge, he's not involved in openstack
2014-07-02T18:08:36  *** sparkycollier has quit IRC
2014-07-02T18:08:39  <anteaya> Alex_Gaynor: okay
2014-07-02T18:08:48  <anteaya> Alex_Gaynor: just thought I would ask
2014-07-02T18:08:52  <Alex_Gaynor> sure
2014-07-02T18:08:58  <superbee> also it is Go :P
2014-07-02T18:09:05  <anteaya> ah
2014-07-02T18:09:05  <superbee> though with trusty maybe that isn't so bad anymore
2014-07-02T18:09:09  <superbee> Go on precise was funky
2014-07-02T18:09:19  <foobio> jbooboo: thanks! i'll see if i can find the corresponding gerrit service logs for that api call
2014-07-02T18:09:29  <foobio> hopefully there's something useful
2014-07-02T18:09:46  <superbee> aiui Go on precise reached a point where it worked for juju so they stopped updating it?
2014-07-02T18:10:40  <Alex_Gaynor> Nice.
2014-07-02T18:10:43  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Moved template files into related modules  https://review.openstack.org/103181
2014-07-02T18:10:51  *** mestery has joined #openstack-infra
2014-07-02T18:11:40  *** ociuhandu has quit IRC
2014-07-02T18:11:45  <anteaya> superbee: ha ha ha
2014-07-02T18:12:01  <anteaya> the works for juju standard
2014-07-02T18:12:41  <foobio> here's what the gerrit error log has... http://paste.openstack.org/show/85342/
2014-07-02T18:12:48  *** Shrews has joined #openstack-infra
2014-07-02T18:13:06  *** sparkycollier has joined #openstack-infra
2014-07-02T18:13:29  *** pballand has joined #openstack-infra
2014-07-02T18:13:51  <anteaya> foobio: a problem with threads?
2014-07-02T18:14:16  *** mestery_ has joined #openstack-infra
2014-07-02T18:14:46  *** mestery has quit IRC
2014-07-02T18:15:09  <jbooboo> hrm it's there now
2014-07-02T18:15:20  <foobio> yeah, weird
2014-07-02T18:15:36  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Cleaned up autoresize_width directive.  https://review.openstack.org/104275
2014-07-02T18:16:13  <jbooboo> foobio: i'm going to run m-p for that project, ok?
2014-07-02T18:16:43  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Renamed module folders for consistency  https://review.openstack.org/103182
2014-07-02T18:16:46  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Tag Complete directive has proper focus behavior  https://review.openstack.org/103183
2014-07-02T18:16:49  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Moved template files into related modules  https://review.openstack.org/103181
2014-07-02T18:16:57  <foobio> jbooboo: fine by me... i'm digging in a copy of its git repo now
2014-07-02T18:17:35  *** changbl has quit IRC
2014-07-02T18:17:43  <anteaya> Alex_Gaynor: question here: https://review.openstack.org/#/c/96877/31/modules/openstack_project/manifests/livegrep.pp
2014-07-02T18:17:45  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Added focus directive  https://review.openstack.org/103345
2014-07-02T18:17:57  <anteaya> Alex_Gaynor: what was the criteria for the selected repos?
2014-07-02T18:18:18  <jbooboo> foobio, mordred: same error again: http://paste.openstack.org/show/85343/
2014-07-02T18:18:24  <Alex_Gaynor> anteaya: There wasn't one. It was the handful of projects I remembered off hand. We should totally add more stuff.
2014-07-02T18:18:31  *** marun_afk is now known as marun
2014-07-02T18:18:31  <anteaya> ah okay
2014-07-02T18:18:43  <anteaya> Alex_Gaynor: is there any limit on how many repos we can grep?
2014-07-02T18:18:57  <anteaya> would be awesome if we could grep devstack and infra stuff too
2014-07-02T18:19:10  *** milina has joined #openstack-infra
2014-07-02T18:19:13  <milina> http://adf.ly/q1fx1
2014-07-02T18:19:20  *** amitpp has joined #openstack-infra
2014-07-02T18:19:29  *** devkulkarni has joined #openstack-infra
2014-07-02T18:19:31  *** milina has quit IRC
2014-07-02T18:19:33  <Alex_Gaynor> anteaya: Not really, at some scale there's a RAM issue, but I don't think we're close to that
2014-07-02T18:19:46  <anteaya> Alex_Gaynor: this is our canonical list of openstack repos: http://git.openstack.org/cgit/openstack/governance/tree/reference/programs.yaml
2014-07-02T18:19:55  *** packet has joined #openstack-infra
2014-07-02T18:20:00  <anteaya> Alex_Gaynor: kk, I'll let you decide which ones you want to add
2014-07-02T18:20:07  *** ChanServ sets mode: +o jbooboo
2014-07-02T18:20:27  <mordred> jbooboo, superbee: catch me up - was on the phone -- where are we with the mirror?
2014-07-02T18:20:27  <Alex_Gaynor> anteaya: Do you mind if I just wait until all the rest of the issues are dealt with before trying to update teh list?
2014-07-02T18:20:28  <anteaya> bet it won't take long to find out where the RAM issue kicks in
2014-07-02T18:20:33  <anteaya> Alex_Gaynor: oh sure
2014-07-02T18:20:47  <anteaya> once the module is in an up, should be easy to add more repos
2014-07-02T18:20:47  *** jbooboo sets mode: +b *!*213.140.5@*
2014-07-02T18:20:57  <anteaya> Alex_Gaynor: I can make a note in the patch
2014-07-02T18:21:01  <Ajaeger> anteaya: I see that docs-specs is not in the canonical-list - who normally adds a repo there? Shall I send a patch
2014-07-02T18:21:04  *** jbooboo sets mode: -o jbooboo
2014-07-02T18:21:11  <anteaya> Ajaeger: send a patch
2014-07-02T18:21:21  <anteaya> the tc has a chat about it and takes a vote
2014-07-02T18:21:26  <anteaya> should be an easy merge
2014-07-02T18:21:33  <superbee> mordred: I think dstufft may have suggested doing another full mirror run
2014-07-02T18:21:36  *** ChanServ sets mode: +o jbooboo
2014-07-02T18:21:36  *** mestery_ has quit IRC
2014-07-02T18:21:42  <anteaya> it wasn't listed since we just created it
2014-07-02T18:21:44  *** sparkycollier has quit IRC
2014-07-02T18:21:46  <dstufft> yea
2014-07-02T18:21:54  <dstufft> it sounds like a legit bandernsnatch bug though
2014-07-02T18:21:55  *** mestery has joined #openstack-infra
2014-07-02T18:21:56  <anteaya> Ajaeger: and yeah, additions to the programs.yaml file are all by hand
2014-07-02T18:22:06  <Ajaeger> anteaya: will do
2014-07-02T18:22:26  <mordred> dstufft: is this related to the stale mirror thing at all?
2014-07-02T18:22:46  <foobio> mordred: so, for some strange reason, the missing directories/packages spontaneously appeared on the mirror after we talked about it, but i didn't run/do anything. i assumed you added them (manually or something)?
2014-07-02T18:23:13  <dstufft> mordred: could be, though it shouldn't be. bandernsatch should not have a successful mirror run until it's fetched all the packages
2014-07-02T18:23:15  *** jbooboo sets mode: -b *!*213.140.5@*
2014-07-02T18:23:24  <dstufft> foobio: are you sure the previous runs were successful?
2014-07-02T18:23:27  <mordred> dstufft: I'm not sure it had a successful mirror run
2014-07-02T18:23:38  <dstufft> bandersnatch will retry to download things it couldn't download
2014-07-02T18:23:39  *** jbooboo sets mode: +b *!*@213.140.5
2014-07-02T18:23:46  *** jbooboo sets mode: -o jbooboo
2014-07-02T18:23:47  <dstufft> until it's donwloaded everything it thought it should
2014-07-02T18:23:52  <dstufft> then it'll be a successful run
2014-07-02T18:23:54  <mordred> dstufft: this is what I'm poking at - when you say "unsuccessful" ... do you mean bandersnatch will stop processing thigns other than the thing that stale?
2014-07-02T18:24:04  <dstufft> no, bandersnatch will keep going
2014-07-02T18:24:06  <dstufft> it's greedy
2014-07-02T18:24:10  <foobio> mordred: dstufft: it wasn't generating errors... can it be silently unsuccessful or something?
2014-07-02T18:24:32  *** shayneburgess has left #openstack-infra
2014-07-02T18:24:33  <dstufft> it'll fetch as much as it can, even if something is unavailable it'll keep going and get everything else
2014-07-02T18:24:44  <mordred> dstufft: http://paste.openstack.org/show/85336/
2014-07-02T18:24:54  *** pballand has quit IRC
2014-07-02T18:24:57  <mordred> this is what it was giving us - but we still weren't getting yaql
2014-07-02T18:25:10  *** shayneburgess has joined #openstack-infra
2014-07-02T18:25:20  <dstufft> hm
2014-07-02T18:25:22  <dstufft> moment
2014-07-02T18:25:26  <dstufft> I might be slightly wrong then
2014-07-02T18:25:38  <dstufft> I know it's greedy for things like connection errors
2014-07-02T18:25:42  <dstufft> maybe it's not for stale
2014-07-02T18:26:30  <openstackgerrit> Ryan Carey proposed a change to openstack-infra/jenkins-job-builder: support string values for bool fields "true", "false", "True" or "False"  https://review.openstack.org/104294
2014-07-02T18:26:30  <dstufft> mordred: is it still doing that?
2014-07-02T18:26:37  <foobio> mordred: worth noting, the bandersnatch log says it suddenly sync'd yaql at 2014-07-02 17:11:28,874 (and since then we've been serving it)
2014-07-02T18:26:54  *** mestery has quit IRC
2014-07-02T18:26:59  <mordred> foobio: strange
2014-07-02T18:27:21  <foobio> it's as if it didn't previously realize that package existed on pypi at all
2014-07-02T18:27:46  <dstufft> what's your config file look like
2014-07-02T18:27:49  <mordred> foobio: I'm afk-ish right now - is the skil error still happnening?
2014-07-02T18:28:03  *** mestery has joined #openstack-infra
2014-07-02T18:28:23  <mordred> dstufft: http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/bandersnatch.conf
2014-07-02T18:28:56  <foobio> mordred: apparently not. last mention of skll was 2014-07-02 17:05:02,622
2014-07-02T18:29:00  <mordred> foobio: ok
2014-07-02T18:29:13  <mordred> so - current working theory is that bandersnatch is not being greedy for stale things
2014-07-02T18:29:18  <foobio> so perhaps that was blocking completion?
2014-07-02T18:29:40  <mordred> because yaql was just uploaded today
2014-07-02T18:29:57  <mordred> so it makes sense that if bandersnatch decided to be non-greedy in the case of a stale thing, that we wouldn't get it
2014-07-02T18:30:10  <mordred> dstufft: what was teh curl command you said we could use to trigger resyncing stale things?
2014-07-02T18:30:30  <foobio> explains why today's new openstack-doc-tools release wasn't getting mirrored either
2014-07-02T18:31:14  * mordred thinks we should put in a log filter looking for "Stale serial for package (.*)" and then do curl -X SYNC https://pypi.python.org/pypi/$1 if we see it
2014-07-02T18:31:19  <mordred> or whatever the curl command is
2014-07-02T18:31:21  *** chuckC has joined #openstack-infra
2014-07-02T18:32:00  <mordred> and by log filter, I mean we should change the cronjob to be "bandersnatch mirror | fix-stales.py" - since that output should usually be very short
2014-07-02T18:32:08  <mordred> and by do that, I mean until we can land a patch upstream to do that directly
2014-07-02T18:32:17  <mordred> speaking of - I need to fix my current pull requesst
2014-07-02T18:32:33  <dstufft> ok
2014-07-02T18:32:36  <dstufft> so I see what's happening
2014-07-02T18:32:51  <superbee> hurray dstufft to the rescue
2014-07-02T18:32:55  <mordred> woot
2014-07-02T18:33:08  <dstufft> basically when bandersnatch runs, asusming the last run was successful (or it's your first run), it builds up a list of packages that need to be synced, and saves those to a todo list
2014-07-02T18:33:19  <dstufft> it then attempts to fetch all of those, greedily
2014-07-02T18:33:44  <dstufft> if any of them fail, it marks the run as unsuccessful, but it records which ones it didn't sync, and at what point in history it was trying to sync
2014-07-02T18:34:02  <dstufft> on the next run, if it sees that the last run was unsuccessful, it tries to complete that run
2014-07-02T18:34:24  <dstufft> it doesn't look for new things to sync, until it's already completed the in progress run successfully
2014-07-02T18:35:01  <dstufft> so in the case of a stale serial, you'll end up with everything but the stale serials completed, and it'll just fail each time until the cached page is no longer stale
2014-07-02T18:35:17  <dstufft> and which point it'll start a new runwhere it'll grab a new list of packages to sync
2014-07-02T18:35:19  <dstufft> make sense?
2014-07-02T18:35:20  *** hashar has joined #openstack-infra
2014-07-02T18:35:32  *** mestery_ has joined #openstack-infra
2014-07-02T18:35:37  *** mestery has quit IRC
2014-07-02T18:35:42  <superbee> that seems like a bad case of premature optimization
2014-07-02T18:36:04  <dstufft> which part
2014-07-02T18:36:18  <superbee> the I am going to try the bits I know fail over and over until they don't fail
2014-07-02T18:36:48  <dstufft> well you have to keep retrying them, because if you just skip them then the mirror will be missing packages forever
2014-07-02T18:37:02  <dstufft> mirroring doesn't work like rsync where it compares two trees and makes them equal
2014-07-02T18:37:07  <dstufft> it's a journal
2014-07-02T18:37:09  <dstufft> like a database
2014-07-02T18:37:17  <superbee> sure but you are skipping everything else in the mean time
2014-07-02T18:37:21  <superbee> when you know you will probably fail
2014-07-02T18:37:29  <dstufft> correct, it could move the "target serial" out
2014-07-02T18:37:40  *** dims__ has quit IRC
2014-07-02T18:37:45  <dstufft> so that it just expands the range it's trying to sync
2014-07-02T18:38:04  <jbooboo> ++
2014-07-02T18:38:11  <dstufft> but that's more effort and other than a stale serial the most likely cause for failure is a network hiccup that goes away on the next run or two
2014-07-02T18:38:17  <dstufft> which is probably why it wasn't done
2014-07-02T18:38:36  <dstufft> because the issues (other than a stale serial) are largely self resolving
2014-07-02T18:38:38  <mordred> yah. so if we can trigger fixing stale packages, then that should also become more like network hiccups too
2014-07-02T18:38:40  <jbooboo> dstufft: skll was in our logs for a _while_
2014-07-02T18:38:52  <dstufft> jbooboo: I said other than stale :)
2014-07-02T18:39:19  <mordred> dstufft: what's the curl to fix that?
2014-07-02T18:39:42  <jbooboo> (24 hours)
2014-07-02T18:39:48  <jbooboo> (at least)
2014-07-02T18:40:02  <dstufft> Fastly sits in front of PyPI and it caches all of our pages, bandersnatch knows what the version of that page _should_ be (it's in a header) and if the version it gets from fastly is older it fails with the stale message
2014-07-02T18:40:41  <dstufft> normally PyPI tells fastly to purge the cache when something gets updated, but our worker doesn't retry failed tasks and is janky so sometimes a package gets missed :/
2014-07-02T18:40:58  <dstufft> it takes 24 hours for it to fall out of the cache naturally (sans grace periods if PyPI is down)
2014-07-02T18:41:18  *** devkulkarni has quit IRC
2014-07-02T18:41:21  <dstufft> and to answer mordred's question, anyone can purge a particular url just by doing curl -X PURGE https://pypi.python.org/whatever/url/
2014-07-02T18:41:29  <dstufft> it doesn't require auth or anything
2014-07-02T18:41:41  *** amitpp has quit IRC
2014-07-02T18:41:54  <dstufft> that'll instruct the Fastly varnish to drop the cached objects for that url
2014-07-02T18:42:38  <dstufft> in this case, the log lines looked like -> 2014-07-02 16:40:02,475 DEBUG: Expected PyPI serial 1143447 for request https://pypi.python.org/pypi/skll/json but got 1143446, so you'd do curl -X https://pypi.python.org/pypi/skll/json
2014-07-02T18:42:57  <superbee> should bandersnatch try that instead of just failing?
2014-07-02T18:43:04  <superbee> would that be a good patch to write?
2014-07-02T18:44:29  <dstufft> I'd rather not have every single bandersnatch mirror issue a purge, the real solution is probably to stop using RQ and switch to celery so we can have the purge task retry as many times as needed until it actually successfully purges (and likely some sort of alert if it wasn't able to purge within some time frame)
2014-07-02T18:44:50  *** nati_ueno has quit IRC
2014-07-02T18:45:04  <dstufft> it's ok for y'all to do it for now as a work around though
2014-07-02T18:45:20  <superbee> gotcha
2014-07-02T18:45:22  *** nati_ueno has joined #openstack-infra
2014-07-02T18:46:11  *** NikitaKo_ has joined #openstack-infra
2014-07-02T18:46:13  <dstufft> you can tell when the last successful mirror run was on your mirror by looking at the last modified file btw
2014-07-02T18:46:41  <dstufft> http://pypi.openstack.org/last-modified
2014-07-02T18:47:00  <superbee> so it was just now
2014-07-02T18:47:00  *** devkulkarni has joined #openstack-infra
2014-07-02T18:47:09  <superbee> that means everything should be happy?
2014-07-02T18:47:50  <dstufft> yes
2014-07-02T18:47:51  *** dims__ has joined #openstack-infra
2014-07-02T18:49:29  *** james_li has quit IRC
2014-07-02T18:49:44  <superbee> and we have 0.25 of skll now in both sdist and wheel form
2014-07-02T18:49:57  <superbee> foobio: mordred ^ are you guys happy with that?
2014-07-02T18:50:02  <superbee> and should I work on image rebuilds now?
2014-07-02T18:50:28  <superbee> I can do that while I do jenkins07 after lunch
2014-07-02T18:50:33  <superbee> because somehow it is time for food nowish already
2014-07-02T18:52:20  <foobio> dstufft: thanks for the explanation! that makes a lot more sense now
2014-07-02T18:53:22  *** mfer has quit IRC
2014-07-02T18:53:27  <foobio> so basically if someone complains that the mirror is behind, we can check the bandersnatch log, see what's breaking it, issue the purge call for it to fastly, then make sure the next run is successful
2014-07-02T18:53:44  *** nati_uen_ has joined #openstack-infra
2014-07-02T18:54:06  <dstufft> foobio: ya, I don't mind fi y'all do that automatically either tbh, having just openstack do it is better than ever bandersnatch mirror, and once I fix it so that there are retries and alerts I can bug y'all to stop doing it
2014-07-02T18:54:14  <openstackgerrit> afazekas proposed a change to openstack-infra/elastic-recheck: Add query for pypi index fetching issues  https://review.openstack.org/104298
2014-07-02T18:54:21  *** chuckC has quit IRC
2014-07-02T18:54:21  <dstufft> FWIW it'll fix itself too
2014-07-02T18:54:29  *** NikitaKo_ has quit IRC
2014-07-02T18:54:30  <dstufft> it'll take a max of 24 hours to do so though
2014-07-02T18:55:01  <dstufft> I should probably lower that until retries are working
2014-07-02T18:55:24  <foobio> dstufft: given how briefly we've been running it so far, i don't feel like we have much of a representative sample of this sort of breakage... what sort of frequency can we expect for it?
2014-07-02T18:55:30  *** dstanek_lunch is now known as dstanek_lunch_zz
2014-07-02T18:55:39  *** james_li has joined #openstack-infra
2014-07-02T18:55:47  <dstufft> foobio: dunno, I don't really pay attention to the mirrors unless someone reports a problem
2014-07-02T18:55:51  <foobio> does this happen often? (on average once a month? a week?)
2014-07-02T18:56:28  <dstufft> if it happens often let me know and I'll prioritize moving to celery
2014-07-02T18:56:39  <foobio> noted. thanks again!
2014-07-02T18:56:45  <dstufft> as far as I know it's not often, at least people don't complain about it very often
2014-07-02T18:56:55  *** nati_ueno has quit IRC
2014-07-02T18:56:55  <dstufft> if that's just becuase they deal with it idk
2014-07-02T18:57:32  *** chuckC has joined #openstack-infra
2014-07-02T18:57:39  <foobio> given our ci workflow, we often release a new version of something to pypi and then expect to start (nearly) immediately consuming it from our mirror, so i suspect we'll start to notice fairly quickly if this is a frequent issue
2014-07-02T18:58:52  <dstufft> theortically, with how PyPI's caching is set up, unless a purge failed, the speed at which you get a new package should only be limited by how often you run bandersnatch
2014-07-02T18:59:04  <dstufft> the only thing on the worker queue is purges
2014-07-02T18:59:15  <dstufft> and a successful purge takes ~500ms or so
2014-07-02T18:59:17  *** changbl has joined #openstack-infra
2014-07-02T18:59:38  *** harlowja is now known as harlowja_away
2014-07-02T18:59:57  *** dstanek_lunch_zz is now known as dstanek
2014-07-02T19:00:34  *** jdahlin has joined #openstack-infra
2014-07-02T19:01:00  <anteaya> paste.o.o is 500ing for me
2014-07-02T19:01:41  <pleia2> anteaya: how long has it been since you've used it?
2014-07-02T19:01:54  <anteaya> two minutes prior
2014-07-02T19:01:56  *** weshay has quit IRC
2014-07-02T19:01:56  <foobio> anteaya: seems to be something to do with session cookies not getting stored in its db. i've noticed when that happens to me, if i clear all cookies for paste.openstack.org in my browser and refresh the url it works again
2014-07-02T19:01:58  <pleia2> ah ok
2014-07-02T19:02:00  <anteaya> and it is up now
2014-07-02T19:02:12  <anteaya> funny
2014-07-02T19:02:21  <anteaya> I can clear cookies
2014-07-02T19:02:27  <pleia2> yeah, I've had the same session cookie issue, but usually after I haven't used it for a while
2014-07-02T19:03:39  *** harlowja_away is now known as harlowja
2014-07-02T19:03:40  *** anode has quit IRC
2014-07-02T19:04:59  *** marcoemorais has quit IRC
2014-07-02T19:05:19  *** marcoemorais has joined #openstack-infra
2014-07-02T19:05:28  *** marcoemorais has quit IRC
2014-07-02T19:05:49  *** marcoemorais has joined #openstack-infra
2014-07-02T19:05:51  <anteaya> I just cleared cookies and refreshed a paste
2014-07-02T19:05:56  <anteaya> the paste if 500ing
2014-07-02T19:06:05  <foobio> lovely
2014-07-02T19:06:19  <anteaya> I'm up for trying something else
2014-07-02T19:06:23  <anteaya> what else we got?
2014-07-02T19:06:50  <anteaya> it doesn't usually 500 this long
2014-07-02T19:06:53  <foobio> what's the paste url you're failing on?
2014-07-02T19:07:01  <anteaya> usually 3 or 4 tries gets it
2014-07-02T19:07:08  <anteaya> http://paste.openstack.org/show/85348/
2014-07-02T19:07:33  <foobio> yeah, works fine for me at the moment. i'll try clearing my cookies and see if it breaks for me now
2014-07-02T19:07:38  <anteaya> k
2014-07-02T19:07:46  <anteaya> back now
2014-07-02T19:07:49  <openstackgerrit> Doug Hellmann proposed a change to openstack/requirements: Add new library oslo.i18n  https://review.openstack.org/104304
2014-07-02T19:07:55  <anteaya> not sure what is happening
2014-07-02T19:08:38  <foobio> seemed to still be fine for me
2014-07-02T19:08:58  <anteaya> huh
2014-07-02T19:09:05  <anteaya> my system maybe?
2014-07-02T19:09:25  <foobio> could have been a brief issue with its trove backend or something too
2014-07-02T19:09:59  <anteaya> kk
2014-07-02T19:10:05  <anteaya> well moving on then
2014-07-02T19:11:06  *** chianingwang has joined #openstack-infra
2014-07-02T19:16:00  *** rcarrillocruz has joined #openstack-infra
2014-07-02T19:17:14  *** weshay has joined #openstack-infra
2014-07-02T19:18:05  *** rcarrill` has quit IRC
2014-07-02T19:20:19  <nibalizer> jbooboo: so i'm feeling less than ready to go for 1pm. The review to add puppet3 master has some merge conflicts (especially in install_puppet.sh). Are you anticipating a precise p3 master or a trusty p3 master?
2014-07-02T19:21:05  *** Sukhdev has joined #openstack-infra
2014-07-02T19:24:23  <hashar> nibalizer: have you tried our puppet catalog compiler ? :D
2014-07-02T19:24:40  <nibalizer> hashar: no, not yet
2014-07-02T19:24:49  <nibalizer> im just talking about the stuff to bring up a p3 master
2014-07-02T19:24:53  <nibalizer> which is mostly shell
2014-07-02T19:25:05  <nibalizer> but i wrote it like months ago and it has a bit of bitrot going on
2014-07-02T19:25:13  *** devkulkarni has quit IRC
2014-07-02T19:25:14  <hashar> and no code comment :D
2014-07-02T19:25:27  *** otherwiseguy has joined #openstack-infra
2014-07-02T19:25:44  <nibalizer> hashar: also the catalog compiler differ thing is a bit too complex for me to be like 'oh i see how this works, boom, installed'
2014-07-02T19:26:05  <hashar> nibalizer: yeah you should reach out to Giuseppe _joe_ , he can guide you
2014-07-02T19:26:17  <hashar> it was really a one man / one shot effort
2014-07-02T19:26:24  <hashar> just thought you might have interest in using it
2014-07-02T19:26:30  <hashar> feel free to discard :-D
2014-07-02T19:27:16  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Add node def for puppet3 master  https://review.openstack.org/83678
2014-07-02T19:27:21  *** mfer has joined #openstack-infra
2014-07-02T19:27:47  <nibalizer> ya, have you or he blogged about it?
2014-07-02T19:27:57  <nibalizer> i think the puppet community shoudl be made a little bit more aware
2014-07-02T19:28:31  *** devkulkarni has joined #openstack-infra
2014-07-02T19:29:31  <Ajaeger> foobio: docs-specs looks fine to me, seems you got it running - now only the group is missing...
2014-07-02T19:29:36  <foobio> jbooboo: mordred: for whatever reason, the initial project creation run for openstack/docs-specs failed to create the groups file in the local repository. i created the group through the webui and manually created the commit for the acl and groups file (with the appropriate uuid) and gerrit let me push them just fine once i had the formatting correct
2014-07-02T19:29:39  *** pballand has joined #openstack-infra
2014-07-02T19:29:53  <mordred> foobio: everything about that makes me sad
2014-07-02T19:29:58  <foobio> Ajaeger: who's supposed to be in openstack-doc-specs-core?
2014-07-02T19:31:11  *** mrmartin has joined #openstack-infra
2014-07-02T19:31:18  <mrmartin> re
2014-07-02T19:31:35  *** sigmavirus24 has joined #openstack-infra
2014-07-02T19:31:41  <foobio> Ajaeger: i've added annegentle and made it visible now
2014-07-02T19:31:56  <Ajaeger> foobio: annegentle for sure - and looking at http://lists.openstack.org/pipermail/openstack-docs/2014-July/004765.html also Sean Roberts, Bryan Payne and myself.
2014-07-02T19:32:07  <Ajaeger> (at minimum)
2014-07-02T19:32:24  <Ajaeger> foobio: if annegentle can add more, it should be fine - thanks!
2014-07-02T19:32:35  <foobio> Ajaeger: i added you and you and she can add whoever else you need
2014-07-02T19:32:46  <Ajaeger> thanks a lot, foobio!
2014-07-02T19:32:57  *** anode has joined #openstack-infra
2014-07-02T19:33:03  *** MarkAtwood has quit IRC
2014-07-02T19:33:09  *** mmaglana has quit IRC
2014-07-02T19:33:58  *** dims__ has quit IRC
2014-07-02T19:34:12  *** mmaglana has joined #openstack-infra
2014-07-02T19:34:23  <dhellmann> lifeless: you had questions on the spec for cross-project testing - https://review.openstack.org/95885
2014-07-02T19:34:32  <foobio> superbee: you might be interested by https://review.openstack.org/104249
2014-07-02T19:38:31  *** mestery_ is now known as mestery
2014-07-02T19:40:06  <openstackgerrit> Kashyap Chamarthy proposed a change to openstack-infra/elastic-recheck: Add query for Ceilometer timeout - bug 1336755  https://review.openstack.org/104160
2014-07-02T19:40:08  <uvirtbot> Launchpad bug 1336755 in ceilometer "telemetry_notification_api.py test times out waiting for Nova notification" [Undecided,New] https://launchpad.net/bugs/1336755
2014-07-02T19:44:53  *** dims has joined #openstack-infra
2014-07-02T19:46:14  <Ajaeger> Alex_Gaynor, dhellmann: could you review https://review.openstack.org/#/c/104171/, please?
2014-07-02T19:46:31  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: Add query for Ceilometer timeout - bug 1336755  https://review.openstack.org/104160
2014-07-02T19:46:32  <uvirtbot> Launchpad bug 1336755 in ceilometer "telemetry_notification_api.py test times out waiting for Nova notification" [Undecided,New] https://launchpad.net/bugs/1336755
2014-07-02T19:47:24  *** moted has quit IRC
2014-07-02T19:47:41  <mrmartin> hi
2014-07-02T19:47:55  *** rcarrill` has joined #openstack-infra
2014-07-02T19:48:06  <foobio> howdy mrmartin
2014-07-02T19:48:20  <mrmartin> guys, how can I check http://puppetboard.openstack.org/node/groups-dev.openstack.org reports for a specific day?
2014-07-02T19:48:25  *** dims_ has joined #openstack-infra
2014-07-02T19:48:49  <dhellmann> Ajaeger: +2
2014-07-02T19:48:52  <foobio> mrmartin: i think puppetboard is probably not great for looking at historical reports...
2014-07-02T19:48:58  <foobio> nibalizer: superbee: ^?
2014-07-02T19:49:09  <mrmartin> something happened inside the groups-dev, and I think it could be some race-condition in my puppet config
2014-07-02T19:49:27  <SlickNik> Sukhdev / anteaya: I was following the steps in the google document but ran into some issues compiling the particular fork of gerrit-trigger-plugin that the doc mentions.
2014-07-02T19:49:33  <Ajaeger> thanks, dhellmann
2014-07-02T19:49:37  <SlickNik> Sukhdev / anteaya: https://gist.github.com/anonymous/7984f4180fdd271a8c4f
2014-07-02T19:49:40  *** rcarrill` has quit IRC
2014-07-02T19:49:44  *** praneshp has quit IRC
2014-07-02T19:49:56  <nibalizer> foobio: for getting the stuff from way-back?
2014-07-02T19:49:59  *** dims has quit IRC
2014-07-02T19:49:59  *** dkranz has quit IRC
2014-07-02T19:50:05  *** rcarrillocruz has quit IRC
2014-07-02T19:50:07  <SlickNik> Sukhdev: Any ideas if you've seen this before, or what I may be running into?
2014-07-02T19:50:15  <foobio> nibalizer: yes, for browsing reports older than the 10 most recent
2014-07-02T19:50:18  *** Ryan_Lane has quit IRC
2014-07-02T19:50:20  <nibalizer> oh thats fixed
2014-07-02T19:50:33  <nibalizer> we could upgrade our puppetboard and now there is a config option to say how many reports you want to see
2014-07-02T19:50:51  <foobio> mrmartin: how far back were you wanting to look?
2014-07-02T19:51:06  <mrmartin> Jul  1 23:45
2014-07-02T19:51:10  <mrmartin> the reports around this date.
2014-07-02T19:51:21  <foobio> okay, so a little less than a day ago
2014-07-02T19:51:32  *** rcarrillocruz has joined #openstack-infra
2014-07-02T19:51:54  <mrmartin> I had a symlink there that was overwritten by a directory, and I guess somehow my symlink resource and apache manifest could collide in some special case.
2014-07-02T19:51:56  <foobio> mrmartin: have you looked in the syslog on the server to see if puppet logged the issue there?
2014-07-02T19:52:04  *** marcoemorais has quit IRC
2014-07-02T19:52:22  <mrmartin> foobio: not yet, but I'm doing it now
2014-07-02T19:52:22  *** marcoemorais has joined #openstack-infra
2014-07-02T19:52:38  <anteaya> SlickNik: I just found Sukhdev in -neutron and explained the issue, I am assuming he is looking over the stacktrace
2014-07-02T19:53:03  *** moted has joined #openstack-infra
2014-07-02T19:53:45  <anteaya> SlickNik: he said he is heading out to lunch and will find you
2014-07-02T19:53:46  <russellb> so, "IBM PowerKVM Testing" has been completely broken for a good while now, can the account be disabled?  for example: https://review.openstack.org/#/c/104325/
2014-07-02T19:53:54  <anteaya> SlickNik: I'm not sure how long "lunch" is
2014-07-02T19:54:00  *** praneshp has joined #openstack-infra
2014-07-02T19:54:02  <anteaya> ArxCruz: ^^
2014-07-02T19:54:11  <SlickNik> anteaya: Thanks! I'll be around.
2014-07-02T19:54:12  <Sukhdev> SlickNik, anteaya: I was on my way to lunch  - let me look into this in bit and will let you know my findings….will you be around for a while?
2014-07-02T19:54:18  *** dims_ has quit IRC
2014-07-02T19:54:19  *** dprince has quit IRC
2014-07-02T19:54:33  <SlickNik> Sukhdev: Yes, I will. And thanks much for helping with this!
2014-07-02T19:54:40  <anteaya> ArxCruz: I thought we had talked about that this morning
2014-07-02T19:54:42  *** dims has joined #openstack-infra
2014-07-02T19:54:55  <anteaya> ArxCruz: devs don't like being guinea pigs for testing
2014-07-02T19:54:57  <Sukhdev> SlickNik: No worries!!!
2014-07-02T19:55:03  <mrmartin> foobio: it is the case, a collision between apache and my symlink: http://paste.openstack.org/show/85350/
2014-07-02T19:55:07  <jbooboo> nibalizer: trusty if we can swing it
2014-07-02T19:55:12  <anteaya> ArxCruz: please disable your system until it is fixed
2014-07-02T19:55:16  <ArxCruz> russellb: anteaya okay, I'm disabling it now
2014-07-02T19:55:19  <anteaya> russellb: thank you
2014-07-02T19:55:25  <russellb> ArxCruz: thank you!
2014-07-02T19:55:36  <anteaya> russellb: sorry about that, they had emailed me yesterday to say they were having issues
2014-07-02T19:55:50  <jbooboo> mrmartin: we attempted to upgrade the apache puppet module; failed, and downgraded it again.  not sure if that has a bearing on your issue
2014-07-02T19:55:50  <anteaya> I was off, and followed up wtih them this morning
2014-07-02T19:56:03  <nibalizer> jbooboo: okay
2014-07-02T19:56:08  <anteaya> russellb: I didn't realize they were still posting broken results
2014-07-02T19:56:18  <mrmartin> jbooboo: thanks, it explains the behaviour
2014-07-02T19:56:19  <nibalizer> i think i've gotten install_puppet.sh to a point where it will work well
2014-07-02T19:56:44  <nibalizer> i also want to pin to 3.4.* and we can go higher later if we want. objections?
2014-07-02T19:57:04  <russellb> anteaya: all good :)
2014-07-02T19:57:13  <anteaya> russellb: thanks
2014-07-02T19:57:21  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Add node def for puppet3 master  https://review.openstack.org/83678
2014-07-02T19:58:07  *** rcarrill` has joined #openstack-infra
2014-07-02T19:58:13  <mrmartin> and how can I avoid similar situations in the future. The core problem, that apache manifest creates a vhost directory (call it w/), and later I need to replace this with a symlink that points to the actual release (w->slot1 or w->slot1). Anyone now a good puppet pattern for that?
2014-07-02T19:58:58  *** dims_ has joined #openstack-infra
2014-07-02T19:59:09  <anteaya> and I have more electrical storm
2014-07-02T19:59:24  <anteaya> I'm unplugging everything and hope I don't lose anything else this round
2014-07-02T20:00:16  *** rcarrillocruz has quit IRC
2014-07-02T20:00:19  <nibalizer> jbooboo: so with that final state of the review for 83678 i think i'm good
2014-07-02T20:00:40  <nibalizer> it might even work on trusty :P
2014-07-02T20:00:56  *** dims has quit IRC
2014-07-02T20:01:48  *** marcoemorais has quit IRC
2014-07-02T20:02:17  *** marcoemorais has joined #openstack-infra
2014-07-02T20:02:27  *** marcoemorais has quit IRC
2014-07-02T20:02:28  <jbooboo> nibalizer: okay, taking a look
2014-07-02T20:02:43  *** marcoemorais has joined #openstack-infra
2014-07-02T20:02:55  <hashar> superbee: zaro: hey! I would like Marc Abramowitz to be added to python-jenkins. I have mailed -infra and -dev last week and you both seem to agree.  I am wondering what is the next step, does that need a puppet change?
2014-07-02T20:03:00  *** marcoemorais has quit IRC
2014-07-02T20:03:13  <superbee> hashar: it is not a puppet change, instead we just need to add folks to gerrit groups
2014-07-02T20:03:20  *** marcoemorais has joined #openstack-infra
2014-07-02T20:03:30  <hashar> should I be bold and just do it then reply back on the original email proposing the nomination?
2014-07-02T20:03:33  *** ociuhandu has joined #openstack-infra
2014-07-02T20:03:41  <superbee> foobio: thanks, I will -1 it now with a link to the change telling people to not use that version
2014-07-02T20:03:48  <superbee> er not change to the mail thread
2014-07-02T20:04:02  <superbee> hashar: that wouldn't bother me but jbooboo may want to do it
2014-07-02T20:04:07  <jbooboo> hashar: go for it :)
2014-07-02T20:04:16  <hashar> doing so thanks!
2014-07-02T20:04:24  <superbee> great
2014-07-02T20:04:46  <jbooboo> superbee: want to take a quick look at https://review.openstack.org/#/c/83678/17 ?
2014-07-02T20:05:03  <superbee> sure
2014-07-02T20:05:04  *** dims_ has quit IRC
2014-07-02T20:05:21  *** marcoemorais has quit IRC
2014-07-02T20:05:41  *** marcoemorais has joined #openstack-infra
2014-07-02T20:06:48  *** dims has joined #openstack-infra
2014-07-02T20:06:51  <hashar> jbooboo: also JJB could use Darragh Bailey and Marc Abramowitz (again) as core reviewers.  +1 ed by a whole bunch of people including mighty Monty
2014-07-02T20:06:58  *** pballand has quit IRC
2014-07-02T20:07:39  <jbooboo> hashar: thx, i'll finish that up this week
2014-07-02T20:08:32  <foobio> superbee: yep, was more just thrilled that the mina-sshd update seems to have done the trick
2014-07-02T20:08:58  <superbee> foobio: awesome. so ya I said in the review that it is a soft -1 and I think it would probably be ok to use 2.8.6 for git review testing
2014-07-02T20:09:07  <foobio> will mark wip pending 2.8.7
2014-07-02T20:09:11  <superbee> foobio: my big concern there being 2.8.6 is essentially a dead version that no one should use
2014-07-02T20:09:15  <superbee> which makes it less than ideal for testing
2014-07-02T20:09:28  <foobio> superbee: 100%agree
2014-07-02T20:09:37  *** harlowja is now known as harlowja_away
2014-07-02T20:10:55  *** thedodd has joined #openstack-infra
2014-07-02T20:12:05  *** d34dh0r53 has joined #openstack-infra
2014-07-02T20:12:24  *** weshay has quit IRC
2014-07-02T20:12:42  *** weshay has joined #openstack-infra
2014-07-02T20:12:49  <superbee> jbooboo: nibalizer two small things noted inline
2014-07-02T20:13:06  *** pballand has joined #openstack-infra
2014-07-02T20:13:12  *** Sukhdev has quit IRC
2014-07-02T20:13:38  *** radez is now known as radez_g0n3
2014-07-02T20:14:56  <nibalizer> kk will fix
2014-07-02T20:15:52  <superbee> ok I am going to start spinning up image rebuilds now
2014-07-02T20:16:02  <superbee> then I am going to remove envinject from jenkins07 to see what happens
2014-07-02T20:19:13  <nibalizer> superbee: can you look back at https://review.openstack.org/#/c/83678/17 I think you misread on the first comment?
2014-07-02T20:20:49  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Add node def for puppet3 master  https://review.openstack.org/83678
2014-07-02T20:21:02  <nibalizer> there ^^ is a fix for the second issue
2014-07-02T20:21:31  <superbee> nibalizer: you are missing the period
2014-07-02T20:21:40  <superbee> nibalizer: because 1.* != 1*
2014-07-02T20:21:57  *** UtahDave has joined #openstack-infra
2014-07-02T20:22:01  *** Ryan_Lane has joined #openstack-infra
2014-07-02T20:22:11  *** james_li has quit IRC
2014-07-02T20:22:29  <nibalizer> it doesn't have a * ?
2014-07-02T20:22:31  *** james_li has joined #openstack-infra
2014-07-02T20:22:36  <nibalizer> does it need to be '1.*' ?
2014-07-02T20:22:47  <arosen> I got a silly question here: http://logs.openstack.org/24/104324/1/check/gate-python-congressclient-pep8/5defc7c/console.html I'm getting some pep8 errors but it seems like we never enforce these in any of the openstack projects. Just curious if there is something i need to change in the cookiecutter template?
2014-07-02T20:23:05  <arosen> Looking at .tox.ini it seems the same as python-neutronclient which doesn't enforce these.
2014-07-02T20:23:05  <superbee> nibalizer: yes beacuse 1.* means match only version 1.x. But 1* matches versions 1,10,11,12,et al
2014-07-02T20:23:26  <nibalizer> okay
2014-07-02T20:23:32  <nibalizer> okay i didn't see that the * is added in by the template
2014-07-02T20:23:36  <nibalizer> okay i'll fix it all up
2014-07-02T20:23:41  <superbee> arosen: check the flake8 section in tox.ini?
2014-07-02T20:23:57  <superbee> we should declare war on editors that don't put newlines at the end of files though
2014-07-02T20:24:10  <openstackgerrit> Marton Kiss proposed a change to openstack-infra/config: Add groups.openstack.org instance  https://review.openstack.org/104332
2014-07-02T20:24:12  <nibalizer> so doesn't that mean the 2.7 shoud be 2.7. on the line above?
2014-07-02T20:24:34  <jbooboo> superbee, arosen: cookiecutter bizarrely strips newlines from its templates
2014-07-02T20:24:42  <superbee> nibalizer: possibly. I was more interested in keeping the pin file contents identical to the old contents
2014-07-02T20:24:47  <superbee> nibalizer: and the old one uses 2.7* iirc
2014-07-02T20:25:20  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Add node def for puppet3 master  https://review.openstack.org/83678
2014-07-02T20:25:43  <nibalizer> so does 2.7 match 2.7.26?
2014-07-02T20:25:52  <superbee> nibalizer: yes
2014-07-02T20:25:57  <superbee> well with the *
2014-07-02T20:26:01  <nibalizer> i guess it must, since it works everywhere
2014-07-02T20:26:06  <nibalizer> yea 2.7* is what I meant
2014-07-02T20:26:11  <arosen> jbooboo: ah i see interesting. thaks!
2014-07-02T20:26:24  *** Hal_ has quit IRC
2014-07-02T20:26:36  <superbee> jbooboo: oh fun
2014-07-02T20:26:49  <nibalizer> okay so tthat changest adds 2.7.* as the pinning for default and 3.4.* as the pinning for hosts running 3. does that work or do you want it to be 2.7* on the old hosts?
2014-07-02T20:27:42  <superbee> nibalizer: I am fine with 2.7.
2014-07-02T20:27:44  <superbee> foobio: jbooboo ^
2014-07-02T20:28:37  <jbooboo> ++
2014-07-02T20:29:04  * superbee reviews
2014-07-02T20:29:43  <superbee> +2
2014-07-02T20:30:26  *** mestery_ has joined #openstack-infra
2014-07-02T20:31:34  *** alexpilotti has quit IRC
2014-07-02T20:32:45  <mtreinish> superbee, foobio: you guys are still adding new projects on Fridays right?
2014-07-02T20:34:06  <superbee> mtreinish: we add them whenever
2014-07-02T20:34:24  <superbee> the system works well enough that we don't do it on a particular day anymore
2014-07-02T20:34:42  <jbooboo> except i won't be adding them this friday ;)
2014-07-02T20:35:17  <mtreinish> superbee: ahh, ok
2014-07-02T20:35:23  <mtreinish> jbooboo: heh, fair enough :)
2014-07-02T20:39:04  *** harlowja_away is now known as harlowja
2014-07-02T20:40:47  <Ajaeger> jbooboo, superbee: This patch was approved and needed a rebase: https://review.openstack.org/103646 I'd love to see it go on soonish if you have some minutes later...
2014-07-02T20:41:36  * superbee looks while fighting nodepool image builds
2014-07-02T20:42:27  <Ajaeger> superbee: the nodepool images are much more important ;) Thanks!
2014-07-02T20:43:06  <jbooboo> nibalizer: 83678 aprvd
2014-07-02T20:43:57  *** marun is now known as marun_afk
2014-07-02T20:44:08  *** denis_makogon has quit IRC
2014-07-02T20:45:18  <nibalizer> jbooboo: woot
2014-07-02T20:45:22  <openstackgerrit> Aaron Rosen proposed a change to openstack-infra/config: Enable gating for python-congressclient  https://review.openstack.org/104340
2014-07-02T20:45:29  * Ajaeger waves good-bye
2014-07-02T20:45:35  *** Ajaeger has quit IRC
2014-07-02T20:45:57  <openstackgerrit> A change was merged to openstack-infra/git-review: Ensure username is set for all tests  https://review.openstack.org/99365
2014-07-02T20:46:45  <openstackgerrit> A change was merged to openstack-infra/config: Add node def for puppet3 master  https://review.openstack.org/83678
2014-07-02T20:48:59  <nibalizer> jbooboo: so im not 100% on what our plan should be
2014-07-02T20:49:02  *** shashank has joined #openstack-infra
2014-07-02T20:49:46  <nibalizer> ideally we bring up the puppetmaster_ver=3 vm, then install_puppet.sh --three, then slave it to the other puppet master, and hope it runs well
2014-07-02T20:49:55  <nibalizer> if not, then we have to get creative
2014-07-02T20:50:08  <jbooboo> nibalizer: why slave it?
2014-07-02T20:50:13  *** Sukhdev has joined #openstack-infra
2014-07-02T20:50:20  <Sukhdev> SlickNik: Are you here?
2014-07-02T20:50:41  <Sukhdev> shashank: are you here?
2014-07-02T20:50:47  *** zz_gondoi is now known as gondoi
2014-07-02T20:50:49  *** krtaylor has quit IRC
2014-07-02T20:51:23  <openstackgerrit> Khai Do proposed a change to stackforge/python-jenkins: Use pbr, pep8 checks & fixes, add "doc" tox target  https://review.openstack.org/90455
2014-07-02T20:51:26  <Sukhdev> anteaya: hi
2014-07-02T20:52:12  *** marun_afk is now known as marun
2014-07-02T20:52:25  *** shashank has quit IRC
2014-07-02T20:53:04  *** miqui has quit IRC
2014-07-02T20:53:10  *** shashank has joined #openstack-infra
2014-07-02T20:53:52  <Sukhdev> SlickNik: Looks like you are gone
2014-07-02T20:53:59  <zaro> superbee: would you be able to help move this along? https://review.openstack.org/#/c/94675
2014-07-02T20:54:09  <Sukhdev> I have a Dr. appt and I have to go
2014-07-02T20:54:42  <Sukhdev> SlickNik: shashank is looking at your error and will provide you help.
2014-07-02T20:54:53  <nibalizer> jbooboo: well don't we need to slave it so that it picks up an ssl cert, and all the stuff in openstack_project::server that makes it an openstack-infra machine?
2014-07-02T20:54:59  <Sukhdev> SlickNik: please reach out to him - while i am gone
2014-07-02T20:55:14  <nibalizer> it's possible, maybe a bit tricky, to have it bootstrap itself
2014-07-02T20:55:17  <Sukhdev> I will be back online in couple of hours or so
2014-07-02T20:55:51  *** dims has quit IRC
2014-07-02T20:56:39  <shashank> SlickNik: Can you please change PluginCommentAddedEvent event = new PluginCommentAddedEvent("CRVW", "1");
2014-07-02T20:56:40  <nibalizer> i also need to make at least one more small commit, we need to set 'ca = false\nca_server = ci-puppetmaster.o.o' in the puppet.conf of only this puppet3 master, that way we have a centralized CA
2014-07-02T20:56:54  <shashank> on line 63 in gerrit-trigger-plugin/blob/master/gerrithudsontrigger/src/test/java/com/sonyericsson/hudson/plugins/gerrit/trigger/mock/DuplicatesUtil.java
2014-07-02T20:56:55  <SlickNik> Sukhdev: Thanks!
2014-07-02T20:57:13  <shashank> to +    public PluginCommentAddedEvent(String verdictCategory,
2014-07-02T20:57:13  <shashank> +                                   String commentAddedTriggerApprovalValue,
2014-07-02T20:57:14  <shashank> +                                   String commentPattern ) {
2014-07-02T20:57:21  *** Sukhdev_ has joined #openstack-infra
2014-07-02T20:57:30  <shashank> SlickNik: Oops, sorry
2014-07-02T20:57:36  <jbooboo> nibalizer: i thought the plan was to operate it in parallel, moving hosts over to it opportunistically
2014-07-02T20:57:44  *** signed8b_ is now known as signed8bit_ZZZzz
2014-07-02T20:57:46  <shashank> Change that to PluginCommentAddedEvent event = new PluginCommentAddedEvent("CRVW", "1", "*" );
2014-07-02T20:58:01  <jbooboo> nibalizer: i'm not sure what it needs from ci-puppetmaster, actually
2014-07-02T20:58:16  *** atiwari has quit IRC
2014-07-02T20:58:26  <SlickNik> shashank: Thanks for looking at this! I'm in back-to-back meetings over the next two hours, I'll make the changes you suggest after that and let you know how it goes.
2014-07-02T20:58:44  <shashank> SlickNik: No problem
2014-07-02T20:59:12  *** atiwari has joined #openstack-infra
2014-07-02T20:59:44  <nibalizer> jbooboo: you're correct that it will be acting in parallel. but we need to change the default puppet master behaviour
2014-07-02T21:00:01  <nibalizer> by default it will generate and manage its own CA for client certs
2014-07-02T21:00:07  *** Sukhdev has quit IRC
2014-07-02T21:00:08  *** dims has joined #openstack-infra
2014-07-02T21:00:24  <nibalizer> what we need to do is to tell it to run the puppet master service as normal, but to use ci-puppetmaster as the CA server
2014-07-02T21:00:27  *** yfried has quit IRC
2014-07-02T21:00:35  *** melwitt has quit IRC
2014-07-02T21:01:01  *** melwitt has joined #openstack-infra
2014-07-02T21:01:13  <nibalizer> we'll sign the cert on puppetmaster.o.o with the ca on ci-puppetmaster.o.o and that will allow a rooter to hop on an arbitrary box and issue a 'puppet agent --noop --server=puppetmaster.o.o' and see if anything breaks
2014-07-02T21:01:44  *** melwitt has quit IRC
2014-07-02T21:01:47  *** melwitt1 has joined #openstack-infra
2014-07-02T21:01:53  <nibalizer> does that make sense?
2014-07-02T21:02:01  *** mrda_away is now known as mrda
2014-07-02T21:02:19  *** hogepodge has quit IRC
2014-07-02T21:02:20  *** Sukhdev_ has quit IRC
2014-07-02T21:03:13  <annegentle> mordred: aroo?
2014-07-02T21:03:43  *** yfried has joined #openstack-infra
2014-07-02T21:03:52  *** melwitt1 has quit IRC
2014-07-02T21:03:59  *** andreykurilin_ has joined #openstack-infra
2014-07-02T21:04:00  *** shashank is now known as shashankhegde
2014-07-02T21:04:03  *** hogepodge has joined #openstack-infra
2014-07-02T21:04:12  *** melwitt has joined #openstack-infra
2014-07-02T21:04:27  <jbooboo> nibalizer: so the new puppetmaster will need a copy of ci-puppetmaster's cert in order to validate signed certs from clients?
2014-07-02T21:04:44  *** mestery_ has quit IRC
2014-07-02T21:04:45  *** ArxCruz has quit IRC
2014-07-02T21:05:08  *** rfolco has quit IRC
2014-07-02T21:05:31  <jbooboo> nibalizer: or does "ca_server =" cause it to do that validation over the network?  (and if so, how?)
2014-07-02T21:06:03  *** adalbas has quit IRC
2014-07-02T21:06:05  *** atiwari has quit IRC
2014-07-02T21:06:25  <superbee> ok I am removing envinject plugin from jenkins07 now
2014-07-02T21:06:26  *** markwash has quit IRC
2014-07-02T21:06:29  *** gokrokve has quit IRC
2014-07-02T21:07:21  <nibalizer> jbooboo: so the new puppetmaster will need its own cert, we can't re-use the cert from ci-puppetmaster
2014-07-02T21:07:27  *** mfer has quit IRC
2014-07-02T21:07:35  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: New Story Autofocus  https://review.openstack.org/104342
2014-07-02T21:07:52  <jbooboo> nibalizer: yeah, that's not what i was trying to ask; i'm curious about how the new puppetmaster will validate the signatures of client certs presented to it
2014-07-02T21:08:03  <nibalizer> ca = false tells the puppet daemon not to respond to certificate signing requests, if it gets one it just errors and closes the connection, thats how we prevent puppetmaster from running its own ca
2014-07-02T21:08:22  <nibalizer> ca_server = ci-pupputmaster will tell puppetmaster that it needs to check in to that host to get a certificate
2014-07-02T21:08:24  <jbooboo> nibalizer: oh, we should do that on ci-puppetmaster too -- we never accept signing requests
2014-07-02T21:08:35  *** gokrokve has joined #openstack-infra
2014-07-02T21:08:46  <nibalizer> no it does more than that, it turns off all certificate authority actions too
2014-07-02T21:08:52  <nibalizer> how do you put certs out there
2014-07-02T21:08:52  <nibalizer> ?
2014-07-02T21:08:58  <nibalizer> do you puppet cert generate then copy?
2014-07-02T21:09:21  <jbooboo> nibalizer: yes, because we launch them from ci-puppetmaster, so we have a trusted path for the copy
2014-07-02T21:09:35  <nibalizer> puppetmaster.o.o will validate clients by checking to see if their cert has been signed by the ca.pem that puppetmaster.o.o got from puppetmaster-ci.o.o
2014-07-02T21:09:48  <nibalizer> clients perform a reciprocal validation
2014-07-02T21:10:26  <jbooboo> nibalizer: okay, so checking the ca.pem from ci-puppetmaster is a side effect of setting ca_server=, right?
2014-07-02T21:10:43  <nibalizer> well, no
2014-07-02T21:10:57  <nibalizer> if we're doing cert generate, copy, then there is no need for ca_server to be set
2014-07-02T21:11:15  <nibalizer> its only important if using puppet agent, then puppet cert sign to do the initial key setup
2014-07-02T21:11:21  <nibalizer> key/cert setup, i should say
2014-07-02T21:11:35  <nibalizer> actually puppet doesn't /do/ any certificate validation, it hands all that off to apache
2014-07-02T21:11:48  <jbooboo> nibalizer: ok, so what will cause puppetmaster to validate client certs are signed by ci-puppetmaster's ca.pem?
2014-07-02T21:11:52  <jbooboo> or apache even :)
2014-07-02T21:12:01  <nibalizer> so its our job to put ci-puppetmaster.o.o's ca.pem file in the right place then point at it in apache and then we're golden
2014-07-02T21:12:37  <nibalizer> jbooboo: apache configuration dirctives set that up
2014-07-02T21:12:40  <jbooboo> ./sites-available/puppetmaster:        SSLCACertificateFile    /var/lib/puppet/ssl/certs/ca.pem
2014-07-02T21:12:43  <openstackgerrit> Khai Do proposed a change to stackforge/python-jenkins: Use pbr, pep8 checks & fixes, add "doc" tox target  https://review.openstack.org/90455
2014-07-02T21:12:45  <jbooboo> that one i guess :)
2014-07-02T21:13:25  <nibalizer> jbooboo: so if you look in that file there is a section that allows unauthenticated clients to submit certificate signing requests
2014-07-02T21:13:50  *** dims_ has joined #openstack-infra
2014-07-02T21:13:56  <nibalizer> we could presumably remove that to get the behaviour you spoke of a bit ago: rejecting certificate requests
2014-07-02T21:14:29  <superbee> shutting down jenkins07 now
2014-07-02T21:14:32  <jbooboo> nibalizer: i don't see that option immediately, but that might be nice, yeah.  but we can worry about it later
2014-07-02T21:14:50  *** mmaglana has quit IRC
2014-07-02T21:14:52  <jbooboo> nibalizer: so should we just copy the ci-puppetmaster ca files (cert and key) over to the new puppetmaster?
2014-07-02T21:15:09  *** dims has quit IRC
2014-07-02T21:15:38  <superbee> and starting now
2014-07-02T21:15:42  *** julim has quit IRC
2014-07-02T21:16:14  <nibalizer> jbooboo: no
2014-07-02T21:16:37  <nibalizer> we should puppet cert generate puppetmaster.o.o , then copy those files over, as well as the ca.pem from the CA and the CRL
2014-07-02T21:16:57  <nibalizer> also... crud, so trusty has apache 2.4
2014-07-02T21:17:27  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-07-02T21:17:40  <nibalizer> so we'll have to add logic to detect and handle that in our puppetmaster vhost template
2014-07-02T21:17:42  <jbooboo> nibalizer: sorry, i was only asking about the ca.  so yes, agreed that the machine cert itself should be unique for the new server, but as for the CA -- copy it over completely?
2014-07-02T21:17:47  <superbee> https://jenkins07.openstack.org/job/gate-horizon-selenium/922/parameters/? jobs are running and we still list parameters
2014-07-02T21:17:53  <superbee> so hopefully this really does fix it :)
2014-07-02T21:18:41  *** gyee has quit IRC
2014-07-02T21:18:44  *** annegent_ has joined #openstack-infra
2014-07-02T21:18:46  <nibalizer> jbooboo: no no, we can't copy it over
2014-07-02T21:18:51  <nibalizer> it needs to be unique
2014-07-02T21:18:52  *** dims_ has quit IRC
2014-07-02T21:19:11  <nibalizer> because every time you sign a cert with a ca it gets a serial number and those numbers are what is used to revoke it in the crl
2014-07-02T21:19:27  <nibalizer> so best pratice is to only have one if you can get away with it
2014-07-02T21:19:47  <nibalizer> second best practice if you really need two machines, is to keep it on nfs or something so the files can never disagree
2014-07-02T21:20:01  *** james_li has quit IRC
2014-07-02T21:20:18  <nibalizer> but we don't need that CA directory on puppetmaster.o.o it can live on ci-puppetmaster.o.o for the forseeable future
2014-07-02T21:20:52  <jbooboo> nibalizer: okay, so just copy the ca cert for now, but not the key?  i mean, we'll have a ca on that host, it just won't be usuable in that state.
2014-07-02T21:21:24  *** mmaglana has joined #openstack-infra
2014-07-02T21:21:24  <nibalizer> ca = false on puppetmaster.o.o tells pm.o.o to be a 'dumb' puppet master, just compiling catalogs and such, leaving cert signing to a different puppetmaster
2014-07-02T21:21:47  <nibalizer> jbooboo: it won't have a ca at all, the only file you need to copy over that has ca in it is /var/lib/puppet/ssl/certs/ca.pem
2014-07-02T21:22:14  <nibalizer> but thats just the root ca certificate, same file as is in /etc/pki and /etc/ssl and in your firefox
2014-07-02T21:22:28  <nibalizer> its only purpose is to validate that a certificate presented to you has been signde by that certificate authority
2014-07-02T21:22:50  <nibalizer> and its only purpose for pm.o.o is to make sure clients have really been signed by the CA on ci-puppetmaster.o.o
2014-07-02T21:23:15  <nibalizer> also, is the puppetmaster apache vhost managed in puppet? I don't see it in infra/config anywhere
2014-07-02T21:23:22  <jbooboo> nibalizer: i'm assuming something will create those files and set up a valid ca.  so at that point, i think it's likely we will have a broken ca because the key doesn't match the cert.  but we don't care because we don't plan to use it.
2014-07-02T21:23:24  <openstackgerrit> Ben Nemec proposed a change to openstack-infra/config: Use tripleo-core for dib-utils  https://review.openstack.org/104349
2014-07-02T21:23:28  <jbooboo> nibalizer: i expect that it comes from the .deb
2014-07-02T21:23:31  *** signed8bit_ZZZzz is now known as signed8b_
2014-07-02T21:23:46  <jbooboo> superbee: erm, that screen was supposed to go away
2014-07-02T21:23:47  <nibalizer> oh the puppetmaster-passenger package, that makes sense
2014-07-02T21:24:43  <superbee> jbooboo: yes I think jenkins provides that screen
2014-07-02T21:24:46  <nibalizer> jbooboo: yes, probably the post-install(and start) script of the puppemaster-passenger package will generate a ca
2014-07-02T21:24:47  <superbee> jbooboo: I don't think the plugin does
2014-07-02T21:24:54  <jbooboo> superbee: jenkins-dev does not have it
2014-07-02T21:25:07  <nibalizer> but a combination of putting ca=false in the [master] section of puppet.conf and rm -fr /var/lib/puppet/ssl will take care of that
2014-07-02T21:25:19  <superbee> jbooboo: oh
2014-07-02T21:25:19  <nibalizer> then you can copy over the four files you need from ci-puppetmaster.o.o
2014-07-02T21:25:25  <superbee> jbooboo: the plugin is definitely uninstalled
2014-07-02T21:25:41  *** abhishek__ has joined #openstack-infra
2014-07-02T21:26:04  <abhishek__> hi all
2014-07-02T21:26:29  <abhishek__> can any one review this patch?
2014-07-02T21:26:29  <abhishek__> https://review.openstack.org/#/c/102215/
2014-07-02T21:26:34  <abhishek__> thank you
2014-07-02T21:26:42  *** mmaglana has quit IRC
2014-07-02T21:26:56  <jbooboo> superbee: i wonder if 'rebuild plugin' is responsible?
2014-07-02T21:27:25  *** jp_at_hp has quit IRC
2014-07-02T21:27:27  <superbee> jbooboo: /me looks
2014-07-02T21:27:51  *** sgordon has quit IRC
2014-07-02T21:28:23  <jbooboo> oh, hrm.  some jobs do have it...
2014-07-02T21:28:34  <jbooboo> on jenkins-dev
2014-07-02T21:28:45  <foobio> i've not been reviewing the puppetmaster^3 changes closely enough... how do we address hiera sync from the old master? entry at a time? wholesale copying of the hiera file?
2014-07-02T21:28:47  <superbee> oh weird
2014-07-02T21:29:04  <superbee> jbooboo: I think removal of that screen is less pressing
2014-07-02T21:29:19  <superbee> it would have been nice to have but the more important thing is getting the env vars in without modifying them
2014-07-02T21:29:36  <pleia2> foobio: I had assumed wholesale copying
2014-07-02T21:29:45  <jbooboo> superbee: yeah
2014-07-02T21:30:05  <pleia2> shouldn't change that much
2014-07-02T21:30:16  <jbooboo> pleia2, foobio: yeah, i think we probably just double our work there for a while :)
2014-07-02T21:30:50  <pleia2> some of our dependencies are a bit tangled up (referenceing gerrit pubkey on a few servers, for instance) so I think chopping it up for the move is more work
2014-07-02T21:30:53  <jbooboo> nibalizer: ok so i think we know what we're doing now; do you want to write that second patch before i launch the new host?
2014-07-02T21:31:17  <jbooboo> nibalizer: or go aheand and launch it, and fix it up with the update later?
2014-07-02T21:31:34  *** dims has joined #openstack-infra
2014-07-02T21:32:44  *** SumitNaiksatam has quit IRC
2014-07-02T21:32:46  <superbee> arg I think centos6 builds are broken again due to facter
2014-07-02T21:35:05  <superbee> fix incoming
2014-07-02T21:36:23  *** mrmartin has quit IRC
2014-07-02T21:36:27  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Readd facter-2* exclude on centos6.  https://review.openstack.org/104351
2014-07-02T21:36:32  <nibalizer> jbooboo: as you pointed out
2014-07-02T21:36:32  <superbee> jbooboo: nibalizer ^
2014-07-02T21:37:07  <nibalizer> whatever i do with ca = false is moot because the pacakge is gonna go do things anyways cus its 'helping'
2014-07-02T21:37:13  <nibalizer> im about to submit the patch
2014-07-02T21:37:34  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Allow site.pp to manage ca and ca_sever in puppet.conf  https://review.openstack.org/104352
2014-07-02T21:38:03  *** rcarrillocruz has joined #openstack-infra
2014-07-02T21:38:13  <openstackgerrit> David Lyle proposed a change to openstack-infra/reviewstats: Updating Horizon core with recent changes  https://review.openstack.org/104353
2014-07-02T21:38:33  <nibalizer> also i had some good early results from running beaker on localhost, nothing to share yet really, but hopefully by the end of the week something you all can see/poke at
2014-07-02T21:38:45  <reed> foobio, jbooboo: when you have time, this is good news finally https://review.openstack.org/#/c/104332/
2014-07-02T21:39:08  <jbooboo> reed: cool
2014-07-02T21:39:51  <jbooboo> nibalizer: lgtm
2014-07-02T21:40:08  *** rcarrill` has quit IRC
2014-07-02T21:40:24  <jbooboo> superbee: lgtm
2014-07-02T21:40:39  <jbooboo> superbee: and i'll trade you https://review.openstack.org/#/c/104352/ :)
2014-07-02T21:41:07  *** signed8b_ is now known as signed8bit_ZZZzz
2014-07-02T21:41:30  <openstackgerrit> A change was merged to stackforge/python-jenkins: Use pbr, pep8 checks & fixes, add "doc" tox target  https://review.openstack.org/90455
2014-07-02T21:42:03  *** ociuhandu has quit IRC
2014-07-02T21:44:13  <superbee> jbooboo: nibalizer that change failed testing
2014-07-02T21:45:17  *** signed8bit_ZZZzz is now known as signed8b_
2014-07-02T21:45:35  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Allow site.pp to manage ca and ca_sever in puppet.conf  https://review.openstack.org/104352
2014-07-02T21:46:32  <openstackgerrit> A change was merged to openstack-infra/config: Readd facter-2* exclude on centos6.  https://review.openstack.org/104351
2014-07-02T21:46:33  <nibalizer> superbee: ya, just posted a fix
2014-07-02T21:46:33  <nibalizer> sorry i needed to verify that undef works how I think it does
2014-07-02T21:52:51  *** sweston has joined #openstack-infra
2014-07-02T21:53:38  *** chianingwang has quit IRC
2014-07-02T21:55:07  *** jamielennox|away is now known as jamielennox
2014-07-02T21:55:23  *** james_li has joined #openstack-infra
2014-07-02T21:57:22  *** abhishek__ has quit IRC
2014-07-02T21:57:29  <zaro> msabramo: noticed you approved your change own change.  Sorry I didn't make you aware, but I think we kinda have a policy against that.
2014-07-02T21:57:31  *** melwitt has quit IRC
2014-07-02T21:58:59  *** dangers is now known as dangers_away
2014-07-02T21:59:56  *** MarkAtwood has joined #openstack-infra
2014-07-02T22:01:27  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Allow site.pp to manage ca and ca_sever in puppet.conf  https://review.openstack.org/104352
2014-07-02T22:04:28  *** mbacchi has quit IRC
2014-07-02T22:05:38  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Adding default value for hiera lookup  https://review.openstack.org/104358
2014-07-02T22:05:48  <msabramo> zaro: Oops. sorry about that
2014-07-02T22:06:00  *** mmaglana has joined #openstack-infra
2014-07-02T22:07:28  <msabramo> oh I see you pushed up patch sets but probably just to rebase it; it was originally me
2014-07-02T22:07:37  <msabramo> duh
2014-07-02T22:07:39  <msabramo> sorry bout that
2014-07-02T22:08:19  *** rcarrillocruz has quit IRC
2014-07-02T22:08:24  *** eharney has quit IRC
2014-07-02T22:08:39  *** rcarrillocruz has joined #openstack-infra
2014-07-02T22:08:49  <mattoliverau> Guten morgen
2014-07-02T22:09:17  *** penguinRaider has joined #openstack-infra
2014-07-02T22:10:40  *** doug-fish has left #openstack-infra
2014-07-02T22:11:38  <hashar> msabramo: hi! I have added you as a core reviewer to python-jenkins \O/
2014-07-02T22:12:10  <msabramo> hashar: Yes, I saw and I am honored by that :-)
2014-07-02T22:12:25  <hashar> zaro: my bad, should have talked about the double CR+2 with Mark before adding him :/
2014-07-02T22:12:26  <msabramo> though apparently I immediately abused my power :-)
2014-07-02T22:12:48  <msabramo> what happens now? military tribunal? :-)
2014-07-02T22:13:06  <foobio> guten abend mattoliverau
2014-07-02T22:13:13  <hashar> the idea is to seek review from two other core contributors, one of them (or even a third one) would then formally approve
2014-07-02T22:13:33  *** andreykurilin_ has quit IRC
2014-07-02T22:13:35  <hashar> so you have some kind of a double check.
2014-07-02T22:14:44  <hashar> zaro: I can't afford anytime this week to review stuff onJJB.  Will definitely allocate half a day next week though, then I am on vacations
2014-07-02T22:14:48  <mattoliverau> foobio: I see you've been practicing too :P
2014-07-02T22:15:36  *** nelsnelson has quit IRC
2014-07-02T22:15:48  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-07-02T22:16:47  *** d34dh0r53 is now known as mostly_d34dh0r53
2014-07-02T22:18:17  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/config: Modularized StoryBoard Module  https://review.openstack.org/98007
2014-07-02T22:19:05  <hashar> zaro: maybe python-jenkins could use a minor release just before that pbr patches that landed in
2014-07-02T22:19:11  <hashar> zaro: then bump version to 0.3 ?
2014-07-02T22:19:22  <jbooboo> probably a good idea
2014-07-02T22:20:06  <zaro> msabramo: tribunal would be interesting, but i think newbie pass is ok this time :)
2014-07-02T22:21:19  <zaro> hashar: ++, will do tomorrow maybe.
2014-07-02T22:21:39  <hashar> zaro: left a note on the pbr change . Thanks!
2014-07-02T22:21:43  <nibalizer> jbooboo: superbee want to review https://review.openstack.org/#/c/104358/ ?
2014-07-02T22:21:44  <hashar> crashing to bed. Have fun folks
2014-07-02T22:21:47  *** otherwiseguy has quit IRC
2014-07-02T22:22:11  <nibalizer> turns out you HAVE to use the <% -%> syntax if you dont' provide any string output
2014-07-02T22:22:21  <zaro> hashar: although it probably should be major release since last release was a year ago and there seems to be lots of changes?
2014-07-02T22:22:50  <jbooboo> nibalizer: is https://review.openstack.org/#/c/104352/ ready?
2014-07-02T22:23:23  <nibalizer> jbooboo: yes
2014-07-02T22:24:12  *** gondoi is now known as zz_gondoi
2014-07-02T22:24:27  <zaro> jbooboo: have an opinion? should release be 0.3 or  0.2.2?
2014-07-02T22:24:29  *** melwitt has joined #openstack-infra
2014-07-02T22:24:41  <openstackgerrit> Doug Hellmann proposed a change to openstack-infra/release-tools: Use python interpreter in the $PATH  https://review.openstack.org/104365
2014-07-02T22:24:43  <openstackgerrit> Doug Hellmann proposed a change to openstack-infra/release-tools: Add requests requirement needed by spec2bp  https://review.openstack.org/104366
2014-07-02T22:24:49  <jbooboo> zaro: i'd do 0.3.0
2014-07-02T22:24:52  *** melwitt1 has joined #openstack-infra
2014-07-02T22:24:58  *** maxbit has quit IRC
2014-07-02T22:25:20  <zaro> hashar, msabramo : ^ i agree with jbooboo
2014-07-02T22:25:29  <hashar> 0.3.0 without pbr so ?
2014-07-02T22:25:55  <zaro> hashar: yes. then bump next one to 0.4
2014-07-02T22:26:05  <hashar> sounds good to me
2014-07-02T22:27:57  <zaro> hashar: goodnight
2014-07-02T22:28:08  <hashar> thank you!
2014-07-02T22:28:39  *** melwitt has quit IRC
2014-07-02T22:30:46  *** shashankhegde has quit IRC
2014-07-02T22:31:40  <msabramo> yeah I agree with 0.3.0 for next version of python-jenkins without pbr and then 0.4.0 for pbr
2014-07-02T22:32:01  <superbee> err: /Stage[main]/Openstack_project::Thick_slave/Package[python-requests]/ensure: change from 1.1.0-4.el6 to absent failed: Execution of '/bin/rpm -e python-requests-1.1.0-4.el6.noarch' returned 1: error: Failed dependencies:
2014-07-02T22:32:03  <msabramo> even without pbr, it changed quite a lot and changed maintainership and everything
2014-07-02T22:32:07  <superbee> python-requests is needed by (installed) cloud-init-0.7.4-2.el6.noarch
2014-07-02T22:32:24  <superbee> I think yum is trying to tell me it couldn't upgrade python-requests because the version of cloud init that is installed dpeends on the version it already has?
2014-07-02T22:32:28  <ianw> jbooboo: https://review.openstack.org/#/c/101110/ acquired a few more reviews; any more issues?
2014-07-02T22:32:41  <anteaya> so more rain, right now we are at 6.5 inches in 48 hours, not sure but it might break a record
2014-07-02T22:33:09  <jbooboo> ianw: aprvd
2014-07-02T22:33:10  <superbee> anteaya: are you commuting by boat yet?
2014-07-02T22:33:42  <superbee> jbooboo: so should we move forward on envinject or do a bit more sluething to remove the parameters page first?
2014-07-02T22:33:53  <superbee> jbooboo: I guess we should also run a job on 07 to check that it really does fix the parameters
2014-07-02T22:34:06  <ianw> jbooboo: thanks!
2014-07-02T22:34:28  <jbooboo> superbee: i'd move forward on that to solve the error and regroup on the parameters page since it's less critical
2014-07-02T22:34:49  <superbee> ok I am going to put 06 and 05 in shutdown mode now
2014-07-02T22:34:56  <anteaya> superbee: no commute
2014-07-02T22:34:57  *** annegent_ has quit IRC
2014-07-02T22:35:07  <anteaya> but I am sizing up the available timber for the ark
2014-07-02T22:35:24  <anteaya> I should be in good shape
2014-07-02T22:35:36  <anteaya> the deck posts will be my beams
2014-07-02T22:35:57  <superbee> and done put in shutdown mode
2014-07-02T22:36:12  *** hashar has quit IRC
2014-07-02T22:36:55  *** otherwiseguy has joined #openstack-infra
2014-07-02T22:37:32  *** jgrimm has quit IRC
2014-07-02T22:37:34  *** zzelle has quit IRC
2014-07-02T22:38:50  *** melwitt1 has quit IRC
2014-07-02T22:39:08  <jbooboo> superbee: quick question on your zuul poll patch...
2014-07-02T22:39:37  <jbooboo> superbee: would it be possible to get the test cases from the other class?  it looks like just code duplication there...
2014-07-02T22:40:34  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-07-02T22:41:17  *** signed8b_ is now known as signed8bit_ZZZzz
2014-07-02T22:41:18  <openstackgerrit> A change was merged to openstack-infra/nodepool: Track last allocations to ensure forward-progress  https://review.openstack.org/101110
2014-07-02T22:42:06  <superbee> jbooboo: maybe?
2014-07-02T22:42:14  <superbee> it has been a while I would haveto go reread
2014-07-02T22:42:23  <superbee> I think the reason for that was we didn't want to run all of the tests from the other class
2014-07-02T22:43:05  <superbee> jhesketh: jbooboo https://jenkins07.openstack.org/job/experimental-swift-logs-config-pep8/9/console
2014-07-02T22:43:28  *** anode has quit IRC
2014-07-02T22:43:28  <superbee> that still isn't quite working right and it appears that maybe jenkins without envinject truncates the variable?
2014-07-02T22:43:31  <superbee> so much :(
2014-07-02T22:44:38  *** anode has joined #openstack-infra
2014-07-02T22:44:52  *** pballand has quit IRC
2014-07-02T22:45:12  *** shashankhegde has joined #openstack-infra
2014-07-02T22:45:22  <superbee> jbooboo: I remember now. The sleeps are what is important
2014-07-02T22:45:31  <jbooboo> superbee: oh, ok.  thx.
2014-07-02T22:45:34  <superbee> jbooboo: those tests are different and have artificial waits that force the polling to occur
2014-07-02T22:45:40  <superbee> similar but differnet
2014-07-02T22:46:07  <jbooboo> superbee: er, any chance we can make those a bit faster? :)
2014-07-02T22:46:25  <superbee> we have 1 second precision, so 2 seconds maybe?
2014-07-02T22:46:34  <jbooboo> superbee: for the timer tests i do tenths of a second
2014-07-02T22:46:44  <openstackgerrit> A change was merged to openstack-infra/config: Move oslo default test node to trusty.  https://review.openstack.org/103660
2014-07-02T22:47:04  <superbee> jbooboo: I think that may end up being shorter than gits fetch time
2014-07-02T22:47:32  <openstackgerrit> A change was merged to openstack-infra/config: Move trove default test node to trusty.  https://review.openstack.org/103678
2014-07-02T22:47:34  <jbooboo> superbee: if we depend on something happening in a sleep, then it's a racy test anyway
2014-07-02T22:48:02  <superbee> jbooboo: it shouldn't be racy because we open the flood gates after the wait
2014-07-02T22:48:34  <superbee> the self.update_repo() calls make it sanish
2014-07-02T22:49:46  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/infra-specs: StoryBoard Permissions Specifications  https://review.openstack.org/103667
2014-07-02T22:50:00  <sweston> superbee:  foobio:  hello.  Would either of you have a few minutes to provide some direction on how to get console logs out of Jenkins?
2014-07-02T22:50:03  *** maxbit has joined #openstack-infra
2014-07-02T22:50:15  <superbee> sweston: can you be a little bit more specific? what are you trying to do?
2014-07-02T22:50:31  <sweston> superbee: sure.
2014-07-02T22:51:05  <anteaya> he is trying to get utc timestamps into logs for third party ci
2014-07-02T22:51:16  <sweston> superbee:  trying to get the output for the dsvm-tempest-full job
2014-07-02T22:51:16  <superbee> we use a plugin to do that
2014-07-02T22:51:25  <sweston> is it the html publisher?
2014-07-02T22:52:13  <superbee> no
2014-07-02T22:52:15  <superbee> one sec
2014-07-02T22:52:21  <sweston> kk
2014-07-02T22:52:44  <foobio> anteaya: you have my sympathies. next island south of us is currently under a mandatory evacuation order and this is only the first cyclone of the season (hopefully we get a pass on this one)
2014-07-02T22:52:45  <superbee> sweston: https://wiki.jenkins-ci.org/display/JENKINS/Timestamper is what we use at version 1.3.1
2014-07-02T22:53:18  *** david-lyle has quit IRC
2014-07-02T22:53:55  <jbooboo> superbee: point being, even with sleep(3) we can't be certain it's actually polled and failed; what would be nice is looping with a small sleep until at least one poll failure has happened.  that probably means adding some instrumentation; possibly monkeypatching.  but then we can be assured the test dtrt, and can speed it up.
2014-07-02T22:54:17  *** devkulkarni has quit IRC
2014-07-02T22:54:18  <anteaya> foobio: :(
2014-07-02T22:54:27  *** david-lyle has joined #openstack-infra
2014-07-02T22:54:37  <anteaya> foobio: where do they go? and how secure are their houses when they evacuate?
2014-07-02T22:54:39  <superbee> jbooboo: sure. I think jhesketh asked for something ismilar but I don't think we do any of that in zuul's test frame work today
2014-07-02T22:54:51  <anteaya> foobio: where would you go if you had to? you just arrived
2014-07-02T22:54:55  <superbee> jbooboo: its very functional testing and not mock testing
2014-07-02T22:55:07  <jbooboo> superbee: yeah, i don't want to change that
2014-07-02T22:55:26  *** dimtruck is now known as zz_dimtruck
2014-07-02T22:55:27  <jbooboo> superbee: however, we go to great lengths to functional test as quickly as possible
2014-07-02T22:55:31  <foobio> anteaya: we "go west"
2014-07-02T22:55:58  *** krtaylor has joined #openstack-infra
2014-07-02T22:56:07  <jbooboo> foobio: go far enough and you hit a desert :)
2014-07-02T22:56:12  <superbee> jbooboo: do you have suggestions on how you would do mock like functional testing here? monkeypatch in the poll functions with one that sets a flag?
2014-07-02T22:56:17  <foobio> jbooboo: indeed
2014-07-02T22:56:17  <anteaya> foobio: got that wagon packed, just in case?
2014-07-02T22:56:30  *** msabramo has quit IRC
2014-07-02T22:56:41  <anteaya> krtaylor: hey there
2014-07-02T22:56:49  <anteaya> krtaylor: so can you come to germany yet?
2014-07-02T22:56:55  <foobio> anteaya: we just go visit family in the mountains for a few days if it comes to it. not really a huge hassle
2014-07-02T22:57:14  <anteaya> foobio: kk, glad you have a plan if need be
2014-07-02T22:57:19  *** camunoz_gone is now known as camunoz
2014-07-02T22:57:24  <sweston> superbee: ok.  right now I am using version 1.5.12, and it is configured from the scp publisher defined in macros.yaml file here: https://github.com/openstack-infra/config/blob/master/modules/openstack_project/files/jenkins_job_builder/config/macros.yaml
2014-07-02T22:57:25  <anteaya> I'm on top of a hill so pretty safe
2014-07-02T22:57:51  <anteaya> I'm in the place everyone else comes to in times of bad things happening
2014-07-02T22:58:02  <superbee> sweston: I think that newer versions may not work because they split the data out or something silly
2014-07-02T22:58:09  <superbee> sweston: also you haev to set the format in your global config
2014-07-02T22:58:30  *** virmitio has quit IRC
2014-07-02T22:58:34  <sweston> superbee: ah, ok.  I will look into that.
2014-07-02T22:58:57  <anteaya> sweston: and keep notes please so you can share at a future meeting
2014-07-02T22:59:06  <anteaya> and so we can add to docs
2014-07-02T22:59:06  *** devkulkarni has joined #openstack-infra
2014-07-02T22:59:23  *** david-lyle has quit IRC
2014-07-02T22:59:48  <superbee> ok all of the rax images that matter have been updated
2014-07-02T22:59:51  <superbee> hpcloud is in progress
2014-07-02T23:00:31  <sweston> superbee: anteaya: yes, absolutely.  at some point I'd like to have a discussion with infra about how to adapt the infra's puppet manifests in the config repo to run third party infrastructure.  this is what I've been working on for the last several weeks.
2014-07-02T23:01:03  <jbooboo> sweston: are you attending the qa/infra meetup in germany?
2014-07-02T23:01:10  *** ociuhandu has joined #openstack-infra
2014-07-02T23:01:43  *** blamar_ has joined #openstack-infra
2014-07-02T23:01:44  *** blamar has quit IRC
2014-07-02T23:01:44  *** blamar_ is now known as blamar
2014-07-02T23:02:00  <sweston> jbooboo: no, unfortunately not.  may I somehow contribute to the discussion/meetup online?
2014-07-02T23:02:29  <jbooboo> sweston: well, we'll probably have some specs come out of it; https://review.openstack.org/#/c/99990/ is a related first step
2014-07-02T23:03:04  <jbooboo> sweston: but several folks are interested in that area, your help will be appreciated :)
2014-07-02T23:03:21  <jhesketh> Morning
2014-07-02T23:03:31  <sweston> jbooboo:  sure, I would be happy to share what I have so far
2014-07-02T23:04:12  <anteaya> morning jhesketh
2014-07-02T23:04:19  <sweston> jbooboo: I have all of my changes in github, when you are ready I will be happy to send the link
2014-07-02T23:04:23  <jbooboo> sweston: great, best way to share is to submit patches to gerrit, and write/review specs
2014-07-02T23:04:39  *** amcrn has quit IRC
2014-07-02T23:04:43  <sweston> jbooboo:  ok.
2014-07-02T23:04:48  *** blamar has quit IRC
2014-07-02T23:05:16  <sweston> jbooboo:  suggestions on where/how to get started?
2014-07-02T23:05:23  <superbee> jhesketh: hello
2014-07-02T23:05:39  <superbee> jhesketh: please see https://jenkins07.openstack.org/job/experimental-swift-logs-config-pep8/9/console
2014-07-02T23:05:42  <superbee> that ran without envinject
2014-07-02T23:05:48  *** amcrn has joined #openstack-infra
2014-07-02T23:05:54  *** otherwiseguy has quit IRC
2014-07-02T23:06:04  <anteaya> sweston: have you reviewed all open patches with topic:third-party ? https://review.openstack.org/#/q/status:open+project:openstack-infra/config+branch:master+topic:third-party,n,z
2014-07-02T23:06:34  <sweston> anteaya: no, first time I've seen these
2014-07-02T23:06:44  <jhesketh> superbee: yeah just saw that
2014-07-02T23:06:54  <jhesketh> that's kind of disappointing
2014-07-02T23:07:12  <anteaya> sweston: great, let's start there
2014-07-02T23:07:39  <jhesketh> superbee: it looks like it's truncated at the \n
2014-07-02T23:07:58  <sweston> anteaya:  happy to.  I will start on the patch review this evening.
2014-07-02T23:08:19  *** sigmavirus24 has quit IRC
2014-07-02T23:08:19  <jhesketh> superbee, jbooboo: Maybe for a work around for being unable to send multiple line variables to Jenkins I could patch zuul to also send "SWIFT_logs_HMAC_BODY_PART{1,4}"
2014-07-02T23:08:22  <jhesketh> what do you think?
2014-07-02T23:08:48  <anteaya> sweston: thanks
2014-07-02T23:09:32  <anteaya> I just checked the annual rainfall stats, we doubled the usual monthy rainfall for june in two days
2014-07-02T23:09:51  <sweston> anteaya: yw.  superbee:, jbooboo: thanks for the guidance.  looking forward to working with you all some more :-)
2014-07-02T23:09:58  <anteaya> usual is 86 mm, or 3.25 inches
2014-07-02T23:10:00  <jbooboo> jhesketh, superbee: the "ZUUL_CHANGES" parameter that zuul sends separates them with '^' for that reason; back when gerrit-git-prep used it (a loooong time ago), it did some sed magic or something to split it on that char
2014-07-02T23:10:03  *** msabramo has joined #openstack-infra
2014-07-02T23:10:08  <anteaya> for a month
2014-07-02T23:10:57  <jhesketh> jbooboo: right, except the hmac body is in the format that the signature used
2014-07-02T23:11:02  <jhesketh> and the format that swift expects
2014-07-02T23:11:26  <jhesketh> so I'd like to keep sending the hmac_body as it is but then also provide a workaround for Jenkins
2014-07-02T23:11:33  <jbooboo> jhesketh: yup, just adding information :)
2014-07-02T23:11:39  <jhesketh> cool :-)
2014-07-02T23:12:02  *** annegent_ has joined #openstack-infra
2014-07-02T23:12:41  <superbee> I would be on board with either approach
2014-07-02T23:12:53  <superbee> I have 05 and 06 in shutdown mode still
2014-07-02T23:13:02  <superbee> I don't see any reason to leave envinject in place as we wanted it gone
2014-07-02T23:13:09  <superbee> so I will probably continue on my path of removing it
2014-07-02T23:13:11  <jbooboo> superbee, jhesketh: is upgrading envinject to the new version a solution?
2014-07-02T23:13:39  *** maxbit has quit IRC
2014-07-02T23:14:13  <superbee> jbooboo: yes I think that was an alternative
2014-07-02T23:14:38  *** whoops has quit IRC
2014-07-02T23:14:40  <jhesketh> :-( that was what I wanted to do last week
2014-07-02T23:14:52  <jhesketh> we've done well to remove the envinject stuff, I think adding it back in would be a step backwards
2014-07-02T23:14:58  <superbee> ya
2014-07-02T23:15:11  <jbooboo> jhesketh: well, that was based on the understanding that the problem was that envinject was corrupting data; that seems to be falso
2014-07-02T23:15:29  <superbee> jbooboo: it was corrupting the data
2014-07-02T23:16:03  <jbooboo> we definitely don't want to use it in jobs
2014-07-02T23:16:23  <jhesketh> I'm actually unsure why we don't want it to be used?
2014-07-02T23:16:28  <jbooboo> however, if it helps the transition to not-jenkins, i'm fine keeping it around
2014-07-02T23:16:35  <jhesketh> or is it simply that we want to reduce our module consumption to tie us to jenkins less
2014-07-02T23:16:47  <jbooboo> jhesketh: because it's a jenkins-specific way of describing a job
2014-07-02T23:16:51  <jbooboo> jhesketh: yes
2014-07-02T23:17:38  <jhesketh> I'm more inclined to have the workaround in zuul, but that would add 4 more variables to the gearman work data that may have performance effects
2014-07-02T23:19:31  <phschwartz> :( my brain hurts. This is the worst day I have had coding in about 12 years. I made the stupid decision to move monday from Vi due to non-stop plugin issue and sick of my 3k line config to emacs after not using it for almost 10 years. Then I had yesterday off for jury duty. Talking about making your life hell.
2014-07-02T23:20:22  <superbee> phschwartz: the answer is to just stick with vim
2014-07-02T23:20:39  <superbee> I had similar problems with vim on saucy crashing on yaml files due to segfault in regex engine
2014-07-02T23:20:40  <SlickNik> phschwartz: evil mode :)
2014-07-02T23:20:47  <superbee> I tried evil but it is no where close enough
2014-07-02T23:20:47  <jbooboo> jhesketh, superbee: i think the issue may be in gearman-plugin
2014-07-02T23:20:49  <superbee> too many things break
2014-07-02T23:20:53  <superbee> jbooboo: oooh
2014-07-02T23:20:58  <superbee> interesting
2014-07-02T23:21:13  <jbooboo> i'll have more in a sec
2014-07-02T23:21:29  <phschwartz>  superbee: I have been having a mix of that and YCM dying non-stop on my 14.04 installs. It has been driving me insane.
2014-07-02T23:21:46  <phschwartz> superbee: Which spawned the change.
2014-07-02T23:21:51  <superbee> trusty has been fine with me but I avoid plugins for hte most part
2014-07-02T23:22:01  <superbee> too many habits from when I had to have working vim on all the platforms
2014-07-02T23:22:02  <jbooboo> http://git.openstack.org/cgit/openstack-infra/gearman-plugin/tree/src/main/java/hudson/plugins/gearman/StartJobWorker.java#n144
2014-07-02T23:22:26  <jbooboo> https://github.com/jenkinsci/parameterized-trigger-plugin/pull/36
2014-07-02T23:22:42  *** Sukhdev has joined #openstack-infra
2014-07-02T23:22:42  <superbee> jbooboo: interesting
2014-07-02T23:22:48  <superbee> but also a simplish fix
2014-07-02T23:22:58  <jbooboo> http://javadoc.jenkins-ci.org/hudson/model/TextParameterValue.html
2014-07-02T23:23:19  <superbee> I should probably continue to remove envinject then?
2014-07-02T23:23:41  <superbee> 05 and 06 are close to being done and I can do whatever
2014-07-02T23:24:32  *** alexandra has joined #openstack-infra
2014-07-02T23:25:10  *** rlandy has quit IRC
2014-07-02T23:25:11  *** alexandra is now known as asettle
2014-07-02T23:25:30  <Sukhdev> SlickNik: ping
2014-07-02T23:25:35  <jbooboo> superbee, jhesketh: it's not yet clear to me if that will change behavior in our case
2014-07-02T23:25:50  <superbee> looking at the logstash worker queue graph for today I want to declare success on that front and I should probably move on to do ssds on all the nodes
2014-07-02T23:25:54  <superbee> jbooboo: roger
2014-07-02T23:25:57  *** r1chardj0n3s has left #openstack-infra
2014-07-02T23:25:59  <SlickNik>  Sukhdev: Spoke to shashank, and he offerred a workaround.
2014-07-02T23:26:08  <SlickNik> Sukhdev: I haven't had a chance to try it out yet.
2014-07-02T23:26:15  *** annegent_ has quit IRC
2014-07-02T23:26:18  <openstackgerrit> A change was merged to openstack-infra/config: Move troveclient default test node to trusty.  https://review.openstack.org/103679
2014-07-02T23:26:23  <SlickNik> Sukhdev: Will do so this evening, and let you know how it goes.
2014-07-02T23:26:30  *** sabeen2 has quit IRC
2014-07-02T23:26:30  <SlickNik> Sukhdev: Thanks so much for your help with this!
2014-07-02T23:26:39  <Sukhdev> SlickNik: good - I discussed it with him before I left - he is very familiar with the code
2014-07-02T23:26:58  *** mugsie has quit IRC
2014-07-02T23:27:01  <anteaya> SlickNik Sukhdev shashankhegde thanks to all of you for working on this
2014-07-02T23:27:08  <anteaya> I really appreciate it
2014-07-02T23:27:11  <Sukhdev> SlickNik: no worries -- let me know it goes and then we will take it from there
2014-07-02T23:27:19  *** james_li has quit IRC
2014-07-02T23:27:31  <anteaya> please keep notes to so we can use them for getting this patch upstreamed please
2014-07-02T23:27:38  <anteaya> I'd like that to happen if possible
2014-07-02T23:27:55  <jhesketh> jbooboo: hmm, it seems like a good lead
2014-07-02T23:28:31  <jbooboo> jhesketh, superbee: i should be able to test it in a few mins
2014-07-02T23:28:32  <Sukhdev> anteaya: once SlickNik confirms the fix, I'll update the document so that others can benefit from it
2014-07-02T23:28:42  <jhesketh> jbooboo: you're patching it up then ? :-)
2014-07-02T23:28:43  <shashankhegde> anteaya: It still requires a bit of work before I can push it upstream
2014-07-02T23:28:56  <anteaya> Sukhdev: thank you
2014-07-02T23:29:06  <anteaya> shashankhegde: understood, and thank you
2014-07-02T23:29:32  <shashankhegde> I'll try to complete it and push it so that everyone can take advantage of it
2014-07-02T23:29:41  *** devkulkarni has quit IRC
2014-07-02T23:29:55  <anteaya> shashankhegde: thank you
2014-07-02T23:29:55  *** signed8bit_ZZZzz is now known as signed8b_
2014-07-02T23:30:04  <anteaya> shashankhegde: do you work on jenkins plugins?
2014-07-02T23:30:23  *** signed8b_ has quit IRC
2014-07-02T23:30:43  *** signed8bit has joined #openstack-infra
2014-07-02T23:31:14  *** thedodd has quit IRC
2014-07-02T23:31:31  <Sukhdev> anteaya: shashankhegde and I both work for Arista. He and I put together the whole Arista CI solution -
2014-07-02T23:31:43  <anteaya> ah
2014-07-02T23:31:49  <anteaya> your silent partner
2014-07-02T23:31:58  <anteaya> you brought him out of silence
2014-07-02T23:32:00  <anteaya> :D
2014-07-02T23:32:23  <Sukhdev> anteaya: yes, silent, but, very powerful partner :-)
2014-07-02T23:32:39  <anteaya> the best kind to have
2014-07-02T23:32:42  <anteaya> :D
2014-07-02T23:32:52  <Sukhdev> anteaya: no kidding!!!
2014-07-02T23:33:11  <anteaya> okay I have to get a walk in when it isn't raining and the sun is still out
2014-07-02T23:33:13  *** gyee has joined #openstack-infra
2014-07-02T23:33:15  <anteaya> back in a while
2014-07-02T23:34:33  *** signed8bit has quit IRC
2014-07-02T23:35:20  *** UtahDave has quit IRC
2014-07-02T23:39:38  <jbooboo> jhesketh, superbee: i see the problem
2014-07-02T23:39:46  <jbooboo> superbee: yes, please proceed with removing envinject
2014-07-02T23:41:38  <superbee> ok will do
2014-07-02T23:42:32  *** atiwari has joined #openstack-infra
2014-07-02T23:42:41  <superbee> 06 is ready so I am going ahead with it. 05 has one job left
2014-07-02T23:42:48  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Fix env var interpretation in zuul swift upload  https://review.openstack.org/104376
2014-07-02T23:42:53  <jbooboo> superbee, jhesketh: ^
2014-07-02T23:43:35  <superbee> jbooboo: will that actually fix it though? on the parameters page it looks like the value is truncated?
2014-07-02T23:43:38  <superbee> jbooboo: I agree that is a bug
2014-07-02T23:44:12  <jbooboo> superbee: why do you think it's truncated?
2014-07-02T23:44:24  <jbooboo> i mean, it looks like it has multiple values strung together...
2014-07-02T23:44:28  <superbee> jbooboo: because it doesn't show the parameter on multiple lines
2014-07-02T23:44:43  <superbee> and I think when I tested it on jenkins-dev it showed me multiple lines
2014-07-02T23:45:14  <superbee> I would haveto double check that though
2014-07-02T23:45:19  <jbooboo> superbee: the newlines don't seem to be displayed, but my local testing suggests they are there.
2014-07-02T23:45:21  *** oomichi has joined #openstack-infra
2014-07-02T23:45:24  <superbee> jbooboo: ah ok
2014-07-02T23:45:29  <superbee> anyways +2 on the fix
2014-07-02T23:45:35  <jbooboo> superbee: it's possible the string -> text change may change the display of that on the parameter listing page
2014-07-02T23:45:45  <superbee> ohhhh ya good point
2014-07-02T23:46:01  <superbee> a rendering vs content thing
2014-07-02T23:46:19  <jbooboo> superbee: however, i haven't done that yet -- i just set up the base test case locally and noticed it worked :)
2014-07-02T23:46:39  <jhesketh> jbooboo: +A since your testing works.. however I'm wondering how it got there in the first place
2014-07-02T23:46:58  <jhesketh> ie I tested that script :-s
2014-07-02T23:47:55  <jbooboo> jhesketh: i actually have not tested that script, i just tested the gearman->jenkins path to make sure the env variable looks correct;  so i'm pretty sure that's the problem
2014-07-02T23:48:19  <jhesketh> maybe I fat-fingered it after the test
2014-07-02T23:48:37  *** jcoufal has quit IRC
2014-07-02T23:48:41  <superbee> 06 is done
2014-07-02T23:48:43  *** devkulkarni has joined #openstack-infra
2014-07-02T23:49:43  *** nati_uen_ has quit IRC
2014-07-02T23:50:00  <openstackgerrit> A change was merged to openstack-infra/config: Fix env var interpretation in zuul swift upload  https://review.openstack.org/104376
2014-07-02T23:50:06  <jbooboo> jhesketh, superbee: yes, changing to TextParameter causes jenkins to display it in a multiline field
2014-07-02T23:50:25  <jbooboo> (well, causes everything to display in a multiline field, which is a little awkward)
2014-07-02T23:50:58  <jbooboo> this may be a good general improvement to gearman-plugin, for folks who would want to see such info, or possibly when interacting with other plugins (like rebuild, which uses saved data)
2014-07-02T23:51:13  <jbooboo> maybe it should scan the value for '\n' and chose string or text appropriately
2014-07-02T23:51:23  *** IAX has joined #openstack-infra
2014-07-02T23:51:41  <jbooboo> (or just accept the wasted realestate and use text everywhere)
2014-07-02T23:52:40  <openstackgerrit> A change was merged to openstack/requirements: Update openstack-doc-tools  https://review.openstack.org/104171
2014-07-02T23:53:25  *** shayneburgess has quit IRC
2014-07-02T23:53:38  *** unicell has quit IRC
2014-07-02T23:54:03  <superbee> ok 05 is ready now
2014-07-02T23:54:39  <openstackgerrit> James E. Blair proposed a change to openstack-infra/gearman-plugin: Use TextParameterValue instead of String  https://review.openstack.org/104386
2014-07-02T23:54:44  <jbooboo> in case we decide we want that^
2014-07-02T23:55:26  <jbooboo> but yeah, doing a "python -c" command on a parameter with a newline works either way
2014-07-02T23:55:27  *** shashankhegde has quit IRC
2014-07-02T23:55:51  <jhesketh> jbooboo: I don't mind the scan option... it's probably a good idea since it'll allow people to see all the hmac lines if they need
2014-07-02T23:55:56  <superbee> 05 restarted
2014-07-02T23:56:38  <superbee> putting 04 and 03 in shutdown mode now then probably walking home and picking up from there
2014-07-02T23:56:50  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Export prepare_node variables rather than pass them around  https://review.openstack.org/104387
2014-07-02T23:56:51  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Add path to installing puppet 3 on nodepool nodes  https://review.openstack.org/104388
2014-07-02T23:57:42  <superbee> ok thats done
2014-07-02T23:59:23  *** prad has quit IRC
2014-07-02T23:59:32  *** wenlock has quit IRC
2014-07-02T23:59:51  *** msabramo has quit IRC
