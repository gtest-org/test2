2014-08-28T00:00:18  <jeblair> sdague, dtroyer: so i squashed them in https://review.openstack.org/#/c/112000
2014-08-28T00:00:43  <superbee> anteaya: its ok for stackforge to allow the release group to create branches IMO
2014-08-28T00:00:47  <superbee> anteaya: so that is fine as is
2014-08-28T00:01:12  <anteaya> superbee: ah okay so I'm wrong, thanks
2014-08-28T00:01:15  *** tomoe_ has joined #openstack-infra
2014-08-28T00:01:19  <foobio> anteaya: refs/heads/proposed/* would only let them create branches called proposed/something
2014-08-28T00:01:19  <superbee> anteaya: the reason proposed is called out elsewhere is simply that openstack uses proposed/branches for things
2014-08-28T00:01:26  <anteaya> ah
2014-08-28T00:01:39  <anteaya> I'll update
2014-08-28T00:02:46  <jeblair> superbee, foobio, sdague, dtroyer: i'm going to approve the squashed commit (since both were approved earlier, and this is gate-critical)
2014-08-28T00:02:53  <foobio> jeblair: wfm
2014-08-28T00:02:53  <jeblair> superbee, foobio: and i'm going to promote it
2014-08-28T00:02:53  <superbee> jeblair: sounds good
2014-08-28T00:06:39  *** tomoe_ has quit IRC
2014-08-28T00:07:41  <jeblair> done
2014-08-28T00:07:44  *** dims has quit IRC
2014-08-28T00:12:21  *** sdake_ has quit IRC
2014-08-28T00:12:41  *** hashar has quit IRC
2014-08-28T00:14:45  *** wenlock has quit IRC
2014-08-28T00:14:59  *** ZZelle has quit IRC
2014-08-28T00:16:30  *** Ryan_Lane has quit IRC
2014-08-28T00:17:07  <dtroyer> jeblair: for the record, cool.   Also a mod 1000 review number
2014-08-28T00:17:52  *** r-daneel has quit IRC
2014-08-28T00:19:11  *** amcrn has quit IRC
2014-08-28T00:20:25  <foobio> more amazing is that we've now had 112 of those
2014-08-28T00:20:29  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Add single_use_slave coverage to the apply tests  https://review.openstack.org/117389
2014-08-28T00:22:01  *** jamesmcarthur has joined #openstack-infra
2014-08-28T00:22:18  *** dmsimard_away is now known as dmsimard
2014-08-28T00:22:25  *** asettle has quit IRC
2014-08-28T00:27:54  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T00:28:02  <jogo> foobio: thoughts ^
2014-08-28T00:29:54  *** hdd has quit IRC
2014-08-28T00:30:15  *** bhuvan has quit IRC
2014-08-28T00:34:01  <foobio> jogo: first thought is that if we're doing the file indexes via the loganalyze front-end (e.g. with the swift backend) these descriptions could get integrated into the ui
2014-08-28T00:34:27  <superbee> I have my glasses back in commission but a day was apparently long enough for my brain to get back into using the old ones
2014-08-28T00:35:18  <superbee> jogo: foobio: ideally we would make the names better if they are hard to understand today
2014-08-28T00:35:41  <foobio> superbee: ahh, yeah that too
2014-08-28T00:35:48  <superbee> dtroyer might be able to speak to the choice for abbreviated log names
2014-08-28T00:36:12  <jogo> superbee: yeah I think dropping the abbrevated names would be better
2014-08-28T00:36:26  <foobio> seconded
2014-08-28T00:36:28  <jogo> superbee: not sure what the implications of that are
2014-08-28T00:36:39  <jogo> we should find out
2014-08-28T00:36:39  <superbee> it will take more work (haev to update all logstash related stuff)
2014-08-28T00:36:45  <jogo> right
2014-08-28T00:36:51  <jogo> and a bunch of devstack changes
2014-08-28T00:36:57  <foobio> self-descriptive things are always the better route
2014-08-28T00:37:19  <jogo> but until then I am thinking this is better then nothing
2014-08-28T00:37:26  *** mfer has joined #openstack-infra
2014-08-28T00:37:35  *** dane_leblanc has joined #openstack-infra
2014-08-28T00:37:46  <jogo> assuming switching to better names takes more then just a few days
2014-08-28T00:38:44  *** daneleblanc has joined #openstack-infra
2014-08-28T00:39:35  <jogo> and then there are some logs that have 'good' names but are very short
2014-08-28T00:39:36  *** baoli has quit IRC
2014-08-28T00:39:37  <jogo> like pip-freeze
2014-08-28T00:39:44  <jogo> or iptables.txt
2014-08-28T00:40:24  <superbee> jogo: is there something wrong with them?
2014-08-28T00:40:33  <superbee> both of those are very descriptiev imo
2014-08-28T00:41:25  *** yaguang has joined #openstack-infra
2014-08-28T00:41:25  <jogo> superbee: sure
2014-08-28T00:41:32  <foobio> i took that to be why he called them good names
2014-08-28T00:41:33  <jogo> superbee: but you know what those things are
2014-08-28T00:41:49  <superbee> foobio: the 'but' had me confused
2014-08-28T00:41:52  <superbee> like being short was a bad thing
2014-08-28T00:42:03  <jogo> not everyone knows we use pip I bet
2014-08-28T00:42:22  *** dane_leblanc has quit IRC
2014-08-28T00:42:31  *** dmsimard is now known as dmsimard_away
2014-08-28T00:42:43  <foobio> those people are also not going to get far looking at our logs for other reasons
2014-08-28T00:42:53  <jogo> I think listing pip-freeze and dpkg-l under list of installed packages
2014-08-28T00:42:56  <jogo> would be useful
2014-08-28T00:42:58  <jogo> true
2014-08-28T00:44:32  <foobio> but sure, descriptions, even of those, can't hurt
2014-08-28T00:45:47  *** chuckC has quit IRC
2014-08-28T00:46:13  *** nkinder has joined #openstack-infra
2014-08-28T00:46:45  *** baoli has joined #openstack-infra
2014-08-28T00:46:48  *** paulrad has joined #openstack-infra
2014-08-28T00:47:08  *** jamesmcarthur has quit IRC
2014-08-28T00:51:11  *** jamesmcarthur has joined #openstack-infra
2014-08-28T00:51:57  *** bdpayne has quit IRC
2014-08-28T00:53:45  <dtroyer> superbee: [catching up]  are you referring to log names using the short service names?  It seems like there are a couple of places where there is desire to use longer names.  Honestly I did the short names way back to try and get them all in my screen status bar…
2014-08-28T00:54:07  <dtroyer> who knew we'd be a 47 and counting (I didn't count)
2014-08-28T00:54:16  *** yamahata has joined #openstack-infra
2014-08-28T00:55:05  <ianw> does anyone know off-hand how 'fqdn' gets set in -> https://github.com/puppetlabs/puppetlabs-mysql/blob/master/manifests/server/account_security.pp
2014-08-28T00:55:31  <jogo> dtroyer: yes, the short names get onfusing
2014-08-28T00:55:35  <ianw> i'm trying to verify bare-node setup on f20, it may be my problem in the vm setup
2014-08-28T00:55:43  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T00:55:44  <jesusaurus> ianw: thats a fact being set by facter
2014-08-28T00:55:47  <jogo> dtroyer: when looking at http://logs.openstack.org/42/112942/4/check/check-tempest-dsvm-full/1ad11c8/logs/
2014-08-28T00:55:57  <jogo> I had to look up what 'tr' stood for
2014-08-28T00:56:23  <jogo> dtroyer: any side effects of changine the names to long ones?
2014-08-28T00:56:37  <jogo> and dropping the 'screen' part
2014-08-28T00:56:38  *** rick_ has joined #openstack-infra
2014-08-28T00:56:44  <ianw> jesusaurus: what would cause it to not be set?  puppet was dying because it seemed to be blank.
2014-08-28T00:56:46  <jogo> as its not from screen most of the time anyway
2014-08-28T00:56:50  *** otherwiseguy has quit IRC
2014-08-28T00:57:15  *** yamahata has quit IRC
2014-08-28T00:57:39  <dtroyer> jogo: re the log files, no.  I was looking at that while workign on the process launching stuff today ad want to change it.  it's backward compatability that concerns me, for everyone who isn't CI that has something automated…
2014-08-28T00:57:42  *** yamahata has joined #openstack-infra
2014-08-28T00:57:45  *** Ryan_Lane has joined #openstack-infra
2014-08-28T00:58:04  <jogo> dtroyer: yeah backwords compat ...
2014-08-28T00:58:11  <superbee> dtroyer: ya the log names using short service names
2014-08-28T00:58:13  <jesusaurus> ianw: https://github.com/puppetlabs/facter/blob/master/lib/facter/fqdn.rb
2014-08-28T00:58:14  <jogo> dtroyer: can we opt in to the new naming sceme for now
2014-08-28T00:58:33  <jogo> scheme for now to support backwards compat
2014-08-28T00:58:47  <rick_> anteaya: HI , I already disable to show "Starting check jobs." please check https://review.openstack.org/#/c/115886/ patch set 24.
2014-08-28T00:58:49  <jesusaurus> ianw: so is ::hostname also blank?
2014-08-28T00:58:57  <dtroyer> jogo: I think with a little thought we can do so.  there are a couple of other logging things I'd like to clean up too
2014-08-28T00:58:57  <superbee> ianw: you can test it on your machines with facter installed by doing `facter fqdn`
2014-08-28T00:59:16  <superbee> ianw: jesusaurus: it won't be set if you don't have a domain longer than .
2014-08-28T00:59:37  <ianw> jesusaurus: hmm, ok.  i'll have to check when puppet finishes.  i guess the puppet run has wiped out my ssh key, so i'm locked out :)
2014-08-28T00:59:39  <superbee> ianw: jesusaurus for whatever reason (and there are wontfix bugs on this) an fqdn according to facter must have a domain longer than .
2014-08-28T00:59:43  <jesusaurus> superbee: oh right, trailing .s confuse it
2014-08-28T00:59:49  <superbee> jesusaurus: well its not the trailing .
2014-08-28T01:00:02  <jogo> dtroyer: awesome
2014-08-28T01:00:10  <jogo> dtroyer: let me know if there is anything I can do to help with that
2014-08-28T01:00:14  <ianw> superbee: ok, this is probably a cause of simply booting a rax vm and not setting anything
2014-08-28T01:00:14  <superbee> its the lack of a domain. So while foo. resolves on my home dns as a fqdn facter says that is not an fqdn. You need foo.local. or simiarl
2014-08-28T01:00:39  <jogo> dtroyer: I was playing around with https://review.openstack.org/#/c/117390/ as a sort of workaround
2014-08-28T01:00:53  <jogo> but if the openstack file names become more descriptive that makes things esaier
2014-08-28T01:00:55  <anteaya> rick_: yes, I know your system is enabled again
2014-08-28T01:00:55  <rick_> superbee: How can I enable my service account? I already follow anteaya to hide  "Starting check jobs." message.
2014-08-28T01:01:23  <anteaya> rick_: so work on the sandbox repo for a bit first
2014-08-28T01:02:55  <dtroyer> jogo: thanks, it's 'thinking' stuff first: these short names are also the names from ENABLED_SERVICES…switching to full names makes that longer and harder to scan for specific services in the logs…if we don't change those we set up mappings, which we may need anyway for a time.
2014-08-28T01:03:06  <anteaya> nibalizer: can I convince you to offer up a new patchset for https://review.openstack.org/#/c/96877/38 ?
2014-08-28T01:03:08  <rick_> anteaya: does you mean I need trigger CI again?
2014-08-28T01:03:14  <dtroyer> I'm going to ponder this a bit…and try to not let it get too big
2014-08-28T01:03:26  <anteaya> nibalizer: Alex_Gaynor seems to be doing other things and I would really like livegrep
2014-08-28T01:03:43  <nibalizer> probably
2014-08-28T01:03:46  <jogo> dtroyer: awesome thanks.
2014-08-28T01:03:56  <anteaya> rick_: yes, your system is enabled, please limit yourself to testing the sandbox repo only for a few patches
2014-08-28T01:04:02  <nibalizer> i don t want to step on toes tho
2014-08-28T01:04:12  <anteaya> rick_: to ensure your system works well
2014-08-28T01:04:24  <anteaya> nibalizer: I understand, it has been a month with no activity
2014-08-28T01:04:35  *** marcoemorais has quit IRC
2014-08-28T01:04:45  *** tomoe_ has joined #openstack-infra
2014-08-28T01:04:46  *** Ryan_Lane has quit IRC
2014-08-28T01:04:51  <rick_> anteaya: So I can change gerrit account to use "prophetstor-ci"
2014-08-28T01:05:16  <nibalizer> anteaya: okay yea ill add that to my list
2014-08-28T01:05:21  <anteaya> rick_: you can't change your gerrit account
2014-08-28T01:05:23  <nibalizer> right now im making the world safe for puppet 3
2014-08-28T01:05:25  <anteaya> nibalizer: thanks
2014-08-28T01:05:31  <anteaya> nibalizer: good direction
2014-08-28T01:05:31  <nibalizer> but hopefully ill hit a stopping place soon
2014-08-28T01:05:36  *** dims has joined #openstack-infra
2014-08-28T01:05:40  <anteaya> nibalizer: one can only hope
2014-08-28T01:05:51  <anteaya> rick_: but you can use your gerrit account again
2014-08-28T01:06:01  *** sdake_ has joined #openstack-infra
2014-08-28T01:06:12  <rick_> anteaya: OK
2014-08-28T01:06:23  *** baoli has quit IRC
2014-08-28T01:06:54  <anteaya> nibalizer: I just don't want to see livegrep get lost in the dust, I love it
2014-08-28T01:06:57  *** hdd has joined #openstack-infra
2014-08-28T01:07:53  <nibalizer> anteaya: okay i have an idea
2014-08-28T01:08:13  *** jamesmcarthur has quit IRC
2014-08-28T01:09:07  <rick_> anteaya: I already trigger again. patch 25. https://review.openstack.org/#/c/115886/
2014-08-28T01:09:07  *** Ryan_Lane has joined #openstack-infra
2014-08-28T01:09:33  *** dims_ has joined #openstack-infra
2014-08-28T01:10:16  *** otherwiseguy has joined #openstack-infra
2014-08-28T01:11:19  *** dims__ has joined #openstack-infra
2014-08-28T01:11:52  *** dims has quit IRC
2014-08-28T01:12:56  *** blkperl has joined #openstack-infra
2014-08-28T01:12:58  <anteaya> rick_: use your prophestor gerrit account to test the sandbox, not Rick Chen
2014-08-28T01:13:46  <rick_> anteaya: But the prophetstor-ci account is disabled. Does it enable now?
2014-08-28T01:13:46  <nibalizer> blkperl: anteaya and i would like you to do a thing
2014-08-28T01:13:52  <blkperl> yes?
2014-08-28T01:13:56  <nibalizer> https://review.openstack.org/#/c/96877/38
2014-08-28T01:14:02  *** dkranz has joined #openstack-infra
2014-08-28T01:14:03  <nibalizer> is kindof abandoned and we wants it
2014-08-28T01:14:12  <nibalizer> so if you could kick it over the wall that would be sweet
2014-08-28T01:14:22  *** dims_ has quit IRC
2014-08-28T01:14:53  <ianw> jesusaurus / superbee : sorry for naive questions, still catching up with puppet.  bare-node installation is failing on f20 due to postgres failures.  i think https://github.com/puppetlabs/puppetlabs-postgresql/commit/0c4f2a96470cf0ce211757422b2db9f96e9ada07 fixes it.  i guess there is no release with this; what are the options?
2014-08-28T01:16:05  <superbee> ianw: you can try installing the postgres module via git. If you look in install_modules.sh there is an array of modules that we install via git now
2014-08-28T01:16:14  <superbee> ianw: it takes a ref to install that module at
2014-08-28T01:16:53  <superbee> however I would much prefer we don't do that
2014-08-28T01:17:03  <superbee> maybe we can bribe krinkle to release a new version for us?
2014-08-28T01:17:27  <anteaya> nibalizer: everyone needs a blkperl
2014-08-28T01:17:31  <blkperl> lol
2014-08-28T01:17:58  *** otherwiseguy has quit IRC
2014-08-28T01:17:59  *** terryw has joined #openstack-infra
2014-08-28T01:18:02  <nibalizer> anteaya: i know right
2014-08-28T01:18:05  <anteaya> blkperl: while you're at it, the mob needs some screencasts, can you do that too?
2014-08-28T01:18:19  * anteaya looks up editing software
2014-08-28T01:18:24  <nibalizer> anteaya: what do we need screencasts of?
2014-08-28T01:18:30  <nibalizer> i actually really like doing those
2014-08-28T01:18:42  <anteaya> oh I hope sound libraries are fixed on trusty, I haven't tried yet
2014-08-28T01:18:47  <anteaya> cool
2014-08-28T01:18:58  <superbee> foobio: jeblair: there is an awful lot of purple on our node graph
2014-08-28T01:18:59  <nibalizer> anteaya: don't count on it
2014-08-28T01:19:07  <ianw> superbee: ok, testing with that ...
2014-08-28T01:19:12  <anteaya> how to submit an elastic recheck fingerprint should at least buy you some time
2014-08-28T01:19:33  <superbee> looks like hpcloud may not be booting any nodes?
2014-08-28T01:19:38  <anteaya> I have a fantastic microphone I can use because of sound libraries
2014-08-28T01:19:41  <anteaya> :(
2014-08-28T01:19:50  <superbee> https://community.hpcloud.com/status/incident/2724 that will do it
2014-08-28T01:20:13  <crinkle> superbee: do you mean me?
2014-08-28T01:20:22  <anteaya> wow, awesome
2014-08-28T01:20:26  <anteaya> look at that dive
2014-08-28T01:20:28  <superbee> crinkle: oh right you have adifferent name on this network
2014-08-28T01:20:33  <ianw> huh, puppet actually warns "Warning: Could not retrieve fact fqdn", but it's pretty easy to miss that
2014-08-28T01:20:42  <superbee> crinkle: we dno't need to bribe you yet but maybe later
2014-08-28T01:22:24  <ianw> crinkle / superbee : ok, top-of-tree puppetlabs-postgresql works and lets the bare-node install complete on f20
2014-08-28T01:22:51  <nibalizer> crinkle: r-r-r-release!
2014-08-28T01:22:53  *** mmaglana has quit IRC
2014-08-28T01:22:54  <nibalizer> do et
2014-08-28T01:23:07  <superbee> crinkle: we may need to bribe now. Not sure what your release process but aiui we can't use postgres module on fedora right now
2014-08-28T01:23:22  <crinkle> our release process is a little bloated and postgres isn't scheduled to be released this week
2014-08-28T01:23:36  <nibalizer> crinkle: are you saying its scheduled to be broken this week?
2014-08-28T01:23:36  <crinkle> i could try to ask for it to happen next week
2014-08-28T01:24:16  <nibalizer> crinkle: i meant that as a joke, sorry if it came out wrong
2014-08-28T01:24:27  <crinkle> :P
2014-08-28T01:24:58  <rick_> anteaya: Thanks. All is fine.
2014-08-28T01:25:42  *** mmedvede has joined #openstack-infra
2014-08-28T01:26:06  <ianw> superbee / crinkle : i'll propose the install_modules work-around.  i'll keep on it and remove it when a suitable release comes
2014-08-28T01:26:18  <superbee> ianw: sounds good
2014-08-28T01:26:45  *** jpeeler has quit IRC
2014-08-28T01:27:41  <anteaya> rick_: good work
2014-08-28T01:28:20  <openstackgerrit> A change was merged to openstack-infra/config: Fix DEVSTACK_GATE_GRENADE values for sideways jobs  https://review.openstack.org/117333
2014-08-28T01:28:27  <rick_> anteaya: many thanks for you.
2014-08-28T01:28:47  <anteaya> nibalizer: well audacity on trusty can find my external edirol soundcard and my neumann microphone, so that is a start
2014-08-28T01:28:56  <anteaya> rick_: np, go forward and help others
2014-08-28T01:29:14  <anteaya> rick_: and attend third party meetings when you are able
2014-08-28T01:29:34  <rick_> anteaya: OK,
2014-08-28T01:31:14  <nibalizer> anteaya: thats a good sign
2014-08-28T01:31:23  <nibalizer> i think it was superbee that had to rollback his trusty upgrade because ENOSOUND
2014-08-28T01:31:39  *** adalbas has joined #openstack-infra
2014-08-28T01:31:41  *** sdake_ has quit IRC
2014-08-28T01:32:13  <anteaya> nibalizer: I had to do that with either q or r
2014-08-28T01:32:34  *** gyee has quit IRC
2014-08-28T01:32:36  *** asettle has joined #openstack-infra
2014-08-28T01:33:09  <superbee> nibalizer: I didn't rollback. I did try turning on built in sound thing with no luck
2014-08-28T01:33:20  <nibalizer> superbee: oh are you just soundless?
2014-08-28T01:33:23  <superbee> which makes me think it isn't a driver issue but something futher up the stack /me glares at pulseaudio
2014-08-28T01:33:28  <nibalizer> my condolences
2014-08-28T01:33:28  <superbee> nibalizer: yup
2014-08-28T01:35:25  *** trinaths has quit IRC
2014-08-28T01:40:11  *** baoli has joined #openstack-infra
2014-08-28T01:42:28  <nibalizer> according to puppetboard looks like our master hasn't run in about a month
2014-08-28T01:45:47  *** mriedem has joined #openstack-infra
2014-08-28T01:45:59  <superbee> nibalizer: I don't know what that means
2014-08-28T01:46:06  <superbee> you mean puppet hasn't run on the master in about a month?
2014-08-28T01:46:12  *** mriedem has quit IRC
2014-08-28T01:46:40  *** sdake_ has joined #openstack-infra
2014-08-28T01:47:03  <superbee> nibalizer: it looks fine to me
2014-08-28T01:47:37  *** mmedvede has quit IRC
2014-08-28T01:48:35  <openstackgerrit> A change was merged to openstack-infra/config: Import pylockfile  https://review.openstack.org/101911
2014-08-28T01:49:20  *** adalbas has quit IRC
2014-08-28T01:49:49  *** nosnos has joined #openstack-infra
2014-08-28T01:50:24  <openstackgerrit> Ian Wienand proposed a change to openstack-infra/config: Get postgresql puppet from upstream master  https://review.openstack.org/117396
2014-08-28T01:50:25  <openstackgerrit> Ian Wienand proposed a change to openstack-infra/config: Add bare-f20 nodes  https://review.openstack.org/117397
2014-08-28T01:51:18  *** homeless has quit IRC
2014-08-28T01:56:13  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-08-28T01:57:32  *** baohua has joined #openstack-infra
2014-08-28T01:59:18  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: clean up readme  https://review.openstack.org/115011
2014-08-28T01:59:39  *** klindgren__ has quit IRC
2014-08-28T02:00:24  *** esker has joined #openstack-infra
2014-08-28T02:01:10  *** Ryan_Lane has quit IRC
2014-08-28T02:02:03  *** openstackgerrit has quit IRC
2014-08-28T02:02:52  *** openstackgerrit has joined #openstack-infra
2014-08-28T02:03:35  *** hogepodge has joined #openstack-infra
2014-08-28T02:06:15  *** dkranz has quit IRC
2014-08-28T02:08:01  <greghaynes> pleia2: Are you in SFO?
2014-08-28T02:08:14  * greghaynes might have spied a pleia2
2014-08-28T02:08:27  <superbee> greghaynes: she is flying to pdx today sometime for debconf
2014-08-28T02:08:35  <superbee> greghaynes: so maybe even on your flight
2014-08-28T02:08:43  <greghaynes> wow
2014-08-28T02:08:50  <greghaynes> hogepodge: and I are here
2014-08-28T02:10:02  <pleia2> i am! where are you?
2014-08-28T02:10:06  *** sflanigan__ is now known as sflanigan
2014-08-28T02:10:17  <pleia2> my flight is delayed, boo
2014-08-28T02:10:25  <superbee> pleia2: how long will you be in pdx for the conference?
2014-08-28T02:10:26  <greghaynes> pleia2: were in the food court
2014-08-28T02:10:35  <greghaynes> pleia2: come over, were sitting next to the pilot of the plane were all on
2014-08-28T02:10:38  <greghaynes> sounds like were on the same flight
2014-08-28T02:10:45  <pleia2> woo
2014-08-28T02:11:01  *** jamesmcarthur has joined #openstack-infra
2014-08-28T02:11:09  <pleia2> superbee: leaving sunday
2014-08-28T02:11:12  *** sflanigan has quit IRC
2014-08-28T02:11:26  <greghaynes> pilot is like "yeaaa this sucks"
2014-08-28T02:11:29  *** sflanigan has joined #openstack-infra
2014-08-28T02:11:29  *** sflanigan has joined #openstack-infra
2014-08-28T02:11:39  <pleia2> haha
2014-08-28T02:13:21  <superbee> united?
2014-08-28T02:13:30  <greghaynes> yep
2014-08-28T02:13:35  <superbee> I think I found your problem
2014-08-28T02:13:46  *** dims__ has quit IRC
2014-08-28T02:14:17  *** mfer has quit IRC
2014-08-28T02:14:19  <superbee> pleia2: hrm ok can you drink yet? I am trying to device homebrew imbibing but was thinking of possibling driving down sunday
2014-08-28T02:14:22  *** dims has joined #openstack-infra
2014-08-28T02:14:31  <greghaynes> doit
2014-08-28T02:14:33  <greghaynes> 1
2014-08-28T02:14:35  * greghaynes is in
2014-08-28T02:18:44  <pleia2> superbee: I can drink!
2014-08-28T02:20:19  <superbee> might have to drive down saturday afternoon then
2014-08-28T02:20:31  <openstackgerrit> A change was merged to openstack/requirements: Add oslo.serialization  https://review.openstack.org/117239
2014-08-28T02:20:46  <anteaya> so far audacity/vlc for capture/openshot for editing all seem to be working
2014-08-28T02:21:04  <anteaya> tell me what format/codecs I should be using before I use the wrong thing
2014-08-28T02:21:23  * anteaya is completely surprised she found tooling this fast
2014-08-28T02:21:28  <anteaya> I never could before
2014-08-28T02:22:17  <superbee> mp4?
2014-08-28T02:22:22  <superbee> I actually don't know
2014-08-28T02:23:55  *** jpeeler has joined #openstack-infra
2014-08-28T02:24:41  <anteaya> well mp4 is what I have as output, with mp4 for screencapture and .wav for audio as input
2014-08-28T02:24:55  <anteaya> but I don't know if that is what I should be doing or not
2014-08-28T02:25:08  <anteaya> those are just the defaults on the apps
2014-08-28T02:26:55  *** jamesmcarthur has quit IRC
2014-08-28T02:32:50  *** _nadya_ has joined #openstack-infra
2014-08-28T02:33:30  *** asettle has quit IRC
2014-08-28T02:37:12  *** asettle has joined #openstack-infra
2014-08-28T02:39:50  *** dkehn has joined #openstack-infra
2014-08-28T02:40:25  *** chuckC has joined #openstack-infra
2014-08-28T02:40:37  *** dkehn_ has quit IRC
2014-08-28T02:40:46  *** dkehnx has quit IRC
2014-08-28T02:41:30  *** jamesmcarthur has joined #openstack-infra
2014-08-28T02:42:42  *** dkehn_ has joined #openstack-infra
2014-08-28T02:45:01  *** stevemar has joined #openstack-infra
2014-08-28T02:45:53  *** _nadya_ has quit IRC
2014-08-28T02:47:19  *** KanagarajM has joined #openstack-infra
2014-08-28T02:50:36  *** paulrad has quit IRC
2014-08-28T02:56:38  *** melwitt has quit IRC
2014-08-28T03:04:14  *** asettle has quit IRC
2014-08-28T03:04:39  *** _nadya_ has joined #openstack-infra
2014-08-28T03:05:10  *** sdake_ has quit IRC
2014-08-28T03:06:20  *** sdake_ has joined #openstack-infra
2014-08-28T03:06:27  *** hogepodge has quit IRC
2014-08-28T03:09:12  <jesusaurus> anteaya: i would suggest mp4 with h264/x264 video and ac3 or aac audio. that should give you a good balance of quality and portability across platforms
2014-08-28T03:10:28  *** rick_ has quit IRC
2014-08-28T03:15:34  *** otter768 has joined #openstack-infra
2014-08-28T03:17:12  *** hogepodge has joined #openstack-infra
2014-08-28T03:18:52  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-08-28T03:20:39  <nibalizer> anteaya: when i do screencasting i do it straight to twitch
2014-08-28T03:20:48  <nibalizer> there is an ffmpeg line to do it, its magic
2014-08-28T03:24:57  *** mmaglana has joined #openstack-infra
2014-08-28T03:26:55  *** nosnos has quit IRC
2014-08-28T03:27:14  *** jamesmcarthur has left #openstack-infra
2014-08-28T03:27:16  *** pballand has joined #openstack-infra
2014-08-28T03:27:32  *** nosnos has joined #openstack-infra
2014-08-28T03:27:51  *** _nadya_ has quit IRC
2014-08-28T03:31:08  *** hogepodge has quit IRC
2014-08-28T03:31:32  *** Longgeek has joined #openstack-infra
2014-08-28T03:32:22  *** nosnos has quit IRC
2014-08-28T03:36:14  *** daya_k has joined #openstack-infra
2014-08-28T03:41:28  *** praneshp_ has quit IRC
2014-08-28T03:51:50  *** otter768 has quit IRC
2014-08-28T03:58:42  *** hanzhang has quit IRC
2014-08-28T04:00:17  *** pballand has quit IRC
2014-08-28T04:03:13  *** praneshp has joined #openstack-infra
2014-08-28T04:03:14  *** daneleblanc has quit IRC
2014-08-28T04:05:39  *** pballand has joined #openstack-infra
2014-08-28T04:09:10  *** pballand has quit IRC
2014-08-28T04:09:58  *** garyh has quit IRC
2014-08-28T04:14:27  *** asettle has joined #openstack-infra
2014-08-28T04:17:30  *** dims has quit IRC
2014-08-28T04:19:06  *** dane_leblanc has joined #openstack-infra
2014-08-28T04:19:47  *** pcrews has quit IRC
2014-08-28T04:20:07  *** bhuvan has joined #openstack-infra
2014-08-28T04:22:37  *** lukego has joined #openstack-infra
2014-08-28T04:27:56  *** nosnos has joined #openstack-infra
2014-08-28T04:34:46  *** trinaths has joined #openstack-infra
2014-08-28T04:36:41  *** amotoki has joined #openstack-infra
2014-08-28T04:38:45  *** bhuvan has quit IRC
2014-08-28T04:40:22  *** emagana has joined #openstack-infra
2014-08-28T04:48:12  *** yfried has quit IRC
2014-08-28T04:48:54  *** stevemar has quit IRC
2014-08-28T04:52:55  *** Longgeek_ has joined #openstack-infra
2014-08-28T04:55:24  *** emagana has quit IRC
2014-08-28T04:56:00  *** Longgeek has quit IRC
2014-08-28T04:59:10  *** koolhead17 has joined #openstack-infra
2014-08-28T05:00:09  <SergeyLukjanov> jeblair, thank you for pushing 112000
2014-08-28T05:01:09  *** garyh has joined #openstack-infra
2014-08-28T05:02:30  *** nelsnelson has quit IRC
2014-08-28T05:06:10  *** nelsnelson has joined #openstack-infra
2014-08-28T05:08:10  *** asettle has quit IRC
2014-08-28T05:11:10  *** koolhead17 has quit IRC
2014-08-28T05:16:49  <trinaths> Is jenkins okay, I see its taking much time
2014-08-28T05:17:45  *** terryw has quit IRC
2014-08-28T05:18:00  *** dims has joined #openstack-infra
2014-08-28T05:19:44  *** hdd has quit IRC
2014-08-28T05:22:36  *** dims has quit IRC
2014-08-28T05:29:29  <openstackgerrit> A change was merged to openstack/requirements: Bump futures to 2.1.6 for swiftclient  https://review.openstack.org/117216
2014-08-28T05:29:32  <openstackgerrit> A change was merged to openstack/requirements: Revert "Remove docutils pin"  https://review.openstack.org/117168
2014-08-28T05:39:39  <openstackgerrit> A change was merged to openstack-infra/devstack-gate: Add Ironic-python-agent support to devstack-gate  https://review.openstack.org/112143
2014-08-28T05:41:22  *** reed has quit IRC
2014-08-28T05:42:27  *** oomichi has quit IRC
2014-08-28T05:44:23  *** loki184 has joined #openstack-infra
2014-08-28T05:44:37  *** yfried has joined #openstack-infra
2014-08-28T05:50:17  *** ppai has joined #openstack-infra
2014-08-28T05:53:36  *** _nadya_ has joined #openstack-infra
2014-08-28T05:56:34  *** emagana has joined #openstack-infra
2014-08-28T05:57:33  *** leifmadsen has quit IRC
2014-08-28T06:00:45  *** emagana has quit IRC
2014-08-28T06:01:47  *** _nadya_ has quit IRC
2014-08-28T06:02:32  *** leifmadsen has joined #openstack-infra
2014-08-28T06:03:05  *** k4n0 has joined #openstack-infra
2014-08-28T06:04:57  *** ociuhandu has quit IRC
2014-08-28T06:05:42  *** ociuhandu has joined #openstack-infra
2014-08-28T06:06:34  *** _buzz has quit IRC
2014-08-28T06:12:36  *** emagana has joined #openstack-infra
2014-08-28T06:17:22  *** emagana has quit IRC
2014-08-28T06:24:10  *** HeOS has quit IRC
2014-08-28T06:27:19  *** flaper87|afk is now known as flaper87
2014-08-28T06:27:45  *** trinaths_afk has joined #openstack-infra
2014-08-28T06:28:38  *** trinaths has quit IRC
2014-08-28T06:28:39  *** trinaths_afk is now known as trinaths
2014-08-28T06:30:36  *** dtantsur|afk is now known as dtantsur
2014-08-28T06:32:03  *** ildikov has quit IRC
2014-08-28T06:37:02  *** e0ne has joined #openstack-infra
2014-08-28T06:40:25  *** Ryan_Lane has joined #openstack-infra
2014-08-28T06:41:27  *** jlibosva has joined #openstack-infra
2014-08-28T06:41:34  <openstackgerrit> Adam Gandelman proposed a change to openstack-infra/devstack-gate: Fix sideways grenade local tmp variables  https://review.openstack.org/117435
2014-08-28T06:41:59  *** afazekas has joined #openstack-infra
2014-08-28T06:43:48  *** e0ne has quit IRC
2014-08-28T06:54:19  *** flaviof is now known as flaviof_zzz
2014-08-28T06:54:37  *** denis_makogon has joined #openstack-infra
2014-08-28T06:54:46  *** ildikov has joined #openstack-infra
2014-08-28T06:55:30  *** mpaolino has joined #openstack-infra
2014-08-28T06:56:05  *** HeOS has joined #openstack-infra
2014-08-28T06:57:33  *** e0ne has joined #openstack-infra
2014-08-28T06:58:10  *** e0ne has quit IRC
2014-08-28T07:00:21  <lyxus> Is there an issue with zuul ? Remaining time for a job that I am monitoring is went from 1h to 1h17min to unknown
2014-08-28T07:03:35  *** dtantsur is now known as dtantsur|bbl
2014-08-28T07:13:31  *** emagana has joined #openstack-infra
2014-08-28T07:14:25  *** marun has joined #openstack-infra
2014-08-28T07:14:57  *** harlowja_ is now known as harlowja_away
2014-08-28T07:15:09  *** _nadya_ has joined #openstack-infra
2014-08-28T07:17:36  *** emagana has quit IRC
2014-08-28T07:18:42  <trinaths> lyxus:  cool, its taking up now.. hope things are getting better now
2014-08-28T07:19:33  <lyxus> trinaths, It is, just wish this review will be merge faster:)
2014-08-28T07:19:36  <lyxus> *merged
2014-08-28T07:21:15  *** esker has quit IRC
2014-08-28T07:22:02  *** HeOS has quit IRC
2014-08-28T07:23:28  *** Hal_ has joined #openstack-infra
2014-08-28T07:24:41  *** todd_dsm has quit IRC
2014-08-28T07:27:10  *** dizquierdo has joined #openstack-infra
2014-08-28T07:28:31  *** jgallard has joined #openstack-infra
2014-08-28T07:28:44  <trinaths> lyxus: :)
2014-08-28T07:29:30  *** HeOS has joined #openstack-infra
2014-08-28T07:35:21  *** jgallard has quit IRC
2014-08-28T07:35:40  *** jgallard has joined #openstack-infra
2014-08-28T07:36:35  <marun> Does anyone know if the pg job failures are temporal or need a fix?
2014-08-28T07:37:31  *** mflobo_ has joined #openstack-infra
2014-08-28T07:39:46  *** andreykurilin has joined #openstack-infra
2014-08-28T07:41:03  *** mflobo has quit IRC
2014-08-28T07:45:32  *** cristov_mac has joined #openstack-infra
2014-08-28T07:45:36  *** cristov_mac has quit IRC
2014-08-28T07:49:39  *** jcoufal has joined #openstack-infra
2014-08-28T07:52:18  *** rpodolyaka has joined #openstack-infra
2014-08-28T07:53:28  *** jpich has joined #openstack-infra
2014-08-28T07:55:22  *** IvanBerezovskiy has joined #openstack-infra
2014-08-28T07:56:10  *** jistr has joined #openstack-infra
2014-08-28T07:56:16  *** jistr has quit IRC
2014-08-28T07:58:41  *** mpaolino has quit IRC
2014-08-28T08:00:31  *** cnesa8 has joined #openstack-infra
2014-08-28T08:01:03  *** trinaths has quit IRC
2014-08-28T08:01:52  <openstackgerrit> A change was merged to openstack-infra/config: Correct merge calculation error in layout.yaml  https://review.openstack.org/117375
2014-08-28T08:02:35  *** mancdaz has quit IRC
2014-08-28T08:06:29  *** jgallard has quit IRC
2014-08-28T08:08:21  *** jistr has joined #openstack-infra
2014-08-28T08:08:30  *** tomoe_ has quit IRC
2014-08-28T08:08:45  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-08-28T08:09:12  *** jgallard has joined #openstack-infra
2014-08-28T08:10:06  *** tomoe_ has joined #openstack-infra
2014-08-28T08:11:06  *** jgallard has quit IRC
2014-08-28T08:11:07  *** trinaths has joined #openstack-infra
2014-08-28T08:11:32  *** jgallard has joined #openstack-infra
2014-08-28T08:14:13  *** emagana has joined #openstack-infra
2014-08-28T08:17:42  *** praneshp has quit IRC
2014-08-28T08:19:00  *** emagana has quit IRC
2014-08-28T08:19:32  *** e0ne has joined #openstack-infra
2014-08-28T08:20:59  *** derekh has joined #openstack-infra
2014-08-28T08:21:32  *** flaper87 is now known as flaper87|afk
2014-08-28T08:21:35  *** boris-42 has quit IRC
2014-08-28T08:23:51  *** pblaho has joined #openstack-infra
2014-08-28T08:24:01  *** pblaho has joined #openstack-infra
2014-08-28T08:25:21  *** skolekonov has joined #openstack-infra
2014-08-28T08:25:48  *** doude has joined #openstack-infra
2014-08-28T08:30:08  *** boris-42 has joined #openstack-infra
2014-08-28T08:30:17  *** flaper87|afk is now known as flaper87
2014-08-28T08:32:20  *** jp_at_hp has joined #openstack-infra
2014-08-28T08:33:54  *** hashar has joined #openstack-infra
2014-08-28T08:36:48  *** jamielennox is now known as jamielennox|away
2014-08-28T08:43:14  *** zz_johnthetubagu is now known as johnthetubaguy
2014-08-28T08:44:04  *** tomoe__ has joined #openstack-infra
2014-08-28T08:46:35  *** tomoe___ has joined #openstack-infra
2014-08-28T08:46:46  *** tomoe_ has quit IRC
2014-08-28T08:47:03  *** andreykurilin has quit IRC
2014-08-28T08:47:14  *** nosnos has quit IRC
2014-08-28T08:47:46  *** nosnos has joined #openstack-infra
2014-08-28T08:48:37  *** tomoe__ has quit IRC
2014-08-28T08:49:50  *** tomoe_ has joined #openstack-infra
2014-08-28T08:50:03  *** mflobo_ has quit IRC
2014-08-28T08:50:23  *** mflobo has joined #openstack-infra
2014-08-28T08:51:53  *** tomoe___ has quit IRC
2014-08-28T08:52:04  *** nosnos has quit IRC
2014-08-28T08:52:40  *** tomoe__ has joined #openstack-infra
2014-08-28T08:54:52  *** tomoe_ has quit IRC
2014-08-28T08:55:39  *** joools has joined #openstack-infra
2014-08-28T08:57:41  *** tomoe_ has joined #openstack-infra
2014-08-28T08:58:08  *** tomoe__ has quit IRC
2014-08-28T08:59:06  *** hashar_ has joined #openstack-infra
2014-08-28T09:00:27  *** jgallard has quit IRC
2014-08-28T09:01:37  *** markmc has joined #openstack-infra
2014-08-28T09:01:44  *** joools has quit IRC
2014-08-28T09:02:34  *** hashar has quit IRC
2014-08-28T09:05:26  *** hashar_ is now known as hashar
2014-08-28T09:06:12  *** yongli has quit IRC
2014-08-28T09:09:10  *** rlandy has joined #openstack-infra
2014-08-28T09:15:35  *** ociuhandu has quit IRC
2014-08-28T09:16:39  *** emagana has joined #openstack-infra
2014-08-28T09:18:30  *** alexpilotti has joined #openstack-infra
2014-08-28T09:20:58  <openstackgerrit> Romain Chantereau proposed a change to openstack-infra/config: Be able to generate math formulae with Sphinx mathpng base extension.  https://review.openstack.org/117263
2014-08-28T09:21:21  *** emagana has quit IRC
2014-08-28T09:22:47  <openstackgerrit> Romain Chantereau proposed a change to openstack-infra/config: Be able to generate math formulae with Sphinx mathpng base extension.  https://review.openstack.org/117263
2014-08-28T09:23:39  *** AlecTaylor has joined #openstack-infra
2014-08-28T09:24:39  *** nosnos has joined #openstack-infra
2014-08-28T09:34:30  <lyxus> trinaths, are you still here ?
2014-08-28T09:39:17  <trinaths> lyxus, yes
2014-08-28T09:41:56  <lyxus> trinaths, I waiting for 114402,10 to be merged. It has 3 min left with all of the tests done but one. And I just checked and it has 58 minutes left and re-running all of the tests. Would you know what is happening ?
2014-08-28T09:42:15  *** luqas has joined #openstack-infra
2014-08-28T09:43:00  <trinaths> lyxus: nope. You mean GATE pipeline ? I'm not sure of i
2014-08-28T09:43:02  <trinaths> it
2014-08-28T09:43:15  <lyxus> trinaths, yup GATE
2014-08-28T09:44:28  <trinaths> lyxus, donno
2014-08-28T09:44:49  <lyxus> trinaths, ok thank you !
2014-08-28T09:44:50  *** amuller has joined #openstack-infra
2014-08-28T09:45:53  *** yamahata has quit IRC
2014-08-28T09:47:10  *** linkid has joined #openstack-infra
2014-08-28T09:47:54  *** oomichi has joined #openstack-infra
2014-08-28T09:51:53  <openstackgerrit> Dmitry Shulyak proposed a change to openstack-infra/config: Create fuel-tasklib repository  https://review.openstack.org/117466
2014-08-28T09:52:52  *** lukego has quit IRC
2014-08-28T09:54:01  *** mpaolino has joined #openstack-infra
2014-08-28T09:54:08  *** Hal_ has quit IRC
2014-08-28T09:58:15  *** unicell has quit IRC
2014-08-28T09:58:25  *** michchap has quit IRC
2014-08-28T10:00:53  *** isviridov is now known as isviridov_awa
2014-08-28T10:00:54  *** isviridov_awa is now known as isviridov_awat
2014-08-28T10:00:57  *** isviridov_awat is now known as isviridov_away
2014-08-28T10:01:07  *** baohua has quit IRC
2014-08-28T10:03:23  *** michchap has joined #openstack-infra
2014-08-28T10:05:45  *** jgallard has joined #openstack-infra
2014-08-28T10:05:46  *** e0ne has quit IRC
2014-08-28T10:06:30  *** mpaolino has quit IRC
2014-08-28T10:09:22  *** jcoufal has quit IRC
2014-08-28T10:10:58  *** jab has joined #openstack-infra
2014-08-28T10:10:58  *** jab has joined #openstack-infra
2014-08-28T10:12:41  *** jcoufal has joined #openstack-infra
2014-08-28T10:12:54  <openstackgerrit> Salvatore Orlando proposed a change to openstack-infra/elastic-recheck: Add footprint for bug 1362538  https://review.openstack.org/117468
2014-08-28T10:13:10  *** denis_makogon has quit IRC
2014-08-28T10:13:21  *** e0ne has joined #openstack-infra
2014-08-28T10:15:03  *** jgallard has quit IRC
2014-08-28T10:15:31  *** yolanda_ has joined #openstack-infra
2014-08-28T10:15:58  *** kmartin has quit IRC
2014-08-28T10:16:08  *** yolanda has quit IRC
2014-08-28T10:17:21  *** emagana has joined #openstack-infra
2014-08-28T10:20:26  *** jab is now known as bradjones
2014-08-28T10:20:42  *** nosnos has quit IRC
2014-08-28T10:21:19  *** nosnos has joined #openstack-infra
2014-08-28T10:21:46  *** emagana has quit IRC
2014-08-28T10:25:15  *** nosnos has quit IRC
2014-08-28T10:29:05  *** pblaho is now known as pblaho|afk
2014-08-28T10:32:11  *** pelix1 has joined #openstack-infra
2014-08-28T10:32:13  *** pblaho|afk is now known as pblaho
2014-08-28T10:33:13  *** koolhead17 has joined #openstack-infra
2014-08-28T10:34:02  *** koolhead17 has quit IRC
2014-08-28T10:34:59  *** nosnos has joined #openstack-infra
2014-08-28T10:36:18  *** lukego has joined #openstack-infra
2014-08-28T10:37:05  *** isviridov_away is now known as isviridov
2014-08-28T10:38:12  *** ppai has quit IRC
2014-08-28T10:38:58  *** luqas has quit IRC
2014-08-28T10:42:27  *** tomoe_ has quit IRC
2014-08-28T10:43:37  *** HenryG has quit IRC
2014-08-28T10:43:49  <openstackgerrit> Dirk Mueller proposed a change to openstack-dev/pbr: use get_boolean_option for warnerrors  https://review.openstack.org/117476
2014-08-28T10:44:24  *** unicell has joined #openstack-infra
2014-08-28T10:44:26  <openstackgerrit> Dirk Mueller proposed a change to openstack-dev/pbr: Allow overwriting sphinx builder list from command line  https://review.openstack.org/117478
2014-08-28T10:46:10  <rakhmerov> hello, jenkins job queue seems to be consistenly growing. Is something wrong with it or it's just a huge load?
2014-08-28T10:47:52  <openstackgerrit> Dirk Mueller proposed a change to openstack-dev/pbr: Allow overwriting sphinx builder list from command line  https://review.openstack.org/117478
2014-08-28T10:52:02  *** ppai has joined #openstack-infra
2014-08-28T10:53:50  *** AlecTaylor has quit IRC
2014-08-28T10:58:01  *** Hal_ has joined #openstack-infra
2014-08-28T11:01:12  *** KanagarajM has quit IRC
2014-08-28T11:01:18  *** yaguang has quit IRC
2014-08-28T11:02:45  *** ociuhandu has joined #openstack-infra
2014-08-28T11:04:03  *** pblaho is now known as pblaho|afk
2014-08-28T11:05:12  *** ildikov has quit IRC
2014-08-28T11:06:44  <openstackgerrit> A change was merged to openstack-dev/pbr: Handle more legacy version numbers  https://review.openstack.org/116775
2014-08-28T11:07:04  *** ildikov has joined #openstack-infra
2014-08-28T11:08:41  *** bradjones has quit IRC
2014-08-28T11:08:43  *** loki184 has quit IRC
2014-08-28T11:09:57  <isviridov> SergeyLukjanov, foobio the zuul queue is really huge with patches submitted 11 hours ago
2014-08-28T11:11:34  *** ociuhandu has quit IRC
2014-08-28T11:12:50  *** ildikov has quit IRC
2014-08-28T11:18:11  *** emagana has joined #openstack-infra
2014-08-28T11:18:59  *** nosnos has quit IRC
2014-08-28T11:20:37  *** nosnos has joined #openstack-infra
2014-08-28T11:22:46  *** emagana has quit IRC
2014-08-28T11:23:53  *** flaviof_zzz is now known as flaviof
2014-08-28T11:28:03  *** mattymo has quit IRC
2014-08-28T11:30:57  *** daya_k has quit IRC
2014-08-28T11:32:06  <openstackgerrit> yolanda.robla proposed a change to openstack-infra/publications: New CI Automation doc  https://review.openstack.org/109570
2014-08-28T11:33:44  *** trinaths_afk has joined #openstack-infra
2014-08-28T11:35:06  *** mattymo has joined #openstack-infra
2014-08-28T11:35:09  *** trinaths has quit IRC
2014-08-28T11:35:09  *** trinaths_afk is now known as trinaths
2014-08-28T11:37:07  *** linkid has left #openstack-infra
2014-08-28T11:37:10  *** linkid has joined #openstack-infra
2014-08-28T11:42:14  *** marcusvrn has joined #openstack-infra
2014-08-28T11:42:55  *** dane_leblanc has quit IRC
2014-08-28T11:44:19  *** jgallard has joined #openstack-infra
2014-08-28T11:44:46  *** dtantsur|bbl is now known as dtantsur
2014-08-28T11:49:58  *** pcm_ has joined #openstack-infra
2014-08-28T11:50:02  <openstackgerrit> Cedric Brandily proposed a change to openstack-infra/git-review: -F/--force-rebase has no effect if rebase is disabled by config  https://review.openstack.org/117489
2014-08-28T11:51:34  <foobio> yes, according to the scrollback hpcloud was basically down for us for a while, and may still be. i'll look for updates once i'm awake and have coffee
2014-08-28T11:52:09  *** HenryG has joined #openstack-infra
2014-08-28T11:52:27  <foobio> feature proposal procrastination week is always bad though
2014-08-28T11:55:40  <sdague> it also times badly with holidays now. As we also get a push with people coming back from aug vacations and still trying to land things
2014-08-28T11:55:43  <rakhmerov> ok
2014-08-28T11:55:53  <sdague> IIRC for folsom the freeze was actually aug 15th
2014-08-28T11:57:00  *** dane_leblanc has joined #openstack-infra
2014-08-28T11:58:52  *** hashar has quit IRC
2014-08-28T12:02:01  *** _nadya_ has quit IRC
2014-08-28T12:02:55  *** _nadya_ has joined #openstack-infra
2014-08-28T12:03:40  *** pcm_ has quit IRC
2014-08-28T12:04:42  *** e0ne has quit IRC
2014-08-28T12:05:03  <sdague> foobio: where are the all-projects acl set in config?
2014-08-28T12:05:06  *** kgiusti has joined #openstack-infra
2014-08-28T12:05:21  *** jab has joined #openstack-infra
2014-08-28T12:05:21  *** jab has joined #openstack-infra
2014-08-28T12:06:06  *** _buzz has joined #openstack-infra
2014-08-28T12:06:38  *** yfried has quit IRC
2014-08-28T12:06:44  *** afazekas has quit IRC
2014-08-28T12:07:05  *** jab is now known as bradjones
2014-08-28T12:07:46  *** mmaglana has quit IRC
2014-08-28T12:07:59  *** yfried has joined #openstack-infra
2014-08-28T12:08:31  *** yfried has quit IRC
2014-08-28T12:08:48  *** yfried has joined #openstack-infra
2014-08-28T12:10:08  *** yfried_ has joined #openstack-infra
2014-08-28T12:10:10  *** masayukig has quit IRC
2014-08-28T12:11:13  *** dprince has joined #openstack-infra
2014-08-28T12:11:17  <openstackgerrit> Ian Wienand proposed a change to openstack-infra/config: Get postgresql puppet from upstream master  https://review.openstack.org/117396
2014-08-28T12:11:22  *** mmedvede has joined #openstack-infra
2014-08-28T12:11:51  *** pblaho|afk is now known as pblaho
2014-08-28T12:13:15  *** yfried has quit IRC
2014-08-28T12:13:25  *** pcm_ has joined #openstack-infra
2014-08-28T12:15:39  *** masayukig has joined #openstack-infra
2014-08-28T12:16:52  *** weshay has joined #openstack-infra
2014-08-28T12:18:36  *** e0ne has joined #openstack-infra
2014-08-28T12:18:52  *** emagana has joined #openstack-infra
2014-08-28T12:20:54  *** ominakov has joined #openstack-infra
2014-08-28T12:21:24  *** adalbas has joined #openstack-infra
2014-08-28T12:22:34  *** nosnos has quit IRC
2014-08-28T12:23:01  *** nosnos has joined #openstack-infra
2014-08-28T12:23:32  *** emagana has quit IRC
2014-08-28T12:24:11  *** aysyd has joined #openstack-infra
2014-08-28T12:24:15  *** lukego has quit IRC
2014-08-28T12:25:03  *** trinaths has quit IRC
2014-08-28T12:25:05  *** hashar has joined #openstack-infra
2014-08-28T12:26:12  *** _nadya_ has quit IRC
2014-08-28T12:27:49  *** nosnos has quit IRC
2014-08-28T12:28:03  *** sdake_ has quit IRC
2014-08-28T12:28:56  *** acfleury has joined #openstack-infra
2014-08-28T12:30:42  *** yamahata has joined #openstack-infra
2014-08-28T12:33:53  *** julim has joined #openstack-infra
2014-08-28T12:35:04  *** sdake_ has joined #openstack-infra
2014-08-28T12:35:29  *** julim has quit IRC
2014-08-28T12:36:25  *** acfleury has quit IRC
2014-08-28T12:38:38  *** mmaglana has joined #openstack-infra
2014-08-28T12:39:10  *** julim has joined #openstack-infra
2014-08-28T12:40:21  *** mmaglana_ has joined #openstack-infra
2014-08-28T12:40:43  *** lukego has joined #openstack-infra
2014-08-28T12:41:01  *** dizquierdo is now known as dizquierdo_afk
2014-08-28T12:42:09  *** mmaglan__ has joined #openstack-infra
2014-08-28T12:42:56  *** hdd has joined #openstack-infra
2014-08-28T12:42:59  *** ominakov has quit IRC
2014-08-28T12:43:10  *** mmaglana has quit IRC
2014-08-28T12:44:26  *** ppai has quit IRC
2014-08-28T12:44:55  *** mmaglana_ has quit IRC
2014-08-28T12:45:33  *** marun has quit IRC
2014-08-28T12:46:15  *** mmaglan__ has quit IRC
2014-08-28T12:48:18  *** leifmadsen has quit IRC
2014-08-28T12:48:18  *** leifmadsen has joined #openstack-infra
2014-08-28T12:49:15  <openstackgerrit> Julien Danjou proposed a change to openstack-dev/hacking: Add a check for old style class declarations  https://review.openstack.org/116846
2014-08-28T12:51:45  *** zz_dimtruck is now known as dimtruck
2014-08-28T12:53:50  *** pdmars has joined #openstack-infra
2014-08-28T12:54:37  *** jgallard has quit IRC
2014-08-28T12:54:42  *** pdmars has joined #openstack-infra
2014-08-28T12:54:50  *** sdake_ has quit IRC
2014-08-28T12:54:55  *** jgallard has joined #openstack-infra
2014-08-28T12:55:26  *** sdake_ has joined #openstack-infra
2014-08-28T12:55:30  *** marun has joined #openstack-infra
2014-08-28T12:55:37  <openstackgerrit> Salvatore Orlando proposed a change to openstack-infra/elastic-recheck: iAdd footprint for bug 1362538  https://review.openstack.org/117468
2014-08-28T12:55:39  <uvirtbot`> Launchpad bug 1362538 in bluez "bluetoothd crashed with SIGSEGV in server_disconnect()" [Medium,New] https://launchpad.net/bugs/1362538
2014-08-28T12:56:09  <foobio> sdague: it's hand-managed due to checken&egg bootstrapping issues (it manages how you get access to update it)
2014-08-28T12:57:09  <foobio> sdague: though we have it basically documented at http://ci.openstack.org/gerrit.html#access-controls
2014-08-28T12:57:22  <foobio> s/checken/chicken/
2014-08-28T12:57:24  *** mfer has joined #openstack-infra
2014-08-28T12:57:28  *** ominakov has joined #openstack-infra
2014-08-28T12:58:48  *** joools has joined #openstack-infra
2014-08-28T13:01:16  *** dmakogon_ is now known as denis_makogon
2014-08-28T13:02:57  <foobio> as for gate/check pipeline length, yeah it looks pretty bad but we've seen worse. hpcloud outage seems to have recovered many hours ago, though still could account for some of the backup there
2014-08-28T13:03:07  <foobio> mostly just lack of sufficient resources to run the pending jobs
2014-08-28T13:03:44  <foobio> but we are still pumping stuff through and running around 800 jobs an hour, which is about what we've been topping out at for weeks now
2014-08-28T13:07:21  <sdague> foobio: so could we enable Rebase for everyone?
2014-08-28T13:07:23  <foobio> and rax-dfw is pretty much a complete loss lately (seems like every time they unstick the error nodes we fill it right back up with them in a matter of a few hours)
2014-08-28T13:07:37  <foobio> sdague: enable the rebase button you mean?
2014-08-28T13:07:50  <foobio> (or api call, i suppose, same thing)
2014-08-28T13:07:52  *** yfried_ has quit IRC
2014-08-28T13:08:26  <foobio> we could probably switch that to registered users. might want to think about the potential downsides, but it seems doable anyway
2014-08-28T13:08:35  <sdague> foobio: yeh, enable the rebase button
2014-08-28T13:09:02  <foobio> sdague: or is that something we should just enable for project owner and core reviewer group on a project?
2014-08-28T13:09:06  *** paulrad has joined #openstack-infra
2014-08-28T13:09:18  <foobio> (like we do with wip, abandon/restore, et cetera)
2014-08-28T13:09:22  *** jaypipes has joined #openstack-infra
2014-08-28T13:09:44  *** nkinder has quit IRC
2014-08-28T13:10:09  *** k4n0 has quit IRC
2014-08-28T13:11:12  *** sdake_ has quit IRC
2014-08-28T13:12:11  <bookwar> hi all, i have "WARNING: The Gerrit-trigger send commands queue contains 44 items! Something might be stuck, or your system can't process the commands fast enough." in our third-third-party CI and I see review.openstack.org being lazy to respond today, are there any known issues or should I go debug more?
2014-08-28T13:12:35  <sdake> morning
2014-08-28T13:13:12  <foobio> bookwar: it probably has nothing to do with gerrit, but i'll check its inter-jvm process queue
2014-08-28T13:14:13  <foobio> bookwar: i don't see any stuck queues internally in gerrit, so it should be responding to your api commands in a timely manner
2014-08-28T13:14:13  *** markmcclain has joined #openstack-infra
2014-08-28T13:14:55  <sdague> foobio: so anyone can do it manually
2014-08-28T13:15:05  <foobio> sdague: that is very true
2014-08-28T13:15:24  <sdague> so it seems like making it a registered users permission is just giving people nicer ux
2014-08-28T13:15:37  <sdague> much like the commit message editor
2014-08-28T13:15:38  <foobio> though it takes some effort, whereas adding an easy button for everybody might become an attractive nuisance/free-for-all
2014-08-28T13:15:44  <sdague> maybe
2014-08-28T13:16:05  *** sballe_ has quit IRC
2014-08-28T13:16:13  <foobio> i can imagine some first-time reviewer deciding to go through and punch the rebase button on every change they see with a merge conflict message
2014-08-28T13:16:16  *** gargola has joined #openstack-infra
2014-08-28T13:16:18  <bookwar> foobio: thanks
2014-08-28T13:16:25  <foobio> without inspecting the results
2014-08-28T13:16:42  *** sballe_ has joined #openstack-infra
2014-08-28T13:16:54  *** afazekas has joined #openstack-infra
2014-08-28T13:17:31  <foobio> (keep in mind that rebases can go horribly wrong and act like they succeeded trivially, readding everyone's votes, so it's necessary to look at the end result carefully to make sure it did what you expect, which implies someone actually knowing what to expect/look for)
2014-08-28T13:19:01  <foobio> sdague: in fact, did you see https://review.openstack.org/117375 from last night? that one was downright scary (at merge time instead of a rebase, so nobody had an opportunity to notice it until after it went into production). thankfully the outcome was reasonably benign
2014-08-28T13:19:41  *** emagana has joined #openstack-infra
2014-08-28T13:19:52  <sdague> foobio: nope
2014-08-28T13:20:24  *** dustins has joined #openstack-infra
2014-08-28T13:20:32  *** oomichi has quit IRC
2014-08-28T13:21:20  <sdague> though most of the time we've got more unit tests on output on things, so that's a pretty far edge case
2014-08-28T13:23:00  *** mfer has quit IRC
2014-08-28T13:24:09  <Shrews> Any status update on https://bugs.launchpad.net/horizon/+bug/1362325? Safe to do rechecks yet?
2014-08-28T13:24:10  <uvirtbot`> Launchpad bug 1362325 in horizon "Dashboard with slug "sahara" is not registered" [Undecided,Confirmed]
2014-08-28T13:24:12  *** emagana has quit IRC
2014-08-28T13:24:39  <foobio> Shrews: yeah, i believe jeblair squashed SergeyLukjanov's two fixes into one last night abd crammed them up to the head of the gate
2014-08-28T13:24:54  <Shrews> foobio: cool. thx
2014-08-28T13:24:56  *** radez_g0` is now known as radez
2014-08-28T13:25:00  <SergeyLukjanov> foobio, Shrews, yup, it' fixed already, thx for jeblair
2014-08-28T13:26:07  *** mriedem has joined #openstack-infra
2014-08-28T13:27:54  *** tomoe_ has joined #openstack-infra
2014-08-28T13:28:41  *** hdd has quit IRC
2014-08-28T13:30:38  *** dangers_away is now known as dangers
2014-08-28T13:33:22  *** dizquierdo_afk is now known as dizquierdo
2014-08-28T13:34:04  *** hashar_ has joined #openstack-infra
2014-08-28T13:37:17  *** hashar has quit IRC
2014-08-28T13:37:48  *** jgallard has quit IRC
2014-08-28T13:38:00  *** tomoe_ has quit IRC
2014-08-28T13:38:18  *** jgallard has joined #openstack-infra
2014-08-28T13:38:53  *** joools has quit IRC
2014-08-28T13:40:29  *** tomoe_ has joined #openstack-infra
2014-08-28T13:40:36  *** emagana has joined #openstack-infra
2014-08-28T13:40:39  *** mmaglana has joined #openstack-infra
2014-08-28T13:40:46  *** adalbas has quit IRC
2014-08-28T13:41:18  <phschwartz> morning infra
2014-08-28T13:41:30  <phschwartz> foobio: we cleaned up dfw a second time yesterday so you should be good for now.
2014-08-28T13:42:00  *** baohua has joined #openstack-infra
2014-08-28T13:42:42  <foobio> phschwartz: you would think that, but i count 122 in error+deleting state in dfw right now
2014-08-28T13:43:05  <phschwartz> grrrr. stupid neutron. lol
2014-08-28T13:43:10  <foobio> seems we accumulate a quota full of those, roughly, within a few hours of instance boot/use/delete churn
2014-08-28T13:43:13  *** salv-orlando has quit IRC
2014-08-28T13:44:16  <phschwartz> very soon we will be able to turn the delete retry on for them and it will auto clean them up
2014-08-28T13:44:44  <foobio> keen
2014-08-28T13:45:03  *** pblaho is now known as pblaho|afk
2014-08-28T13:45:16  *** dustins has quit IRC
2014-08-28T13:45:17  *** mmaglana has quit IRC
2014-08-28T13:46:22  *** afazekas has quit IRC
2014-08-28T13:48:18  *** doug-fish has joined #openstack-infra
2014-08-28T13:49:06  *** hashar_ is now known as hashar
2014-08-28T13:49:49  *** dkranz has joined #openstack-infra
2014-08-28T13:51:17  *** amotoki has quit IRC
2014-08-28T13:51:22  <sdague> foobio: the f20 node mix seems to be problematic again as well
2014-08-28T13:51:34  <sdague> that's the reason some of the devstack changes have 20 hr delays on them
2014-08-28T13:51:42  *** amotoki has joined #openstack-infra
2014-08-28T13:51:51  <foobio> sdague: yeah, it becomes so as soon as we get beyond having enough capacity to service all job requests
2014-08-28T13:52:24  *** Sincler has joined #openstack-infra
2014-08-28T13:52:25  <sdague> so.... given that's not going to change for weeks, can we drop it again
2014-08-28T13:52:35  <sdague> I really don't like nv jobs blocking real fixes
2014-08-28T13:52:56  *** adalbas has joined #openstack-infra
2014-08-28T13:53:37  <foobio> sdague: well, the same effect is also happening to anyone running py33 jobs, pypy jobs, or anything still explicitly tied to ubuntu precise. basically any job that doesn't run on devstack-trusty or bare-trusty nodes (and to a slightly lesser extent, bare-centos6) is going to suffer this
2014-08-28T13:53:51  <sdague> yep
2014-08-28T13:54:18  <foobio> so, sure, we can make a judgement call that those aren't worth testing after all and are merely a nice-to-have when things are working smoothly. it's not really my call to make
2014-08-28T13:54:37  <sdague> well I let the f20 job back on devstack based on the fact that the allocator was fixed, but that seemed to have gotten reverted for bugs
2014-08-28T13:54:38  *** homeless has joined #openstack-infra
2014-08-28T13:54:48  <foobio> if that's the consensus among the devstack core reviewers, we can stop running it for now
2014-08-28T13:55:05  <foobio> yep, it turns out that it had bugs
2014-08-28T13:55:18  <foobio> ianw is still working to reproduce the condition under volume
2014-08-28T13:56:33  *** stevemar has joined #openstack-infra
2014-08-28T13:57:08  <foobio> speaking of bugs, i'm having some serious trouble tracking down the cause of http://logs.openstack.org/69/108269/17/check/check-tempest-dsvm-postgres-full/37ca571/console.html#_2014-08-28_09_45_28_460
2014-08-28T13:57:29  *** emagana has quit IRC
2014-08-28T13:57:46  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: Revert "Revert "demote f20 to experimental""  https://review.openstack.org/117518
2014-08-28T13:58:02  *** emagana has joined #openstack-infra
2014-08-28T13:58:26  <foobio> i mean, http://logs.openstack.org/69/108269/17/check/check-tempest-dsvm-postgres-full/37ca571/logs/screen-c-api.txt.gz?level=TRACE is going on, which is supposed to have been fixed already four weeks ago
2014-08-28T13:58:35  <foobio> but i'm assuming that's just benign noise
2014-08-28T13:58:54  *** koolhead17 has joined #openstack-infra
2014-08-28T13:59:00  *** pcrews has joined #openstack-infra
2014-08-28T13:59:47  *** pradk has joined #openstack-infra
2014-08-28T13:59:48  <foobio> at least bug 1348786 claims https://review.openstack.org/109714 fixed that
2014-08-28T13:59:49  *** pblaho|afk is now known as pblaho
2014-08-28T13:59:50  <uvirtbot`> Launchpad bug 1348786 in devstack "VolumeTypeNotFoundByName spamming cinder-api logs" [Undecided,Fix released] https://launchpad.net/bugs/1348786
2014-08-28T14:00:39  *** gokrokve has joined #openstack-infra
2014-08-28T14:02:15  *** emagana has quit IRC
2014-08-28T14:02:26  <tsufiev> jeblair, hello! could you please take a look at this commit https://review.openstack.org/#/c/110325/ for adding a new repo to stackforge? It already has one +2, also you had reviewed it a week ago - it seems that everything is in place now
2014-08-28T14:02:46  <sdague> foobio: well I don't know, though it's a terrible test
2014-08-28T14:03:07  *** ominakov has quit IRC
2014-08-28T14:03:10  *** andreaf has joined #openstack-infra
2014-08-28T14:03:12  *** ociuhandu has joined #openstack-infra
2014-08-28T14:03:28  <foobio> looks like all that traceback spam crept back in on the 23rd according to logstash, so probably a regression of 1348786
2014-08-28T14:03:56  *** eharney has joined #openstack-infra
2014-08-28T14:03:58  *** ominakov has joined #openstack-infra
2014-08-28T14:04:01  *** nkinder has joined #openstack-infra
2014-08-28T14:04:24  *** sandywalsh has joined #openstack-infra
2014-08-28T14:04:32  <foobio> and yeah, mostly successful runs, so benign
2014-08-28T14:04:52  *** tomoe_ has quit IRC
2014-08-28T14:05:09  *** r-daneel has joined #openstack-infra
2014-08-28T14:05:11  <sdague> it's an error in keystone / cinder client / or the test
2014-08-28T14:05:22  <sdague> no other part is in play
2014-08-28T14:05:57  <foobio> sdague: thanks, i'll poke around in keystone some
2014-08-28T14:06:12  <sdague> actually, the reason why it failed is the next line
2014-08-28T14:06:22  <sdague> there is an update endpoint test happening at the same time
2014-08-28T14:06:29  <sdague> 2014-08-28 09:45:29.184 | {1} tempest.api.identity.admin.v3.test_endpoints.EndPointsTestXML.test_update_endpoint [0.771050s] ... ok
2014-08-28T14:06:38  <foobio> ahh, concurrency-related?
2014-08-28T14:06:41  <sdague> yep
2014-08-28T14:06:47  <sdague> my guess at least
2014-08-28T14:06:49  <foobio> i would never have spotted that
2014-08-28T14:07:09  <foobio> it wasn't clicking for me that this was funneled through keystone as well
2014-08-28T14:08:09  *** mmedvede has quit IRC
2014-08-28T14:08:17  *** annegent_ has joined #openstack-infra
2014-08-28T14:08:20  *** dustins has joined #openstack-infra
2014-08-28T14:08:22  <sdague> yeh, the path for endpoints only goes to keystone as far as I know
2014-08-28T14:08:25  *** chuckC has quit IRC
2014-08-28T14:09:45  *** emagana has joined #openstack-infra
2014-08-28T14:10:52  <sdague> unfortunately the cli tests aren't written in a way that lets us see the entire catalog, they seem prematurely optimized for code reuse :{
2014-08-28T14:10:54  *** dimtruck is now known as zz_dimtruck
2014-08-28T14:11:06  <sdague> mriedem: you played with the cli tests some right?
2014-08-28T14:11:06  *** zz_dimtruck is now known as dimtruck
2014-08-28T14:11:18  *** mmedvede has joined #openstack-infra
2014-08-28T14:11:33  <sdague> any idea how we'd change those to expose the whole catalog on those assert fails?
2014-08-28T14:14:04  *** sdake_ has joined #openstack-infra
2014-08-28T14:14:33  *** andreaf has quit IRC
2014-08-28T14:14:50  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: Revert "Revert "demote f20 to experimental""  https://review.openstack.org/117518
2014-08-28T14:15:05  *** hdd has joined #openstack-infra
2014-08-28T14:15:15  <mriedem> sdague: catching up, you mean dump out the keystone service catalog on any cli failure?
2014-08-28T14:15:36  <sdague> well all the comparisons are so hyper normalized I don't know what it's doing
2014-08-28T14:15:45  *** dmsimard_away is now known as dmsimard
2014-08-28T14:15:52  <mriedem> which comparisons?
2014-08-28T14:15:53  <sdague> the error seems non sensible
2014-08-28T14:16:13  <sdague> http://logs.openstack.org/69/108269/17/check/check-tempest-dsvm-postgres-full/37ca571/console.html#_2014-08-28_10_04_15_757
2014-08-28T14:16:24  <sdague> I would expect to see more than 1 catalog line
2014-08-28T14:16:34  <sdague> MismatchError: 'nova' not in {'type---446510413': 'id', 'Value': '0900b1eaee174fdd9e146438a25b845e'}
2014-08-28T14:17:05  <sdague> it seems like endpoints is actually only the 1st endpoint
2014-08-28T14:17:16  *** mmedvede has quit IRC
2014-08-28T14:17:19  <mriedem> checking the tempest code
2014-08-28T14:17:49  <jeblair> sdague: https://review.openstack.org/#/c/113812/ may have been caught by the freshness check
2014-08-28T14:17:58  *** armax has joined #openstack-infra
2014-08-28T14:18:06  <jeblair> https://jenkins07.openstack.org/job/gate-nova-python27/5840/console https://jenkins03.openstack.org/job/gate-nova-python26/4710/console
2014-08-28T14:18:08  *** mmedvede has joined #openstack-infra
2014-08-28T14:18:13  <sdague> jeblair: yeh
2014-08-28T14:18:15  <jeblair> both unit tests jobs failed; last check was 3 days ago
2014-08-28T14:19:16  *** david-lyle has joined #openstack-infra
2014-08-28T14:19:17  <mriedem> sdague: so you expected to see the cinder v1 and v2 endpoints?
2014-08-28T14:19:25  <jeblair> i don't suppse anyone got around to writing a dequeue command :/
2014-08-28T14:19:41  <sdague> mriedem: that's not actually what it is
2014-08-28T14:19:49  <sdague> jeblair: edit commit message in gerrit?
2014-08-28T14:19:54  <sdague> that's what I do
2014-08-28T14:20:22  <sdague> much easier now that you can do that via gerrit web
2014-08-28T14:21:15  <sdague> mriedem: so cinder endpoints actually returns the whole catalog
2014-08-28T14:21:26  <sdague> and the test seems to just care that nova is listed somewhere
2014-08-28T14:21:40  <sdague> except, what it actually seems to care about is that nova is listed first
2014-08-28T14:21:46  <sdague> so if something else ends up first
2014-08-28T14:21:55  *** otherwiseguy has joined #openstack-infra
2014-08-28T14:21:59  <foobio> that's an amusing test... for some values of amusing anyway
2014-08-28T14:22:02  <sdague> because endpoints are being added at the same time (which is happening)
2014-08-28T14:22:10  <sdague> then... fail
2014-08-28T14:23:11  <mriedem> sdague: oh, huh - why does a cinder endpoint list test care that nova is in there?
2014-08-28T14:23:20  *** leifmadsen is now known as SgtPants
2014-08-28T14:23:26  <sdague> because someone wrote it to just find something
2014-08-28T14:23:34  <sdague> I expect they copy/pasted the nova test
2014-08-28T14:23:40  <sdague> and it shows all endpoints
2014-08-28T14:23:45  *** annegent_ has quit IRC
2014-08-28T14:23:59  <sdague> so it should be fine ... except it's not actually looking at all the endpoints
2014-08-28T14:24:19  *** annegent_ has joined #openstack-infra
2014-08-28T14:24:23  <mriedem> sdague: is this a relatively new failure?
2014-08-28T14:24:34  * mriedem is putting out an internal fire this morning so is behind
2014-08-28T14:24:43  *** Longgeek_ has quit IRC
2014-08-28T14:24:48  *** SgtPants is now known as leifmadsen
2014-08-28T14:24:50  *** jgrimm_zz is now known as jgrimm
2014-08-28T14:25:30  <sdague> it was something foobio was looking at
2014-08-28T14:25:41  <sdague> it was in the last 24hrs
2014-08-28T14:25:43  *** _nadya_ has joined #openstack-infra
2014-08-28T14:25:46  <foobio> yeah, random test failure i couldn't find any obvious fingerprint for
2014-08-28T14:25:51  <sdague> mriedem: no worries if there are other fires
2014-08-28T14:25:56  <foobio> and for which i couldn't find a bug either
2014-08-28T14:26:02  <foobio> presumably low-incidence so far
2014-08-28T14:26:21  <sdague> I think it's just indicative of the fact that the cli tests really need to come out of tempest, they make some terrible assumptions :)
2014-08-28T14:28:05  <mriedem> sdague: foobio: according to logstash it's only failed on that one pbr change
2014-08-28T14:28:11  <foobio> jeblair: oh, on the topic of the nodepool 'splosions during oscon which prompted us to revert the demand fulfillment algorithm change, did you happen to set aside a copy of the nodepool logs from that time? we're just a few days past log rotation having expired them out of /var
2014-08-28T14:28:20  <foobio> mriedem: yeah, in that case *very* low incidence
2014-08-28T14:28:35  <jeblair> foobio: yeah, i'm planning on working on that today
2014-08-28T14:29:00  *** andreaf has joined #openstack-infra
2014-08-28T14:29:04  <jeblair> ianw: i mentioned i'd be able to pitch in later this week; i'm all yours :)
2014-08-28T14:29:12  *** yamahata has quit IRC
2014-08-28T14:29:36  *** jistr has quit IRC
2014-08-28T14:29:37  <foobio> jeblair: okay, awesome. i went looking for them earlier this week so i could sanitize a copy for ianw but discovered they were already gone
2014-08-28T14:29:43  <jeblair> assuming that the blowup happened on 7/23, i have copies of logs in my homedir
2014-08-28T14:30:17  <foobio> jeblair: yep, i hadn't gone poking anywhere else obvious yet besides /var, but that was the timeframe i was looking for (it coincides with the revert commit)
2014-08-28T14:30:22  *** david-lyle has quit IRC
2014-08-28T14:30:45  *** salv-orlando has joined #openstack-infra
2014-08-28T14:30:46  *** david-lyle has joined #openstack-infra
2014-08-28T14:31:16  <sdague> mriedem: yeh, it's probably infrequent because the keystone tests are fast
2014-08-28T14:31:25  <sdague> so crosssection for overlap is small
2014-08-28T14:32:14  *** markmcclain has quit IRC
2014-08-28T14:33:18  <jeblair> foobio, ianw: yep, 3 restarts in the log on 7/23
2014-08-28T14:33:31  <jeblair> i'll concentrate on the middle restart
2014-08-28T14:33:34  *** sdake_ has quit IRC
2014-08-28T14:33:49  <mriedem> sdague: foobio: so do we want to open a tempest bug for this?  assuming 'yes' even though it has only shown up in one change in 7 days
2014-08-28T14:34:12  *** juzuluag has joined #openstack-infra
2014-08-28T14:34:22  <dtroyer> foobio: https://review.openstack.org/117522 should fix the Cinder volume type regression
2014-08-28T14:34:27  *** annegent_ has quit IRC
2014-08-28T14:34:30  *** masayukig has quit IRC
2014-08-28T14:37:12  *** mmaglana has joined #openstack-infra
2014-08-28T14:37:13  <foobio> mriedem: yup, will do
2014-08-28T14:37:27  <foobio> dtroyer: oh, cool
2014-08-28T14:40:22  *** masayukig has joined #openstack-infra
2014-08-28T14:40:32  *** dragondm has joined #openstack-infra
2014-08-28T14:40:32  *** rainya has joined #openstack-infra
2014-08-28T14:40:34  *** _nadya_ has quit IRC
2014-08-28T14:40:35  <yolanda_> jeblair, wrote a comment for https://review.openstack.org/#/c/105931/. The patch isn't needed now
2014-08-28T14:41:02  <HeOS> foobio, hello!
2014-08-28T14:41:52  *** hashar has quit IRC
2014-08-28T14:42:19  <HeOS> foobio, do you known directive inheritFrom = <parent_project_name> in project.config is worked in jeepyb?
2014-08-28T14:42:56  *** tnurlygayanov has quit IRC
2014-08-28T14:43:15  *** andreaf has quit IRC
2014-08-28T14:43:24  *** dkehn__ has joined #openstack-infra
2014-08-28T14:43:43  *** andreaf has joined #openstack-infra
2014-08-28T14:43:46  <HeOS> I received an error ! [remote rejected] HEAD -> refs/meta/config (invalid project configuration: parent does not exist), but <parent_project_name> is exist in gerrit.
2014-08-28T14:43:49  <jeblair> foobio, ianw: looking at the logs more closely, it seems to be pass #3 and greater that end up with the radical over allocations
2014-08-28T14:44:16  <jeblair> (not so much #2 as we previously surmised)
2014-08-28T14:45:00  <openstackgerrit> Ken Giusti proposed a change to openstack-infra/config: Add a test to verify oslo.messaging's AMQP 1.0 messaging protocol support  https://review.openstack.org/115752
2014-08-28T14:45:04  *** trinaths has joined #openstack-infra
2014-08-28T14:45:15  *** wenlock has joined #openstack-infra
2014-08-28T14:45:40  *** dkehn_ has quit IRC
2014-08-28T14:45:59  *** atiwari has joined #openstack-infra
2014-08-28T14:46:10  *** dkehn has quit IRC
2014-08-28T14:46:12  <anteaya> jesusaurus: thanks, I'm also looking for open formats, is mp4 and ac3 or acc open? I don't know, I haven't spent time in this space lately as a creator
2014-08-28T14:46:35  <anteaya> nibalizer: yes, I find ffmpeg overwhelming but would like to spend some time with it
2014-08-28T14:46:48  <HeOS> In project.config file only next two lines: 1: [access] 2: inheritFrom = <parent_project_name>
2014-08-28T14:46:51  *** hashar has joined #openstack-infra
2014-08-28T14:46:57  *** bradjones has quit IRC
2014-08-28T14:47:29  <jroll> anteaya: flac and ogg are really the only open formats afaik
2014-08-28T14:47:39  <jroll> or is this video?
2014-08-28T14:47:45  *** dkehn has joined #openstack-infra
2014-08-28T14:47:50  *** yolanda_ has quit IRC
2014-08-28T14:47:58  <jroll> yeah, misread that, ignore me :)
2014-08-28T14:49:16  *** yolanda has joined #openstack-infra
2014-08-28T14:49:16  <jeblair> foobio: nodepool.o.o:~corvus/log
2014-08-28T14:49:33  *** annegent_ has joined #openstack-infra
2014-08-28T14:49:47  <jeblair> foobio: i've extracted the section that deals with startup #2, and checked that none of our defined passwords show up in there
2014-08-28T14:49:51  <jeblair> foobio: anything else you want to check?
2014-08-28T14:50:02  <anteaya> jroll: video and audio
2014-08-28T14:50:28  <anteaya> lyxus trinaths this is normal load for where we are in the release cycle: https://wiki.openstack.org/wiki/Juno_Release_Schedule
2014-08-28T14:51:05  *** zehicle_at_dell has quit IRC
2014-08-28T14:51:19  <anteaya> lyxus trinaths as you see next week is feature freeze and so we are under normal load (meaning extreme) since everyone wants their patches merged before Sept 4
2014-08-28T14:51:23  *** ildikov has joined #openstack-infra
2014-08-28T14:51:31  <jroll> anteaya: http://en.wikipedia.org/wiki/List_of_open-source_codecs#Video_codecs :)
2014-08-28T14:52:10  *** tonytan4ever has joined #openstack-infra
2014-08-28T14:52:10  <anteaya> lyxus trinaths this is also the time of cycle we discover new and exciting things about our automating testing struture since we are under heavy load for a long time
2014-08-28T14:52:18  *** bradjones has joined #openstack-infra
2014-08-28T14:52:21  <anteaya> jroll: thanks
2014-08-28T14:52:22  *** bradjones has quit IRC
2014-08-28T14:52:22  *** bradjones has joined #openstack-infra
2014-08-28T14:53:12  *** joools has joined #openstack-infra
2014-08-28T14:53:20  *** emagana has quit IRC
2014-08-28T14:53:56  *** jcoufal has quit IRC
2014-08-28T14:54:00  <phschwartz> foobio: we are going to try and get them cleaned up again durring the day today, and at that time have a member of our internal neutron team watch as they build up again to see if it can help them find the actual cause.
2014-08-28T14:54:08  *** andreaf has quit IRC
2014-08-28T14:54:16  *** nelsnelson has quit IRC
2014-08-28T14:54:31  *** andreaf has joined #openstack-infra
2014-08-28T14:55:06  <jeblair> phschwartz: we'll, uh, make sure you have enough load to detect the problem.  ;)
2014-08-28T14:55:33  *** chuckC has joined #openstack-infra
2014-08-28T14:57:01  <foobio> phschwartz: yeah, i think there'll be no shortage of incidents for them to analyze there
2014-08-28T14:57:05  <foobio> jeblair: looking
2014-08-28T14:57:23  *** mmaglana has quit IRC
2014-08-28T14:58:14  *** _nadya_ has joined #openstack-infra
2014-08-28T14:58:22  <sdague> jeblair: so I've been going through my review list, man would auto abandon help.
2014-08-28T14:58:45  *** skolekonov has quit IRC
2014-08-28T14:59:11  <jeblair> sdague: it would really hurt mine.  we have reviews for big efforts that sit for weeks.  they should not be abandoned.
2014-08-28T14:59:54  <jeblair> sdague: for instance, there's no way we can make significant progress on nodepool dib with the queue in its current state.  do we abandon all the reviews?  no, we just let them sit until things cool down and pick it up again later
2014-08-28T15:00:25  *** kmartin has joined #openstack-infra
2014-08-28T15:00:41  <jeblair> sdague: we just merged a review number that was _half_ of the current review number
2014-08-28T15:00:42  <sdague> so the pattern I'm seeing, fwiw, as I've been through about 100 old reviews in the last 24 hrs
2014-08-28T15:01:07  <sdague> is that developers that are highly engaged in the project seem to have a good sense of self abandoning code
2014-08-28T15:01:11  *** jistr has joined #openstack-infra
2014-08-28T15:01:13  <jeblair> sdague: why?  had you not previously reviewed them?
2014-08-28T15:01:20  <sdague> and when it's appropriate
2014-08-28T15:01:22  <jeblair> oh i misunderstood that sentence
2014-08-28T15:01:28  *** balles has joined #openstack-infra
2014-08-28T15:01:36  *** balles has quit IRC
2014-08-28T15:01:43  <sdague> jeblair: yeh, sorry, these were reviews that I was already listed as a reviewer on
2014-08-28T15:01:52  <sdague> some with last activity going to back to May
2014-08-28T15:02:15  <openstackgerrit> Mike Heald proposed a change to openstack-infra/jenkins-job-builder: Add support for scripts in the inject builder  https://review.openstack.org/117528
2014-08-28T15:02:32  <sdague> however people less connected to the project tend to leave -2ed or merge conflicted code out there
2014-08-28T15:02:53  <jeblair> sdague: my question is, why are you seeing reviews you don't want to?  why don't you add "age:2w" to your queries?  you'd get the same behavior as before
2014-08-28T15:03:46  <sdague> I'm going through the My Changes list just to clean it up a bit
2014-08-28T15:04:03  <sdague> also, it was mostly an exercise to understand what's up with these really old reviews
2014-08-28T15:04:06  <openstackgerrit> Romain Chantereau proposed a change to openstack-infra/config: Be able to generate math formulae with Sphinx mathpng base extension.  https://review.openstack.org/117263
2014-08-28T15:04:14  <sdague> so both cleanup, and exploration
2014-08-28T15:05:15  <jeblair> i'm guessing that we can't add "age:2w" to my changes.. but to be honest, i thought we had all written 'my changes' off as a useful part of the ui
2014-08-28T15:05:34  <jeblair> i mean, we did that 3 years ago when we wrote 'important changes'
2014-08-28T15:05:51  <sdague> important changes doesn't work for me
2014-08-28T15:05:57  <sdague> for volume reasons
2014-08-28T15:05:59  <jeblair> sdague: it doesn't work for anyone, it's gone
2014-08-28T15:06:13  <sdague> ok, fair
2014-08-28T15:06:18  *** jcoufal-mobile has joined #openstack-infra
2014-08-28T15:06:19  *** jcoufal-mobile has quit IRC
2014-08-28T15:06:29  <jeblair> sdague: but my changes had all of those problems and more
2014-08-28T15:06:41  <jeblair> so i'm surprised to hear that you use it
2014-08-28T15:07:04  <sdague> yeh, I don't use it all the time, I do come through it some times
2014-08-28T15:07:10  *** coolsvap has quit IRC
2014-08-28T15:07:19  *** sdake_ has joined #openstack-infra
2014-08-28T15:07:24  <sdague> I definitely use it for outgoing
2014-08-28T15:07:30  <jeblair> oh yeah
2014-08-28T15:07:43  <jeblair> right now that's long enough for me i can't actually see the incoming ones :)
2014-08-28T15:07:58  <sdague> yeh, so when that happens I typically stop writing code
2014-08-28T15:08:13  <sdague> because I can't keep that many contexts running in parallel
2014-08-28T15:08:32  <sdague> then I go and bug people to figure out why some things aren't landing
2014-08-28T15:09:09  *** zz_gondoi is now known as gondoi
2014-08-28T15:12:29  <sdague> anteaya / krtaylor: does someone want to take over this recheck gramar proposal - https://review.openstack.org/#/c/109565/ - because I'm not really going to be the right person to drive that to some concensus
2014-08-28T15:13:08  <anteaya> sdague: yeah dougwig is trying to do something with it
2014-08-28T15:13:14  <krtaylor> sdague, sure
2014-08-28T15:13:25  <dhellmann> hi, folks. I'd like to get oslo.log imported so we can cut stable/juno in oslo-incubator and start dropping graduated modules. It only needs one more +2: https://review.openstack.org/#/c/116934/
2014-08-28T15:13:31  <anteaya> sdague: if you want you can abandon it and dougwig can propose again
2014-08-28T15:13:56  <anteaya> sdague: can you leave a comment that you are abandoning it due to time issues and someone else is welcome to use your code?
2014-08-28T15:14:00  *** salv-orlando has quit IRC
2014-08-28T15:15:20  *** datsun180b has joined #openstack-infra
2014-08-28T15:16:06  <sdague> anteaya: sure
2014-08-28T15:16:42  *** coolsvap has joined #openstack-infra
2014-08-28T15:17:45  <anteaya> sdague: since basically what I am hearing you say is you want this patch off your stack
2014-08-28T15:18:11  <anteaya> which I understand
2014-08-28T15:18:24  <sdague> anteaya: yes. Well mostly I'm afraid people are expecting me to drive it forward
2014-08-28T15:18:29  <anteaya> right
2014-08-28T15:18:33  <sdague> which it's not going to really be a priority for me
2014-08-28T15:18:38  * anteaya nods
2014-08-28T15:18:40  <anteaya> yup
2014-08-28T15:18:58  <sdague> so I wanted the right signaling to let someone else run with it
2014-08-28T15:19:04  <sdague> I hit abandone
2014-08-28T15:19:09  <anteaya> I think that will do it
2014-08-28T15:19:39  <anteaya> dougwig is the only person so far willing to make any noise about it, hopefully he will champion it for a while
2014-08-28T15:19:41  <sdague> yeh, every group is different
2014-08-28T15:19:45  <anteaya> it is
2014-08-28T15:19:54  <sdague> so I wasn't sure what the right way to signal that was here
2014-08-28T15:20:07  *** mwagner_lap has joined #openstack-infra
2014-08-28T15:20:08  <anteaya> yes, let's find out
2014-08-28T15:20:22  <anteaya> I'm trying to find ways to not be so tired by everything
2014-08-28T15:20:44  <anteaya> the non-stop construction 2 doors down isn't helping
2014-08-28T15:20:56  <krtaylor> anteaya, sdague I can help dougwig with moving that along if needed
2014-08-28T15:21:31  <krtaylor> anteaya, I feel your pain, next-door is getting new roof
2014-08-28T15:22:18  <anteaya> krtaylor: great it is all yours
2014-08-28T15:23:41  <anteaya> krtaylor: propose a new patch with yourself as owner and reference sdague's abandoned patch in the commit message, and list sdague as co-author in the commit message too
2014-08-28T15:24:09  <anteaya> Co-Authored By: Sean Dague <sean's email goes here>
2014-08-28T15:24:14  <anteaya> sdague: what email?
2014-08-28T15:24:32  <krtaylor> anteaya, I should check with dougwig first?
2014-08-28T15:24:39  <sdague> sean@dague.net is what I use
2014-08-28T15:24:43  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Add readthedocs for heat-translator  https://review.openstack.org/117533
2014-08-28T15:24:58  <anteaya> sdague: great thanks
2014-08-28T15:25:01  <anteaya> krtaylor: up to you
2014-08-28T15:25:04  <dougwig> krtaylor: go for it.
2014-08-28T15:25:09  <sdague> thanks anteaya / krtaylor
2014-08-28T15:25:13  *** mmaglana has joined #openstack-infra
2014-08-28T15:25:37  <anteaya> thanks dougwig
2014-08-28T15:25:46  <dougwig> on phone, hard to type , let me know if I can help.
2014-08-28T15:25:51  <anteaya> then dougwig gets to be your first reviewer
2014-08-28T15:25:57  <jeblair> foobio: how's that log looking?
2014-08-28T15:26:03  *** emagana has joined #openstack-infra
2014-08-28T15:26:28  *** signed8bit has joined #openstack-infra
2014-08-28T15:26:30  <foobio> jeblair: i'm continuing to whittle and summarize
2014-08-28T15:27:10  <jeblair> foobio: oh i thought you just wanted to sanitize; i don't see why we can't serve up the whole thing
2014-08-28T15:27:17  <krtaylor> anteaya, dougwig - I'll get that up again this afternoon
2014-08-28T15:27:35  <foobio> jeblair: oh, we probably can... i was actually trying to analyze the content! sorry
2014-08-28T15:27:52  <jeblair> foobio: yeah, i'm all for that, but i figured first we can let ianw see it :)
2014-08-28T15:28:02  *** ominakov has quit IRC
2014-08-28T15:28:04  <foobio> absolutely. lemme make sure there's nothing leaked in there
2014-08-28T15:28:30  *** HenryG has quit IRC
2014-08-28T15:29:45  *** ominakov has joined #openstack-infra
2014-08-28T15:32:47  *** _buzz_ has joined #openstack-infra
2014-08-28T15:32:53  *** annegent_ has quit IRC
2014-08-28T15:32:59  <jeblair> foobio: 1600 utc saturday good for the glance.store rename?
2014-08-28T15:33:02  <foobio> jeblair: i think it should be safe. i scoured it for any credentials nodepool could possibly have access (ssh private key, jenkins credentials id, jenkins api password, database password)
2014-08-28T15:33:14  <jeblair> if so, i'll go ahead and send an announcement
2014-08-28T15:33:23  <foobio> jeblair: sure, 1600 utc works fine for me
2014-08-28T15:33:46  *** IvanBerezovskiy has left #openstack-infra
2014-08-28T15:33:52  <jeblair> considering the backlog, it might not be as quiet as i'd hoped, but we can re-enqueue
2014-08-28T15:33:58  <foobio> oh, also checked the log for the cloud provider api credentials as well
2014-08-28T15:34:25  <foobio> so, yeah, nothing i can find which looks sensitive in there
2014-08-28T15:35:15  *** _buzz has quit IRC
2014-08-28T15:35:17  *** sdake_ has quit IRC
2014-08-28T15:35:58  *** habib has joined #openstack-infra
2014-08-28T15:36:53  <jeblair> gerrit downtime announcement sent
2014-08-28T15:37:03  *** markmcclain has joined #openstack-infra
2014-08-28T15:38:54  *** gokrokve_ has joined #openstack-infra
2014-08-28T15:40:26  <sdague> jeblair: I guess you didn't kick out https://review.openstack.org/#/c/113812/ ?
2014-08-28T15:40:46  <sdague> I just did with a commit message change as I found it was back into a fail state
2014-08-28T15:41:52  *** baohua has quit IRC
2014-08-28T15:41:58  *** gokrokve has quit IRC
2014-08-28T15:42:37  *** annegent_ has joined #openstack-infra
2014-08-28T15:43:24  <jeblair> sdague: ok thanks.  at the time, it had only failed once in gate, even though both jobs failed.  i was on the fence about it.
2014-08-28T15:44:17  <jeblair> sdague: but yes, it seems pretty reliable
2014-08-28T15:45:43  *** reed has joined #openstack-infra
2014-08-28T15:47:12  *** gyee has joined #openstack-infra
2014-08-28T15:47:18  *** annegent_ has quit IRC
2014-08-28T15:48:06  <stevemar> so if I add docs-on-rtfd to a project's template, the readthedocs does some magic behind the scenes to try and make the theme rtfd-ish
2014-08-28T15:48:17  *** dkehn__ is now known as dkehnx
2014-08-28T15:48:41  *** david-ly_ has joined #openstack-infra
2014-08-28T15:50:17  *** trinaths has quit IRC
2014-08-28T15:50:54  *** mfer has joined #openstack-infra
2014-08-28T15:51:04  *** koolhead17 has quit IRC
2014-08-28T15:51:07  *** david-lyle has quit IRC
2014-08-28T15:51:19  *** hashar has quit IRC
2014-08-28T15:55:00  <foobio> jeblair: ianw: after some machete work, these are the log line patterns and their relative counts i find in that log sample related to allocation request fulfillment calculations http://paste.openstack.org/show/101805/
2014-08-28T15:55:31  *** todd_dsm has joined #openstack-infra
2014-08-28T15:55:44  <foobio> opening some of the N values there and summing them will probably yield the trend we witnessed
2014-08-28T15:56:00  *** pblaho is now known as pblaho|afk
2014-08-28T15:57:13  <jeblair> ianw: http://nodepool.openstack.org/allocator-failure.log
2014-08-28T16:01:38  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Add readthedocs for heat-translator  https://review.openstack.org/117533
2014-08-28T16:01:42  <sdague> jeblair: yeh, honestly, I tend to err on the kick it out side once there is reasonable indicators, because otherwise these add 30 - 60 minutes delay to every patch behind them.
2014-08-28T16:01:48  *** annegent_ has joined #openstack-infra
2014-08-28T16:02:07  *** amuller_ has joined #openstack-infra
2014-08-28T16:02:52  <sdague> jeblair: https://review.openstack.org/#/c/114991/ is another one that the freshness check would have caught - ceilometer patch
2014-08-28T16:03:26  <openstackgerrit> Joel Coffman proposed a change to openstack/requirements: Add pykmip  https://review.openstack.org/114037
2014-08-28T16:03:27  *** cody-somerville has joined #openstack-infra
2014-08-28T16:03:27  *** cody-somerville has quit IRC
2014-08-28T16:03:27  *** cody-somerville has joined #openstack-infra
2014-08-28T16:03:46  *** jgallard has quit IRC
2014-08-28T16:03:57  <sdague> double unit test failures is a pretty good initial indicator, that case is importing some olso code that doesn't currently exist
2014-08-28T16:04:22  *** amuller has quit IRC
2014-08-28T16:04:46  *** reed has quit IRC
2014-08-28T16:05:17  <jeblair> sdague: yeah, and that sat for a long time, 9 days
2014-08-28T16:05:20  *** markmc has quit IRC
2014-08-28T16:05:23  <sdague> yep
2014-08-28T16:05:44  <sdague> which is about as long as it could, right?
2014-08-28T16:05:59  <sdague> because that's around when the freshness was turned off
2014-08-28T16:06:02  *** melwitt has joined #openstack-infra
2014-08-28T16:06:05  <jeblair> sdague: that very day in fact
2014-08-28T16:06:05  <openstackgerrit> Joel Coffman proposed a change to openstack/requirements: Add pykmip  https://review.openstack.org/114037
2014-08-28T16:06:09  <sdague> right
2014-08-28T16:06:10  *** jraim__ has quit IRC
2014-08-28T16:06:29  <sdague> so we are definitely getting changes that are as old on results as they could possibly by being approved in
2014-08-28T16:06:30  *** linkid has left #openstack-infra
2014-08-28T16:06:32  *** linkid has joined #openstack-infra
2014-08-28T16:06:35  *** jraim_ has joined #openstack-infra
2014-08-28T16:08:03  <jeblair> sdague: i'm wondering - if we decide the arguments favor gate freshness being worth the cost, if a different time cutoff would work; perhaps 48 or 72 hours would get us the bulk of the value.
2014-08-28T16:08:17  <sdague> jeblair: yeh, I don't know
2014-08-28T16:08:28  *** dustins has quit IRC
2014-08-28T16:08:58  <anteaya> what was the argument for turning it off?
2014-08-28T16:09:10  <sdague> if we are only requiring the final threshold for tests moving to gate, it seems like it's O(1) cost, so making it 24 hrs doesn't seem more expensive than 72
2014-08-28T16:09:39  <sdague> I think leaving the always fresh test results off is fine
2014-08-28T16:10:10  *** habib has quit IRC
2014-08-28T16:11:12  <sdague> anyway, just a thought. I'm going to be in and out for the rest of the afternoon.
2014-08-28T16:11:26  *** paulrad has quit IRC
2014-08-28T16:12:02  *** annegent_ has quit IRC
2014-08-28T16:12:16  *** trinaths has joined #openstack-infra
2014-08-28T16:12:27  *** melwitt has quit IRC
2014-08-28T16:12:43  *** melwitt has joined #openstack-infra
2014-08-28T16:12:48  *** e0ne has quit IRC
2014-08-28T16:15:00  <openstackgerrit> yolanda.robla proposed a change to openstack-infra/publications: New CI Automation doc  https://review.openstack.org/109570
2014-08-28T16:15:16  *** zehicle_at_dell has joined #openstack-infra
2014-08-28T16:17:19  <morganfainberg> jeblair, [if i'm reading this right] i agree with sdague, if it's only on moving to gate we get the freshness requirement it would be (relatively) low cost compared to gate resets. The added cost of forcing a freshness check based on a comment but not a move to gate seems like extra overhead.
2014-08-28T16:17:21  *** lukego has quit IRC
2014-08-28T16:17:48  <morganfainberg> jeblair, at least around milestone timeframes.
2014-08-28T16:17:50  *** nelsnelson has joined #openstack-infra
2014-08-28T16:18:20  *** isviridov is now known as isviridov_away
2014-08-28T16:18:20  *** nelsnelson has quit IRC
2014-08-28T16:18:26  <jeblair> morganfainberg: yeah, the freshness check in check on comment wasn't really about comments, it was just an implementation mechanism because we hadn't written anything else.  it was really about collecting data and having up-to-date results
2014-08-28T16:18:42  <jeblair> iow, it was more about the 72h than the comment.  but your point still stands;  just clarifying.
2014-08-28T16:18:42  <morganfainberg> jeblair, ++ figured as much
2014-08-28T16:18:49  *** nelsnelson has joined #openstack-infra
2014-08-28T16:19:36  *** Ryan_Lane has quit IRC
2014-08-28T16:20:06  <jeblair> i think we were using up to 3000 nodes/day on that; i forget the number used for gate.  it was far smaller (tens or hundreds), but that would probably be increased if we put the gate freshness check back without the check one
2014-08-28T16:20:15  *** pballand has joined #openstack-infra
2014-08-28T16:20:56  *** dguerri_ is now known as dguerri
2014-08-28T16:21:08  <morganfainberg> jeblair, yeah 3000 is a lot of extra nodes for that.
2014-08-28T16:21:18  *** annegent_ has joined #openstack-infra
2014-08-28T16:22:41  <morganfainberg> jeblair, 72h is probably fine in most cases, not sure if it would be a bigger benefit closer to 24h for milestone timeframes. i saw a marked increase errors that cropped up in keystone on checks when we started with large numbers of things going through the gate
2014-08-28T16:23:13  <morganfainberg> jeblair, at least the merge conflicts seemed to be caught earlier
2014-08-28T16:23:17  *** nelsnelson has quit IRC
2014-08-28T16:23:47  *** todd_dsm has quit IRC
2014-08-28T16:23:58  *** nelsnelson has joined #openstack-infra
2014-08-28T16:24:09  <jeblair> morganfainberg: yeah, that was probably the biggest benefit of the check-pipeline freshness checks, and it's replaced by the merge-check pipeline now...
2014-08-28T16:24:43  <jeblair> morganfainberg: merge conflicts have been low-cost in the gate for a while
2014-08-28T16:24:47  <foobio> which is a much faster response time on reporting merge conflicts than waiting for activity on the change before checking
2014-08-28T16:24:57  <morganfainberg> jeblair, ++ and i totally approve of that change :)
2014-08-28T16:25:37  *** joools has quit IRC
2014-08-28T16:25:41  <jeblair> our informal spot check has caught 2 changes in the gate that would have been caught by freshness
2014-08-28T16:25:58  <jeblair> they sat for 3 and 10 days without tests respectively
2014-08-28T16:26:12  <jeblair> of course, i don't know when the bugs that caused them to fail were introduced
2014-08-28T16:26:26  <jeblair> so it's kind of a statistics game, which is hard to play with 2 data points :)
2014-08-28T16:27:11  <jeblair> but my gut feeling is that 24<x<72 would give us much of the benefit
2014-08-28T16:28:04  *** todd_dsm has joined #openstack-infra
2014-08-28T16:28:32  *** esker has joined #openstack-infra
2014-08-28T16:28:54  *** paulrad has joined #openstack-infra
2014-08-28T16:29:41  <jeblair> i kicked out that ceilometer change (https://review.openstack.org/#/c/114991/)
2014-08-28T16:30:16  *** david-ly_ is now known as david-lyle
2014-08-28T16:30:27  *** trinaths has quit IRC
2014-08-28T16:30:42  *** annegent_ has quit IRC
2014-08-28T16:30:42  *** jaypipes has quit IRC
2014-08-28T16:32:02  *** trinaths has joined #openstack-infra
2014-08-28T16:33:07  *** todd_dsm has quit IRC
2014-08-28T16:33:18  *** gokrokve has joined #openstack-infra
2014-08-28T16:34:01  <notmyname> sdague: I have some questions about https://review.openstack.org/#/c/117216/. I don't understand why the version was bumped. it looks more like futures just wasn't installed on the test box (maybe because it's a new requirement?) but it works for me with the older version
2014-08-28T16:34:10  *** _nadya_ has quit IRC
2014-08-28T16:34:25  <notmyname> sdague: (if anything, I'd love to drop to 2.1.2 since that's what's available in precise, but that's a different topic)
2014-08-28T16:34:31  *** pblaho|afk is now known as pblaho
2014-08-28T16:35:18  *** marcoemorais has joined #openstack-infra
2014-08-28T16:35:20  <sdague> notmyname: the swiftclient add required concurrent.futures
2014-08-28T16:35:36  *** derekh has quit IRC
2014-08-28T16:35:38  <notmyname> sdague: which is a new module, provided by the "futures" package
2014-08-28T16:36:08  <sdague> notmyname: ok, so perhaps we misinterpreted the error message
2014-08-28T16:36:15  *** gokrokve_ has quit IRC
2014-08-28T16:36:27  <sdague> sorry, I guess the googling I popped up made me think it was a 2.1.6 feature
2014-08-28T16:36:40  <morganfainberg> jeblair, cannot complain about the logic, lgtm :) <72 sounds about right.
2014-08-28T16:36:42  <notmyname> sdague: https://gist.github.com/notmyname/5d20e347d208de2fcff0
2014-08-28T16:37:15  <sdague> notmyname: ok, well previously it was set at 2.1.3
2014-08-28T16:37:29  <sdague> notmyname: feel free to propose revert back to 2.1.3
2014-08-28T16:37:34  *** jpich has quit IRC
2014-08-28T16:37:35  <notmyname> sdague: so consider this my vote to go down to 2.1.2 (it was set at 2.1.3 because that's what was already in global reqs)
2014-08-28T16:37:43  <foobio> mriedem: the bug we were talking about earlier is opened now as 1362703
2014-08-28T16:37:46  <sdague> I guess I misinterpretted the failures
2014-08-28T16:37:54  *** gokrokve has quit IRC
2014-08-28T16:38:09  <sdague> notmyname: yeh, I don't know the reason why 2.1.3 was set as the floor
2014-08-28T16:38:14  <notmyname> sdague: does this mean there is another issue that needs to be set
2014-08-28T16:38:21  <notmyname> err...s/set/resolved
2014-08-28T16:38:46  <mriedem> foobio: thanks
2014-08-28T16:38:48  <notmyname> sdague: eg not installing the right dependencies? or that the new dependencies have to be added to the old stable branch
2014-08-28T16:38:49  *** gokrokve has joined #openstack-infra
2014-08-28T16:38:55  <sdague> well, we needed to add it to havana requirements because swiftclient could no long work on a havana install
2014-08-28T16:39:10  *** ominakov has quit IRC
2014-08-28T16:40:03  <sdague> anyway, I need to run, but the scrollback yesterday should have all the details in it. If someone wants to try to make this all work at 2.1.2 across projects, so be it.
2014-08-28T16:40:14  *** ominakov has joined #openstack-infra
2014-08-28T16:40:20  *** _nadya_ has joined #openstack-infra
2014-08-28T16:40:43  <notmyname> sdague: if I proposed a change to global requirements to use 2.1.2, woudln't that check it sufficiently?
2014-08-28T16:40:58  <notmyname> I suspect 2.1.3 was used because the first time is was added that was the current version
2014-08-28T16:41:36  *** mwagner_lap has quit IRC
2014-08-28T16:43:17  *** clayg has joined #openstack-infra
2014-08-28T16:43:26  *** gokrokve has quit IRC
2014-08-28T16:43:38  *** andreaf_ has joined #openstack-infra
2014-08-28T16:44:01  *** eharney has quit IRC
2014-08-28T16:44:30  *** andreaf has quit IRC
2014-08-28T16:44:42  <superbee> notmyname: it would not check it sufficiently
2014-08-28T16:44:51  <notmyname> superbee: what would?
2014-08-28T16:45:22  <superbee> notmyname: apply that requireemtns line to all projects using the dependency and run their docs, pep8, unittest tests would help a lot more
2014-08-28T16:45:42  <superbee> notmyname: since requirements changes don't do that and instead run integration tests which are good but may have gaps
2014-08-28T16:45:54  <notmyname> superbee: but it has to land in global reqs first, riht?
2014-08-28T16:46:08  *** jaypipes has joined #openstack-infra
2014-08-28T16:46:08  <notmyname> otherwise tests fail
2014-08-28T16:46:20  <superbee> notmyname: no
2014-08-28T16:46:29  *** mpaolino has joined #openstack-infra
2014-08-28T16:46:33  * notmyname clearly doesn't understand what's going on
2014-08-28T16:46:38  <superbee> I mean yes tests fail but not because it can't import the dependency
2014-08-28T16:46:41  *** jistr has quit IRC
2014-08-28T16:46:55  <superbee> there is a special test that checks, that one will fail but won't affect the unittests and other builds
2014-08-28T16:47:22  *** Hal_ has quit IRC
2014-08-28T16:47:51  <foobio> right, you can propose a throwaway change to a project to see how it would deal with setting the requirement to that version explicitly, and just ignore the requirements comparison job failure it will cause
2014-08-28T16:48:00  *** esker has quit IRC
2014-08-28T16:48:22  *** esker has joined #openstack-infra
2014-08-28T16:48:33  <notmyname> ok
2014-08-28T16:48:53  <notmyname> so why didn't grenade fail on the patch with the new dependency? https://review.openstack.org/#/c/85453/27
2014-08-28T16:48:56  <foobio> that would actually try to run unit tests with the proposed version
2014-08-28T16:49:00  *** _nadya_ has quit IRC
2014-08-28T16:49:51  <foobio> grenade and other things using devstack will force-sync your list of requirements to the versions specified in the global requirements list, so the integration tests on individual project changes are not a good indicator
2014-08-28T16:50:24  <jeblair> perhaps grenade force-synced the master branch when it ran the old side of the job?
2014-08-28T16:51:25  *** bhuvan has joined #openstack-infra
2014-08-28T16:51:34  <notmyname> foobio: which is another thing that's weird to me, since it means that the tests are run with requirements that may be different than are specified (as is the case here?)
2014-08-28T16:51:48  <notmyname> jeblair: but yeah, it seems there's some gap/bug here
2014-08-28T16:51:51  *** gyee has quit IRC
2014-08-28T16:52:28  <foobio> notmyname: which is pretty much always an expectation. problem being that different projects can possibly specify slightly different versions of requirements because they don't all get force-upgraded and are instead allowed to decide when they sync requirements versions
2014-08-28T16:52:30  <superbee> notmyname: we have to do it that way otherwise we install python-keystoneclient 20 times
2014-08-28T16:52:42  *** doude has quit IRC
2014-08-28T16:53:20  <foobio> so we use global-reqs as the reference list of which versions to test with in integration test jobs do deal with the discrepancies between declared requirements in different projects (as they're nondeterministic if you just throw them all at the wall as listed)
2014-08-28T16:53:39  *** laxity has quit IRC
2014-08-28T16:54:07  <foobio> this goes back to the "python dependency resolution is serial, not holistic" problem
2014-08-28T16:54:51  *** laxity has joined #openstack-infra
2014-08-28T16:54:59  <notmyname> how do I `for each project in openstack; do grep "futures" requirements.txt; done`
2014-08-28T16:55:19  <notmyname> ie without either manually clicking on every project or having to clone every one
2014-08-28T16:56:13  <foobio> http://162.242.232.62:8080/search/livegrep perhaps if it's up to date
2014-08-28T16:56:23  <superbee> notmyname: we don't have livegrep up yet so I think you ahve to clone each one. OH if there is another livegrep maybe use that
2014-08-28T16:56:30  <superbee> notmyname: you can always shallow clone to make it go quick
2014-08-28T16:57:14  <foobio> superbee: i think that one was just a one-time poc and may not be updated
2014-08-28T16:57:42  *** doude has joined #openstack-infra
2014-08-28T16:57:49  <foobio> also may not have had all the projects in it, but rather just some subset
2014-08-28T16:57:51  * clayg didn't know clone had a --depth option
2014-08-28T16:58:21  <foobio> clayg: yep, for making a shallow clone of arbitrary history length
2014-08-28T16:58:52  *** ominakov has quit IRC
2014-08-28T16:59:17  <superbee> note not all git operations play nice with shallow cloned repos, but grep should be fine
2014-08-28T16:59:59  <clayg> notmyname: don't know what you're going after trying to get all the versions from the other projects?
2014-08-28T17:00:55  <Sincler> zaro: hi i'm having some troubles with the update of gerrit, about the changes in the database, i'm changing from 2.4.4 to 2.8.4
2014-08-28T17:01:09  *** gokrokve has joined #openstack-infra
2014-08-28T17:02:06  <foobio> and to jeblair's earlier suggestion, http://logs.openstack.org/53/85453/30/check/check-grenade-dsvm/acc74de/logs/old/devstacklog.txt.gz#_2014-08-26_14_20_15_153 does indeed seem to have sync'd futures>=2.1.3 but that was the version in the stable/icehouse branch of openstack/requirements until
2014-08-28T17:02:08  <foobio> http://git.openstack.org/cgit/openstack/requirements/commit/global-requirements.txt?h=stable/icehouse&id=c99cbdc7d3a1e5f5b29b9f1507fad2e62e09485c
2014-08-28T17:02:41  *** jp_at_hp has quit IRC
2014-08-28T17:02:49  *** dizquierdo has quit IRC
2014-08-28T17:02:54  <jeblair> yeah, havana's the branch that broke, right?
2014-08-28T17:02:57  <Sincler> zaro can you help me?
2014-08-28T17:03:08  <foobio> oh, right...
2014-08-28T17:03:11  *** doude has quit IRC
2014-08-28T17:03:20  *** annegent_ has joined #openstack-infra
2014-08-28T17:03:30  <clayg> superbee: so to avoid "install python-keystoneclient 20 times" - what do we do?  just install what ever is in global-requirements at the top, and then when you install all the projects and clients, every depends says something like "blah>=2.1.3 requirement already satisfied" ???
2014-08-28T17:03:34  <superbee> jeblair: I am catching up on scrollback. It looks like we are going to reinstate fresh check?
2014-08-28T17:03:37  *** harlowja_away is now known as harlowja_
2014-08-28T17:03:54  <jeblair> superbee: i would not go that far
2014-08-28T17:03:59  <jeblair> superbee: we have found 2 changes that it would have caught
2014-08-28T17:04:00  *** pdmars has quit IRC
2014-08-28T17:04:07  *** harlowja_ is now known as harlowja_away
2014-08-28T17:04:20  <superbee> clayg: we ensure all projects match global requirements then the first project for each dependency installs that dependency and since all requirements are the same it is satisfied for everyone
2014-08-28T17:04:20  <jeblair> superbee: i proposed the idea that if we decide it's worth it, perhaps we should reconsider a different value for the time cutoff
2014-08-28T17:04:42  <superbee> clayg: so basically yes.
2014-08-28T17:04:48  <jeblair> superbee, foobio: i am going to go into a hole and debug nodepool for a while
2014-08-28T17:04:55  <superbee> jeblair: ok and thanks
2014-08-28T17:05:07  <jeblair> anything you need before i do so?  i'll check back in in a few hours
2014-08-28T17:05:24  <superbee> nothing from me. still catching up on morning
2014-08-28T17:05:27  <superbee> email and bugs and irc
2014-08-28T17:05:30  <foobio> jeblair: notmyname: yeah, so the reason grenade didn't catch that for the swiftclient change is that swiftclient has only a master branch and so only has an icehouse->master grenade job (no havana->icehouse). i'm looking at the backward-compat havana tempest job now to see if it would have made any difference there
2014-08-28T17:05:31  *** pballand has quit IRC
2014-08-28T17:05:44  <phschwartz> foobio: clearing the instances now and watching for new ones that fail in dfw
2014-08-28T17:05:54  <foobio> jeblair: sounds good
2014-08-28T17:06:29  <foobio> phschwartz: thanks! looks like we're showing 152 in error+deleting in dfw at the moment
2014-08-28T17:06:47  <foobio> i'll watch for that to drop
2014-08-28T17:07:28  <clayg> superbee: but not all projects match global requirements
2014-08-28T17:07:41  <superbee> clayg: right, we force them to in the integration tests
2014-08-28T17:08:10  *** alkari has quit IRC
2014-08-28T17:08:11  <notmyname> foobio: isn't that the same for all client libs? just a master?
2014-08-28T17:08:11  <notmyname> clayg: I was wonder what others use to figure out if it would be possible to use 2.1.2 rather than 2.1.3
2014-08-28T17:08:13  *** pballand has joined #openstack-infra
2014-08-28T17:08:13  <superbee> there is a requirements merge step for each project
2014-08-28T17:08:23  <foobio> superbee: by in-place editing their requirements lists to have version strings matching openstack/requirements:global-requirements.txt
2014-08-28T17:08:41  <foobio> during the job set-up
2014-08-28T17:08:45  <superbee> notmyname: my guess is it is ok. And if you propose that global requirements update there is a reasonable amouint of coverage for it
2014-08-28T17:08:50  <foobio> s/superbee/clayg/
2014-08-28T17:09:04  <superbee> notmyname: which should give us a quick smoke test then we can work on the wider picture if we like
2014-08-28T17:09:27  *** harlowja_away is now known as harlowja_
2014-08-28T17:09:40  *** mpaolino has quit IRC
2014-08-28T17:09:42  <notmyname> superbee: since this is something that we added to a client lib, I was hoping for using the version in precise, just to lower pain if someone is packaging it. they could use the distro packages
2014-08-28T17:09:54  *** andreaf_ has quit IRC
2014-08-28T17:10:20  *** andreaf_ has joined #openstack-infra
2014-08-28T17:10:21  *** e0ne has joined #openstack-infra
2014-08-28T17:10:49  *** denis_makogon has quit IRC
2014-08-28T17:12:31  <superbee> notmyname: ya its worth doing for that reason
2014-08-28T17:12:40  *** tonytan4ever has quit IRC
2014-08-28T17:12:57  <superbee> I am always wary of rolling back min versions though as we have a tendency to bump those to minimum versions that were known to work at one point
2014-08-28T17:13:04  *** pblaho has quit IRC
2014-08-28T17:13:25  <foobio> huh... so i don't see futures being addressed at all in http://logs.openstack.org/53/85453/30/check/check-tempest-dsvm-full-havana/78a1a39/logs/devstacklog.txt.gz#_2014-08-26_14_31_50_657
2014-08-28T17:13:42  *** tonytan4ever has joined #openstack-infra
2014-08-28T17:13:51  <foobio> i wondn't be surprised if the sync operation there is ignoring requirements which are specified in the project but not in the global requirements list?
2014-08-28T17:13:51  <superbee> foobio: maybe it is a new dependency?
2014-08-28T17:13:58  <openstackgerrit> John Dickinson proposed a change to openstack/requirements: lower the futures version to 2.1.2  https://review.openstack.org/117569
2014-08-28T17:14:06  <notmyname> clayg: ^^
2014-08-28T17:14:18  *** sdake_ has joined #openstack-infra
2014-08-28T17:14:20  <notmyname> er. superbee^^
2014-08-28T17:14:25  <foobio> superbee: this is the havana backward-compat test for the swiftclient change adding it
2014-08-28T17:14:50  <foobio> superbee: and that requirement isn't in the havana branch of requirements, so isn't addressed by the sync at all looks like
2014-08-28T17:14:59  *** annegent_ has quit IRC
2014-08-28T17:15:08  <superbee> foobio: that would do it
2014-08-28T17:15:26  *** trinaths has quit IRC
2014-08-28T17:15:45  <foobio> basically trying to suss out whether we want to fail devstack-based jobs where there are requirements not listed in global-reqs
2014-08-28T17:16:07  <foobio> mtreinish: ^ didn't you have a change at one point which was checking that?
2014-08-28T17:16:34  <foobio> can't remember if that was something else, or if it isn't happening on havana devstack maybe, or if we reverted it for some reason
2014-08-28T17:16:56  <clayg> what decides if a check-grenade-dsvm job checks out stable/icehouse or stable/havana when it's setting up "old"
2014-08-28T17:17:04  *** RicoLin has quit IRC
2014-08-28T17:17:32  *** dane_leblanc has quit IRC
2014-08-28T17:17:33  *** markmcclain has quit IRC
2014-08-28T17:17:57  <superbee> clayg: the new branch which is determined by the change being tested. So if the change tested is for icehouse then old will be havana. If the change tested is master/juno old will be icehouse
2014-08-28T17:18:04  <superbee> clayg: because we only test n-1 to n
2014-08-28T17:18:50  <Sincler> zaro: can you help me? I'm updating gerrit from 2.4.4 to 2.8.4, I noticed that some tables are droped like, account_agreements, approval_categories,  contributor_agreements, do create te tables , you are using .config files or what you have done?
2014-08-28T17:19:32  <clayg> superbee: ok, that makes sense - but I don't get why the new python-swiftclient change was tested against havana then
2014-08-28T17:19:38  *** jlibosva has quit IRC
2014-08-28T17:19:59  <superbee> clayg: because clients have no stable branches we test master clients against old stable releases of servers
2014-08-28T17:19:59  <clayg> superbee: foobio: this is job that notmyname linked me this morning that failed with the swiftclient importerror -> http://logs.openstack.org/91/116991/1/check/check-grenade-dsvm/682b033/logs/grenade.sh.txt.gz#_2014-08-26_22_51_00_697
2014-08-28T17:20:04  *** dustins has joined #openstack-infra
2014-08-28T17:20:08  *** dguerri is now known as dguerri`afk
2014-08-28T17:20:28  *** Ryan_Lane has joined #openstack-infra
2014-08-28T17:20:29  <clayg> superbee: oh how interesting, but we don't install their dependencies - that can be tricky
2014-08-28T17:20:47  <superbee> we do install their dependencies...
2014-08-28T17:21:14  *** praneshp has joined #openstack-infra
2014-08-28T17:21:15  <superbee> I think what foobio discovered was that the merge from global requirements is only for things both sides know about and that may have broken this?
2014-08-28T17:21:17  <clayg> i may have overgeneralized - in this case the dependencies specified in the new version of the client weren't installed -> http://logs.openstack.org/91/116991/1/check/check-grenade-dsvm/682b033/logs/grenade.sh.txt.gz#_2014-08-26_23_06_34_640
2014-08-28T17:21:17  <superbee> foobio: ^
2014-08-28T17:21:25  <foobio> clayg: the assertion is that clients will work with old versions of servers, so we try to test them with all the server integrated releases for which we can currently support testing (right now havana and icehouse)
2014-08-28T17:21:30  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: the help files changed from _ to - at some point  https://review.openstack.org/117572
2014-08-28T17:21:35  *** sandywalsh has quit IRC
2014-08-28T17:22:04  <dhellmann> superbee: how did anything get into the project requirements list if it wasn't in the global requirements list?
2014-08-28T17:22:14  <foobio> superbee: yeah, i have a suspicion that is the case and i'm looking back through that function now
2014-08-28T17:22:25  <superbee> dhellmann: ~havana time frame you could do that iirc
2014-08-28T17:22:34  <foobio> dhellmann: it was in new versions of the requirements list (icehouse and master) but not the havana branch of the requirements list
2014-08-28T17:22:37  * dhellmann doesn't even remember last week
2014-08-28T17:22:38  *** sdake_ has quit IRC
2014-08-28T17:22:46  *** zehicle_at_dell has quit IRC
2014-08-28T17:22:54  <dhellmann> got it, I didn't realize this was looking so far back
2014-08-28T17:23:04  *** jamesmcarthur has joined #openstack-infra
2014-08-28T17:23:06  <foobio> dhellmann: and was a change to a client, so only master branch there
2014-08-28T17:23:06  *** paulrad has quit IRC
2014-08-28T17:23:15  <jamesmcarthur> foobio: good afternoon!
2014-08-28T17:23:27  <foobio> dhellmann: so the requirements check passed it because master client branch master requirements branch, all good
2014-08-28T17:23:31  <jamesmcarthur> foobio: have you guys had any problem with the endpoint?
2014-08-28T17:23:36  <dhellmann> foobio: right, we see new requirements that have to be added to the stable branches fairly often
2014-08-28T17:23:39  <foobio> jamesmcarthur: none reported so far, no
2014-08-28T17:23:47  <jamesmcarthur> foobio: great
2014-08-28T17:24:04  <mtreinish> foobio: I don't think it was me
2014-08-28T17:24:10  <mtreinish> but it might have been...
2014-08-28T17:24:17  *** ociuhandu has quit IRC
2014-08-28T17:24:18  <foobio> mtreinish: i was probably thinking of one of your dopplegangers then
2014-08-28T17:24:35  <jamesmcarthur> foobio: so we’re ready to flip the switch on cloudflare as soon as you guys are. What’s the turn around from your side to chagne gerrit to look at direct.openstack.org i/o www.openstack.org?
2014-08-28T17:24:39  <foobio> jamesmcarthur: excellent work btw, i didn't even see a blip
2014-08-28T17:24:54  <jamesmcarthur> foobio: so your test would be curl --data "APPSEC=yEKVvoxEdGPxevE2&email=todd@openstack.org" http://direct.openstack.org/verify/member
2014-08-28T17:25:10  <jamesmcarthur> foobio: thanks! yeah, it was pretty smooth. very pleased :)
2014-08-28T17:25:14  <superbee> foobio: jamesmcarthur: that requires a gerrit restart right? maybe we can do that on saturday?
2014-08-28T17:25:22  *** dane_leblanc has joined #openstack-infra
2014-08-28T17:25:22  <dhellmann> superbee, SergeyLukjanov: do either of you have time to look at this oslo.log import request today? I'd like to move ahead with that so we can start cleaning up the incubator. http://review.openstack.org/#/c/116934/
2014-08-28T17:25:35  <foobio> superbee: jamesmcarthur: yeah, we can test it manually, but can't switch it in production until this weekend
2014-08-28T17:25:45  <jamesmcarthur> superbee: foobio: ok, should I put in a launchpad ticket for it?
2014-08-28T17:25:52  *** SumitNaiksatam has quit IRC
2014-08-28T17:26:02  <foobio> jamesmcarthur: nah, i'll just go ahead and write up the change
2014-08-28T17:26:25  <superbee> dhellmann: done
2014-08-28T17:26:28  <foobio> jamesmcarthur: and we'll lump it in with a maintenance we already have scheduled for 12:00 utc on saturday
2014-08-28T17:26:43  <superbee> 1200 utc are you mad?
2014-08-28T17:26:47  <superbee> I thought it was 1600 utc?
2014-08-28T17:26:57  <jamesmcarthur> foobio: awesome! thanks sir! I’ll let the Foundation know and we’ll plan on turning CloudFlare on after we hear from you.
2014-08-28T17:26:59  <superbee> 5am PDT is way too early
2014-08-28T17:27:00  *** alkari has joined #openstack-infra
2014-08-28T17:27:24  <jamesmcarthur> superbee: come on! you don’t like to get up at 5am on Saturday ;)
2014-08-28T17:27:26  *** paulrad has joined #openstack-infra
2014-08-28T17:27:41  <superbee> jamesmcarthur: only when fishing and even then may not be worth it
2014-08-28T17:27:53  <foobio> er, yeah, 1600utc, oops ;)
2014-08-28T17:28:56  *** jerryz has joined #openstack-infra
2014-08-28T17:29:09  <dhellmann> superbee: thanks!
2014-08-28T17:29:17  *** HeOS has quit IRC
2014-08-28T17:29:20  <jamesmcarthur> superbee: foobio: thanks guys for your help. I’m glad everyone gets to sleep in a bit.
2014-08-28T17:29:45  *** _nadya_ has joined #openstack-infra
2014-08-28T17:30:12  *** jamesmcarthur has left #openstack-infra
2014-08-28T17:30:15  <foobio> jamesmcarthur: and i tested that curl manually from our code review server, no problem
2014-08-28T17:30:22  <foobio> oh, he already left
2014-08-28T17:31:45  *** paulrad has quit IRC
2014-08-28T17:32:09  *** dane_leblanc has quit IRC
2014-08-28T17:32:26  <jerryz> foobio: the py27,p26 tests for our stackforge project failed because a package was not found on pypi.o.o,  http://logs.openstack.org/34/117434/1/check/gate-compass-core-python26/600a4e3/console.html
2014-08-28T17:32:46  <superbee> oh transifex, everytime you send me a couple hundred emails all at once I want pootle/zanata already
2014-08-28T17:33:00  *** mmedvede has quit IRC
2014-08-28T17:33:19  *** mmedvede has joined #openstack-infra
2014-08-28T17:33:48  *** dkranz is now known as dkranz_afk
2014-08-28T17:34:04  *** bdpayne has joined #openstack-infra
2014-08-28T17:34:08  <superbee> jerryz: the package name you used is wrong
2014-08-28T17:34:14  <superbee> It should be Flask-WTF not flask-wtf
2014-08-28T17:34:38  <superbee> if pip has to change the name for you like that it apparently treats it as an external packagel ink
2014-08-28T17:34:46  <superbee> dstufft said he wanted to fix that in the nearish future
2014-08-28T17:34:56  *** tonytan4ever has quit IRC
2014-08-28T17:35:27  <foobio> superbee: though in this case it looks like it might be an index/sync issue? http://pypi.openstack.org/simple/Flask-WTF/ has a link for Flask_WTF-0.10.1-py2.py3-none-any.whl which returns 404
2014-08-28T17:35:34  *** dane_leblanc has joined #openstack-infra
2014-08-28T17:35:49  <superbee> oh its this bug again
2014-08-28T17:36:00  <jerryz> superbee: but it got redirected to http://pypi.openstack.org/packages/2.7/F/Flask-WTF/
2014-08-28T17:36:11  <foobio> the wheel was uploaded 2014-08-26 though
2014-08-28T17:36:14  <superbee> jerryz: yes, it will redirect but then pip will say that is an external package link and fail
2014-08-28T17:36:17  <foobio> two days ago, give or take
2014-08-28T17:36:20  <superbee> jerryz: so the redirect doesn't help
2014-08-28T17:36:32  *** dangers is now known as dangers_away
2014-08-28T17:36:42  *** daya_k has joined #openstack-infra
2014-08-28T17:36:45  *** andreaf_ has quit IRC
2014-08-28T17:36:48  *** sabeen has quit IRC
2014-08-28T17:36:51  *** zehicle_at_dell has joined #openstack-infra
2014-08-28T17:36:57  <foobio> yeah, we're still hitting 2014-08-28 17:35:04,020 ERROR: Error syncing package: instant-rst@1204675
2014-08-28T17:37:06  <superbee> that will do it
2014-08-28T17:37:39  *** zul has quit IRC
2014-08-28T17:37:42  *** sdake_ has joined #openstack-infra
2014-08-28T17:37:45  *** andreaf has joined #openstack-infra
2014-08-28T17:38:14  *** dkranz_afk is now known as dkranz
2014-08-28T17:38:24  *** SumitNaiksatam has joined #openstack-infra
2014-08-28T17:38:34  <jerryz> superbee: so for the moment, we need change all our requirements' names to match the letter case on the pypi.o.o server?
2014-08-28T17:38:35  <superbee> jerryz: there is a bug in bandersnatch where it can sync the index page and not all of the actual packages
2014-08-28T17:38:49  <superbee> jerryz: we are hitting that which caused this specific issue
2014-08-28T17:39:02  <superbee> jerryz: once that is fixed I think the case issue will break you too
2014-08-28T17:39:05  *** dkehn_ has joined #openstack-infra
2014-08-28T17:39:14  <superbee> jerryz: you don't have to
2014-08-28T17:39:25  <superbee> but you have to allow external package links
2014-08-28T17:39:36  <superbee> I think making the case correct is a better choice
2014-08-28T17:40:20  *** Sukhdev has joined #openstack-infra
2014-08-28T17:40:41  *** pcm_ has quit IRC
2014-08-28T17:40:58  <foobio> dstufft: we're hitting a fastly redirect loop because instant_rst got renamed to instant-rst and bandersnatch hasn't been able to proceed past that serial for a few days now as a result. if you get a chance to blow that away, it would be appreciated
2014-08-28T17:41:12  *** pcm_ has joined #openstack-infra
2014-08-28T17:41:12  *** dkehn_ has quit IRC
2014-08-28T17:41:40  *** dkehn_ has joined #openstack-infra
2014-08-28T17:41:44  <dstufft> foobio: should be fixed now
2014-08-28T17:42:00  *** dkehn has quit IRC
2014-08-28T17:42:21  *** dkehnx has quit IRC
2014-08-28T17:42:26  *** markmcclain has joined #openstack-infra
2014-08-28T17:43:12  *** hogepodge has joined #openstack-infra
2014-08-28T17:43:33  *** alkari has quit IRC
2014-08-28T17:43:48  *** dkehn has joined #openstack-infra
2014-08-28T17:43:56  *** rfolco has quit IRC
2014-08-28T17:45:07  <foobio> dstufft: thanks! i'll keep an eye on it
2014-08-28T17:45:19  *** alkari has joined #openstack-infra
2014-08-28T17:47:22  *** yolanda has quit IRC
2014-08-28T17:47:24  *** andreaf has quit IRC
2014-08-28T17:47:34  *** andreaf has joined #openstack-infra
2014-08-28T17:48:36  *** yfried_ has joined #openstack-infra
2014-08-28T17:48:40  *** eharney has joined #openstack-infra
2014-08-28T17:50:59  *** zul has joined #openstack-infra
2014-08-28T17:51:05  *** amcrn has joined #openstack-infra
2014-08-28T17:51:11  *** emagana has quit IRC
2014-08-28T17:51:37  *** emagana has joined #openstack-infra
2014-08-28T17:51:39  *** andreaf has quit IRC
2014-08-28T17:51:51  *** Ajaeger has joined #openstack-infra
2014-08-28T17:52:27  *** marun has quit IRC
2014-08-28T17:52:29  *** amuller_ has quit IRC
2014-08-28T17:52:41  *** dtantsur is now known as dtantsur|afk
2014-08-28T17:52:44  <jerryz> foobio: how soon should bandersnatch be running again to sync the packeges
2014-08-28T17:52:50  <jeblair> i just popped in to say i'm waiting on my fake nodepool to build fake images and it's taking a while.  :)
2014-08-28T17:53:22  <superbee> jerryz: its ~every 5 minutes once something like that is fixed
2014-08-28T17:53:31  <superbee> jerryz: you can always check the mirror directly
2014-08-28T17:53:36  <jeblair> it had to build 67 of them
2014-08-28T17:54:14  *** yolanda has joined #openstack-infra
2014-08-28T17:54:20  *** andreaf has joined #openstack-infra
2014-08-28T17:55:08  *** emagana_ has joined #openstack-infra
2014-08-28T17:55:14  *** emagana has quit IRC
2014-08-28T17:55:52  *** rfolco has joined #openstack-infra
2014-08-28T17:55:55  <superbee> jerryz: foobio looks like that wheel hasn't synced yet
2014-08-28T17:56:12  *** emagana_ has quit IRC
2014-08-28T17:57:01  *** _nadya_ has quit IRC
2014-08-28T17:57:10  *** morganfainberg is now known as morganfainberg_Z
2014-08-28T17:57:17  *** sdake_ has quit IRC
2014-08-28T17:57:26  <superbee> I was able to get it from pypi.python.org/simple/Flask-WTF so it does exist
2014-08-28T17:58:03  *** mfer has quit IRC
2014-08-28T17:58:38  <foobio> yeah, it generally takes a couple of subsequent bandersnatch runs to catch back up
2014-08-28T17:59:11  <foobio> usually the first run just completes the one transaction it was previously unable to perform, then the next run does all the pending transactions after it to present (if possible)
2014-08-28T17:59:23  *** reed has joined #openstack-infra
2014-08-28T17:59:24  *** pelix1 has quit IRC
2014-08-28T17:59:37  <foobio> i'm watching to see if the 1800 run in a moment picks it up
2014-08-28T17:59:56  *** johnthetubaguy is now known as zz_johnthetubagu
2014-08-28T18:00:53  *** tonytan4ever has joined #openstack-infra
2014-08-28T18:01:24  *** mmaglana has quit IRC
2014-08-28T18:01:53  *** tonytan4ever has quit IRC
2014-08-28T18:02:05  *** tonytan4ever has joined #openstack-infra
2014-08-28T18:02:38  <foobio> yeah, it caught the rest of the way up, but somehow never added a Flask-WTF directory under http://pypi.openstack.org/packages/2.7/F/
2014-08-28T18:03:26  *** annegent_ has joined #openstack-infra
2014-08-28T18:04:00  *** fifieldt has joined #openstack-infra
2014-08-28T18:06:02  *** _nadya_ has joined #openstack-infra
2014-08-28T18:06:18  <superbee> maybe we need to lgiht it on fire and have it regrab?
2014-08-28T18:06:34  *** tonytan4ever has quit IRC
2014-08-28T18:06:45  *** armax has quit IRC
2014-08-28T18:07:50  *** annegent_ has quit IRC
2014-08-28T18:08:30  *** pcm_ has quit IRC
2014-08-28T18:08:30  *** mestery has quit IRC
2014-08-28T18:08:54  *** mestery has joined #openstack-infra
2014-08-28T18:09:02  *** pcm_ has joined #openstack-infra
2014-08-28T18:09:03  *** gondoi is now known as zz_gondoi
2014-08-28T18:09:08  <foobio> by light it on fire you mean reset its serial to some old value?
2014-08-28T18:09:24  *** bradjones has quit IRC
2014-08-28T18:11:08  *** armax has joined #openstack-infra
2014-08-28T18:11:28  *** zz_gondoi is now known as gondoi
2014-08-28T18:12:40  *** sdake has quit IRC
2014-08-28T18:15:24  *** andreaf has quit IRC
2014-08-28T18:18:41  *** mwagner_lap has joined #openstack-infra
2014-08-28T18:19:18  *** andreaf has joined #openstack-infra
2014-08-28T18:19:37  *** paulrad has joined #openstack-infra
2014-08-28T18:19:48  *** annegent_ has joined #openstack-infra
2014-08-28T18:21:07  *** armax has quit IRC
2014-08-28T18:21:35  *** armax has joined #openstack-infra
2014-08-28T18:21:56  *** gyee has joined #openstack-infra
2014-08-28T18:22:31  <superbee> foobio: I was thinking deleting flask-wtf's index page
2014-08-28T18:22:33  *** pballand has quit IRC
2014-08-28T18:22:39  <superbee> but I don't actually know enough about bandersnatch to know if that helps
2014-08-28T18:22:42  <superbee> dstufft: ^
2014-08-28T18:23:21  <dstufft> I don't think bandersnatch works by computing deltas
2014-08-28T18:23:25  <dstufft> it uses a journal
2014-08-28T18:23:29  <foobio> superbee: yeah, i got the impression bandersnatch only rolls forward based on modifications indicated between serial points, so unless we replayed the point which updated it...
2014-08-28T18:24:41  <foobio> and presumably we could roll back and replay from an old enough point in the journal, but not sure how to safely rewind it nor whether that would cause problems with deletions which have already happened, et cetera
2014-08-28T18:25:04  <dstufft> you can make it do a full sync though
2014-08-28T18:25:11  <dstufft> https://pypi.python.org/pypi/bandersnatch#maintenance
2014-08-28T18:26:23  *** lcheng_ has joined #openstack-infra
2014-08-28T18:27:15  <foobio> so in theory just deleting the state and todo files and letting it rerun on the next pulse... we could do that easily enough though that might impact freshness for a good chunk of today
2014-08-28T18:27:17  <foobio> superbee: opinion?
2014-08-28T18:28:26  *** salv-orlando has joined #openstack-infra
2014-08-28T18:29:42  *** andreaf has quit IRC
2014-08-28T18:29:49  <superbee> foobio: if that is the prescribed fix I suppose we should giev it a go
2014-08-28T18:30:02  <superbee> foobio: bit worried htat other things may be similarly broken and running it this way will correct that
2014-08-28T18:30:17  <foobio> okay, doing now. the earlier we get it going the sooner it will be back up to date
2014-08-28T18:30:36  *** dustins has quit IRC
2014-08-28T18:31:56  *** dkehn_ is now known as dkehnx
2014-08-28T18:32:22  *** praneshp has quit IRC
2014-08-28T18:33:00  *** annegent_ has quit IRC
2014-08-28T18:33:14  *** pcm_ has quit IRC
2014-08-28T18:33:31  <superbee> how do people get any work done with all of these mega ml threads
2014-08-28T18:33:41  *** annegent_ has joined #openstack-infra
2014-08-28T18:33:43  *** pcm_ has joined #openstack-infra
2014-08-28T18:34:39  <dstufft> bandersnatch is at least smartish about a full sync
2014-08-28T18:34:49  <dstufft> it won't redownload files that it already has which hashes match
2014-08-28T18:35:19  *** mrmartin has joined #openstack-infra
2014-08-28T18:35:38  <dstufft> so a full sync really is a delta, but at the cost of a uh, at least ~90k HTTP requests
2014-08-28T18:35:52  <dstufft> at least
2014-08-28T18:35:54  *** praneshp has joined #openstack-infra
2014-08-28T18:35:56  <dstufft> more to actually fic errors
2014-08-28T18:36:28  <foobio> yeah, our dos attack against pypi.python.org (well fastly's cache anyway) is under way now
2014-08-28T18:37:03  <openstackgerrit> Joshua Harlow proposed a change to openstack-infra/config: Switch taskflow to use the unittests slave script  https://review.openstack.org/116388
2014-08-28T18:38:03  <jeblair> DEBUG:nodepool.NodePool:    <AllocationGrant of 1370 of devstack-trusty from fake-provider7>
2014-08-28T18:38:06  <jeblair> progress! ^
2014-08-28T18:38:19  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/elastic-recheck: Make  list of open reviews bold  https://review.openstack.org/117588
2014-08-28T18:38:33  <superbee> jeblair: nice
2014-08-28T18:38:34  <jogo> foobio: I added the bold tag ^ I skipped the blinking one like you suggested
2014-08-28T18:38:48  <superbee> jogo: what about marquee?
2014-08-28T18:39:41  <foobio> i think i actually suggested flaming text and spinning skulls, but close enough!
2014-08-28T18:39:45  <jeblair> jogo: if you're making changes to that page, would you please add an animated under construction icon?  ;)
2014-08-28T18:40:23  <foobio> jeblair: so you managed to get it to grant 1370 with a max_servers in fake-provider7 of how many?
2014-08-28T18:40:35  <jeblair> perhaps one of these: http://www.textfiles.com/underconstruction/
2014-08-28T18:40:55  <jeblair> foobio: 55
2014-08-28T18:41:00  *** sdake_ has joined #openstack-infra
2014-08-28T18:41:26  <foobio> wowza
2014-08-28T18:41:47  *** dustins has joined #openstack-infra
2014-08-28T18:42:00  *** sdake_ has quit IRC
2014-08-28T18:42:20  *** sdake has joined #openstack-infra
2014-08-28T18:42:20  *** sdake has quit IRC
2014-08-28T18:42:20  *** sdake has joined #openstack-infra
2014-08-28T18:42:22  <superbee> morganfainberg_Z: for 116404 I thought you had handled keystone logs in d-g
2014-08-28T18:42:41  <superbee> morganfainberg_Z: want ot make sure that we aren't duplicating work somewhere
2014-08-28T18:43:02  *** armax has quit IRC
2014-08-28T18:43:38  *** armax has joined #openstack-infra
2014-08-28T18:44:00  *** todd_dsm has joined #openstack-infra
2014-08-28T18:44:07  *** todd_dsm has quit IRC
2014-08-28T18:44:21  <superbee> salv-orlando: for 116129 aren't extensions queryable via the apis?
2014-08-28T18:45:03  <superbee> salv-orlando: is that change made in order to control which ones are enabled or in order to notify tempest of which are enabled?
2014-08-28T18:46:18  *** e0ne has quit IRC
2014-08-28T18:46:35  <superbee> sdague: should 100229 be WIP until you have fixed the pid stuff?
2014-08-28T18:47:19  *** hashar has joined #openstack-infra
2014-08-28T18:50:24  *** e0ne has joined #openstack-infra
2014-08-28T18:52:59  <adam_g> superbee, one more quick fix for the sideways stuff https://review.openstack.org/#/c/117435/
2014-08-28T18:53:44  <superbee> gah my bash is bad and I should feel bad
2014-08-28T18:54:06  *** _nadya_ has quit IRC
2014-08-28T18:55:41  <superbee> +2
2014-08-28T18:55:52  *** dustins has quit IRC
2014-08-28T18:55:58  <superbee> foobio: jeblair ^ was a silly derp on my part that adam_g is fixing may be good to review soonish
2014-08-28T18:56:24  *** sdake has quit IRC
2014-08-28T18:56:51  *** daya_k has quit IRC
2014-08-28T18:57:00  <adam_g> thanks
2014-08-28T18:57:02  <foobio> superbee: looks like it passed all jobs except for the non-voting f20 one
2014-08-28T18:57:05  <foobio> lgtm too
2014-08-28T18:57:39  <foobio> once it eventually gets an f20 node for a few minutes, it should head straight on into the gate
2014-08-28T18:58:18  <foobio> looks like there are 14 changes ahead of it in check also waiting for f20 nodes
2014-08-28T18:58:45  <superbee> ok I am cuaght up on infra-specs reviews for the important specs
2014-08-28T18:58:53  *** tonytan4ever has joined #openstack-infra
2014-08-28T18:59:39  <openstackgerrit> A change was merged to openstack-infra/infra-specs: Remove docutils pin  https://review.openstack.org/117169
2014-08-28T18:59:47  *** ominakov has joined #openstack-infra
2014-08-28T19:00:59  *** gondoi is now known as zz_gondoi
2014-08-28T19:02:33  *** amotoki_ has joined #openstack-infra
2014-08-28T19:02:35  *** dustins has joined #openstack-infra
2014-08-28T19:02:38  *** masayukig has quit IRC
2014-08-28T19:02:39  *** sdake has joined #openstack-infra
2014-08-28T19:02:39  *** sdake has quit IRC
2014-08-28T19:02:39  *** sdake has joined #openstack-infra
2014-08-28T19:03:03  *** amotoki has quit IRC
2014-08-28T19:03:19  <Ajaeger> superbee, foobio: Could you put on your review queue the patches by dhellmann, please? https://review.openstack.org/#/c/117337/ and the dependencies
2014-08-28T19:05:12  *** cnesa8 has quit IRC
2014-08-28T19:05:37  *** zz_gondoi is now known as gondoi
2014-08-28T19:06:32  *** lcheng_ has quit IRC
2014-08-28T19:08:07  <jeblair> superbee, foobio, ianw: i have a solidly reproducible test procedure now.  it's huge because it nearly completely mimics what we saw in production.
2014-08-28T19:08:13  <jeblair> i'm going to try to whittle it down now
2014-08-28T19:08:18  *** mfer has joined #openstack-infra
2014-08-28T19:08:18  <jeblair> well, after lunch
2014-08-28T19:08:20  <superbee> jeblair: that is great news
2014-08-28T19:08:23  <superbee> oh I shoudl lunch too
2014-08-28T19:08:30  <superbee> jeblair: the cloner change for cache dir lgtm
2014-08-28T19:08:35  <foobio> jeblair: that's thrilling. i'm excited to see the distillation
2014-08-28T19:08:47  *** masayukig has joined #openstack-infra
2014-08-28T19:08:52  *** fifieldt has quit IRC
2014-08-28T19:08:54  *** sdake has quit IRC
2014-08-28T19:09:12  *** sdake has joined #openstack-infra
2014-08-28T19:09:12  *** sdake has quit IRC
2014-08-28T19:09:12  *** sdake has joined #openstack-infra
2014-08-28T19:11:16  <jeblair> superbee: check out the status page
2014-08-28T19:11:20  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T19:11:20  *** yolanda has quit IRC
2014-08-28T19:11:27  <mtreinish> jogo: ^^^ first set of updates
2014-08-28T19:11:37  <jeblair> superbee: it looks like a currently running change is marked 'grey', probably because the window shrunk after it had started
2014-08-28T19:12:12  <jeblair> superbee: i think that's a minor display bug, we should probably not mark a change as 'grey' after it's actually started :)
2014-08-28T19:12:32  <superbee> jeblair: I think that is correct. And it had to do with not wanting to throw away jobs we already started
2014-08-28T19:12:38  <superbee> jeblair: so ya the ui can display that better
2014-08-28T19:13:12  <jogo> mtreinish: sweet
2014-08-28T19:14:25  *** chuck_ has joined #openstack-infra
2014-08-28T19:14:26  <adam_g> do slaves default to distro packages of python libraries if the package version available satisfies requirements.txt?
2014-08-28T19:14:33  <adam_g> (devstack, specifically)
2014-08-28T19:15:08  <Ajaeger> superbee: Thank you!
2014-08-28T19:15:45  *** balles has joined #openstack-infra
2014-08-28T19:16:28  <superbee> Ajaeger: see comments on the doc8 changes
2014-08-28T19:16:31  <jogo> mtreinish: why did you remove heat?
2014-08-28T19:16:37  <foobio> adam_g: nope
2014-08-28T19:16:52  *** zul has quit IRC
2014-08-28T19:16:57  <jogo> mtreinish: and thanks again, it looks good
2014-08-28T19:17:05  <Ajaeger> superbee: yeah, using doc sounds better. Let's see what dhellmann thinks...
2014-08-28T19:17:06  <foobio> adam_g: or for a longer answer, "it's complicated" (depends on whether you're talking about how we set up devstack vs things we run from python virtualenvs via tox)
2014-08-28T19:17:23  * dhellmann perks up his ears
2014-08-28T19:17:24  <mtreinish> jogo: did I? oops
2014-08-28T19:17:30  <salv-orlando> superbee: change 116129 is for preparing devstack so that it will notify tempest about the right extensions to test. Extensions can be queried, but that is not possible from devstack gate as services are not yet running.
2014-08-28T19:17:32  <adam_g> foobio, trying to figure out how we end up /w eventlet==0.13.0 while requirements.txt lists eventlet>=0.13.0 and pypi has 0.15.1
2014-08-28T19:17:45  <mtreinish> jogo: I've got some more I'm adding right now, I'll add heat back as part of that rev
2014-08-28T19:17:47  <Ajaeger> superbee: we can easily gate on doc8 if you like...
2014-08-28T19:17:47  <adam_g> trusty ships 0.13.0
2014-08-28T19:18:10  <foobio> adam_g: for things like unit tests, anything which is a requirement or a test requirement and then listed in the requirements.txt or test-requirements.txt of a project as such gets installed into a virtualenv by tox (latest versions on pypi matching the stated version specs in those files)
2014-08-28T19:18:11  <superbee> dhellmann: Ajaeger I don't really care what the actual target is, just pointing out we are inconsistent in places and should sort that out (that can be a different change)
2014-08-28T19:18:12  *** balles has quit IRC
2014-08-28T19:18:28  <adam_g> foobio, im talking about what is actually used by devstack services
2014-08-28T19:18:35  *** sballe has joined #openstack-infra
2014-08-28T19:18:35  <jogo> mtreinish:  awesome
2014-08-28T19:18:39  <dhellmann> superbee: the tox env name? yeah, I don't care one way or the other. Did you count what we're doing now by any chance?
2014-08-28T19:18:41  <superbee> salv-orlando: they are running when tempest is running though
2014-08-28T19:18:52  <superbee> dhellmann: I didn't count. I have a hunch docs is more common
2014-08-28T19:19:02  <foobio> adam_g: okay, so devstack has lists of rpms and debs it installs dependeing on platform and what's enabled
2014-08-28T19:19:07  <adam_g> foobio, i see python-eventlet distro package being downloaded and installed as part of devstacks package install
2014-08-28T19:19:26  <foobio> adam_g: and devstack is running the servers in the global system context rather than in a virtualenv
2014-08-28T19:20:09  <Ajaeger> dhellmann: I think most other projects put doc8 into the docs environment - but there are few projects using doc8 yet
2014-08-28T19:20:09  <dhellmann> superbee: I see only "docs" in projects under openstack/*
2014-08-28T19:20:21  <superbee> dhellmann: ok, I think doc started in zuul and JJB
2014-08-28T19:20:31  <superbee> dhellmann: so we can go with docs and change the infra repos
2014-08-28T19:20:33  <dhellmann> oh, you want to join doc8 and docs? that's fine, too
2014-08-28T19:20:33  *** chuck_ has quit IRC
2014-08-28T19:20:36  <openstackgerrit> A change was merged to openstack-infra/config: Create repo for oslo.log  https://review.openstack.org/116934
2014-08-28T19:20:42  <dhellmann> \o/
2014-08-28T19:20:44  <foobio> adam_g: yep, http://git.openstack.org/cgit/openstack-dev/devstack/tree/files/apts/nova#n38
2014-08-28T19:20:49  *** zul has joined #openstack-infra
2014-08-28T19:20:52  <superbee> dhellmann: no I don't want to join them. I don't know what doc8 gives us
2014-08-28T19:20:56  <adam_g> foobio, right, so we're dependent on distro packages for that
2014-08-28T19:20:58  <superbee> dhellmann: I am proxying jeblair right now
2014-08-28T19:21:08  <foobio> adam_g: yes, which is why i said "it depends" ;)
2014-08-28T19:21:09  <Ajaeger> dhellmann: I see doc8 gating only in the documentation projects, so that's anecdotal reference ;)
2014-08-28T19:21:09  <superbee> adam_g: foobio: is eventlet not listed as a dependency in nova?
2014-08-28T19:21:24  <superbee> adam_g: foobio: beacuse imo eventlet is a thing that nova requires and should be installed via pip in devstack
2014-08-28T19:21:35  <dhellmann> superbee: it's a linter. I don't tend to use it, but Ajaeger pointed out some things that it found so I thought I would submit the change after I'd added it locally. Not a big deal if you want to nix that
2014-08-28T19:21:40  <adam_g> superbee, it is
2014-08-28T19:21:41  <superbee> the things that devstack installs via apt or yum tend to be the libvirt/xen/mysql/postgres et al item
2014-08-28T19:21:50  <adam_g> it is also listed in devstack apts
2014-08-28T19:21:55  <foobio> superbee: i believe it is, but as long as the ubuntu-provided package meets the version requirement for nova, pip won't pull down a newer version will it?
2014-08-28T19:21:57  *** flaper87 is now known as flaper87|afk
2014-08-28T19:22:01  *** sandywalsh has joined #openstack-infra
2014-08-28T19:22:17  <superbee> foobio: oh maybe not
2014-08-28T19:22:17  <adam_g> my original question!
2014-08-28T19:22:20  <adam_g> :)
2014-08-28T19:22:29  <superbee> it may require the --upgrade flag
2014-08-28T19:22:35  <foobio> yeah, unless devstack calls pip with -U
2014-08-28T19:22:36  <superbee> dstufft: ^
2014-08-28T19:22:45  <superbee> ok I am going to go get food now
2014-08-28T19:22:47  <superbee> back in a big
2014-08-28T19:22:50  <superbee> *bit
2014-08-28T19:22:50  <adam_g> we (ironic) need to start using the most recent eventlet, im wondering if i just bump it in requirements.txt to >= $disto_version, it will install from pip
2014-08-28T19:23:03  <adam_g> er, > $distro_version
2014-08-28T19:23:17  <adam_g> which would be *much* eaiser than doing an ubuntu SRU
2014-08-28T19:23:19  <superbee> adam_g: in that case I think upgrade is implicit but I could be wrong
2014-08-28T19:23:26  <superbee> dstufft: would know
2014-08-28T19:23:33  <dstufft> as long as ubunuto correctly drops the egg-info or dist-info and it satisifies the requirements, pip won't upgrade it
2014-08-28T19:23:41  <dstufft> drops in*
2014-08-28T19:23:46  *** sdake_ has joined #openstack-infra
2014-08-28T19:23:57  <salv-orlando> superbee: totally right. For the tempest patch (https://review.openstack.org/#/c/116121/) it is a valuable approach.
2014-08-28T19:23:59  <dstufft> it's unusual for a linux distro to not have the egg-info/dist-info in place
2014-08-28T19:24:06  <adam_g> okay
2014-08-28T19:24:07  <foobio> looking in http://git.openstack.org/cgit/openstack-dev/devstack/tree/functions-common it does not seem to call pip install with -U or --upgrade
2014-08-28T19:24:28  <dstufft> so most likely, if a linux provided thing is installed, and it matches the version spec, then pip won't upgrade (unless you use -U or --upgrade)
2014-08-28T19:24:34  <foobio> which explains the version you're seeing used by the job in that case
2014-08-28T19:24:42  <salv-orlando> superbee: however from the devstack-gate side is much easier to specify extensions to exclude rather than extensions to include
2014-08-28T19:24:51  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T19:24:56  <mtreinish> jogo: ^^^
2014-08-28T19:25:23  *** nkinder has left #openstack-infra
2014-08-28T19:25:42  <jogo> mtreinish: you should add a co-authored-by tag
2014-08-28T19:26:02  <mtreinish> jogo: oh, ok. one sec
2014-08-28T19:26:22  <adam_g> dstufft, thanks
2014-08-28T19:26:34  <dstufft> np
2014-08-28T19:26:52  <jogo> mtreinish: also a typo
2014-08-28T19:26:54  <jogo> around keystone
2014-08-28T19:26:54  <openstackgerrit> Salvatore Orlando proposed a change to openstack-infra/elastic-recheck: Add footprint for bug 1362528  https://review.openstack.org/117468
2014-08-28T19:26:56  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T19:26:56  <uvirtbot`> Launchpad bug 1362528 in neutron "cirros starts with file system in read only mode" [Medium,New] https://launchpad.net/bugs/1362528
2014-08-28T19:27:07  *** e0ne has quit IRC
2014-08-28T19:27:08  <adam_g> that begs the question that superbee brought up, should devstack be listing python-eventlet in its list of required packages or should we be relying on requirements.txt for that instead?
2014-08-28T19:27:09  *** joools has joined #openstack-infra
2014-08-28T19:28:38  <superbee> I like requirements.txt but lost thst battle with mysql
2014-08-28T19:29:36  *** pdmars_ has joined #openstack-infra
2014-08-28T19:29:51  *** pdmars_ has quit IRC
2014-08-28T19:29:52  <foobio> yeah, this is a perennial debate
2014-08-28T19:29:55  *** e0ne has joined #openstack-infra
2014-08-28T19:29:58  *** pcm_ has quit IRC
2014-08-28T19:30:05  *** e0ne has quit IRC
2014-08-28T19:30:06  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T19:30:16  <adam_g> it looks like theres a million python-* things listed in devstack/files/apts/
2014-08-28T19:30:24  <foobio> the primary argument i've heard is that devstack tries to be closer to what you'd have on the target distro rather than installing everything it possibly can from pypi
2014-08-28T19:30:32  <adam_g> and by a million i mean 105
2014-08-28T19:30:34  *** pcm_ has joined #openstack-infra
2014-08-28T19:30:35  <adam_g> foobio, makes sense
2014-08-28T19:30:43  <foobio> 105 is almost a million, so good enough
2014-08-28T19:31:06  <adam_g> just hoping i can work around having to wait a month or two for a SRU to the ubuntu package
2014-08-28T19:31:59  *** openstackgerrit has quit IRC
2014-08-28T19:32:48  *** openstackgerrit has joined #openstack-infra
2014-08-28T19:35:38  *** mestery has quit IRC
2014-08-28T19:35:56  <foobio> though i suspect much of that is merely historical... likely when devstack was first written you really could install just about all of the basic requirements for common openstack services from your distro, and then later when that stopped being the case select requirements were pulled in from pypi as a stop-gap
2014-08-28T19:36:08  *** mestery has joined #openstack-infra
2014-08-28T19:36:13  *** sdake_ has quit IRC
2014-08-28T19:38:02  *** sdake_ has joined #openstack-infra
2014-08-28T19:38:20  *** sdake_ has joined #openstack-infra
2014-08-28T19:39:34  <openstackgerrit> Adam Gandelman proposed a change to openstack/requirements: Bump eventlet >= 0.15.1  https://review.openstack.org/117601
2014-08-28T19:39:59  *** homeless has quit IRC
2014-08-28T19:40:14  *** Sukhdev has quit IRC
2014-08-28T19:41:03  *** homeless has joined #openstack-infra
2014-08-28T19:42:00  *** cnesa has quit IRC
2014-08-28T19:42:05  <mtreinish> jeblair, foobio: I was looking at the ML thread about the neutron incubator stuff and I'm wondering if I'm going to have an issue with the tempest-lib work
2014-08-28T19:42:35  <mtreinish> because I'm generating merge commits from the tempest repo into the lib for a set of files
2014-08-28T19:42:46  <mtreinish> doing it piecewise because that's how we were planning to roll it out
2014-08-28T19:43:49  <foobio> mtreinish: not using filter-branch til filter it down to just the set of files you need in the tempest-lib repo?
2014-08-28T19:44:12  *** joools has quit IRC
2014-08-28T19:44:27  <superbee> the problem is combining repos
2014-08-28T19:44:37  <superbee> separating with filter branch is fine
2014-08-28T19:44:50  <superbee> just dont try to combine them later
2014-08-28T19:45:03  <mtreinish> foobio: yeah I'm using filter branch to do it. That's what I meant by generating a merge commit
2014-08-28T19:45:06  <mtreinish> superbee: ok cool
2014-08-28T19:45:14  <mtreinish> yeah it's only a one way move
2014-08-28T19:45:31  <mtreinish> it'll just be deleted from the tempest tree after it's migrated
2014-08-28T19:45:54  *** HeOS has joined #openstack-infra
2014-08-28T19:46:28  *** dims has joined #openstack-infra
2014-08-28T19:47:21  * mtreinish is disappointed that tempest-lib won the name vote
2014-08-28T19:47:31  <foobio> mtreinish: right, the concern with the neutron incubator discussion is that the main proposal had been "work on this stuff out of tree and then combine the repositories later at graduation" which does indeed get quite messy
2014-08-28T19:48:16  <mtreinish> foobio: ok cool, I just wanted to double check before I started scripting the tempest->tempest-lib migration to make it less manual
2014-08-28T19:48:32  *** cnesa has joined #openstack-infra
2014-08-28T19:48:35  <foobio> looks like our building count is higher than it should be... looking into why
2014-08-28T19:50:30  <foobio> i don't see any nodes stuck in a building state at least
2014-08-28T19:51:18  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Reduce graphite's stats retention policy  https://review.openstack.org/115116
2014-08-28T19:51:54  <openstackgerrit> Andreas Jaeger proposed a change to openstack/requirements: Remove docutils-pin  https://review.openstack.org/117602
2014-08-28T19:52:22  *** mwagner_lap has quit IRC
2014-08-28T19:52:29  <Ajaeger> jeblair, sdague: We can try removing the docutils-pin again - all projects using requirements repo should be fine now...
2014-08-28T19:52:31  <foobio> oh, though we do have ~100 which have been in a building state in rax-dfw for 40 minutes (none over 30 minutes in any other provider/region)
2014-08-28T19:52:57  *** datsun180b has quit IRC
2014-08-28T19:53:23  <foobio> looks like it probably coincides with when the hung delete nodes got cleared out
2014-08-28T19:53:26  *** dims has quit IRC
2014-08-28T19:53:46  <foobio> so we immediately requested ~150 new instances there and about 2/3 of them haven't completed yet
2014-08-28T19:53:55  *** dprince has quit IRC
2014-08-28T19:53:56  *** e0ne has joined #openstack-infra
2014-08-28T19:54:42  *** juzuluag has quit IRC
2014-08-28T19:57:17  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add list of types of logs to tempest-logs page  https://review.openstack.org/117390
2014-08-28T19:57:25  <mtreinish> dhellmann: ^^^ I added the neutron files to the list
2014-08-28T19:58:00  <dhellmann> mtreinish: thanks!
2014-08-28T20:00:04  <foobio> back on the requirements sync and backward-compat devstack jobs issue, i can't find anywhere we actually fail/abort the job for a requirement being used which is not in the global requirements list. i guess it bears discussing whether that's something we want, or if we want to close that hole some other way (such as through additional requirements enforcement jobs)
2014-08-28T20:00:28  *** baoli has quit IRC
2014-08-28T20:01:46  *** unicell has quit IRC
2014-08-28T20:03:06  *** e0ne has quit IRC
2014-08-28T20:03:16  <sdague> foobio: so... we don't go critical, we just remove things from the list.
2014-08-28T20:03:42  <foobio> sdague: oh, not a bad idea
2014-08-28T20:04:05  <sdague> foobio: ok, I'm confused, that's not an idea, but a fact :)
2014-08-28T20:04:24  *** pballand has joined #openstack-infra
2014-08-28T20:04:28  <foobio> sdague: or are you saying update.py does that already? looking again, but it's not the behavior we saw in http://logs.openstack.org/53/85453/30/check/check-tempest-dsvm-full-havana/78a1a39/logs/devstacklog.txt.gz#_2014-08-26_14_31_50_657
2014-08-28T20:04:32  <sdague> but I just got back to computer land in a new location, so I don't know if I have enough context
2014-08-28T20:05:09  <Ajaeger> foobio: see https://jenkins.openstack.org/job/propose-requirements-updates/186/consoleText
2014-08-28T20:05:13  *** pcm_ has quit IRC
2014-08-28T20:05:17  <sdague> update.py removes things from the list that aren't in g-r
2014-08-28T20:05:25  <sdague> it doesn't throw an error when it does it
2014-08-28T20:05:33  <Ajaeger> The requirements job stopped once it hit keystone-specs
2014-08-28T20:05:43  *** pcm_ has joined #openstack-infra
2014-08-28T20:05:43  *** baoli has joined #openstack-infra
2014-08-28T20:05:45  *** rlandy has quit IRC
2014-08-28T20:05:53  <foobio> sdague: tl;dr is that swiftclient added a requirement on futures. its havana backward-compat jobs didn't fail, even though futures is not in the havana branch of requirements (and update.py seems to have only modified the requirements it found in the global list, not removed any which weren't present in the global list)
2014-08-28T20:06:07  *** pcm_ has quit IRC
2014-08-28T20:06:08  <sdague> oh... ok
2014-08-28T20:06:15  <sdague> right, so we removed it
2014-08-28T20:06:23  *** dimtruck is now known as zz_dimtruck
2014-08-28T20:06:26  <foobio> er, maybe. actually now that you mention it, yes it didn't get installed
2014-08-28T20:06:39  <sdague> then it's backwards-compat job didn't try to use swiftclient to upload a file
2014-08-28T20:06:49  <Ajaeger> foobio: my reference above is to the post job - I see you talk about the gate...
2014-08-28T20:06:50  <sdague> because that's how we triggered it in grenade
2014-08-28T20:07:03  *** e0ne has joined #openstack-infra
2014-08-28T20:07:04  <foobio> so yes, i guess the job proved that swiftclient, while adding a new requirement, didn't actually exercise that requirement in the job
2014-08-28T20:07:07  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Conditionally manage puppetdb connection  https://review.openstack.org/117377
2014-08-28T20:07:08  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Fix depercation warnings in templates for unatttended upgrades  https://review.openstack.org/116747
2014-08-28T20:07:10  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Fixing deprecation warnings in logrotate module  https://review.openstack.org/116752
2014-08-28T20:07:11  <openstackgerrit> Spencer Krum proposed a change to openstack-infra/config: Enable puppet3 master bootstrap  https://review.openstack.org/117604
2014-08-28T20:07:33  <foobio> okay, i'll chalk that up to insufficient swift coverage in havana tempest jobs in that case
2014-08-28T20:07:41  <bdpayne> Are there any known issues with gerrit atm?
2014-08-28T20:07:51  <foobio> bdpayne: please describe perceived issues
2014-08-28T20:07:56  <sdague> foobio: that being said... exploding might not be a bad idea
2014-08-28T20:08:02  *** zz_dimtruck is now known as dimtruck
2014-08-28T20:08:05  <bdpayne> I just submitted a CR, and the automated gate jobs don't appear to be running
2014-08-28T20:08:20  <bdpayne> https://review.openstack.org/#/c/117596/
2014-08-28T20:08:30  <foobio> sdague: so in that case, the only remaining open question is whether we should have backward-compat grenade jobs (does new proposed change fo fooclient master break upgrades from master-2 to master-1)?
2014-08-28T20:09:14  <foobio> bdpayne: i see 117596,1 in the check pipeline for 46 minutes at http://status.openstack.org/zuul/
2014-08-28T20:09:15  *** HeOS has quit IRC
2014-08-28T20:09:23  <sdague> foobio: so... honestly, I think if we exploded on the requirement update that would be better
2014-08-28T20:09:31  <sdague> we only 'happened' to explode in grenade
2014-08-28T20:09:33  <foobio> bdpayne: still waiting on workers. thanks to rush week it'll be a while still
2014-08-28T20:09:40  <sdague> after havana is gone, we wouldn't have
2014-08-28T20:09:55  <sdague> because we now do the object upload with tempest client
2014-08-28T20:10:07  <sdague> so grenade found the issue by accident, not by intent
2014-08-28T20:10:08  *** annegent_ has quit IRC
2014-08-28T20:10:25  <sdague> and it was cryptic
2014-08-28T20:10:45  <sdague> if we explode on requirement update, then it's pretty clear what the issue is
2014-08-28T20:11:11  <Ajaeger> bdpayne: I have docs jobs for 6 hours in the queue ;(
2014-08-28T20:11:15  <bdpayne> oh wow... just that slow, thanks for checking foobio
2014-08-28T20:11:34  <bdpayne> heh, I feel silly for asking now :-)
2014-08-28T20:11:43  <foobio> bdpayne: yeah, there's been an almost perpetual backlog this week
2014-08-28T20:11:54  *** ociuhandu has joined #openstack-infra
2014-08-28T20:12:08  <foobio> sdague: fair enough. so i vaguely recall at one point we had a check for requirements in a change missing from global requirements but i want to say that deadlocked us on something... i don't recall what now though
2014-08-28T20:12:21  <sdague> yeh, jogo was hacking on a thing...
2014-08-28T20:12:31  <foobio> specifically a check in devstack jobs
2014-08-28T20:12:33  *** dane_leblanc has quit IRC
2014-08-28T20:12:37  <foobio> oh, or maybe it was hacking
2014-08-28T20:13:40  <foobio> i want to say something gummed us up from being able to land changes to openstack/requirements itself. anyway just trying to think through whether this would regress us into that state again
2014-08-28T20:14:18  *** sballe has quit IRC
2014-08-28T20:14:19  *** lcheng_ has joined #openstack-infra
2014-08-28T20:14:46  <foobio> and yeah, making update.py return nonzero on an extra requirement rather than just removing it does seem like a good way to plug the hole without adding additional jobs
2014-08-28T20:15:06  <sdague> yep
2014-08-28T20:15:13  <foobio> i'll go ahead and propose it and backports
2014-08-28T20:15:15  <sdague> let me see if I can hack that up real quick
2014-08-28T20:15:19  <foobio> oh, or feel free
2014-08-28T20:15:50  *** mrmartin has quit IRC
2014-08-28T20:16:04  <foobio> i can get back to making faces at what i'm now starting to think actually are hung building instances
2014-08-28T20:16:30  <foobio> nevermind. they seem to be actually returning in some way now
2014-08-28T20:17:07  <sdague> so... I think it's already there
2014-08-28T20:17:14  <sdague> but not backported
2014-08-28T20:17:34  *** fifieldt has joined #openstack-infra
2014-08-28T20:18:01  <openstackgerrit> Adam Gandelman proposed a change to openstack-infra/elastic-recheck: Add fingerprint for bug 1347692  https://review.openstack.org/117607
2014-08-28T20:18:02  <uvirtbot`> Launchpad bug 1347692 in glance "gate failure with tempest.api.image.v1.test_images.CreateRegisterImagesTest.test_register_http_image" [Undecided,Confirmed] https://launchpad.net/bugs/1347692
2014-08-28T20:18:06  <sdague> foobio: yeh, so it's in every branch .... except havana
2014-08-28T20:18:31  <foobio> ha. okay. maybe we just ignore it for a month and it'll go away at eol ;)
2014-08-28T20:18:56  *** Ajaeger has quit IRC
2014-08-28T20:19:54  <foobio> notmyname: so there was the eventual answer as to why it wasn't caught in the havana backward-compat jobs which ran on that change
2014-08-28T20:20:36  <sdague> well, I think I can get the backport done pretty quick
2014-08-28T20:24:56  *** dane_leblanc has joined #openstack-infra
2014-08-28T20:26:06  <sdague> foobio:  https://review.openstack.org/117609
2014-08-28T20:26:10  *** denis_makogon has joined #openstack-infra
2014-08-28T20:26:22  *** eharney has quit IRC
2014-08-28T20:26:44  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Be able to generate math formulae with Sphinx mathpng base extension.  https://review.openstack.org/117263
2014-08-28T20:30:05  *** ominakov has quit IRC
2014-08-28T20:30:05  *** e0ne has quit IRC
2014-08-28T20:31:09  *** lcheng_ has quit IRC
2014-08-28T20:32:22  *** otherwiseguy has quit IRC
2014-08-28T20:32:58  *** amotoki_ has quit IRC
2014-08-28T20:33:06  <superbee> foobio: would you think it silyl of me to request you suffix that variable with _package?
2014-08-28T20:33:24  *** e0ne has joined #openstack-infra
2014-08-28T20:34:15  <superbee> also that is an oddly contentious review...
2014-08-28T20:34:44  *** dizquierdo has joined #openstack-infra
2014-08-28T20:38:04  *** dkehn_ has joined #openstack-infra
2014-08-28T20:38:38  *** dustins has quit IRC
2014-08-28T20:39:09  *** ominakov has joined #openstack-infra
2014-08-28T20:40:09  *** dkehn_ has quit IRC
2014-08-28T20:40:36  *** dkehn_ has joined #openstack-infra
2014-08-28T20:40:40  *** eharney has joined #openstack-infra
2014-08-28T20:40:40  *** mmaglana has joined #openstack-infra
2014-08-28T20:41:00  *** dkehn has quit IRC
2014-08-28T20:41:05  *** dkehnx has quit IRC
2014-08-28T20:42:48  *** fifieldt_ has quit IRC
2014-08-28T20:42:48  *** e0ne has quit IRC
2014-08-28T20:42:56  *** dkehn has joined #openstack-infra
2014-08-28T20:43:47  <foobio> yeah, i think it was just a matter of people getting confused by the params file there
2014-08-28T20:46:36  <openstackgerrit> Adrian Otto proposed a change to openstack-infra/config: OpenStack Containers Service  https://review.openstack.org/115328
2014-08-28T20:46:59  *** e0ne has joined #openstack-infra
2014-08-28T20:47:40  <ekarlso>  pyay
2014-08-28T20:47:44  <ekarlso> one more project :P
2014-08-28T20:49:12  *** e0ne has quit IRC
2014-08-28T20:50:27  *** HeOS has joined #openstack-infra
2014-08-28T20:50:37  *** jaypipes has quit IRC
2014-08-28T20:51:14  *** dizquierdo has quit IRC
2014-08-28T20:51:21  *** kgiusti has left #openstack-infra
2014-08-28T20:52:17  <foobio> and superbee sure, i'll update it to add a variable suffix
2014-08-28T20:53:12  *** e0ne has joined #openstack-infra
2014-08-28T20:54:00  *** radez is now known as radez_g0n3
2014-08-28T20:54:15  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Be able to generate math formulae with Sphinx mathpng base extension.  https://review.openstack.org/117263
2014-08-28T20:54:57  <jogo> sdague: what did I do?
2014-08-28T20:56:49  <openstackgerrit> Doug Hellmann proposed a change to openstack/requirements: Add missing oslo libs to projects list  https://review.openstack.org/117620
2014-08-28T20:57:07  <foobio> the bandersnatch resync is finally returning
2014-08-28T20:57:12  <jeblair> DEBUG:nodepool.NodePool:    <AllocationGrant of 63 of devstack-precise-2-node from fake-provider3>
2014-08-28T20:57:19  <jeblair> there isn't even any demand for that one ^ :/
2014-08-28T20:57:53  <foobio> huh
2014-08-28T20:59:46  *** fifieldt_ has joined #openstack-infra
2014-08-28T21:00:20  <jogo> foobio: isn't swiftclient in global dependencies
2014-08-28T21:00:30  <jogo> foobio: so it can quietly sneak anything in
2014-08-28T21:01:46  <superbee> jeblair: it wanted to make sure devstack-precise-2-node was part of the party
2014-08-28T21:02:00  <superbee> jogo: sdague propsed a backport to prevent quiet sneaking
2014-08-28T21:02:02  <ianw> jeblair: awesome!  can you just pastebin a diff, in any state?
2014-08-28T21:02:29  <jogo> superbee: ahh thats what sdague was talking about
2014-08-28T21:02:44  <jogo> superbee: about the thing I did, but don't remember doing
2014-08-28T21:03:03  *** pballand has quit IRC
2014-08-28T21:03:04  *** dkehn__ has joined #openstack-infra
2014-08-28T21:03:22  *** nelsnelson has quit IRC
2014-08-28T21:04:58  *** annegent_ has joined #openstack-infra
2014-08-28T21:05:10  *** dkehn__ has quit IRC
2014-08-28T21:05:36  *** dkehn__ has joined #openstack-infra
2014-08-28T21:05:51  *** dkehn_ has quit IRC
2014-08-28T21:05:58  *** dkehn has quit IRC
2014-08-28T21:06:40  *** andreaf has joined #openstack-infra
2014-08-28T21:07:09  *** pballand has joined #openstack-infra
2014-08-28T21:07:20  <sdake> jeblair re infra, is there any code work that needs attention - eg some starter bugs to start learning?
2014-08-28T21:07:28  *** dkehn has joined #openstack-infra
2014-08-28T21:07:50  <superbee> sdake: did you see my comment on 116802?
2014-08-28T21:08:01  <sdake> superbee no let me check
2014-08-28T21:08:04  <superbee> sdake: we should have bugs tagged low-hanging-fruit /me gets a link
2014-08-28T21:08:41  <superbee> sdake: mostly trying to understand what was confusing there
2014-08-28T21:09:03  <sdake> superbee didn't see that 116802, been only reviewing patches that have not had any review attention
2014-08-28T21:09:06  *** esker has quit IRC
2014-08-28T21:09:11  *** annegent_ has quit IRC
2014-08-28T21:09:13  <sdake> reading change now
2014-08-28T21:09:28  <sdake> oh nm, I did review this  :)
2014-08-28T21:09:33  <superbee> sdake: wait didn't you write that change or am I using a bad real name to irc nick mapping?
2014-08-28T21:09:34  *** HeOS has quit IRC
2014-08-28T21:09:40  *** esker has joined #openstack-infra
2014-08-28T21:10:09  *** mfer has quit IRC
2014-08-28T21:10:11  *** esker has quit IRC
2014-08-28T21:10:55  <superbee> sdake: https://bugs.launchpad.net/openstack-ci/+bugs?field.tag=low-hanging-fruit the gerritbot and jjb bugs should be relatively easy to dive into
2014-08-28T21:11:10  *** dangers_away is now known as dangers
2014-08-28T21:11:20  *** aysyd has quit IRC
2014-08-28T21:12:37  *** dkehn__ is now known as dkehnx
2014-08-28T21:13:40  *** armax has quit IRC
2014-08-28T21:14:03  *** annegent_ has joined #openstack-infra
2014-08-28T21:14:42  <superbee> sdake: zuul also has a separate bug tracker https://bugs.launchpad.net/zuul/ I don't see any low hanging fruit there but in general I think people like hacking on zuul if yo uare looking for less sysadminy stuff
2014-08-28T21:15:22  <sdake> superbee I'd like to pitch in and learn how the whole system works long term (if thats a possible goal:)
2014-08-28T21:15:35  <sdake> but need to start on something I can chew off
2014-08-28T21:15:39  <superbee> sdake: oh cool and it definitely is.
2014-08-28T21:15:47  <sdake> superbee thanks for the links i'll start cracking on those
2014-08-28T21:15:54  *** Sukhdev has joined #openstack-infra
2014-08-28T21:16:25  <superbee> sdake: a great place to start on the big picture is to spin up a service or two via puppet on some VMs. http://ci.openstack.org/sysadmin.html#making-a-change-in-puppet describes how you can do that
2014-08-28T21:17:23  <sdake> sweet i think I asked jeblair that exact question a couple days ago
2014-08-28T21:17:29  <sdake> I'll give that a go next week
2014-08-28T21:17:48  *** dhellmann is now known as dhellmann_
2014-08-28T21:18:02  <ianw> sdague: i realise bashate is way way down on priority lists.  little concerned patches don't seem to get much comment (month old stuff) which sucks for people trying their best to contribute.  i missed when it got split out, who is driving it?
2014-08-28T21:18:40  <foobio> jogo: i actually think it can't sneak additional requirements in because 1. we have the requirements check at least against master, and 2. aside from havana we run a requirements sync on it in devstack before installing from source and then bail if it has additional requirements not in the global list
2014-08-28T21:19:01  <superbee> ianw: gerrit will list the core members for you if you go to projects -> bashate -> access -> click on name of core group there -> members
2014-08-28T21:19:04  <superbee> woo gerrit ui
2014-08-28T21:19:27  <superbee> foobio: good point, it can only sneak changes to things it already snuck by
2014-08-28T21:19:39  <superbee> maybe not even that?
2014-08-28T21:20:34  <foobio> and the havana hole is what sdague is addressing with the https://review.openstack.org/117609 backport
2014-08-28T21:20:39  *** otherwiseguy has joined #openstack-infra
2014-08-28T21:20:46  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-08-28T21:20:49  <openstackgerrit> Antoine Musso proposed a change to openstack-infra/zuul: Add cache-hardlink argument to cloner  https://review.openstack.org/117626
2014-08-28T21:20:58  *** pballand has quit IRC
2014-08-28T21:21:51  <ianw> superbee: yeah, i know that all devstack-core can +2, but nobody is :)
2014-08-28T21:22:24  <foobio> ianw: did you see the log sample jeblair posted earlier?
2014-08-28T21:22:54  <foobio> (for the nodepool post-mortem you're working on)
2014-08-28T21:23:08  <ianw> foobio: no, i don't think my scrollback went that far.  you guys talk too much :)
2014-08-28T21:23:14  <openstackgerrit> James E. Blair proposed a change to openstack-infra/nodepool: WIP reproducible test  https://review.openstack.org/117627
2014-08-28T21:23:22  <foobio> speak of the debbil
2014-08-28T21:23:25  <jeblair> ianw: ^ that's what i'm working from right now
2014-08-28T21:23:33  *** pballand has joined #openstack-infra
2014-08-28T21:23:51  <jeblair> ianw: http://nodepool.openstack.org/allocator-failure.log
2014-08-28T21:23:58  <foobio> 1k lines of sql. pew pew lasers
2014-08-28T21:23:58  <jeblair> there's the production log
2014-08-28T21:24:01  *** cnesa has quit IRC
2014-08-28T21:24:15  <jeblair> foobio: it's auto-generated from the script, but i wanted to check it in anyway because it's random
2014-08-28T21:24:25  <jeblair> this is not getting merged :)
2014-08-28T21:24:37  <foobio> indeed, i gathered that
2014-08-28T21:24:41  <superbee> 1k lines of sql o_O
2014-08-28T21:24:59  <pleia2> so, cheese & wine party created a team who are fiddling with gerrit for Debian
2014-08-28T21:25:20  <foobio> pleia2: awesome! do they need any help/pointers?
2014-08-28T21:25:48  <foobio> pleia2: also, how goes the conf in general? good times?
2014-08-28T21:26:05  <ianw> jeblair: AllocationSubRequest for -136.551724138 (out of 40.0) of py3k-precise from hpcloud-b5>
2014-08-28T21:26:13  <jeblair> ianw, foobio: the only things i've found i can remove are: the tripleo provider is not needed and the number of building nodes in the db at startup can be lowered to 1000 (down from 2500)
2014-08-28T21:26:43  *** terryw has joined #openstack-infra
2014-08-28T21:26:44  *** otherwiseguy has quit IRC
2014-08-28T21:27:06  *** e0ne has quit IRC
2014-08-28T21:27:19  <jeblair> ianw, foobio: things that still seem to be necessary are: some number of building nodes on startup, image types that are not used, more than one provider
2014-08-28T21:27:37  <jeblair> ianw, foobio: i also tried scaling all the numbers by 0.1.  that didn't work
2014-08-28T21:27:43  <ianw> jeblair: ok.  what i was doing was similar, making fake entries in the db to get things out of sync.  i think that negative there is what sends the allocator crazy
2014-08-28T21:27:50  <superbee> jeblair: scaling numbers to fix the allocations?
2014-08-28T21:27:52  *** e0ne has joined #openstack-infra
2014-08-28T21:28:04  <jeblair> superbee: no, i'm trying to make a smaller test case
2014-08-28T21:28:07  <sdake> superbee re that change I submitted, I added a comment to explain my thoughts
2014-08-28T21:28:12  <sdake> probably the wording just needs improvement
2014-08-28T21:28:50  <superbee> jeblair: oh I see
2014-08-28T21:28:57  *** flwang_ has joined #openstack-infra
2014-08-28T21:28:58  <superbee> sdake: thanks looking
2014-08-28T21:29:04  <ianw> jeblair: https://review.openstack.org/#/c/109185/2/nodepool/tests/test_allocator.py <- that's input to the allocator that will send things crazy
2014-08-28T21:29:09  <jeblair> ianw, foobio: i also removed the ready nodes at startup, and while they are not strictly necessary, they seem to amplify the problem
2014-08-28T21:29:16  <superbee> sdake: I didn't want to -1 because my familiarity with zuul probably biases me :) but I needed more info to understand
2014-08-28T21:29:18  <jeblair> ianw: yeah, the database is not "out of sync"
2014-08-28T21:29:19  <foobio> iiiiiinteresting
2014-08-28T21:29:34  <jeblair> ianw: there's nothing invalid about the data in the database
2014-08-28T21:29:47  *** flwang_ has quit IRC
2014-08-28T21:29:54  <superbee> sdake: oh I see, they are using check and gate regardless of hte actual testing
2014-08-28T21:29:57  <sdake> superbee just a fyi when I do reviews I either -1 or +1 so the folks know there is a decision on the bug
2014-08-28T21:30:08  <sdake> so hopefully that wont annoy you or others
2014-08-28T21:30:35  <ianw> jeblair: yeah, that was just my first thought.  i hadn't considered the building / ready node interaction when starting up
2014-08-28T21:30:59  <foobio> sdake: i won't speak for anyone else, but i'm not easily annoyed by other people doing work ;)
2014-08-28T21:31:02  <pleia2> foobio: just started for me, but good :) I just made contact with the folks doing the work so they'll let us know if they need pointers
2014-08-28T21:31:53  <jeblair> anyway, i'm heading back into my debugging hole
2014-08-28T21:32:13  *** mfink has joined #openstack-infra
2014-08-28T21:32:35  <sdake> superbee I'm a firm believer if someone makes a mistake once others will repeat it :)
2014-08-28T21:32:42  <sdake> (this assumes people read the docs)
2014-08-28T21:32:57  <sdake> foobio sweet
2014-08-28T21:32:57  <superbee> sdake: and they do, so now that I know this let me rereview
2014-08-28T21:33:11  <sdake> if you have some language to propose i'm happy to change
2014-08-28T21:33:20  <superbee> noted
2014-08-28T21:33:33  *** mmedvede has quit IRC
2014-08-28T21:35:56  *** SumitNaiksatam has quit IRC
2014-08-28T21:36:18  *** SumitNaiksatam has joined #openstack-infra
2014-08-28T21:37:03  *** andreaf has quit IRC
2014-08-28T21:37:05  *** dkranz has quit IRC
2014-08-28T21:37:15  *** Sincler has quit IRC
2014-08-28T21:37:36  *** andreaf has joined #openstack-infra
2014-08-28T21:38:50  <foobio> sdake: i proposed one possibility in an inline comment
2014-08-28T21:39:41  <superbee> sdake: foobio I did as well
2014-08-28T21:40:05  *** mfink has quit IRC
2014-08-28T21:40:53  <foobio> i'm cool with that suggestion too
2014-08-28T21:41:28  <hashar> superbee: jeblair: I am unlikely to deploy the zuul cloner patches you wrote/reviewed to play test them. But they all seems fine to me :]  So don't wait for me, I have already +1 ed all of them.
2014-08-28T21:41:34  <foobio> in general i agree that the existing text could be misinterpreted, just want to make sure we stick to consistent (for the project) terminology and not make any misstatements when attempting to clarify
2014-08-28T21:41:37  *** tonytan4ever has quit IRC
2014-08-28T21:41:53  <superbee> hashar: I think the tests have pretty good coverage especially with your suggestions on making the tests more robust
2014-08-28T21:42:12  *** ominakov has quit IRC
2014-08-28T21:43:15  *** andreaf has quit IRC
2014-08-28T21:44:08  *** mmaglana_ has joined #openstack-infra
2014-08-28T21:44:13  <foobio> more often than not, when i look at pip download failures from our mirror, i see it's breaking while retrieving a setuptools wheel. i wonder what the connection is
2014-08-28T21:44:23  <superbee> hashar: quick comment on your change
2014-08-28T21:44:41  <foobio> for example, this one currently afflicting a keystone change in the gate https://jenkins04.openstack.org/job/gate-keystone-python26/1400/console
2014-08-28T21:44:44  <superbee> foobio: first package to download?
2014-08-28T21:44:52  <superbee> setuptools is the thing you need before the other things
2014-08-28T21:44:54  <foobio> not even close to the first to download
2014-08-28T21:45:02  <superbee> I have no idea then
2014-08-28T21:45:34  <foobio> python-ldap apparently wants a newer setuptools
2014-08-28T21:45:56  <hashar> superbee: yeah that seems all good
2014-08-28T21:46:02  *** mmaglana has quit IRC
2014-08-28T21:46:07  *** adalbas has quit IRC
2014-08-28T21:46:23  <hashar> superbee: jeblair:  Iam going to be on paternity leave for a couple week pretty soon so will hardly be able to follow up :P
2014-08-28T21:46:34  <superbee> hashar: congratulations
2014-08-28T21:46:48  <superbee> hashar: we will miss your feedback but enjoy the time off
2014-08-28T21:47:05  *** tonytan4ever has joined #openstack-infra
2014-08-28T21:47:23  *** tonytan4ever has quit IRC
2014-08-28T21:47:28  <hashar> superbee: all seems fine to me. I am not sure I can add anything more.   The grenade test coverage, I am missing all the context and not familiar enough with devstack-gate to comment on it
2014-08-28T21:47:38  <foobio> yep, declares it in install_requires: http://python-ldap.cvs.sourceforge.net/viewvc/python-ldap/python-ldap/setup.py?revision=1.72&view=markup
2014-08-28T21:47:43  <hashar> but I am sure you guys will test it out for real before making the new job voting :]
2014-08-28T21:47:43  *** alexpilotti has quit IRC
2014-08-28T21:47:47  * foobio sighs
2014-08-28T21:48:13  <adam_g> does anyone know of a near-local URL we can use as an alternative for the horizon server here? https://review.openstack.org/#/c/32943/  this is causing a periodic horizon failure to fail image tests (https://launchpad.net/bugs/1347692) im thinking http://pypi.openstack.org
2014-08-28T21:48:15  <uvirtbot`> Launchpad bug 1347692 in glance "gate failure with tempest.api.image.v1.test_images.CreateRegisterImagesTest.test_register_http_image" [Undecided,Confirmed]
2014-08-28T21:48:21  <superbee> foobio: oh and that will be serviced by easy_install
2014-08-28T21:48:26  <foobio> superbee: yeah
2014-08-28T21:48:59  <foobio> everything you never wanted to know about python packaging but have been forced to find out anyway
2014-08-28T21:49:34  <superbee> adam_g: something like http://tarballs.openstack.org/ironic-python-agent/coreos/ ?
2014-08-28T21:49:39  <superbee> adam_g: that is a relatively large image though
2014-08-28T21:49:51  *** annegent_ has quit IRC
2014-08-28T21:49:57  <superbee> you know what, this seems like the perfect thing to put in swift somewhere
2014-08-28T21:50:06  <adam_g> superbee, we dont need any real data, the smaller the better i think
2014-08-28T21:50:19  <adam_g> its currently juts suing the horizon login page for the test image
2014-08-28T21:50:23  <superbee> adam_g: you could just grab an sdist off of pypi.openstack.org
2014-08-28T21:50:39  <superbee> or does it need to be a actual image of some sort
2014-08-28T21:50:42  <adam_g> superbee, just the index of pypi.openstack.org would work
2014-08-28T21:51:00  <superbee> adam_g: the index is probably pretty big as it lists all the things but ya we could do somethign like that
2014-08-28T21:51:25  <superbee> adam_g: use https://git.openstack.org/cgit
2014-08-28T21:51:33  <adam_g> superbee, http://pypi.openstack.org is minimal
2014-08-28T21:51:34  <superbee> since we are already slamming those servers and have set them up to scale horizontally
2014-08-28T21:51:41  <superbee> adam_g: oh you mean the root root
2014-08-28T21:51:47  <superbee> ya, I like the idea of using the git farm
2014-08-28T21:51:50  <superbee> foobio: ^
2014-08-28T21:52:18  *** dimtruck is now known as zz_dimtruck
2014-08-28T21:53:46  *** zz_dimtruck is now known as dimtruck
2014-08-28T21:54:39  *** _nadya_ has joined #openstack-infra
2014-08-28T21:56:48  *** e0ne has quit IRC
2014-08-28T21:56:51  *** chuckC has quit IRC
2014-08-28T21:57:05  <dstufft> foobio: superbee do y'all auto update bandersnatch in any way
2014-08-28T21:57:05  *** mriedem has quit IRC
2014-08-28T21:57:10  <dstufft> like, bandersnatch itself
2014-08-28T21:57:12  <dstufft> not the mirror
2014-08-28T21:57:17  <foobio> superbee: me too
2014-08-28T21:57:22  <foobio> dstufft: i'll check
2014-08-28T21:58:03  *** Sincler has joined #openstack-infra
2014-08-28T21:58:03  *** laca has quit IRC
2014-08-28T21:58:31  <foobio> dstufft: apparently not at the moment... http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/manifests/static.pp#n242
2014-08-28T21:58:33  *** mjturek has left #openstack-infra
2014-08-28T21:58:53  <foobio> dstufft: looks like we're on 1.4 and 1.5 is the latest
2014-08-28T21:59:02  *** _nadya_ has quit IRC
2014-08-28T21:59:03  <superbee> dstufft: should we upgrade?
2014-08-28T21:59:12  <dstufft> foobio: I'm working on fixing the name mismatch on mirror thing... and I have a problem about how to handle the incompatability... the change requires updates in both pip and bandersnatch, however if you use an older pip (< 1.6) or an older bandersnatch (< whatever version contains the fix) you'll get the error that you're seeing now basically everywhere
2014-08-28T21:59:24  <foobio> the two items in the release notes for 1.5 make it seem not urgent
2014-08-28T21:59:29  <openstackgerrit> Oscar Romero (homeless) proposed a change to openstack-infra/jeepyb: Adding 'has-local-git' parameter to projects config  https://review.openstack.org/117636
2014-08-28T22:00:05  <dstufft> e.g. if you update your bandersnatch mirror to a version that contains the fix, but you use pip 1.5 with it, then pip will do the "you typed the name in wrong" thing
2014-08-28T22:00:07  <foobio> dstufft: i think as long as we know to expect it, we can cope. also we could consider switching that from "present" to "latest" i think and just drink from the release firehose
2014-08-28T22:00:57  *** e0ne has joined #openstack-infra
2014-08-28T22:01:15  *** hashar has quit IRC
2014-08-28T22:01:20  <foobio> oh yikes... we're using pip 1.0 with bandersnatch :/
2014-08-28T22:01:32  <dstufft> Q.Q
2014-08-28T22:01:33  <foobio> pip 1.0 from /usr/lib/python2.7/dist-packages (python 2.7)
2014-08-28T22:01:36  <superbee> wow
2014-08-28T22:01:49  <foobio> ii  python-pip                       1.0-1build1                       alternative Python package installer
2014-08-28T22:01:57  <dstufft> I need to think about this some more about how to do this without breaking everyone using mirrors currently :[
2014-08-28T22:01:59  <foobio> courtesy of ubuntu precise
2014-08-28T22:02:33  <foobio> so... we may want to noodle on that a bit
2014-08-28T22:02:34  <openstackgerrit> Steven Dake proposed a change to openstack-infra/zuul: Clarify docs for optional template pipelines  https://review.openstack.org/116802
2014-08-28T22:02:46  *** andreykurilin has joined #openstack-infra
2014-08-28T22:02:59  <superbee> foobio: are you in the neutron channel?
2014-08-28T22:03:10  <superbee> salv-orlando needs you to backup why a /0 subnet is bad ;)
2014-08-28T22:03:30  <foobio> superbee: now i am
2014-08-28T22:03:35  *** camunoz has joined #openstack-infra
2014-08-28T22:03:37  *** laca has joined #openstack-infra
2014-08-28T22:03:49  *** dmsimard is now known as dmsimard_away
2014-08-28T22:03:57  <openstackgerrit> Adam Gandelman proposed a change to openstack-infra/devstack-gate: Point TEMPEST_HTTP_IMAGE at git.openstack.org  https://review.openstack.org/117637
2014-08-28T22:04:07  <foobio> superbee: also, the bandersnatch resync dstufft suggested seems to have properly populated that flask-wtc wheel now. no idea why bandersnatch failed to properly do that in a normal update though
2014-08-28T22:04:22  <superbee> foobio: that is great news
2014-08-28T22:04:26  <superbee> foobio: is it done syncing?
2014-08-28T22:05:04  <superbee> adam_g: out of curiousity is horizon failing and we expect it to fail more than some external server?
2014-08-28T22:05:29  <superbee> I guess it is worth a go and the git mirrors seem pretty darn solid
2014-08-28T22:05:30  *** denis_makogon has quit IRC
2014-08-28T22:05:37  <salv-orlando> superbee: I thought this was a no-brainer. Did not really expect that!
2014-08-28T22:06:30  <foobio> superbee: seems to be done, yeah
2014-08-28T22:06:38  *** jgrimm is now known as zz_jgrimm
2014-08-28T22:06:59  <adam_g> superbee, yes. its failing because of another obscure gate issue that is on peoples radar but not yet fixed (https://bugs.launchpad.net/horizon/+bug/1345955). it would be great to isolate that from images
2014-08-28T22:07:01  <uvirtbot`> Launchpad bug 1345955 in horizon "KeyError: <SassRule <RuleAncestry ()>, 0 props> Failure" [Medium,Confirmed]
2014-08-28T22:07:22  *** linkid has left #openstack-infra
2014-08-28T22:07:52  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Add single_use_slave coverage to the apply tests  https://review.openstack.org/117389
2014-08-28T22:07:57  <superbee> adam_g: gotcha, +2 noted we could also do another http server on say port 8080 and use that
2014-08-28T22:08:21  <superbee> but I am happy to try git.o.o since the jobs depend on it already
2014-08-28T22:08:25  <adam_g> yeah
2014-08-28T22:08:28  *** amcrn has quit IRC
2014-08-28T22:08:46  <adam_g> setting up a whole new server seems like more work than its worth
2014-08-28T22:09:12  <mattoliverau> Morning
2014-08-28T22:09:19  <superbee> morganfainberg_Z: good morning
2014-08-28T22:09:20  *** e0ne has quit IRC
2014-08-28T22:09:22  <superbee> er
2014-08-28T22:09:25  <superbee> mattoliverau: o/
2014-08-28T22:09:39  *** lcheng_ has joined #openstack-infra
2014-08-28T22:09:48  <superbee> is feature freeze next week?
2014-08-28T22:10:10  *** eharney has quit IRC
2014-08-28T22:11:07  *** ominakov has joined #openstack-infra
2014-08-28T22:11:10  <adam_g> thursday
2014-08-28T22:11:56  <superbee> thanks
2014-08-28T22:12:55  *** pradk has quit IRC
2014-08-28T22:13:39  <jogo> how do you make a note in the meeting notes?
2014-08-28T22:13:43  <jogo> we tried '#note'
2014-08-28T22:13:59  <jogo> ohh #info
2014-08-28T22:14:03  *** tsufiev has quit IRC
2014-08-28T22:14:18  *** lcheng_ has quit IRC
2014-08-28T22:14:22  *** dteselkin has quit IRC
2014-08-28T22:14:23  <superbee> I was trying to get a listing btu apparently help is not a thing
2014-08-28T22:14:46  *** amcrn has joined #openstack-infra
2014-08-28T22:14:52  <superbee> jogo: when you start a meeting the useful actions are listed
2014-08-28T22:14:57  <superbee> which isn't a completel list
2014-08-28T22:15:20  *** dteselkin has joined #openstack-infra
2014-08-28T22:15:33  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/config: Add the tempest-lib project to openstack  https://review.openstack.org/117640
2014-08-28T22:15:41  <jogo> superbee: oh its not complete list lol
2014-08-28T22:15:57  <jogo> anyway I think '#info' is what I am looking for
2014-08-28T22:16:03  <superbee> yup
2014-08-28T22:16:31  *** ominakov has quit IRC
2014-08-28T22:17:13  <foobio> wow... we merged 100 changes to openstack/openstack submodules on tuesday
2014-08-28T22:17:30  <foobio> 85 so far today, with a couple hours to go
2014-08-28T22:17:33  *** tsufiev has joined #openstack-infra
2014-08-28T22:17:42  <dstufft> superbee: foobio well, if anything, the "package rename causes things to blow up" should be fixed now
2014-08-28T22:17:49  *** fifieldt has quit IRC
2014-08-28T22:17:52  *** amcrn has quit IRC
2014-08-28T22:17:54  *** HeOS has joined #openstack-infra
2014-08-28T22:18:00  *** paulrad has quit IRC
2014-08-28T22:18:11  <foobio> dstufft: oh? i take it that was fixed with aggressive cache expiration for reditects?
2014-08-28T22:18:16  <foobio> redirects
2014-08-28T22:18:28  <superbee> hrm no dims?
2014-08-28T22:18:34  <superbee> dstufft: cool and thank you
2014-08-28T22:18:36  <dstufft> foobio: Nope, simple always normalizes now, so "Django" is /simple/django/
2014-08-28T22:18:49  <dstufft> so if you delete "Django" and then upload "django", the simple URL doesn't change
2014-08-28T22:18:54  <foobio> dstufft: oh! yes, per your pkg-sig post
2014-08-28T22:19:27  <sdake_> foobio works for me
2014-08-28T22:19:42  <foobio> dstufft: will we need to rebuild our mirror for that then?
2014-08-28T22:19:51  <dstufft> foobio: no, that's not reflected in bandersnatch at all
2014-08-28T22:19:59  <sdake_> superbee i'll have a look at your suggestion, but I need to run out for an errand
2014-08-28T22:20:01  <dstufft> bandersnatch computes it's own URL using the package name
2014-08-28T22:20:14  <dstufft> so it'll see it needs to sync "Django", it
2014-08-28T22:20:33  <dstufft> it'll fetch /simple/Django/, get redirected and get the content of /simple/django, and then save it at /simple/Django/index.html
2014-08-28T22:20:34  <foobio> dstufft: oh, okay. this is just rewriting requests internal to pypi without using a redirect?
2014-08-28T22:20:45  <foobio> oh, so still redirecting
2014-08-28T22:20:56  <foobio> or transparently?
2014-08-28T22:21:00  <dstufft> yea still redirecting, but everything will still work via redirect
2014-08-28T22:21:26  <superbee> sdake_: I am +2 on that zuul change now
2014-08-28T22:21:29  <dstufft> that doesn't fix your "pip install flask-wtf from a bandersnatch mirror doesn't work" problem
2014-08-28T22:21:33  <superbee> looks like you used foobio's suggsetion
2014-08-28T22:21:37  <dstufft> that needs changes to both pip and bandersnatch :/
2014-08-28T22:21:53  <superbee> dstufft: I can't help but think that package name is really appropriate here
2014-08-28T22:22:09  *** dimtruck is now known as zz_dimtruck
2014-08-28T22:22:27  <sdake_> superbee cool no need to overdo it then :)
2014-08-28T22:22:49  <sdake_> superbee I didn't see your suggestion until after I submitted the change
2014-08-28T22:22:52  <dstufft> I can't think of any way to fix that which doesn't end up being "release pip 1.6 and the fixed bandersnatch at the same time, and tell people they can't mix use pip 1.5 with bandersnatch new
2014-08-28T22:23:01  <sdake_> either one works
2014-08-28T22:23:11  <dstufft> ooo
2014-08-28T22:23:13  <sdake_> we may be too hopeful that people actually read docs - I know I don't :)
2014-08-28T22:23:13  <dstufft> actually
2014-08-28T22:23:20  <dstufft> I can duplicate entries!
2014-08-28T22:23:50  <dstufft> I can make an entry for *both* /srv/pypi/simple/Django/index.html *and* /srv/pypi/simple/django/index.html
2014-08-28T22:23:59  <foobio> dstufft: though actually, our "pip install flask-wtf from a bandersnatch mirror doesn't work" problem turned out to be that bandersnatch never downloaded the wheel for the latest version (a maintenance resync of the mirror like you suggested fixed it)
2014-08-28T22:24:26  <foobio> dstufft: so we were serving it as a link in the index, but the link went to a 404
2014-08-28T22:24:30  <dstufft> or maybe it wasn't flask-wtf, whichever one was "unless we use the exact name that the person used on PyPI we get an error about external urls"
2014-08-28T22:25:01  <foobio> dstufft: yeah, i get which problem you mean, just don't remember where we saw it happen
2014-08-28T22:25:07  <foobio> but cool
2014-08-28T22:25:08  <superbee> foobio: dstufft we didn't hit the flask-wtf case issue because it failed the other way, but now that it is synced we will fall in the way dstufft describes
2014-08-28T22:26:29  *** chuckC has joined #openstack-infra
2014-08-28T22:27:15  *** stevemar has quit IRC
2014-08-28T22:27:48  *** dangers is now known as dangers_away
2014-08-28T22:31:53  <superbee> foobio: any idea why /etc/puppet/modules/storyboard doesn't have jeblairs change to that module in it yet?
2014-08-28T22:33:45  *** amotoki has joined #openstack-infra
2014-08-28T22:33:57  <superbee> I think install_modules.sh doesn't actually update the tracking branch
2014-08-28T22:33:59  *** dkranz has joined #openstack-infra
2014-08-28T22:34:06  <superbee> and we want to do origin/master instead of master
2014-08-28T22:34:20  <superbee> foobio: ^ can you take a quick look at that and see if it makes sense to you? Note that it does a git fetch then a git checkout
2014-08-28T22:34:22  *** markmcclain has quit IRC
2014-08-28T22:34:32  *** sandywalsh has quit IRC
2014-08-28T22:34:40  *** morganfainberg_Z is now known as morganfainberg
2014-08-28T22:34:46  <superbee> foobio: might also be related to the rev listing
2014-08-28T22:36:37  <foobio> superbee: you mean for jeblair's change which wipes out /etc/puppet/modules?
2014-08-28T22:36:38  <superbee> I think i have convinced myself patch incoming
2014-08-28T22:36:57  <superbee> foobio: wasn't that for testing only?
2014-08-28T22:37:02  <superbee> foobio: can you link me to that change
2014-08-28T22:37:11  <foobio> superbee: no, i thought it was really for reals
2014-08-28T22:37:36  <foobio> superbee: https://review.openstack.org/#/c/117365/1
2014-08-28T22:38:05  <superbee> ya that is just for testing
2014-08-28T22:38:06  <superbee> on the slaves
2014-08-28T22:38:15  *** amotoki has quit IRC
2014-08-28T22:39:14  <foobio> superbee: oh, i misunderstood what you meant by just for testing
2014-08-28T22:39:46  *** dkehn_ has joined #openstack-infra
2014-08-28T22:39:55  *** leifmadsen has quit IRC
2014-08-28T22:40:14  *** HeOS has quit IRC
2014-08-28T22:40:23  <foobio> superbee: so asking why https://review.openstack.org/116971 isn't actually on the storyboard.o.o server then?
2014-08-28T22:40:54  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Update git puppet modules properly.  https://review.openstack.org/117643
2014-08-28T22:40:58  <superbee> foobio: ^
2014-08-28T22:41:13  <superbee> no ci-puppetmaster.o.o/etc/puppet/modules/storyboard id old
2014-08-28T22:41:14  <foobio> huh... /etc/puppet/modules on storyboard.o.o is empty
2014-08-28T22:41:16  *** gondoi is now known as zz_gondoi
2014-08-28T22:41:26  <ianw> jeblair: i can get those crazy allocations coming out with http://paste.openstack.org/show/102034/ , i was trying to replicate the exact numbers to get a feel for what was wrong but it's too much of a simultaneous equation
2014-08-28T22:41:28  <superbee> foobio: it should be on that server
2014-08-28T22:41:39  <superbee> foobio: the issue was we told it to track master which we are but master is never updated
2014-08-28T22:41:49  <foobio> aha
2014-08-28T22:42:09  *** dkehn_ has quit IRC
2014-08-28T22:42:13  <superbee> foobio: so I am telling it to follow origin/master which remote update will keep up to date
2014-08-28T22:42:22  *** dkehn has quit IRC
2014-08-28T22:42:28  <foobio> superbee: yep, origin/master not (local)master. got it
2014-08-28T22:42:38  <foobio> we're spoiled by puppet-vcsrepo
2014-08-28T22:42:38  *** dkehn_ has joined #openstack-infra
2014-08-28T22:42:45  *** dkehnx has quit IRC
2014-08-28T22:42:48  <superbee> yup
2014-08-28T22:43:09  <ianw> jeblair: results http://paste.openstack.org/show/102036/
2014-08-28T22:43:15  <superbee> anyways I think that will do it, and my change should go in before the storyboard rabbitmq disablement
2014-08-28T22:43:25  <superbee> foobio: also it may make jeblair's change a noop
2014-08-28T22:43:49  <superbee> foobio: actually maybe not because we need to do integration testing which means clone a zuul thing instead of origin/master
2014-08-28T22:44:14  *** dkehn has joined #openstack-infra
2014-08-28T22:44:45  <superbee> but this should fix the ci-puppetmaster module state
2014-08-28T22:45:02  <foobio> yeah, i think the rm -rf is still necessary, since we won't reflect things like module removals otherwise
2014-08-28T22:47:11  <jeblair> ianw: why does it say "AllocationSubRequest" instead of "AllocationGrant" when you print the grants?
2014-08-28T22:47:30  <jeblair> ianw: or did you just paste printing the subrequests?
2014-08-28T22:47:35  <superbee> nibalizer: why do your fix deprecation warnings changes all depend on each other?
2014-08-28T22:47:40  <superbee> nibalizer: do they actually need to depend on each other?
2014-08-28T22:48:05  *** doug-fish has left #openstack-infra
2014-08-28T22:48:27  <superbee> nibalizer: I aks because I want to -1 a change in the middle ... and that will disrupt the chain
2014-08-28T22:48:40  <superbee> nibalizer: maybe I will just have you document the thing at the end of the stack
2014-08-28T22:50:49  <superbee> nibalizer: I went ahead and did it that way
2014-08-28T22:51:45  <superbee> hrm it is far too late for Ajaeger. Any opinions on whether or not openstack-doc-tools should follow global requirements? my feeling is no for the same reasons we don't
2014-08-28T22:52:37  *** ominakov has joined #openstack-infra
2014-08-28T22:55:12  *** andreykurilin has quit IRC
2014-08-28T22:59:01  <nibalizer> superbee: i dont think they need to
2014-08-28T22:59:11  <nibalizer> but i need the commit at the end to depend on all of them
2014-08-28T22:59:19  <superbee> nibalizer: gotcha
2014-08-28T22:59:24  <nibalizer> the make puppet 3 master go (no for realzies this time)
2014-08-28T22:59:37  <nibalizer> is it possible to have a multi dependency without building a chain like that?
2014-08-28T22:59:55  <superbee> nibalizer: no
2014-08-28T22:59:59  <nibalizer> baw
2014-08-28T23:01:49  *** joools has joined #openstack-infra
2014-08-28T23:02:02  <openstackgerrit> A change was merged to openstack-infra/config: Remove duplicate barbican job  https://review.openstack.org/116959
2014-08-28T23:02:28  <dstufft> superbee: foobio https://bitbucket.org/pypa/bandersnatch/pull-request/7/prefer-normalized-directory-names-but-keep/diff part 1 of 2 for fixing the mirrors when you don't have the exact name
2014-08-28T23:02:29  *** terryw has quit IRC
2014-08-28T23:02:33  <dstufft> part 2 will be inside pip
2014-08-28T23:02:50  *** mriedem has joined #openstack-infra
2014-08-28T23:04:10  *** otherwiseguy has joined #openstack-infra
2014-08-28T23:04:38  <jeblair> the problem happens when the number of available nodes for a provider is negative.
2014-08-28T23:04:38  <jeblair> when the history allocator detects a neglected request, it immediately allocates min(request, available) to that request, even if the request is 0
2014-08-28T23:04:39  <jeblair> this means that it will attempt to grant a negative value.  there's a check that prevents that from becoming an actual grant, however, it does affect the available count.  it would increase it if the value is negative
2014-08-28T23:04:39  <jeblair> if the neglected image it has chosen to grant nodes to (even though it requested none) is a subnode image, the available node count can increase at 2x the normal rate
2014-08-28T23:04:39  <jeblair> when it gets around to servicing an image that actually did request something, it believes there are many nodes available.
2014-08-28T23:04:39  <jeblair> this is far less likely to happen with the standard allocator because 0-node requests end up clamped to 0 regardless of availablity due to the ratio calculation
2014-08-28T23:04:44  <jeblair> superbee, foobio, ianw: ^
2014-08-28T23:06:06  <superbee> fun
2014-08-28T23:06:17  <superbee> jeblair: is that something we can fix in the history allocator with better bounds checking?
2014-08-28T23:06:19  <foobio> got it
2014-08-28T23:07:06  <foobio> so ianw was on the right track with his observation that negative availability was causing the allocator to go wild
2014-08-28T23:07:23  <jeblair> yep, but now we know why, and can verify the fix
2014-08-28T23:07:28  *** dane_leblanc has quit IRC
2014-08-28T23:07:34  <foobio> exactly
2014-08-28T23:07:58  <nibalizer> superbee: so you said you're not preturbed by puppet not running on the puppet master
2014-08-28T23:08:05  <nibalizer> to your knowledge, does it run successfully?
2014-08-28T23:08:09  <jeblair> the only potential bug i found in the history allocator per se, is i think there may be a code path that would cause it to process a request twice, but only if the availability is 0
2014-08-28T23:08:16  *** Sincler has quit IRC
2014-08-28T23:08:18  <superbee> nibalizer: it is runnin on the pupept master
2014-08-28T23:08:22  <superbee> nibalizer: which is why I was confused
2014-08-28T23:08:37  <jeblair> however, now that i really understand this, i think it's worth noting that the history allocator will pretty much run all the time in our environment
2014-08-28T23:08:49  <nibalizer> oh right
2014-08-28T23:09:00  *** atiwari has quit IRC
2014-08-28T23:09:02  <foobio> nibalizer: http://puppetdb.openstack.org/node/ci-puppetmaster.openstack.org
2014-08-28T23:09:05  <nibalizer> cus the puppetmaster.o.o isnt real and the real puppet master is ci-puppetmaster
2014-08-28T23:09:12  <nibalizer> sorry, /me derped
2014-08-28T23:09:27  <jeblair> so we'll go from completely proportional to something more like "every time a node is available, launch as many nodes of the least recently launch image type as possible"
2014-08-28T23:10:04  <foobio> hrm, true, since we're always at a deficit for all node types under load
2014-08-28T23:10:07  <superbee> jeblair: which will keep fedora nodes aroudn but may affect precise/trusty/noesthatrunlotsoftests
2014-08-28T23:10:25  <jeblair> yes.  the scales will tip in fedora's favor
2014-08-28T23:10:46  <foobio> it'll turn into more of a round-robin allocator, best case?
2014-08-28T23:11:09  <jeblair> foobio: with random aspects if more than one node is available in a cycle
2014-08-28T23:11:15  <superbee> which may be what we want as far as reporting responsiveness goes
2014-08-28T23:11:17  <foobio> ahh, yeah
2014-08-28T23:11:37  <superbee> its not fairest
2014-08-28T23:12:00  *** terryw has joined #openstack-infra
2014-08-28T23:12:02  <jeblair> and it will make bad decisions like "spin up a fedora node on the only provider that can provide a wacky-kernel node"
2014-08-28T23:12:07  *** otherwiseguy has quit IRC
2014-08-28T23:12:13  <superbee> right
2014-08-28T23:12:23  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: Make  list of open reviews bold  https://review.openstack.org/117588
2014-08-28T23:13:30  <dstufft> superbee: foobio and here's part 2! https://github.com/pypa/pip/pull/2001
2014-08-28T23:13:47  <jeblair> if we're okay with that, we may as well simplify it and make the whole thing round robin or something else
2014-08-28T23:14:39  <superbee> jeblair: so I think the actual benefit to this change is writing the next chagne that hasn't been written yet to pid loop the whole thing
2014-08-28T23:14:44  <jeblair> (i'm not sure i am; i think i'd prefer to see the existing allocator tweaked, but i'm biased)
2014-08-28T23:14:44  <ianw> jeblair: awesome digging
2014-08-28T23:14:46  <superbee> jeblair: maybe we should write that chaneg too then switch to it
2014-08-28T23:14:56  <superbee> jeblair: as that should deal with the issues you point out much better
2014-08-28T23:15:34  <jeblair> superbee: you volunteering? :)
2014-08-28T23:15:48  *** Sukhdev has quit IRC
2014-08-28T23:15:52  <superbee> maybe? it is probably a non trivial change and with feature freeze won't get to it asap but it would be a fun thing to hack on
2014-08-28T23:16:30  <jeblair> superbee: i'm not really sure how a pid loop applies here
2014-08-28T23:17:00  <superbee> jeblair: it would measure rates of changes for each of the inputs over time and adjust its outputs to converge on optimal node allocation
2014-08-28T23:17:11  *** linkid has joined #openstack-infra
2014-08-28T23:17:12  <jeblair> superbee: what's the optimal node allocation?
2014-08-28T23:17:26  *** david-lyle has quit IRC
2014-08-28T23:17:30  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: Add query for bug 1362347  https://review.openstack.org/117358
2014-08-28T23:17:31  <uvirtbot`> Launchpad bug 1362347 in neutron "neutron-ns-meta invokes oom-killer during gate runs" [High,New] https://launchpad.net/bugs/1362347
2014-08-28T23:17:53  <superbee> jeblair: thats the tricky thing. when flying a quadropter its make go over to position X. with nodepool it may be a lot more neubulous than that. But probably something based on change throughput
2014-08-28T23:18:04  <foobio> i'm starting to think this isn't going to be solved without nodepool considering more information from zuul
2014-08-28T23:18:07  <superbee> which would have to be weighted because some jobs run much longer than others
2014-08-28T23:18:36  <superbee> jeblair: the desired output is that changes don't sit in a queue for 35 hours waiting on a single node
2014-08-28T23:18:43  <ianw> jeblair: i'd thought as a first step it would work by clamping the allocation given to nodes that missed out last time.  as you say, we currently give it all available.  any other value seemed arbitrary (give half of what's available, 75% of what's available, etc)
2014-08-28T23:18:59  <superbee> jeblair: we can stop allocating trusty nodes periodically to make that happen using a pid loop in a much smarter way than round robin
2014-08-28T23:19:45  <jeblair> ianw: this loop cycles every few seconds, often with no change in available nodes, so we'd pretty much be hitting that case continuously for all node types
2014-08-28T23:20:15  <jeblair> ianw: at least, when busy.  and of course, when busy is the only time any of this matters :)
2014-08-28T23:21:02  <superbee> but I think that change is very non trivial and will require a lot more thought than I have just given it
2014-08-28T23:22:29  *** annegent_ has joined #openstack-infra
2014-08-28T23:23:02  *** dmsimard_away is now known as dmsimard
2014-08-28T23:24:00  <superbee> nibalizer: can you abandon 113627 and open a bug to remove that modules from the forge if that is what we are doing
2014-08-28T23:24:17  <superbee> nibalizer: is removing from the forge something that is acceptable? if someone did that on pypi I would be unhappy
2014-08-28T23:25:02  *** annegent_ has quit IRC
2014-08-28T23:25:20  *** melwitt has quit IRC
2014-08-28T23:26:02  <nibalizer> sure
2014-08-28T23:26:31  <superbee> thanks
2014-08-28T23:26:36  <nibalizer> uh idunno it could go either way
2014-08-28T23:26:46  <nibalizer> id just really rather people not expect that code to be code or to work at all
2014-08-28T23:26:56  <nibalizer> and i want the whole puppet dashboard to diaf
2014-08-28T23:26:58  <superbee> nibalizer: right, but anyone using it today will break
2014-08-28T23:27:15  <nibalizer> oh hrm
2014-08-28T23:27:24  *** terryw has quit IRC
2014-08-28T23:27:29  <nibalizer> so no one should be using openstack-infra/puppet-dashboard
2014-08-28T23:27:44  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Use direct gerrit contactstore to avoid CDN issues  https://review.openstack.org/117650
2014-08-28T23:27:46  <nibalizer> but... anyone who has consumed all of infra and built their own ci
2014-08-28T23:27:49  <superbee> "should"
2014-08-28T23:27:52  <nibalizer> may have pulled it in as a dependency
2014-08-28T23:27:54  <superbee> right
2014-08-28T23:27:58  <foobio> that ^ is tested and is something i'd like in place before the gerrit restart saturday, btw
2014-08-28T23:28:03  <superbee> foobio: reviewing now
2014-08-28T23:28:47  <superbee> foobio: they must have decided that the CDN wasn't going to whitelist that traffic?
2014-08-28T23:28:59  <nibalizer> superbee: yea in fact we at HP try to pull that in
2014-08-28T23:29:00  <nibalizer> :/
2014-08-28T23:29:11  <nibalizer> okay i guess we'll just leave it there forever
2014-08-28T23:29:54  <nibalizer> maybe i should add a commit to to the readme to say "this one is dead, use something else"
2014-08-28T23:30:10  <superbee> This is not the module you are looking for
2014-08-28T23:30:19  <foobio> superbee: i think they decided that it would be easier to do this than try to bend the cdn to their will on it
2014-08-28T23:31:00  <wenlock> nibalizer forj.io does
2014-08-28T23:31:18  <superbee> we don't care about stackforge projects are potentially trademark infringeing right?
2014-08-28T23:31:20  <wenlock> nibalizer but we use a freeze of it, so it should be fine to nuke, we'll switch as we upgrade to newer stuff
2014-08-28T23:31:23  <superbee> foobio: wfm
2014-08-28T23:31:51  <wenlock> if it can be avoided to remove from puppetlabs forge, that would be nice
2014-08-28T23:33:45  <wenlock> superbee im trying to consume the latest install_module.sh  , but i keep getting this error on the new modules http://paste.forj.io/show/23/
2014-08-28T23:33:49  <nibalizer> yae i guess we'll keep it there
2014-08-28T23:34:03  <nibalizer> ya thats a known issue
2014-08-28T23:34:10  <nibalizer> crinkle: has a patch in to fix it
2014-08-28T23:34:17  <superbee> nibalizer: but no one will tes tit...
2014-08-28T23:34:22  <superbee> that is an unfortunate tyop
2014-08-28T23:34:27  <wenlock> superbee i think your using stdlib 4.3.2 vs 3.2.0
2014-08-28T23:34:32  <superbee> wenlock: correct
2014-08-28T23:34:51  <wenlock> superbee can i make a push to set stdlib to 4.3.2?
2014-08-28T23:34:54  <superbee> wenlock: as nibalizer says there is a patch to change it but I haven't heard if anyone has tested it
2014-08-28T23:34:55  <nibalizer> superbee: what do you consider sufficient testing? i.e. the puppet apply tests aren't good enough for you
2014-08-28T23:34:57  <superbee> wenlock: that is already done
2014-08-28T23:35:15  <superbee> nibalizer: no, bceause we don't actually reinstall the modules properly in those tests today
2014-08-28T23:35:20  <nibalizer> ohh
2014-08-28T23:35:22  <nibalizer> lost to fix :)
2014-08-28T23:35:23  <wenlock> superbee cool.... what does "testing it" mean?
2014-08-28T23:35:28  <superbee> nibalizer: jeblair has a patch to change that
2014-08-28T23:35:47  <nibalizer> if i got you annecdotal evidence that a few different nodes all work fine with that patch would that give you enough confidence?
2014-08-28T23:35:51  <superbee> wenlock: nibalizer: isntall the module then run some puppet applies. I am not super worried about it as stdlib seems to have a relatively stable api
2014-08-28T23:35:57  <superbee> but it touches all the things so I am wary
2014-08-28T23:36:07  <openstackgerrit> A change was merged to openstack-infra/config: Announce tooz events in #openstack-state-management  https://review.openstack.org/116844
2014-08-28T23:36:18  <crinkle> that patch is now outdated since the latest version of stdlib is 4.3.2 not 4.2.1 >.>
2014-08-28T23:36:22  <superbee> nibalizer: ya that would be good, things like gerrit, and slave manifests
2014-08-28T23:36:34  <wenlock> agreed.... but making it 4.3.2... i think you must already be using it no?
2014-08-28T23:36:43  <superbee> wenlock: we are not
2014-08-28T23:36:45  <superbee> we are using 3.2.o
2014-08-28T23:36:51  <crinkle> I have played with it and convinced myself that it works, and stdlib 4 is completely backwards compatible with stdlib 3 and still tested on puppet 2.7
2014-08-28T23:37:00  <superbee> crinkle: oh good I didn't know that
2014-08-28T23:37:07  <wenlock> superbee but the script as is in master leaves behind 4.3.2
2014-08-28T23:37:21  <superbee> wenlock: it doesn't if you installed 3.2.0 when 3.2.0 was the thing
2014-08-28T23:37:37  <wenlock> ahhh gotcha ;D
2014-08-28T23:37:47  <nibalizer> wenlock: have you looked at puppetboard or puppet explorer?
2014-08-28T23:37:50  <superbee> crinkle: nibalizer: maybe the thing to do is pick a time when you all can watch the change go in
2014-08-28T23:37:51  <wenlock> so fresh installs like our own are seeing 4.3.2
2014-08-28T23:37:54  <nibalizer> to replace the dashboard
2014-08-28T23:37:56  <superbee> I can approve and we deal with fallout if any
2014-08-28T23:38:00  <crinkle> superbee: works for me
2014-08-28T23:38:04  <nibalizer> wfm
2014-08-28T23:38:09  <superbee> I didn't realize that it was supposed to be backward compat. why bump the version number?
2014-08-28T23:38:18  <superbee> wenlock: yes fresh installs...
2014-08-28T23:38:30  <superbee> crinkle: nibalizer: does tomorrow work or are you fargoing?
2014-08-28T23:38:32  <crinkle> there was a lot of fuss about it, i can find the gh issue if you want
2014-08-28T23:38:37  <superbee> crinkle: nah its ok
2014-08-28T23:38:42  <superbee> crinkle: its incredibly misleading though :)
2014-08-28T23:38:47  <crinkle> yes
2014-08-28T23:38:56  <nibalizer> superbee: tomorrow afternoon/evening could work
2014-08-28T23:39:03  <nibalizer> morning is a bit busted for me
2014-08-28T23:39:07  *** signed8bit is now known as signed8bit_ZZZzz
2014-08-28T23:39:09  <superbee> nibalizer: I was thinking morning bceause EFRIDAY
2014-08-28T23:39:15  <wenlock> superbee, ok that works for us, i'll ignore the issue and upgrade on our end.   i want to propose a modules.env update as well
2014-08-28T23:39:18  <nibalizer> im in a car in the morning
2014-08-28T23:39:20  <crinkle> superbee: i can submit a revised patch to bump it to 4.3.2 instead of 4.2.1
2014-08-28T23:39:26  <crinkle> since that might make more sense
2014-08-28T23:39:26  <superbee> crinkle: cool lets do that
2014-08-28T23:39:29  <crinkle> mmk
2014-08-28T23:39:32  <nibalizer> crinkle: ++
2014-08-28T23:39:32  <wenlock> superbee so we can alternatively source modules from a file
2014-08-28T23:39:37  <superbee> and play by ear tomorrow
2014-08-28T23:39:42  <nibalizer> ok
2014-08-28T23:40:16  <wenlock> superbee i think this way people can consume install_modules.sh as is better in other projects
2014-08-28T23:40:38  *** amcrn has joined #openstack-infra
2014-08-28T23:41:01  <superbee> wenlock: there is a jeblair change you should be aware of. let me find it
2014-08-28T23:41:09  <openstackgerrit> Colleen Murphy proposed a change to openstack-infra/config: Update version of puppetlabs-stdlib in install_modules.sh  https://review.openstack.org/109351
2014-08-28T23:41:27  *** ominakov has quit IRC
2014-08-28T23:41:36  <superbee> wenlock: https://review.openstack.org/#/c/117323/1/install_modules.sh that one
2014-08-28T23:43:12  *** ominakov has joined #openstack-infra
2014-08-28T23:43:12  <wenlock> superbee not much excitement there... just optionally installing storyboard
2014-08-28T23:43:25  <wenlock> superbee am i missing something?
2014-08-28T23:43:39  <superbee> wenlock: the optional installation is the thin gthing
2014-08-28T23:43:44  <superbee> *is the thing
2014-08-28T23:43:53  <openstackgerrit> A change was merged to openstack-infra/config: Create merlin repo  https://review.openstack.org/110325
2014-08-28T23:43:54  <superbee> the special include stuff sould accomodate that
2014-08-28T23:44:56  <wenlock> ah yes!
2014-08-28T23:44:59  <wenlock> it will
2014-08-28T23:45:08  <wenlock> superbee check it out https://review.forj.io/#/c/1659/  this is what im thinking
2014-08-28T23:45:15  <nibalizer> i dont really get this either superbee
2014-08-28T23:45:15  <jeblair> superbee, foobio, ianw: i have a vague idea about having the history tracker record number of nodes allocated since the last allocation of a given type, rather than cycles since, to decouple it from time
2014-08-28T23:45:34  <jeblair> superbee, foobio, ianw: and then possibly using that in a ratio to gradually shift priority of neglected nodes
2014-08-28T23:45:54  <jeblair> superbee, foobio, ianw: but first i'm going to evaluate ianw's bug fixes with the new knowledge and tests
2014-08-28T23:46:04  <superbee> jeblair: that would be a form of pid I think. so ++
2014-08-28T23:46:07  <superbee> nibalizer: get what?
2014-08-28T23:46:18  <nibalizer> the conditional logic jeblair is adding
2014-08-28T23:46:32  <superbee> nibalizer: oh its there so that we can install the zuul version of a thing rather than what is specified in the script
2014-08-28T23:46:41  <superbee> nibalizer: to allow for integration testing
2014-08-28T23:46:51  *** openstackgerrit has quit IRC
2014-08-28T23:46:51  <ianw> jeblair: the "AllocationRequest for 0.0" was the bit i was missing that i think split this open
2014-08-28T23:46:55  <nibalizer> oh now im getting it
2014-08-28T23:47:03  <nibalizer> i was like 'how does not installing it make things better'
2014-08-28T23:47:05  <nibalizer> now im getting it
2014-08-28T23:47:06  <nibalizer> :D
2014-08-28T23:47:14  *** jamielennox|away is now known as jamielennox
2014-08-28T23:47:18  <wenlock> superbee if you did it like my change, then you could have a module.xyz.env file per environment and just set xyz to what you want to install
2014-08-28T23:47:33  <ianw> jeblair: i can work on test-case, but if you already have a head-start, that's great
2014-08-28T23:47:39  *** openstackgerrit has joined #openstack-infra
2014-08-28T23:48:01  <jeblair> ianw: nope, i was working solely with fake servers, etc; i think you have the head start on test cases
2014-08-28T23:48:22  <superbee> wenlock: ya use a conditional on a file existing and being passed in or some such
2014-08-28T23:49:09  <wenlock> superbee cool, i have some full integration testing to do on that tomorrow, then i'll shoot over a change request on review.o.o
2014-08-28T23:49:19  <superbee> jeblair: the thing a pid can do is skew your outputs based on (un)expected inputs. So if you ask for 1 f20 images and never get it over time it could choose to do 2, then 3 and so on
2014-08-28T23:50:36  <foobio> superbee: i'm with you on the pid loop being cool just so we can have integral and derivative calculations being performed in nodepool (so i feel like the years i spent in calculus actually went to a real use)
2014-08-28T23:51:27  *** tsg has joined #openstack-infra
2014-08-28T23:51:50  *** gokrokve has quit IRC
2014-08-28T23:51:51  <ianw> foobio: you should build a souis-vide immersion circulator using an arduino or something.  that way you can have PID and delicious steak too
2014-08-28T23:52:12  <openstackgerrit> A change was merged to openstack-infra/config: Adding project saml-generator  https://review.openstack.org/110378
2014-08-28T23:52:31  <foobio> ianw: great idea
2014-08-28T23:52:52  <superbee> but but fire!
2014-08-28T23:53:02  <superbee> I should do a brisket
2014-08-28T23:53:44  <ianw> superbee: you still need fire at the end https://www.kickstarter.com/projects/1708738346/the-searzall :)
2014-08-28T23:53:45  *** tomoe_ has joined #openstack-infra
2014-08-28T23:54:17  *** tomoe_ has joined #openstack-infra
2014-08-28T23:55:15  <ianw> jeblair: would you be happy with fix & expanded test cases within the history-allocator patch itself?  or were you thinking of stripping out 0 allocations separately?
2014-08-28T23:55:48  *** wenlock has quit IRC
2014-08-28T23:57:45  <foobio> heh, searzall.... brings back memories of family dinners with dad finishing platters on the hearth with a stand-up acetylene torch
2014-08-28T23:57:58  <superbee> foobio: jeblair any concern approving 106402?
2014-08-28T23:58:20  <superbee> the only major concner on my end is it "enables" the iptables persistent service which should be enabled on debian based distros anyways
2014-08-28T23:58:39  <superbee> so not reall yworried but its firewalls so asking
