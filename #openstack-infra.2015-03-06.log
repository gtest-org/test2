2015-03-06T00:00:03  <mordred> superbee: however, if we upgrade novaclient and nodepool breaks, we can point our fingers at people and laugh
2015-03-06T00:00:05  <mordred> which is fun
2015-03-06T00:00:20  <superbee> ah ya that just won't make them on a new node but won't kill them on an existing host mtreinish I will just disable them on this host
2015-03-06T00:00:33  <superbee> mordred: your idea of fun is funny
2015-03-06T00:00:49  <superbee> mordred: also I could not get that image to break on any of the three hpcloud AZs
2015-03-06T00:00:59  <superbee> though az2 was consistently having scheduling errors
2015-03-06T00:01:04  *** timcline has quit IRC
2015-03-06T00:01:10  <anteaya> gerrit is taking an inordinate amount of time to save my inline comment
2015-03-06T00:01:32  *** ivar-lazzaro has quit IRC
2015-03-06T00:01:40  <mtreinish> superbee: ok thanks. FWIW, I checked cacti and the memory growth issue we were seeing the last time we ran 4 doesn't seem to be happening
2015-03-06T00:01:42  *** dmsimard is now known as dmsimard_away
2015-03-06T00:02:21  *** MarkAtwood has quit IRC
2015-03-06T00:02:22  *** ghostpl_ has quit IRC
2015-03-06T00:02:25  <openstackgerrit> Monty Taylor proposed openstack-infra/puppet-nodepool: Upgrade dependent libraries when we upgrade  https://review.openstack.org/161951
2015-03-06T00:02:36  <mordred> jeblair, superbee: I think we might want that ^^
2015-03-06T00:03:03  <mtreinish> mmedvede: hmm, ok. That differs from what I remember, but it's been almost a while so I'm probably just not remembering correctly
2015-03-06T00:03:11  <openstackgerrit> Merged openstack-infra/project-config: Add Big Switch Networking library to StackForge  https://review.openstack.org/160339
2015-03-06T00:03:25  <mmedvede> mtreinish: I am not sure if that is the proper way to check though
2015-03-06T00:03:25  <superbee> mtreinish: but we process quickly enough with one so might as well reduce the chance of having it explode
2015-03-06T00:03:55  <openstackgerrit> Ian Wienand proposed openstack-infra/nodepool: Add config validation option  https://review.openstack.org/161952
2015-03-06T00:04:12  *** achanda has quit IRC
2015-03-06T00:04:19  <mtreinish> superbee: yeah, using 1 is the right way to do it. I was just pointing it out
2015-03-06T00:04:46  <superbee> mtreinish: cool all done
2015-03-06T00:04:52  *** ayoung has quit IRC
2015-03-06T00:05:49  <mtreinish> superbee: cool, thanks
2015-03-06T00:06:16  <mtreinish> superbee: if you're looking at subunit2sql stuff, I've got the patch up to do the backups before we run upgrades
2015-03-06T00:08:20  <openstackgerrit> Ian Wienand proposed openstack-infra/nodepool: Add config validation option  https://review.openstack.org/161952
2015-03-06T00:09:13  <superbee> ianw: thats a lot of yaml :)
2015-03-06T00:09:52  <devananda> jogo: in test runs of services, are clients being installed from trunk or pip?
2015-03-06T00:10:03  <superbee> mtreinish: does the db-manage script not use the same my.conf?
2015-03-06T00:10:14  <devananda> jogo: and is it different between master branch of services, and their stable branch(es)?
2015-03-06T00:10:23  <superbee> mtreinish: I guess not since the manage script is all python/alembic
2015-03-06T00:10:37  <mtreinish> superbee: no the formats are different. One's an oslo.config thing the others the mysql thing
2015-03-06T00:10:38  <superbee> devananda: pip for most jobs
2015-03-06T00:10:43  <mtreinish> they're close but different
2015-03-06T00:10:51  <superbee> devananda: and thats not different for the branches
2015-03-06T00:10:55  <devananda> superbee: that's what I thought, thanks. any plans to change that? (please say no)
2015-03-06T00:10:56  *** ZZelle has quit IRC
2015-03-06T00:11:12  *** markvoelker has quit IRC
2015-03-06T00:11:18  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T00:11:18  *** ZZelle has joined #openstack-infra
2015-03-06T00:11:19  <superbee> devananda: there are however jobs for the clients themselves that install from source
2015-03-06T00:11:26  <superbee> devananda: I don't think there are plans.
2015-03-06T00:11:28  <devananda> superbee: naturally
2015-03-06T00:11:32  <devananda> ok, great
2015-03-06T00:11:36  <devananda> that's the sanity I was hoping for :)
2015-03-06T00:11:44  <bkero> So what exactly is the Monty fact? http://puppetboard.openstack.org/fact/monty
2015-03-06T00:12:05  <ianw> superbee: just copies of the real config file ... though some might argue that's a lot of yaml too
2015-03-06T00:12:26  *** dangers is now known as dangers_away
2015-03-06T00:12:37  <mtreinish> mmedvede: that's probably as good as any other method. I assume that site just puts the inbound address in the response body
2015-03-06T00:13:01  <SpamapS> mordred: I'm thinking that with shade we might want to say if you don't pass cache_interval that we shouldn't do any caching. Thoughts?
2015-03-06T00:13:25  <mordred> SpamapS: that's an excellent idea
2015-03-06T00:13:49  *** Sukhdev has quit IRC
2015-03-06T00:13:57  <openstackgerrit> Merged openstack-infra/subunit2sql: Add microsecond columns to the test_runs table  https://review.openstack.org/160057
2015-03-06T00:14:00  <superbee> ianw: it is I was mostly being silly, the initial diff numbers caught my eye
2015-03-06T00:14:00  <SpamapS> mordred: because otherwise we have a memory leak waiting for every casual user of shade. :-P
2015-03-06T00:14:24  <mordred> SpamapS: I would like to subscribe to your newsletter
2015-03-06T00:14:39  <superbee> bkero: "blerg"
2015-03-06T00:14:40  * SpamapS writes patch
2015-03-06T00:14:53  <bkero> superbee: blerg, obviously
2015-03-06T00:15:04  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Normalize Gerrit projects.yaml  https://review.openstack.org/161954
2015-03-06T00:15:04  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Wrap projects.yaml at 80 characters  https://review.openstack.org/161955
2015-03-06T00:15:05  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Remove upstreams from projects.yaml  https://review.openstack.org/161956
2015-03-06T00:15:05  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Propose projects.yaml normalization daily  https://review.openstack.org/161957
2015-03-06T00:15:15  <devananda> gertty crashed. booo.
2015-03-06T00:15:35  <jeblair> devananda: current master?
2015-03-06T00:15:38  <superbee> mtreinish: commented
2015-03-06T00:15:44  <devananda> jeblair: latest pip
2015-03-06T00:15:54  <devananda> jeblair: it's a rare enough event that I felt it worth comment
2015-03-06T00:16:03  <devananda> also, it lost a several-paragraph review that I was working on...
2015-03-06T00:16:18  <devananda> jeblair: possibly because I touched my screen (it's a touch screen)
2015-03-06T00:16:27  <jeblair> devananda: ok.  lots of crashing bugs are fixed in latest master; a few are still documented at https://storyboard.openstack.org/#!/project/698
2015-03-06T00:16:47  <jogo> devananda:AFAIK pip
2015-03-06T00:16:54  <jogo> but its easy to check in pip-freeze
2015-03-06T00:16:59  *** ivar-laz_ has joined #openstack-infra
2015-03-06T00:17:05  *** patri394 has quit IRC
2015-03-06T00:17:05  *** patri767 has quit IRC
2015-03-06T00:17:05  *** patri755 has quit IRC
2015-03-06T00:17:05  *** patri832 has quit IRC
2015-03-06T00:17:05  *** patri460 has quit IRC
2015-03-06T00:17:05  *** patri192 has quit IRC
2015-03-06T00:17:06  <jeblair> devananda: (and i'm going to release a new version tomorrow, so it'll be on pip then)
2015-03-06T00:17:07  <nibalizer> jeblair: awesome
2015-03-06T00:17:18  <devananda> jogo: cool, thx
2015-03-06T00:17:44  *** ivar-lazzaro has quit IRC
2015-03-06T00:18:01  <devananda> jeblair: yay fixes!
2015-03-06T00:18:17  <mtreinish> mmedvede: I'm just really surprised they wouldn't be masquerading the outbound. It's not like it's routable from outside the firewall (unless you guys have changed how things are setup)
2015-03-06T00:18:30  <mtreinish> superbee: thanks, I'll respin it quickly
2015-03-06T00:19:51  <mmedvede> mtreinish: I never asked that question until today
2015-03-06T00:20:09  *** patrickeast_ has joined #openstack-infra
2015-03-06T00:20:11  *** patrickeast__ has joined #openstack-infra
2015-03-06T00:20:12  *** patri851 has joined #openstack-infra
2015-03-06T00:20:12  *** patri601 has joined #openstack-infra
2015-03-06T00:20:13  *** patri466 has joined #openstack-infra
2015-03-06T00:20:13  *** pc_m has joined #openstack-infra
2015-03-06T00:20:13  *** patri796 has joined #openstack-infra
2015-03-06T00:21:11  *** dboik_ has quit IRC
2015-03-06T00:22:04  *** dboik has joined #openstack-infra
2015-03-06T00:23:01  <openstackgerrit> Matthew Treinish proposed openstack-infra/puppet-subunit2sql: Add backup before running db migrations  https://review.openstack.org/160514
2015-03-06T00:23:05  <mtreinish> superbee: ^^^
2015-03-06T00:23:36  *** bhunter71 has quit IRC
2015-03-06T00:23:54  <mmedvede> mtreinish: and yes, it is still not routable from outside the firewall
2015-03-06T00:24:26  <superbee> mordred: can you maybe comment on 126747 with your ideas for how we will support that?
2015-03-06T00:24:35  <superbee> mordred: I think it is heavily dependent on dib and shade things
2015-03-06T00:24:49  *** bhunter71 has joined #openstack-infra
2015-03-06T00:26:18  <superbee> woo for rereviewing your own code
2015-03-06T00:27:01  <openstackgerrit> Clark Boylan proposed openstack-infra/puppet-jenkins: Allow for plugin pinning  https://review.openstack.org/160549
2015-03-06T00:27:30  *** stevemar has quit IRC
2015-03-06T00:28:01  *** ZZelle_ has quit IRC
2015-03-06T00:28:37  <SpamapS> mordred: why does shade.OpenStackCloud.__init__ take kwargs or things that are really clearly just more kwargs that could be static?
2015-03-06T00:28:48  <anteaya> mordred: does the gitorious information need to be updated in this patch? https://review.openstack.org/#/c/154132/
2015-03-06T00:29:01  *** claudiub has quit IRC
2015-03-06T00:29:12  <mordred> superbee: yes. thanks for that reminder
2015-03-06T00:29:16  *** crc32 has quit IRC
2015-03-06T00:29:22  *** liusheng has quit IRC
2015-03-06T00:29:32  <openstackgerrit> Spencer Krum proposed openstack-infra/project-config: Allow puppet-httpd to be publised to the forge  https://review.openstack.org/161022
2015-03-06T00:29:34  <SpamapS> mordred: there are a kind of ridiculous number of kwargs used exactly as they'd be if they were just listed.
2015-03-06T00:29:37  <mordred> SpamapS: we need to maybe sort out in shade how to list per-vendor info on image formats or something
2015-03-06T00:29:40  *** liusheng has joined #openstack-infra
2015-03-06T00:29:52  <mordred> SpamapS: most of the time it's when it's passthrough -
2015-03-06T00:30:02  <mordred> SpamapS: but it also could just be because I'm a bad person
2015-03-06T00:30:34  <SpamapS> mordred: auth, auth_token, service_type, service_name, endpoint, api_version, publicURL, private ... all just used with kwargs.get
2015-03-06T00:30:46  <mordred> SpamapS: have you seen my "clearn up parameters" patch?
2015-03-06T00:30:51  <SpamapS> mordred: yeah
2015-03-06T00:30:53  <mordred> k
2015-03-06T00:31:09  <mordred> SpamapS: so yeah, I support cleaning that up
2015-03-06T00:31:20  <SpamapS> Oh!
2015-03-06T00:31:23  <SpamapS> some of htose are there
2015-03-06T00:31:26  <SpamapS> did not connect the dots
2015-03-06T00:31:37  <mordred> we should land that
2015-03-06T00:31:43  <mordred> it'll make reasoning easier
2015-03-06T00:32:24  *** _shaps_ has quit IRC
2015-03-06T00:32:31  <mordred> superbee: could you take a peek at 160184 and its parent 160183 ?
2015-03-06T00:32:38  <superbee> mordred: sure
2015-03-06T00:32:53  <SpamapS> mordred: I'm going to rebase on that for my "don't cache if no interval is passed" patch.
2015-03-06T00:33:20  *** sdake_ has quit IRC
2015-03-06T00:33:42  <SpamapS> we should also land unit tests and functional tests. :)
2015-03-06T00:34:10  <openstackgerrit> Merged openstack-infra/project-config: Add bashate job for release-tools  https://review.openstack.org/160419
2015-03-06T00:34:30  *** sdake_ has joined #openstack-infra
2015-03-06T00:35:16  <mordred> SpamapS: ++
2015-03-06T00:35:52  <mordred> superbee: also, yes, patch #2 has a breaking interface change. to my knowledge nothing has landed anywhere that consumes the old interface and I'd like to clean it before we can't
2015-03-06T00:36:16  <superbee> people that know apache better than I should read 161165
2015-03-06T00:36:23  *** pc_m has quit IRC
2015-03-06T00:36:23  <openstackgerrit> Adam Gandelman proposed openstack-infra/project-config: Add expiremental plugin based ironic+ironicclient functional jobs  https://review.openstack.org/161483
2015-03-06T00:40:52  <superbee> its funny that spamaps always pokes mordred for tests expecting mordred to even consider writing them
2015-03-06T00:41:02  <openstackgerrit> Clint 'SpamapS' Byrum proposed openstack-infra/shade: Disable dogpile.cache if cache_interval is None  https://review.openstack.org/161963
2015-03-06T00:41:11  *** achanda has joined #openstack-infra
2015-03-06T00:41:19  <SpamapS> superbee: actually I wrote them and want to land them. :)
2015-03-06T00:41:27  <superbee> also I was told that shade is not being rigidly tested and as a reviewer I should assume the author has tested
2015-03-06T00:41:30  <SpamapS> superbee: and rcarrillocruz also wrote some and wants to land them. :)
2015-03-06T00:41:43  <superbee> SpamapS: those are orthogonal
2015-03-06T00:41:44  <SpamapS> superbee: shade's growing up. :)
2015-03-06T00:42:05  <superbee> er orthogonal to ^
2015-03-06T00:42:29  <SpamapS> superbee: oh I thought we were talking about my comment that we should also land unit tests and functional tests. :)
2015-03-06T00:42:40  <superbee> no reviewing changes and you are poking for tests :)
2015-03-06T00:42:50  <superbee> I don't think its a bad thing, but I also know mordred won't write them :)
2015-03-06T00:42:55  <SpamapS> I was poking you indirectly.
2015-03-06T00:43:04  <superbee> I know
2015-03-06T00:43:08  <SpamapS> poke poke
2015-03-06T00:43:10  <SpamapS> poke
2015-03-06T00:43:12  <superbee> I thought I had reviewed rcarrillocruz's stuff
2015-03-06T00:43:16  <superbee> and debugged d-g for him
2015-03-06T00:43:36  <mordred> superbee: I am actually working on some os-client-config tests
2015-03-06T00:43:38  <superbee> speaking of I should show that fix to sdague to see if he knows what is going on there
2015-03-06T00:43:39  *** shivharis has quit IRC
2015-03-06T00:43:51  *** shivharis has joined #openstack-infra
2015-03-06T00:43:51  <SpamapS> oohhhh burn
2015-03-06T00:43:56  <mordred> superbee: but mostly just to confuse you
2015-03-06T00:44:27  *** dims has quit IRC
2015-03-06T00:45:11  *** shivharis has quit IRC
2015-03-06T00:45:19  <openstackgerrit> Merged openstack-infra/shade: Align cert, key, cacert and verify with requests  https://review.openstack.org/160183
2015-03-06T00:45:33  *** ivar-laz_ has quit IRC
2015-03-06T00:45:43  *** MarkAtwood has joined #openstack-infra
2015-03-06T00:45:52  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T00:46:01  *** achanda has quit IRC
2015-03-06T00:47:26  <devananda> jogo, superbee: either of you have a moment to sanity-check my statements about how microversions should interact with the gate? https://etherpad.openstack.org/p/oHVxTVRFix
2015-03-06T00:47:41  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Create a job template for tempest on devstack plugins  https://review.openstack.org/161965
2015-03-06T00:48:08  <devananda> background is folks disagreeing on whether python-ironicclient should, by default, send the greatest API version that was known about at the time it was released -- or if it should not send ANY header at all unless explicitly told to
2015-03-06T00:48:31  <devananda> that will directly affect how we test the interaction between nova and Ironic. and, of course, users.
2015-03-06T00:48:35  <superbee> shouldn't the client as the remote end instead of the other way around?
2015-03-06T00:48:54  *** ivar-lazzaro has quit IRC
2015-03-06T00:49:04  <devananda> remote end supports a range of versions
2015-03-06T00:49:07  <superbee> thats just me thinking out loud that it is better for clients to be forgiving to the servers
2015-03-06T00:49:15  <superbee> devananda: ya so it should return that to the client and client picks best one
2015-03-06T00:49:30  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T00:49:42  <superbee> so that we can avoid the glanceclient issue of "I'm gonna use v1 and only v1 and everything else is a user nightmare"
2015-03-06T00:49:46  <devananda> or the client says to the server "here's the version I want" and if the server supports that, it adheres to it
2015-03-06T00:50:06  <superbee> devananda: ya thats what glanceclient does and it doesn't work
2015-03-06T00:50:24  <devananda> and if the server does not support that, then the client interprets the headers and tries to ask for something the server does support
2015-03-06T00:50:42  <mtreinish> superbee: version discovery is broken in more than just glance fwiw :)
2015-03-06T00:50:46  <devananda> superbee: so i'm talking about microversions, not /v1/ vs /v2/
2015-03-06T00:50:52  *** signed8bit is now known as signed8bit_ZZZzz
2015-03-06T00:50:54  <superbee> devananda: its the same difference really
2015-03-06T00:51:00  <devananda> superbee: not really
2015-03-06T00:51:03  <superbee> devananda: you are negotiating "a" version
2015-03-06T00:51:10  <superbee> what type of version isn't really important
2015-03-06T00:51:16  <mordred> the biggest question is whether you're asking the developer using the library to request a version
2015-03-06T00:51:21  <mordred> if you are doing that, you are losing
2015-03-06T00:51:30  <devananda> though if the client defaults to always ask for v1.0, it is going to re-create the same problem
2015-03-06T00:51:32  <superbee> mordred: yes that is what this would implicitly do
2015-03-06T00:51:32  <mordred> if you are not, and it's transparent - DONT CARE
2015-03-06T00:51:46  <superbee> mordred: by installing a specific client you are requesting a specific version
2015-03-06T00:51:50  <mordred> wait - what?
2015-03-06T00:52:02  <superbee> mordred: read scrollback
2015-03-06T00:52:03  <mordred> there is someone suggesting that we install a specific client version to talk to a cloud?
2015-03-06T00:52:09  <superbee> mordred: not quite
2015-03-06T00:52:16  <devananda> mordred: that is definitely true. also, if the client defaults to oldest version, it means we can't effectively ever expect any other openstack project to use a newer version
2015-03-06T00:52:20  <devananda> like nova talking to ironic
2015-03-06T00:52:30  <mordred> devananda: let me suggest something different
2015-03-06T00:52:31  <devananda> which is where the present debate (in our team) arose from
2015-03-06T00:52:39  *** rmcall has quit IRC
2015-03-06T00:52:43  <superbee> mordred: but similar to how glanceclient works the idea here seems to be if you install fooclient version X it will use the corresponding api version Y to talk to server
2015-03-06T00:52:51  <superbee> though at least there seems to be an attempt to negotiate
2015-03-06T00:53:04  <superbee> but I think thats more work, client should say "what do you support" then pick
2015-03-06T00:53:04  <devananda> superbee: right - that's basically what I'm outlining in the 'pad I linked
2015-03-06T00:53:06  <mordred> devananda: the client, by default, will always know the greatest API version that it knows about
2015-03-06T00:53:11  <mordred> because it can't not know that
2015-03-06T00:53:12  <devananda> mordred: right
2015-03-06T00:53:23  <devananda> link again -- https://etherpad.openstack.org/p/oHVxTVRFix :)
2015-03-06T00:53:34  <mordred> it should request that, but be able to accept all previous versions that the server sends back
2015-03-06T00:53:38  <devananda> mordred: if you disagree with what i'm saying three, I'd like to know why
2015-03-06T00:53:57  <mordred> then, if if the user tries to use a feature that the server does nto requests, there should be a "oh, hi, your server does not support this feature" error
2015-03-06T00:54:13  <mordred> but if it's a feature that just had a different rest api semantic, the client should do the right thing
2015-03-06T00:54:27  <adam_g> devananda, fwiw that testing plan in the pad looks sane to me. im actually putting together the barebones infra for the functional client testing now
2015-03-06T00:54:50  <devananda> also there is a lengthy spec up that descibes the different scenarios involved... since engineers want to describe every possible interaction :) https://review.openstack.org/#/c/161110/
2015-03-06T00:54:59  <superbee> my only request is that as a user I never have to tell my client to use a specific version or install a specific version of the client to get the previous result
2015-03-06T00:55:01  <devananda> adam_g: k, thanks
2015-03-06T00:55:10  <devananda> superbee: ++
2015-03-06T00:55:15  <mordred> superbee: ++
2015-03-06T00:55:16  <superbee> as far as designing how that works I think you shove the logic in the client
2015-03-06T00:55:19  *** ddieterly has joined #openstack-infra
2015-03-06T00:55:37  <mordred> other than taht, I think microversions are a mistake
2015-03-06T00:55:48  <mordred> and I thnk they are developers wanking themselves
2015-03-06T00:55:55  <devananda> superbee: my goal, for a server and client within reasonable temporal distance (what ever we deem supportable) they will auto-negotiate, with as few round-trips as possible, the greatest common version
2015-03-06T00:55:57  <mordred> and not solving problems that users have
2015-03-06T00:56:02  <jogo> devananda: looking
2015-03-06T00:56:07  <mordred> API versions are bull
2015-03-06T00:56:10  <mordred> they solve nothing
2015-03-06T00:56:12  <mordred> they break users
2015-03-06T00:56:16  <mordred> they are a waste of time
2015-03-06T00:56:26  <mordred> as is, btw, semver
2015-03-06T00:56:43  <devananda> mordred: they allow applications that talk to a versioned service to choose when to upgrade to the next version of the API
2015-03-06T00:56:45  <superbee> devananda: the only danger that immediately pops out with your test plan that I see is if you break that feature after merging it into the client but before releasing the client
2015-03-06T00:56:47  <mordred> meh
2015-03-06T00:56:55  <mordred> nobody wants to upgrade to the next version of the API
2015-03-06T00:56:57  <superbee> devananda: there is a race there, I guess its up to ou to decide how dangerous it is
2015-03-06T00:56:57  <mordred> they want to do work
2015-03-06T00:57:10  <devananda> superbee: good point. i think i'm willing to accept that
2015-03-06T00:57:11  <mordred> the question is "does my cloud support me uploading an image"
2015-03-06T00:57:22  <superbee> devananda: I will note it on the etherpad for ease of findability
2015-03-06T00:57:24  <mordred> the question is not "does my cloud run v1 or v2 or v2.1.1"
2015-03-06T00:57:33  <devananda> superbee: as it is, we aren't testing many things, because nova is effecetively pinned to the API that we had in stable/juno
2015-03-06T00:57:38  <mordred> literally no developer ahs ever cared about the verion
2015-03-06T00:57:38  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Remove upstreams from projects.yaml  https://review.openstack.org/161956
2015-03-06T00:57:39  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Propose projects.yaml normalization daily  https://review.openstack.org/161957
2015-03-06T00:57:39  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Normalize Gerrit projects.yaml  https://review.openstack.org/161954
2015-03-06T00:57:39  <openstackgerrit> James E. Blair proposed openstack-infra/project-config: Wrap projects.yaml at 80 characters  https://review.openstack.org/161955
2015-03-06T00:57:43  <devananda> mordred: indeed
2015-03-06T00:57:51  <mordred> the version is a very very poor way to map capabilities
2015-03-06T00:58:09  <devananda> mordred: the problem is "developers feel the need to change something in the API but dont want to break support for existing applications, however old they are"
2015-03-06T00:58:15  <devananda> mordred: "while enabling new apps to use new feature"
2015-03-06T00:58:18  <mordred> devananda: the developers should just get over it
2015-03-06T00:58:21  <mordred> honestly
2015-03-06T00:58:28  <mordred> and shoyld not change that thing
2015-03-06T00:58:45  * mordred points, once again, at libmysqlclient
2015-03-06T00:58:52  <devananda> mordred: so openstack should never grow new features? or we should only do fork-lift, wholesale changes to services. ...
2015-03-06T00:59:00  <mordred> grow new features is great
2015-03-06T00:59:04  <mordred> that doesn't break anything
2015-03-06T00:59:18  <mordred> changing existing things should just not happen
2015-03-06T00:59:28  <mordred> OR
2015-03-06T00:59:30  <mordred> if it des
2015-03-06T00:59:38  <mordred> know that it's the most painful thing that has ever happened
2015-03-06T00:59:45  <mordred> and no amount of increasing a version number will fix that
2015-03-06T00:59:58  *** ddieterly has quit IRC
2015-03-06T01:00:19  <mordred> if nova addeda  "create jellybean" api - I would not care at all
2015-03-06T01:00:32  <mordred> but when glance v2 _removes_ the ability to upload directly via the v1 api call
2015-03-06T01:00:46  <mordred> NOW I have to write a bunch of "if v1: elif v2: crap"
2015-03-06T01:01:52  *** bhunter71 has quit IRC
2015-03-06T01:02:28  *** patri466 has quit IRC
2015-03-06T01:02:28  *** patri851 has quit IRC
2015-03-06T01:02:28  *** patri601 has quit IRC
2015-03-06T01:02:28  *** patri796 has quit IRC
2015-03-06T01:02:28  *** patrickeast_ has quit IRC
2015-03-06T01:02:28  *** patrickeast__ has quit IRC
2015-03-06T01:02:34  *** otter768 has joined #openstack-infra
2015-03-06T01:02:38  *** carl_baldwin has quit IRC
2015-03-06T01:02:40  <mordred> which leads to crap like this: http://git.openstack.org/cgit/openstack-infra/shade/tree/shade/__init__.py#n583
2015-03-06T01:02:56  <mordred> my fear is taht microversions are going to make me write 100x that ^^
2015-03-06T01:03:18  <mordred> because they're goign to open the door to devs thinking they have freedom to change stuff because they told people about it
2015-03-06T01:03:27  <anteaya> superbee: any reason I should not +A enable swift logs for python-jobs? https://review.openstack.org/#/c/156521/7
2015-03-06T01:03:47  *** mikedillion has joined #openstack-infra
2015-03-06T01:03:58  <anteaya> we were holding off on team agreement which we got at last meeting
2015-03-06T01:04:07  <anteaya> any technical reason to time the merge?
2015-03-06T01:04:13  <superbee> anteaya: we need the parent to merge first, then rebuild images then merge the child
2015-03-06T01:04:41  <anteaya> okay so I can +A https://review.openstack.org/#/c/158514/7 ?
2015-03-06T01:04:53  <anteaya> you are +2
2015-03-06T01:05:24  <mordred> devananda: (reading etherpad)
2015-03-06T01:05:37  <superbee> anteaya: yes that one should be ready
2015-03-06T01:05:43  <anteaya> very good, thanks
2015-03-06T01:05:47  *** mikedillion has quit IRC
2015-03-06T01:05:57  <openstackgerrit> Adam Gandelman proposed openstack-infra/project-config: Add expiremental plugin based ironic+ironicclient functional jobs  https://review.openstack.org/161483
2015-03-06T01:06:01  <devananda> mordred: if you have time, read the spec and the comments too
2015-03-06T01:06:14  *** mikedillion has joined #openstack-infra
2015-03-06T01:06:15  <anteaya> so after images build tomorrow then look again at the python-jobs patch
2015-03-06T01:06:27  <anteaya> yes?
2015-03-06T01:06:57  *** otter768 has quit IRC
2015-03-06T01:07:14  *** MarkAtwood has quit IRC
2015-03-06T01:07:17  <anteaya> why would we add python2.6 jobs to anything? https://review.openstack.org/#/c/160928/
2015-03-06T01:07:42  <anteaya> I had thought we were trying to get rid of them
2015-03-06T01:08:18  <mordred> anteaya: I think it's temporary
2015-03-06T01:08:28  <mordred> anteaya: since oslo still supports 2.6 and that library is used by oslo
2015-03-06T01:08:54  <anteaya> yes that is what the commit message says
2015-03-06T01:08:59  <anteaya> we are okay with that?
2015-03-06T01:11:30  *** teoleg has joined #openstack-infra
2015-03-06T01:12:23  <mordred> fine by me - but I'm only but one voice
2015-03-06T01:13:14  <jeblair> anteaya: i think we're okay with it until the last openstack release supporting 2.6 goes away
2015-03-06T01:13:34  <jeblair> (if it's needed)
2015-03-06T01:14:31  <jeblair> harlowja: btw, you don't have to wrap your commit messages at 50 chars, feel free to use 80 for anything after the first line :)
2015-03-06T01:15:07  <harlowja> lol
2015-03-06T01:15:12  <anteaya> mordred jeblair okay thanks
2015-03-06T01:15:17  *** ivar-laz_ has joined #openstack-infra
2015-03-06T01:15:22  <harlowja> i'm striving for 10 char lines
2015-03-06T01:15:23  <harlowja> lol
2015-03-06T01:15:31  *** ivar-laz_ has quit IRC
2015-03-06T01:15:38  *** markvoelker has joined #openstack-infra
2015-03-06T01:16:06  *** Jeba has quit IRC
2015-03-06T01:16:06  *** ivar-laz_ has joined #openstack-infra
2015-03-06T01:16:21  *** fandi has joined #openstack-infra
2015-03-06T01:16:25  <anteaya> have you tried kanji?
2015-03-06T01:16:53  <harlowja> hakiu u say
2015-03-06T01:17:01  <harlowja> u want me to write all my commit messages as haiku
2015-03-06T01:17:02  <harlowja> ok then
2015-03-06T01:17:03  <harlowja> lol
2015-03-06T01:17:13  *** rwsu is now known as rwsu-afk
2015-03-06T01:17:24  <morganfainberg> harlowja, can i get a bot that rewrites all commit messages as haikus?
2015-03-06T01:17:38  <anteaya> asselin: your reply to the mailing list thread went to the third party announce list only from what I can see
2015-03-06T01:17:39  <morganfainberg> or is haiku also the plural
2015-03-06T01:17:40  <harlowja> probabably not impossible, lol
2015-03-06T01:17:41  * morganfainberg should look
2015-03-06T01:17:55  <anteaya> asselin: the parent never should have included the -announce list
2015-03-06T01:18:01  *** bhunter71 has joined #openstack-infra
2015-03-06T01:18:02  <morganfainberg> harlowja, can i also get it wired up to a speak and spell? ;)
2015-03-06T01:18:10  <harlowja> sureeee
2015-03-06T01:18:17  <morganfainberg> harlowja, awesome!
2015-03-06T01:18:22  <StevenK> morganfainberg: Pipe it to festival?
2015-03-06T01:18:32  <asselin> anteaya, hmmm...I just hit reply...
2015-03-06T01:18:36  <anteaya> asselin: oh no, it did go to -dev
2015-03-06T01:18:51  <anteaya> yeah, the author of teh original post included -announce
2015-03-06T01:18:55  <harlowja> just plug your bot into http://www.languageisavirus.com/interactive-haiku-generator.html and profit, lol
2015-03-06T01:18:57  <anteaya> so hitting reply would do the same
2015-03-06T01:18:59  *** ivar-lazzaro has quit IRC
2015-03-06T01:19:16  <anteaya> asselin: I'm going to deny the post to the -announce list and thought I would let you know
2015-03-06T01:19:19  <asselin> anteaya, ok, I canceled the request to send to annouch
2015-03-06T01:19:25  <anteaya> thanks
2015-03-06T01:19:25  <openstackgerrit> Merged openstack-infra/project-config: zuul-swift-upload support recursive globs  https://review.openstack.org/158514
2015-03-06T01:19:25  * morganfainberg goes back on the hunt for a portable laptop w/ 16GB of ram and real SSD space, and a usable screen. (portable means 13" or less)
2015-03-06T01:19:54  *** mtanino has quit IRC
2015-03-06T01:19:54  * morganfainberg wonders if anyone will make said laptop.
2015-03-06T01:20:13  <asselin> anteaya, it did go to the mailing list
2015-03-06T01:20:22  <anteaya> yes, I see it now
2015-03-06T01:20:35  <anteaya> just took my client a minute, so I checked -dev in the meantime
2015-03-06T01:20:36  <asselin> anteaya, i will be more careful next time. thanks
2015-03-06T01:20:51  <anteaya> no problem, the original issue didn't reside with you
2015-03-06T01:20:55  <anteaya> thanks for cancelling
2015-03-06T01:20:59  *** markvoelker has quit IRC
2015-03-06T01:21:44  <StevenK> morganfainberg: That would be nice.
2015-03-06T01:22:11  *** melwitt has quit IRC
2015-03-06T01:22:28  <morganfainberg> StevenK, right? i'm actually hoping the 12" MBA will have passible/usable hardware so i can use that whenever it comes out - use in this case means install linux as the main OS on it
2015-03-06T01:23:04  <superbee> mtreinish: around? what is the name of devstack's imageid 42?
2015-03-06T01:23:16  <superbee> mtreinish: is it m1.nano? and its the smallest one right?
2015-03-06T01:23:46  <superbee> mtreinish: sorry not imageid, flavorid
2015-03-06T01:23:58  *** crinkle has quit IRC
2015-03-06T01:26:31  *** tsg has quit IRC
2015-03-06T01:26:53  <openstackgerrit> Merged openstack-infra/project-config: Add python26 jobs to debtcollector  https://review.openstack.org/160928
2015-03-06T01:26:54  *** bcourt has quit IRC
2015-03-06T01:26:56  *** tsg has joined #openstack-infra
2015-03-06T01:27:56  *** teoleg has quit IRC
2015-03-06T01:28:00  *** Daisy_ has joined #openstack-infra
2015-03-06T01:28:39  *** ghostpl_ has joined #openstack-infra
2015-03-06T01:31:04  *** r-daneel has quit IRC
2015-03-06T01:32:59  *** otter768 has joined #openstack-infra
2015-03-06T01:33:10  *** bdpayne has quit IRC
2015-03-06T01:33:22  *** fandi has quit IRC
2015-03-06T01:33:40  *** fandi has joined #openstack-infra
2015-03-06T01:34:37  *** crinkle has joined #openstack-infra
2015-03-06T01:34:49  <asselin> I'm getting this error using DIB: "Package ruby1.8 is not available, but is referred to by another package." http://paste.openstack.org/show/189875/
2015-03-06T01:35:12  <asselin> Wehre are those packages defined?
2015-03-06T01:36:04  <asselin> nevermind...I found the file: devstack-gate.d/dib-manifests/dib-manifest-dpkg-devstack-gate
2015-03-06T01:36:45  *** ghostpl_ has quit IRC
2015-03-06T01:36:53  <anteaya> are you building on trusty?
2015-03-06T01:37:09  <asselin> I using precide node to build trusty image
2015-03-06T01:37:15  <anteaya> ah ha
2015-03-06T01:37:16  *** tsg has quit IRC
2015-03-06T01:37:22  <anteaya> precise had ruby1.8
2015-03-06T01:37:30  <asselin> but ruby 1.8 isn't in that file....
2015-03-06T01:37:32  <openstackgerrit> Merged openstack-infra/project-config: Fix swiftclient func tests to run using both auth versions  https://review.openstack.org/160844
2015-03-06T01:37:34  <anteaya> so that is what it would be looking for
2015-03-06T01:38:05  *** dannywilson has quit IRC
2015-03-06T01:38:15  *** ddieterly has joined #openstack-infra
2015-03-06T01:38:16  <asselin> but should dib be using the trusy packages?
2015-03-06T01:38:19  <anteaya> http://packages.ubuntu.com/trusty/ruby
2015-03-06T01:38:36  <anteaya> http://packages.ubuntu.com/precise/ruby
2015-03-06T01:38:47  <anteaya> so the clue in what it is calling it
2015-03-06T01:39:02  <anteaya> precise calls it ruby1.8 (even though it is ruby 1.9)
2015-03-06T01:39:09  <anteaya> and trusty calls it ruby
2015-03-06T01:39:13  <jesusaurus> asselin: i believe it bind-mounts the host deb cache. i dont think its possible to cross-build distros or distro versions
2015-03-06T01:39:38  * jesusaurus is not well-versed in dib
2015-03-06T01:39:42  <greghaynes> it is
2015-03-06T01:39:52  <greghaynes> both things are possible for most combinations
2015-03-06T01:40:02  *** ddieterl_ has joined #openstack-infra
2015-03-06T01:40:03  *** ddieterly has quit IRC
2015-03-06T01:40:28  <openstackgerrit> Merged openstack-infra/project-config: add python26 jobs back for compass-core  https://review.openstack.org/160251
2015-03-06T01:40:30  <asselin> is ruby the exception? anywya I see about printing some debug logging
2015-03-06T01:40:49  <greghaynes> asselin: youre building for a trusty target?
2015-03-06T01:40:57  <asselin> greghaynes, yes
2015-03-06T01:41:45  <greghaynes> asselin: huh, I cant find that 50-download-pkgs script, where did you find it?
2015-03-06T01:41:58  <greghaynes> oh nvm, found
2015-03-06T01:44:12  *** MarkAtwood has joined #openstack-infra
2015-03-06T01:44:57  <greghaynes> asselin: so http://git.openstack.org/cgit/openstack-dev/devstack/tree/files/debs is where its getting the packages to install AIUI
2015-03-06T01:45:08  <greghaynes> its a rather large collection
2015-03-06T01:45:25  <greghaynes> but something in there obviously depends on ruby1.8
2015-03-06T01:45:44  <greghaynes> I do wonder how the existing image builds dont have this issue though
2015-03-06T01:45:45  <greghaynes> superbee: ^
2015-03-06T01:46:17  <superbee> we build on trusty?
2015-03-06T01:46:38  <greghaynes> its in the chroot so it matters what you target
2015-03-06T01:46:43  <greghaynes> I think
2015-03-06T01:46:48  *** achanda has joined #openstack-infra
2015-03-06T01:46:52  <greghaynes> yea
2015-03-06T01:47:00  <superbee> also its just downloading packages not installing anything
2015-03-06T01:47:08  <superbee> so nothing should fail right?
2015-03-06T01:47:27  <greghaynes> apparently not
2015-03-06T01:47:35  <greghaynes> you do build trusty targets though?
2015-03-06T01:47:43  <superbee> yes
2015-03-06T01:47:48  <superbee> centos7, trusty, and precise
2015-03-06T01:48:17  <asselin> I see DIB is setting this up, not sure where it comes from: /home/stack/project-config/devstack-gate.d/dib-manifests
2015-03-06T01:48:50  <greghaynes> asselin: do you have a trusty vm handy?
2015-03-06T01:48:52  <asselin> greghaynes, this file has ruby in it: http://paste.openstack.org/show/189889/
2015-03-06T01:48:59  <asselin> greghaynes, yes
2015-03-06T01:49:41  <asselin> greghaynes, I think infra runs nodepool on trusty though. I'm running it on precise right now
2015-03-06T01:50:15  <greghaynes> asselin: If you edit openstack-infra/project-config/nodepool/elements/cache-devstack/install.d/50-download-pkgs you can echo out the list of packages it is attempting to install as it goes through the loop
2015-03-06T01:50:20  <greghaynes> that should tell you what is failing
2015-03-06T01:50:30  <greghaynes> er, attempting to download
2015-03-06T01:50:46  <asselin> greghaynes, yes I did that...just changed set +ex
2015-03-06T01:50:52  <asselin> running now
2015-03-06T01:51:46  <superbee> SpamapS: ok I think I have reviewed all the shade test changes
2015-03-06T01:52:26  *** MarkAtwood has quit IRC
2015-03-06T01:53:31  <openstackgerrit> Ramy Asselin proposed openstack-infra/project-config: DIB project-config scripts requires DIB_RELEASE  https://review.openstack.org/161989
2015-03-06T01:57:37  *** rkukura has quit IRC
2015-03-06T01:59:05  <mtreinish> superbee: yeah it's m1.nano
2015-03-06T01:59:55  <mtreinish> superbee: https://git.openstack.org/cgit/openstack-dev/devstack/tree/lib/tempest#n193
2015-03-06T02:00:24  *** ashleighfarnham has quit IRC
2015-03-06T02:00:55  <superbee> mtreinish thanks
2015-03-06T02:02:01  *** mikedillion has quit IRC
2015-03-06T02:04:44  *** ChuckC has quit IRC
2015-03-06T02:04:58  *** tiswanso has joined #openstack-infra
2015-03-06T02:05:26  *** ChuckC has joined #openstack-infra
2015-03-06T02:05:31  *** tiswanso has quit IRC
2015-03-06T02:05:45  *** tiswanso has joined #openstack-infra
2015-03-06T02:08:19  *** stevemar has joined #openstack-infra
2015-03-06T02:08:48  *** tiswanso has quit IRC
2015-03-06T02:09:22  *** tiswanso has joined #openstack-infra
2015-03-06T02:09:50  *** rkukura has joined #openstack-infra
2015-03-06T02:14:03  *** tsg has joined #openstack-infra
2015-03-06T02:14:39  *** oomichi has quit IRC
2015-03-06T02:16:20  *** ivar-laz_ has quit IRC
2015-03-06T02:16:25  <anteaya> greghaynes: so I commented on https://review.openstack.org/#/c/157554/
2015-03-06T02:16:38  <anteaya> greghaynes: I am unable to see what benefit your patch is offering
2015-03-06T02:17:08  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T02:17:11  *** markvoelker has joined #openstack-infra
2015-03-06T02:17:12  *** crc32 has joined #openstack-infra
2015-03-06T02:17:49  <anteaya> but it is expanding
2015-03-06T02:17:56  *** baoli has joined #openstack-infra
2015-03-06T02:18:10  *** signed8bit_ZZZzz is now known as signed8bit
2015-03-06T02:19:14  *** signed8bit has quit IRC
2015-03-06T02:20:14  *** weshay has quit IRC
2015-03-06T02:21:52  *** markvoelker has quit IRC
2015-03-06T02:22:49  <openstackgerrit> Merged openstack-infra/project-config: skip rerunning requirements changes in devstack  https://review.openstack.org/156214
2015-03-06T02:23:10  *** vilobhmm2 has quit IRC
2015-03-06T02:23:34  *** vilobhmm1 has joined #openstack-infra
2015-03-06T02:23:34  *** ivar-lazzaro has quit IRC
2015-03-06T02:24:22  <greghaynes> anteaya: If export NODEPOOL_STATIC_NAMESERVER='1.2.3.4' then that value will be set for your resolv.conf rather than 8.8.8.8
2015-03-06T02:24:28  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T02:25:29  *** dmsimard_away is now known as dmsimard
2015-03-06T02:25:49  <anteaya> okay
2015-03-06T02:25:56  *** ivar-lazzaro has quit IRC
2015-03-06T02:26:37  <greghaynes> Which is important if you want to, for example, use a mirror that only has dns entries on an internal dns server
2015-03-06T02:26:59  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T02:27:23  <anteaya> okay
2015-03-06T02:27:36  *** yamamoto has joined #openstack-infra
2015-03-06T02:27:56  <anteaya> and 8.8.8.8 remains the default and can now be overridden
2015-03-06T02:28:02  <greghaynes> yep
2015-03-06T02:28:34  <anteaya> if you export a different value in the environment
2015-03-06T02:28:41  <anteaya> okay, i'm starting to see that
2015-03-06T02:29:18  <greghaynes> Yea, the bash for it is pretty obtuse, but ${VAR:-default} expands to $VAR if VAR is set else default
2015-03-06T02:29:53  <anteaya> okay thanks
2015-03-06T02:30:06  <anteaya> I've commented again saying you have answered my questions
2015-03-06T02:30:11  <greghaynes> :)
2015-03-06T02:30:20  <anteaya> but I don't know enough about nodepool internals to vote on the patch
2015-03-06T02:30:23  <anteaya> so thanks
2015-03-06T02:30:25  <anteaya> :)
2015-03-06T02:35:03  *** dmsimard is now known as dmsimard_away
2015-03-06T02:36:59  *** camunoz is now known as camunoz_afk
2015-03-06T02:38:29  <anteaya> okay if you haven't seen this one yet: http://i.imgur.com/9hRi2jN.gifv
2015-03-06T02:38:29  <openstackgerrit> Brian Hunter proposed openstack-infra/nodepool: Pretty Age in nodepool list  https://review.openstack.org/161994
2015-03-06T02:38:38  *** ddieterly has joined #openstack-infra
2015-03-06T02:39:03  *** tsg has quit IRC
2015-03-06T02:41:33  *** camunoz_afk is now known as camunoz
2015-03-06T02:41:34  *** ddieterl_ has quit IRC
2015-03-06T02:43:30  *** baoli has quit IRC
2015-03-06T02:44:44  *** ddieterl_ has joined #openstack-infra
2015-03-06T02:45:03  *** ddieterly has quit IRC
2015-03-06T02:48:58  <openstackgerrit> Joshua Hesketh proposed openstack-infra/project-config: zuul-swift-upload place mime icon into cell  https://review.openstack.org/161995
2015-03-06T02:50:36  *** jerryz_ has joined #openstack-infra
2015-03-06T02:55:16  *** vilobhmm1 has quit IRC
2015-03-06T02:56:26  *** ChuckC_ has joined #openstack-infra
2015-03-06T02:57:30  *** rfolco has joined #openstack-infra
2015-03-06T02:58:02  *** rmcall has joined #openstack-infra
2015-03-06T02:59:40  *** ChuckC has quit IRC
2015-03-06T03:00:58  *** ashleighfarnham has joined #openstack-infra
2015-03-06T03:01:40  *** nelsnelson has joined #openstack-infra
2015-03-06T03:02:37  *** baoli has joined #openstack-infra
2015-03-06T03:05:02  *** radez is now known as radez_g0n3
2015-03-06T03:07:55  *** unicell has quit IRC
2015-03-06T03:09:15  *** rfolco has quit IRC
2015-03-06T03:12:05  *** yamahata has quit IRC
2015-03-06T03:16:46  *** ivar-lazzaro has quit IRC
2015-03-06T03:18:20  *** markvoelker has joined #openstack-infra
2015-03-06T03:19:15  *** ayoung has joined #openstack-infra
2015-03-06T03:20:59  *** rmcall has quit IRC
2015-03-06T03:21:01  *** ghostpl_ has joined #openstack-infra
2015-03-06T03:22:47  *** markvoelker has quit IRC
2015-03-06T03:25:52  *** ghostpl_ has quit IRC
2015-03-06T03:27:09  *** ChuckC_ is now known as ChuckC
2015-03-06T03:30:24  *** woodster_ has quit IRC
2015-03-06T03:30:52  *** dimtruck is now known as zz_dimtruck
2015-03-06T03:34:27  *** ashleighfarnham has quit IRC
2015-03-06T03:36:37  *** rkukura has quit IRC
2015-03-06T03:39:34  *** nelsnelson has quit IRC
2015-03-06T03:42:51  *** baoli has quit IRC
2015-03-06T03:44:35  *** david-lyle is now known as david-lyle_afk
2015-03-06T03:44:39  *** hdd_ has joined #openstack-infra
2015-03-06T03:45:24  *** ddieterl_ has quit IRC
2015-03-06T03:45:54  *** ddieterly has joined #openstack-infra
2015-03-06T03:46:11  *** Daisy_ has quit IRC
2015-03-06T03:46:33  *** nelsnelson has joined #openstack-infra
2015-03-06T03:49:00  *** ayoung has quit IRC
2015-03-06T03:49:54  *** fandi has quit IRC
2015-03-06T03:50:28  *** ddieterly has quit IRC
2015-03-06T03:51:04  *** oomichi has joined #openstack-infra
2015-03-06T03:53:31  *** baoli has joined #openstack-infra
2015-03-06T03:56:32  *** nelsnelson has quit IRC
2015-03-06T03:57:07  *** harlowja is now known as harlowja_away
2015-03-06T03:57:16  *** julim has quit IRC
2015-03-06T03:57:17  *** achanda has quit IRC
2015-03-06T03:58:50  *** vilobhmm has joined #openstack-infra
2015-03-06T04:04:53  *** esker has joined #openstack-infra
2015-03-06T04:08:05  *** Longgeek has joined #openstack-infra
2015-03-06T04:10:23  *** mriedem_away has quit IRC
2015-03-06T04:11:35  *** mriedem has joined #openstack-infra
2015-03-06T04:15:34  *** BharatK has joined #openstack-infra
2015-03-06T04:16:44  *** nelsnelson has joined #openstack-infra
2015-03-06T04:16:51  *** amotoki has joined #openstack-infra
2015-03-06T04:18:42  *** Daisy_ has joined #openstack-infra
2015-03-06T04:19:11  *** markvoelker has joined #openstack-infra
2015-03-06T04:21:49  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Refactor sources out of triggers  https://review.openstack.org/118993
2015-03-06T04:21:50  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add gerrit reviews into patchset approvals  https://review.openstack.org/97390
2015-03-06T04:21:50  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for negative requirements  https://review.openstack.org/102726
2015-03-06T04:21:51  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Configure triggers dynamically  https://review.openstack.org/119534
2015-03-06T04:21:51  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for 'connection' concept  https://review.openstack.org/121528
2015-03-06T04:21:52  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for triggers  https://review.openstack.org/119532
2015-03-06T04:21:52  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for sources  https://review.openstack.org/119531
2015-03-06T04:21:53  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for reporters  https://review.openstack.org/119530
2015-03-06T04:22:40  *** alexpilotti has quit IRC
2015-03-06T04:22:58  <openstackgerrit> Joshua Hesketh proposed openstack-infra/project-config: zuul-swift-upload place mime icon into cell  https://review.openstack.org/161995
2015-03-06T04:23:59  *** gyee has quit IRC
2015-03-06T04:25:03  *** markvoelker has quit IRC
2015-03-06T04:27:52  *** tiswanso has quit IRC
2015-03-06T04:28:19  *** patrickeast has quit IRC
2015-03-06T04:28:40  *** otter768 has quit IRC
2015-03-06T04:28:59  *** baoli has quit IRC
2015-03-06T04:31:59  *** baoli has joined #openstack-infra
2015-03-06T04:38:04  *** achanda has joined #openstack-infra
2015-03-06T04:46:24  *** ddieterly has joined #openstack-infra
2015-03-06T04:48:49  *** wenlock has quit IRC
2015-03-06T04:49:13  *** koolhead17 has joined #openstack-infra
2015-03-06T04:50:53  *** ddieterly has quit IRC
2015-03-06T04:53:02  *** esker has quit IRC
2015-03-06T04:54:27  *** achanda has quit IRC
2015-03-06T05:00:47  *** esker has joined #openstack-infra
2015-03-06T05:01:19  *** vilobhmm1 has joined #openstack-infra
2015-03-06T05:01:39  <openstackgerrit> Syed Ismail Faizan Barmawer proposed openstack-infra/project-config: Adding publish-to-pypi template to ironic-lib project  https://review.openstack.org/162010
2015-03-06T05:01:48  *** ujuc has joined #openstack-infra
2015-03-06T05:04:19  *** vilobhmm has quit IRC
2015-03-06T05:06:26  *** baoli has quit IRC
2015-03-06T05:08:18  <purp> c
2015-03-06T05:09:47  *** ghostpl_ has joined #openstack-infra
2015-03-06T05:09:59  *** garyh has quit IRC
2015-03-06T05:11:09  *** deepakcs has joined #openstack-infra
2015-03-06T05:13:37  *** nelsnelson has quit IRC
2015-03-06T05:16:54  *** ghostpl_ has quit IRC
2015-03-06T05:18:54  <openstackgerrit> Timothy R. Chavez proposed openstack-infra/shade: Add 'rebuild' to shade  https://review.openstack.org/161067
2015-03-06T05:20:11  *** ashleighfarnham has joined #openstack-infra
2015-03-06T05:20:23  *** oomichi has quit IRC
2015-03-06T05:21:12  *** dannywilson has joined #openstack-infra
2015-03-06T05:21:14  *** markvoelker has joined #openstack-infra
2015-03-06T05:24:56  *** ashleighfarnham has quit IRC
2015-03-06T05:25:35  *** dannywilson has quit IRC
2015-03-06T05:26:01  *** markvoelker has quit IRC
2015-03-06T05:27:50  *** vilobhmm1 has quit IRC
2015-03-06T05:29:49  <lifeless> I just did a stupid - sorry. (released unittest2 1.0.0 on my friday)
2015-03-06T05:29:52  *** esker has quit IRC
2015-03-06T05:30:10  <lifeless> however its done. So if there is fallout, I'll make sure I can help.
2015-03-06T05:32:36  *** sdake_ has quit IRC
2015-03-06T05:33:29  *** esker has joined #openstack-infra
2015-03-06T05:41:27  *** bhunter71 has quit IRC
2015-03-06T05:47:11  *** ddieterly has joined #openstack-infra
2015-03-06T05:51:51  *** ddieterly has quit IRC
2015-03-06T05:56:18  *** achanda has joined #openstack-infra
2015-03-06T05:56:59  *** yfried has joined #openstack-infra
2015-03-06T06:00:59  *** esker has quit IRC
2015-03-06T06:02:36  *** resker has joined #openstack-infra
2015-03-06T06:03:10  *** _nadya_ has joined #openstack-infra
2015-03-06T06:04:30  *** michchap has quit IRC
2015-03-06T06:04:46  *** michchap has joined #openstack-infra
2015-03-06T06:05:34  *** xyang1 has quit IRC
2015-03-06T06:05:36  *** michchap has quit IRC
2015-03-06T06:06:46  *** michchap has joined #openstack-infra
2015-03-06T06:09:10  *** armax has quit IRC
2015-03-06T06:11:34  *** coolsvap_ has quit IRC
2015-03-06T06:13:24  *** Bsony has joined #openstack-infra
2015-03-06T06:13:24  *** ghostpl_ has joined #openstack-infra
2015-03-06T06:17:52  *** Bsony has quit IRC
2015-03-06T06:18:04  *** ghostpl_ has quit IRC
2015-03-06T06:18:12  *** HeOS has quit IRC
2015-03-06T06:22:00  *** mfink_ has joined #openstack-infra
2015-03-06T06:22:16  *** markvoelker has joined #openstack-infra
2015-03-06T06:24:22  *** unicell has joined #openstack-infra
2015-03-06T06:27:47  *** markvoelker has quit IRC
2015-03-06T06:28:30  <openstackgerrit> Merged openstack-infra/project-config: Remove devstack-plugins group  https://review.openstack.org/161917
2015-03-06T06:29:38  *** otter768 has joined #openstack-infra
2015-03-06T06:32:12  *** mrmartin has joined #openstack-infra
2015-03-06T06:34:02  *** otter768 has quit IRC
2015-03-06T06:34:58  *** _nadya_ has quit IRC
2015-03-06T06:39:49  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Only run manuals niceness checks as needed  https://review.openstack.org/162032
2015-03-06T06:39:50  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Make manual checklang target voting  https://review.openstack.org/162033
2015-03-06T06:39:50  *** Longgeek has quit IRC
2015-03-06T06:41:11  *** mfink_ has quit IRC
2015-03-06T06:43:02  *** jyuso1 has joined #openstack-infra
2015-03-06T06:47:11  *** mrunge has joined #openstack-infra
2015-03-06T06:48:20  *** tnovacik has joined #openstack-infra
2015-03-06T06:48:34  <openstackgerrit> yolanda.robla proposed openstack-infra/puppet-cgit: Add configurable Timeout settings on git vhost  https://review.openstack.org/160871
2015-03-06T06:48:38  *** ddieterly has joined #openstack-infra
2015-03-06T06:51:12  <openstackgerrit> yolanda.robla proposed openstack-infra/puppet-gerrit: Add logging to fetchremotes call  https://review.openstack.org/161663
2015-03-06T06:51:32  *** hdd_ has quit IRC
2015-03-06T06:52:44  *** ddieterly has quit IRC
2015-03-06T06:54:07  *** unicell has quit IRC
2015-03-06T06:54:08  *** mrmartin has quit IRC
2015-03-06T06:54:20  *** vilobhmm has joined #openstack-infra
2015-03-06T06:54:38  *** phschwartz has quit IRC
2015-03-06T06:54:45  *** unicell has joined #openstack-infra
2015-03-06T06:57:22  *** phschwartz has joined #openstack-infra
2015-03-06T06:57:31  *** Bsony has joined #openstack-infra
2015-03-06T07:00:19  *** yamahata has joined #openstack-infra
2015-03-06T07:15:36  *** _nadya_ has joined #openstack-infra
2015-03-06T07:16:05  *** jamielennox is now known as jamielennox|away
2015-03-06T07:18:03  *** _nadya_ has quit IRC
2015-03-06T07:18:58  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T07:19:38  *** Longgeek has joined #openstack-infra
2015-03-06T07:22:39  *** ivar-lazzaro has quit IRC
2015-03-06T07:22:50  *** mrmartin has joined #openstack-infra
2015-03-06T07:23:49  *** yamahata has quit IRC
2015-03-06T07:24:18  *** markvoelker has joined #openstack-infra
2015-03-06T07:27:03  *** scheuran has joined #openstack-infra
2015-03-06T07:29:27  *** markvoelker has quit IRC
2015-03-06T07:33:35  *** hichihara has quit IRC
2015-03-06T07:36:41  *** Bsony has quit IRC
2015-03-06T07:39:25  *** vilobhmm has quit IRC
2015-03-06T07:43:59  *** Longgeek has quit IRC
2015-03-06T07:44:22  *** teran_ has joined #openstack-infra
2015-03-06T07:44:23  *** achanda has quit IRC
2015-03-06T07:44:40  *** achanda has joined #openstack-infra
2015-03-06T07:46:21  *** teran has quit IRC
2015-03-06T07:47:03  *** mriedem has quit IRC
2015-03-06T07:47:15  *** mriedem has joined #openstack-infra
2015-03-06T07:47:22  <GheRivero> morning all
2015-03-06T07:48:23  *** achanda has quit IRC
2015-03-06T07:49:04  *** ddieterly has joined #openstack-infra
2015-03-06T07:50:14  *** liusheng has quit IRC
2015-03-06T07:50:42  *** HeOS has joined #openstack-infra
2015-03-06T07:51:08  *** liusheng has joined #openstack-infra
2015-03-06T07:52:23  *** mpavone has joined #openstack-infra
2015-03-06T07:52:38  *** hamzy has quit IRC
2015-03-06T07:53:22  *** ddieterly has quit IRC
2015-03-06T07:54:23  *** camunoz has quit IRC
2015-03-06T07:58:09  *** mrmartin has quit IRC
2015-03-06T07:58:36  *** jerryz_ has quit IRC
2015-03-06T07:59:02  *** jerryz_ has joined #openstack-infra
2015-03-06T07:59:54  *** hamzy has joined #openstack-infra
2015-03-06T08:01:12  *** jcoufal has joined #openstack-infra
2015-03-06T08:01:46  *** zul has quit IRC
2015-03-06T08:01:55  *** markus_z has joined #openstack-infra
2015-03-06T08:01:59  *** ghostpl_ has joined #openstack-infra
2015-03-06T08:03:00  *** mrunge has quit IRC
2015-03-06T08:04:04  *** MaxV has joined #openstack-infra
2015-03-06T08:05:02  *** achanda has joined #openstack-infra
2015-03-06T08:07:54  *** teran has joined #openstack-infra
2015-03-06T08:09:49  *** ghostpl_ has quit IRC
2015-03-06T08:10:00  *** teran_ has quit IRC
2015-03-06T08:11:08  *** ashleighfarnham has joined #openstack-infra
2015-03-06T08:11:41  *** chlong has quit IRC
2015-03-06T08:11:44  *** mrunge has joined #openstack-infra
2015-03-06T08:11:56  *** mrunge_ has joined #openstack-infra
2015-03-06T08:11:58  *** MaxV has quit IRC
2015-03-06T08:12:29  *** mrunge_ has quit IRC
2015-03-06T08:12:29  *** mrunge has quit IRC
2015-03-06T08:13:38  *** mrunge has joined #openstack-infra
2015-03-06T08:13:55  *** SumitNaiksatam has quit IRC
2015-03-06T08:14:37  *** zul has joined #openstack-infra
2015-03-06T08:16:09  *** michchap has quit IRC
2015-03-06T08:16:14  *** SumitNaiksatam has joined #openstack-infra
2015-03-06T08:16:31  *** ashleighfarnham has quit IRC
2015-03-06T08:16:52  *** luqas__ has joined #openstack-infra
2015-03-06T08:18:32  *** MaxV has joined #openstack-infra
2015-03-06T08:22:28  *** krtaylor has quit IRC
2015-03-06T08:25:46  *** markvoelker has joined #openstack-infra
2015-03-06T08:27:12  *** unicell1 has joined #openstack-infra
2015-03-06T08:28:11  *** MaxV has quit IRC
2015-03-06T08:28:37  *** MaxV has joined #openstack-infra
2015-03-06T08:29:08  *** devvesa has joined #openstack-infra
2015-03-06T08:29:23  *** unicell has quit IRC
2015-03-06T08:30:31  *** notmyname has quit IRC
2015-03-06T08:30:31  *** devvesa has quit IRC
2015-03-06T08:30:31  *** otter768 has joined #openstack-infra
2015-03-06T08:31:41  *** markvoelker has quit IRC
2015-03-06T08:33:26  *** MaxV has quit IRC
2015-03-06T08:35:07  *** otter768 has quit IRC
2015-03-06T08:35:41  *** krtaylor has joined #openstack-infra
2015-03-06T08:39:03  *** afazekas has joined #openstack-infra
2015-03-06T08:39:47  *** mpaolino has joined #openstack-infra
2015-03-06T08:39:57  *** mpavone_ has joined #openstack-infra
2015-03-06T08:40:01  *** scheuran_ has joined #openstack-infra
2015-03-06T08:40:19  *** arxcruz has joined #openstack-infra
2015-03-06T08:42:21  *** stevemar has quit IRC
2015-03-06T08:43:15  <openstackgerrit> Spencer Krum proposed openstack-infra/puppet-logstash: Flesh out the readme  https://review.openstack.org/153820
2015-03-06T08:43:34  *** mpavone has quit IRC
2015-03-06T08:43:34  *** scheuran has quit IRC
2015-03-06T08:44:17  *** jlanoux has joined #openstack-infra
2015-03-06T08:46:27  *** crc32 has quit IRC
2015-03-06T08:48:57  *** dtantsur is now known as dtantsur|bbl
2015-03-06T08:49:34  *** jgrimm is now known as zz_jgrimm
2015-03-06T08:49:47  *** ddieterly has joined #openstack-infra
2015-03-06T08:49:50  *** doude has joined #openstack-infra
2015-03-06T08:51:52  <openstackgerrit> Lin Yang proposed openstack-infra/zuul: Doc: fix minor typo  https://review.openstack.org/162060
2015-03-06T08:53:15  *** Ala has joined #openstack-infra
2015-03-06T08:54:05  *** ddieterly has quit IRC
2015-03-06T08:54:23  *** achanda has quit IRC
2015-03-06T08:54:48  *** che-arne has joined #openstack-infra
2015-03-06T08:54:56  *** krtaylor has quit IRC
2015-03-06T08:55:20  *** liusheng has quit IRC
2015-03-06T08:56:02  *** liusheng has joined #openstack-infra
2015-03-06T08:56:56  *** andreykurilin_ has joined #openstack-infra
2015-03-06T08:57:33  *** Hal has joined #openstack-infra
2015-03-06T08:57:43  *** achanda has joined #openstack-infra
2015-03-06T08:57:56  *** Hal is now known as Guest16818
2015-03-06T08:58:53  *** SumitNaiksatam has quit IRC
2015-03-06T08:59:06  *** MaxV has joined #openstack-infra
2015-03-06T09:00:21  *** bradm has quit IRC
2015-03-06T09:02:54  *** jistr has joined #openstack-infra
2015-03-06T09:06:24  *** hashar has joined #openstack-infra
2015-03-06T09:09:33  *** hashar is now known as hasharConf
2015-03-06T09:10:23  *** devvesa has joined #openstack-infra
2015-03-06T09:10:34  *** yamamoto has quit IRC
2015-03-06T09:10:39  *** krtaylor has joined #openstack-infra
2015-03-06T09:12:13  *** achanda has quit IRC
2015-03-06T09:13:56  *** achanda has joined #openstack-infra
2015-03-06T09:14:17  *** achanda has quit IRC
2015-03-06T09:14:50  *** achanda has joined #openstack-infra
2015-03-06T09:18:41  <openstackgerrit> Thomas Morin proposed openstack-infra/project-config: Add networking-bagpipe-l2 project  https://review.openstack.org/161290
2015-03-06T09:19:28  *** ghostpl_ has joined #openstack-infra
2015-03-06T09:19:40  *** achanda has quit IRC
2015-03-06T09:22:38  *** bradm has joined #openstack-infra
2015-03-06T09:25:29  <openstackgerrit> Ghe Rivero proposed openstack-infra/shade: Add cover to .gitignore  https://review.openstack.org/162064
2015-03-06T09:26:21  *** SumitNaiksatam has joined #openstack-infra
2015-03-06T09:27:49  *** markvoelker has joined #openstack-infra
2015-03-06T09:31:37  *** teran has quit IRC
2015-03-06T09:32:26  *** Longgeek has joined #openstack-infra
2015-03-06T09:33:02  *** dizquierdo has joined #openstack-infra
2015-03-06T09:33:25  *** markvoelker has quit IRC
2015-03-06T09:33:43  *** ihrachyshka has joined #openstack-infra
2015-03-06T09:36:20  *** AJaeger has joined #openstack-infra
2015-03-06T09:36:40  *** jistr is now known as jistr|biab
2015-03-06T09:37:04  *** AJaeger has quit IRC
2015-03-06T09:40:11  *** jp_at_hp has joined #openstack-infra
2015-03-06T09:40:57  *** mrmartin has joined #openstack-infra
2015-03-06T09:42:11  *** koolhead17 has quit IRC
2015-03-06T09:42:34  *** aarefiev has quit IRC
2015-03-06T09:43:35  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Ensure that gerritbot channels are in accessbot  https://review.openstack.org/162070
2015-03-06T09:45:38  *** Daisy_ has quit IRC
2015-03-06T09:45:45  *** aarefiev has joined #openstack-infra
2015-03-06T09:49:15  *** teran has joined #openstack-infra
2015-03-06T09:50:34  *** ddieterly has joined #openstack-infra
2015-03-06T09:51:55  *** dizquierdo has quit IRC
2015-03-06T09:53:51  *** teran has quit IRC
2015-03-06T09:54:20  *** BobBall_AWOL is now known as BobBall
2015-03-06T09:54:24  *** mpaolino has quit IRC
2015-03-06T09:54:47  *** ssam2 has joined #openstack-infra
2015-03-06T09:55:12  *** ddieterly has quit IRC
2015-03-06T09:56:30  <kevinbenton> anteaya: hey, how can i get added to the new networking-bigswitch-core group for the repo I requested?
2015-03-06T09:57:41  *** ihrachyshka has quit IRC
2015-03-06T09:59:08  *** mrmartin has quit IRC
2015-03-06T10:01:54  *** hasharConf is now known as hashar
2015-03-06T10:06:44  *** Longgeek has quit IRC
2015-03-06T10:08:04  *** mpaolino has joined #openstack-infra
2015-03-06T10:09:52  *** e0ne has joined #openstack-infra
2015-03-06T10:11:57  *** ghostpl_ has quit IRC
2015-03-06T10:14:37  *** ghostpl_ has joined #openstack-infra
2015-03-06T10:14:44  *** Longgeek has joined #openstack-infra
2015-03-06T10:18:13  *** andreykurilin_ has quit IRC
2015-03-06T10:18:16  *** andreykurilin__ has joined #openstack-infra
2015-03-06T10:21:45  *** skolekonov has joined #openstack-infra
2015-03-06T10:22:21  *** e0ne is now known as e0ne_
2015-03-06T10:23:47  *** liusheng has quit IRC
2015-03-06T10:24:33  *** liusheng has joined #openstack-infra
2015-03-06T10:25:02  <openstackgerrit> Valeriy Ponomaryov proposed openstack-infra/system-config: Enable logging of #openstack-manila  https://review.openstack.org/161200
2015-03-06T10:29:21  *** markvoelker has joined #openstack-infra
2015-03-06T10:31:24  *** otter768 has joined #openstack-infra
2015-03-06T10:32:43  *** _nadya_ has joined #openstack-infra
2015-03-06T10:33:00  *** e0ne_ has quit IRC
2015-03-06T10:33:39  *** teran has joined #openstack-infra
2015-03-06T10:35:14  *** markvoelker has quit IRC
2015-03-06T10:36:12  *** otter768 has quit IRC
2015-03-06T10:36:37  *** teran_ has joined #openstack-infra
2015-03-06T10:37:00  *** ZZelle has quit IRC
2015-03-06T10:38:37  *** andreykurilin__ has quit IRC
2015-03-06T10:39:04  *** teran has quit IRC
2015-03-06T10:39:34  *** e0ne has joined #openstack-infra
2015-03-06T10:39:49  *** jistr|biab is now known as jistr
2015-03-06T10:41:42  *** liusheng has quit IRC
2015-03-06T10:42:05  *** liusheng has joined #openstack-infra
2015-03-06T10:44:29  *** Guest16818 has quit IRC
2015-03-06T10:47:12  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Support translation of RST files  https://review.openstack.org/162093
2015-03-06T10:51:19  *** ddieterly has joined #openstack-infra
2015-03-06T10:55:49  *** ddieterly has quit IRC
2015-03-06T10:59:05  *** gmann_ has joined #openstack-infra
2015-03-06T11:00:06  *** dims has joined #openstack-infra
2015-03-06T11:01:00  *** hashar has quit IRC
2015-03-06T11:07:28  *** mpaolino has quit IRC
2015-03-06T11:07:30  *** e0ne is now known as e0ne_
2015-03-06T11:10:37  *** BobBall has quit IRC
2015-03-06T11:16:47  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Ensure that gerritbot channels are in accessbot  https://review.openstack.org/162070
2015-03-06T11:18:03  *** e0ne_ has quit IRC
2015-03-06T11:19:08  *** deepakcs has quit IRC
2015-03-06T11:20:15  *** yamamoto has joined #openstack-infra
2015-03-06T11:21:11  *** mpaolino has joined #openstack-infra
2015-03-06T11:22:46  *** chlong has joined #openstack-infra
2015-03-06T11:23:06  *** _nadya_ has quit IRC
2015-03-06T11:24:20  *** yamamoto has quit IRC
2015-03-06T11:26:11  *** ldnunes has joined #openstack-infra
2015-03-06T11:28:41  *** jcoufal_ has joined #openstack-infra
2015-03-06T11:31:29  *** markvoelker has joined #openstack-infra
2015-03-06T11:31:44  *** jcoufal has quit IRC
2015-03-06T11:32:34  <openstackgerrit> Igor Gnatenko proposed openstack-infra/jenkins-job-builder: Add support of multiple credentials for ssh-agent-credentials wrapper  https://review.openstack.org/156681
2015-03-06T11:36:16  *** markvoelker has quit IRC
2015-03-06T11:39:08  *** dtantsur|bbl is now known as dtantsur
2015-03-06T11:39:59  *** ujuc has quit IRC
2015-03-06T11:42:09  *** BharatK has quit IRC
2015-03-06T11:44:45  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Expose jenkins_gitfullname and jenkins_gitemail  https://review.openstack.org/161695
2015-03-06T11:46:02  *** hashar has joined #openstack-infra
2015-03-06T11:47:14  *** e0ne has joined #openstack-infra
2015-03-06T11:47:39  *** flaper87 has quit IRC
2015-03-06T11:47:39  *** flaper87 has joined #openstack-infra
2015-03-06T11:51:54  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Ensure that gerritbot channels are in accessbot  https://review.openstack.org/162070
2015-03-06T11:52:06  *** ddieterly has joined #openstack-infra
2015-03-06T11:52:32  *** luqas__ has quit IRC
2015-03-06T11:54:01  *** BharatK has joined #openstack-infra
2015-03-06T11:56:54  *** ddieterly has quit IRC
2015-03-06T11:58:34  *** yamamoto has joined #openstack-infra
2015-03-06T12:01:23  *** pc_m has joined #openstack-infra
2015-03-06T12:01:31  <openstackgerrit> yolanda.robla proposed openstack-infra/puppet-jenkins: Add configurable timeout for jjb update  https://review.openstack.org/162121
2015-03-06T12:11:18  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Install proper ruby1_9_1 packages for Debian Jessie  https://review.openstack.org/162124
2015-03-06T12:13:40  *** alexpilotti has joined #openstack-infra
2015-03-06T12:16:05  <openstackgerrit> Aleksey Ripinen proposed openstack-infra/storyboard: Tasks branches, milestones and projects ids  https://review.openstack.org/162126
2015-03-06T12:16:57  *** baoli has joined #openstack-infra
2015-03-06T12:17:06  *** sambetts has quit IRC
2015-03-06T12:17:39  *** sambetts has joined #openstack-infra
2015-03-06T12:17:39  *** adalbas has joined #openstack-infra
2015-03-06T12:20:55  *** gmann_ has quit IRC
2015-03-06T12:25:13  *** ZZelle has joined #openstack-infra
2015-03-06T12:26:25  *** rfolco has joined #openstack-infra
2015-03-06T12:26:53  *** BobBall has joined #openstack-infra
2015-03-06T12:29:52  *** Hal has joined #openstack-infra
2015-03-06T12:30:16  *** Hal is now known as Guest94194
2015-03-06T12:31:38  *** baoli_ has joined #openstack-infra
2015-03-06T12:32:20  *** markvoelker has joined #openstack-infra
2015-03-06T12:32:21  *** otter768 has joined #openstack-infra
2015-03-06T12:32:42  <openstackgerrit> Timothy R. Chavez proposed openstack-infra/shade: Add 'rebuild' to shade  https://review.openstack.org/161067
2015-03-06T12:33:46  <HenryG> anteaya: ping
2015-03-06T12:34:20  *** baoli has quit IRC
2015-03-06T12:35:10  <HenryG> I am wondering why this change https://review.openstack.org/161569 does not seem to be taking effect in the gate? cc: superbee
2015-03-06T12:36:23  <HenryG> http://logs.openstack.org/84/160884/2/check/check-neutron-dsvm-functional/590e659/console.html#_2015-03-05_22_48_03_122
2015-03-06T12:36:37  *** cdent has joined #openstack-infra
2015-03-06T12:36:43  *** markvoelker has quit IRC
2015-03-06T12:36:47  *** otter768 has quit IRC
2015-03-06T12:37:11  *** MaxV has quit IRC
2015-03-06T12:37:53  *** BobBall has quit IRC
2015-03-06T12:38:28  *** koolhead17 has joined #openstack-infra
2015-03-06T12:38:47  *** yamamoto has quit IRC
2015-03-06T12:39:30  *** aysyd has joined #openstack-infra
2015-03-06T12:39:44  *** ja has joined #openstack-infra
2015-03-06T12:40:00  *** yamamoto has joined #openstack-infra
2015-03-06T12:41:45  *** dhritishikhar has joined #openstack-infra
2015-03-06T12:44:24  <openstackgerrit> Paul Michali proposed openstack-infra/project-config: Partial revert of func job setup for VPNaaS repo  https://review.openstack.org/162135
2015-03-06T12:44:40  *** cdent has quit IRC
2015-03-06T12:45:05  *** ssam2 has quit IRC
2015-03-06T12:45:23  *** ssam2 has joined #openstack-infra
2015-03-06T12:46:44  *** MaxV has joined #openstack-infra
2015-03-06T12:46:58  *** yamamoto has quit IRC
2015-03-06T12:49:26  <ja> which distribution is infra using right now for zuul/jenkins/etc?  I'm in the process of planning a 3rd party CI system and would prefer using something known to work with the infra components we'd be reusing.  the only hint I've found so far is an example in the Ci automation pub at #link http://docs.openstack.org/infra/publications/ci-automation/#%2818%29
2015-03-06T12:51:23  *** yamamoto has joined #openstack-infra
2015-03-06T12:52:52  *** ddieterly has joined #openstack-infra
2015-03-06T12:54:09  *** ujuc has joined #openstack-infra
2015-03-06T12:57:16  *** ddieterly has quit IRC
2015-03-06T12:58:51  <nibalizer> most services run on ubuntu 14.04
2015-03-06T12:59:35  <mordred> nibalizer: why are you awake?
2015-03-06T12:59:51  <mordred> nibalizer: or are you _still_ awake?
2015-03-06T12:59:58  * mordred is impressed either way
2015-03-06T13:03:42  *** cdent has joined #openstack-infra
2015-03-06T13:04:02  *** mpavone_ has quit IRC
2015-03-06T13:04:04  <nibalizer> because gsl
2015-03-06T13:04:10  <nibalizer> i have to sleep before the gsl comes on
2015-03-06T13:04:20  <nibalizer> other wise this ends up happening
2015-03-06T13:04:33  <nibalizer> http://wiki.teamliquid.net/starcraft2/2015_Global_StarCraft_II_League_Season_1/Code_S
2015-03-06T13:06:16  *** markvoelker has joined #openstack-infra
2015-03-06T13:06:32  *** woodster_ has joined #openstack-infra
2015-03-06T13:07:13  *** yamamoto has quit IRC
2015-03-06T13:07:35  *** dizquierdo has joined #openstack-infra
2015-03-06T13:07:50  *** dprince has joined #openstack-infra
2015-03-06T13:08:07  <ja> nibalizer, thanks.  is there anything known to have problems on 14.04?  on 3rd party CI owner mentioned an indistinct problem "a while ago" that led them to use 12.04, be he was "pretty sure" it had been fixed by now hence my q here.
2015-03-06T13:08:40  <ja> if no known problems, I'll just plan on using 14.04 for the whole zuul/etc smash
2015-03-06T13:09:22  <nibalizer> ja: well actaully
2015-03-06T13:09:28  <nibalizer> i would say most of it is going to 14.04
2015-03-06T13:09:32  <nibalizer> a lot of it is still on 12.04
2015-03-06T13:09:34  <nibalizer> sorry
2015-03-06T13:10:11  <nibalizer> ja: check this out http://puppetboard.openstack.org/fact/lsbdistcodename
2015-03-06T13:10:22  <nibalizer> that gives you an idea of where things are
2015-03-06T13:11:54  <openstackgerrit> Monty Taylor proposed openstack-infra/shade: Small fixes found working on ansible modules  https://review.openstack.org/162140
2015-03-06T13:12:32  *** e0ne is now known as e0ne_
2015-03-06T13:13:02  <openstackgerrit> LiKai proposed openstack/requirements: Update xstatic-font-awesome to 4.3.0  https://review.openstack.org/162142
2015-03-06T13:13:15  *** bobba has joined #openstack-infra
2015-03-06T13:14:44  *** bobba has quit IRC
2015-03-06T13:15:11  <ja> nibalizer, if you know offhand what is "Final" on that puppetboard?  clicking through its link isn't informative.  but thanks for the trusty vs precise answer.  so nodepool and puppetmaster can definitely cope with trusty from that list.  any of the others we're in less-charted territory with.
2015-03-06T13:15:20  *** bobba has joined #openstack-infra
2015-03-06T13:15:32  *** bobba is now known as Guest70641
2015-03-06T13:15:39  *** Guest70641 is now known as BobBall
2015-03-06T13:15:49  <Kiall> nibalizer: I'm intrigued - what's the difference between the two pie charts, just the orientation?
2015-03-06T13:16:21  <Kiall> ja: lsbdistcodename Final / lsbdistdescription CentOS release 6.6 (Final)
2015-03-06T13:16:43  <Kiall> http://puppetboard.openstack.org/fact/lsbdistrelease might be a tad clearer ;)
2015-03-06T13:16:45  <ja> thanks Kiall
2015-03-06T13:17:38  <nibalizer> Kiall: kindof, the two charts got removed in later puppetboard
2015-03-06T13:17:51  <nibalizer> one orders by value and one orders by number of things in the slice
2015-03-06T13:17:58  *** mpavone_ has joined #openstack-infra
2015-03-06T13:18:13  *** ujuc has quit IRC
2015-03-06T13:18:21  <nibalizer> http://puppetboard.openstack.org/fact/physicalprocessorcount might show it better
2015-03-06T13:18:57  <ja> right, I see it; starting point is straight up; left one is by frequency, right alpha by name
2015-03-06T13:21:00  *** BobBall has quit IRC
2015-03-06T13:22:04  <openstackgerrit> Julien Danjou proposed openstack-infra/project-config: Move Gnocchi from Stackforge to OpenStack  https://review.openstack.org/162146
2015-03-06T13:22:31  *** BobBall has joined #openstack-infra
2015-03-06T13:22:33  *** mbacchi has joined #openstack-infra
2015-03-06T13:22:48  *** e0ne_ is now known as e0ne
2015-03-06T13:23:01  *** kgiusti has joined #openstack-infra
2015-03-06T13:24:35  <openstackgerrit> Monty Taylor proposed openstack-infra/shade: Allow for passing cache class in as a parameter  https://review.openstack.org/162148
2015-03-06T13:25:10  <openstackgerrit> Julien Danjou proposed openstack-infra/project-config: Move Gnocchi from Stackforge to OpenStack  https://review.openstack.org/162146
2015-03-06T13:25:14  <openstackgerrit> Syed Ismail Faizan Barmawer proposed openstack-infra/project-config: Adding publish-to-pypi template to ironic-lib project  https://review.openstack.org/162010
2015-03-06T13:25:52  <openstackgerrit> Julien Danjou proposed openstack-infra/project-config: Move Gnocchi from Stackforge to OpenStack  https://review.openstack.org/162146
2015-03-06T13:27:26  *** dkliban_afk is now known as dkliban
2015-03-06T13:30:00  *** dhritishikhar has quit IRC
2015-03-06T13:30:57  *** mwagner_lap has joined #openstack-infra
2015-03-06T13:34:23  <nibalizer> Kiall: you can probably hit our internal puppetboard to see how far its come in the year or so since the upstream one went up
2015-03-06T13:35:06  *** vhoward has left #openstack-infra
2015-03-06T13:35:35  *** weshay has joined #openstack-infra
2015-03-06T13:37:21  *** HeOS has quit IRC
2015-03-06T13:37:46  <Kiall> nibalizer: If I knew the URL, I'd be able to! But I dont ;)
2015-03-06T13:38:25  <nibalizer> hipchat'd
2015-03-06T13:39:50  *** ashleighfarnham has joined #openstack-infra
2015-03-06T13:39:51  <openstackgerrit> yolanda.robla proposed openstack-infra/puppet-jenkins: Add configuration for HipChat in jjb  https://review.openstack.org/162152
2015-03-06T13:43:21  *** dboik has quit IRC
2015-03-06T13:43:37  *** gordc has joined #openstack-infra
2015-03-06T13:44:04  *** ashleighfarnham has quit IRC
2015-03-06T13:46:42  *** radez_g0n3 is now known as radez
2015-03-06T13:47:13  *** nelsnelson has joined #openstack-infra
2015-03-06T13:48:54  *** SumitNaiksatam has quit IRC
2015-03-06T13:49:15  *** dustins has joined #openstack-infra
2015-03-06T13:49:46  *** mpavone_ has quit IRC
2015-03-06T13:52:19  <openstackgerrit> Syed Ismail Faizan Barmawer proposed openstack/requirements: Add ironic-lib to project.txt and global-requirements.txt  https://review.openstack.org/161603
2015-03-06T13:52:21  *** julim has joined #openstack-infra
2015-03-06T13:54:24  *** sigmavirus24_awa is now known as sigmavirus24
2015-03-06T13:54:30  *** yamamoto has joined #openstack-infra
2015-03-06T13:56:20  *** HeOS__ has joined #openstack-infra
2015-03-06T13:56:30  <sigmavirus24> Is there an issue with nodes in zuul's pool using old versions of project-config? os-ansible-deployment keeps seeing http://logs.openstack.org/75/161975/3/check/os-ansible-deployment-dsvm-check-commit/06ecd42/console.html#_2015-03-06_10_01_58_615 pop up every once and a while which is the result of a version of project config from several days ago
2015-03-06T13:56:31  *** miqui has joined #openstack-infra
2015-03-06T13:56:34  *** HeOS_ has quit IRC
2015-03-06T13:57:26  *** mpavone has joined #openstack-infra
2015-03-06T13:57:36  *** BharatK has quit IRC
2015-03-06T13:57:59  *** gibi_ has joined #openstack-infra
2015-03-06T13:59:12  *** AJaeger has joined #openstack-infra
2015-03-06T13:59:30  *** luqas__ has joined #openstack-infra
2015-03-06T13:59:37  *** annegentle has joined #openstack-infra
2015-03-06T14:00:02  *** mattfarina has joined #openstack-infra
2015-03-06T14:00:31  *** mpavone has quit IRC
2015-03-06T14:00:35  *** annegentle has quit IRC
2015-03-06T14:01:10  *** annegentle has joined #openstack-infra
2015-03-06T14:01:15  *** ihrachyshka has joined #openstack-infra
2015-03-06T14:01:49  *** gibi has quit IRC
2015-03-06T14:05:04  *** Longgeek has quit IRC
2015-03-06T14:05:07  *** fifieldt_ has quit IRC
2015-03-06T14:06:25  <Shrews> mordred: should shade's caching be 'opt-in' as well?
2015-03-06T14:07:08  *** zz_jgrimm is now known as jgrimm
2015-03-06T14:07:25  *** dboik has joined #openstack-infra
2015-03-06T14:07:37  <Shrews> if os-client-config is used, the behaviour will change to 'opt-in' anyway with your recent o-c-c change if no cache is defined
2015-03-06T14:07:48  *** sc68cal_ has joined #openstack-infra
2015-03-06T14:07:48  *** sc68cal_ has quit IRC
2015-03-06T14:07:48  *** sc68cal_ has joined #openstack-infra
2015-03-06T14:07:54  *** dboik has quit IRC
2015-03-06T14:08:00  *** dboik_ has joined #openstack-infra
2015-03-06T14:08:13  *** bcourt has joined #openstack-infra
2015-03-06T14:09:01  *** sc68cal has quit IRC
2015-03-06T14:09:01  *** salv-orl_ has joined #openstack-infra
2015-03-06T14:09:11  *** salv-orlando has quit IRC
2015-03-06T14:10:09  *** bcourt has quit IRC
2015-03-06T14:11:40  <Shrews> left comment on the review
2015-03-06T14:12:11  <mordred> Shrews: it should be opt-in with SpamapS's change
2015-03-06T14:12:36  <Shrews> review #?
2015-03-06T14:13:14  *** tnovacik has quit IRC
2015-03-06T14:13:34  <Shrews> oh, the dependency
2015-03-06T14:14:49  *** dizquierdo has quit IRC
2015-03-06T14:15:46  *** ddieterly has joined #openstack-infra
2015-03-06T14:16:09  *** resker has quit IRC
2015-03-06T14:16:47  <openstackgerrit> gordon chung proposed openstack-infra/project-config: add experimental ceilometer elasticsearch db jobs  https://review.openstack.org/160824
2015-03-06T14:16:52  *** garyh has joined #openstack-infra
2015-03-06T14:17:34  *** markus_z has quit IRC
2015-03-06T14:20:33  *** Longgeek has joined #openstack-infra
2015-03-06T14:21:31  *** signed8bit has joined #openstack-infra
2015-03-06T14:25:55  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Add configurable url for OpenStack status  https://review.openstack.org/162169
2015-03-06T14:28:18  *** SumitNaiksatam has joined #openstack-infra
2015-03-06T14:29:14  *** peristeri has joined #openstack-infra
2015-03-06T14:29:22  *** Ala has quit IRC
2015-03-06T14:30:34  *** dansmith is now known as superdan
2015-03-06T14:31:41  *** annegentle is now known as superanne
2015-03-06T14:33:12  *** otter768 has joined #openstack-infra
2015-03-06T14:34:28  *** chlong has quit IRC
2015-03-06T14:37:33  *** dims has quit IRC
2015-03-06T14:37:47  *** otter768 has quit IRC
2015-03-06T14:38:09  *** dims has joined #openstack-infra
2015-03-06T14:38:35  *** bhunter71 has joined #openstack-infra
2015-03-06T14:38:50  *** tiswanso has joined #openstack-infra
2015-03-06T14:38:52  <openstackgerrit> David Lyle proposed openstack-infra/project-config: Adding xstatic notifications to openstack-horizon  https://review.openstack.org/162174
2015-03-06T14:40:46  *** Ala has joined #openstack-infra
2015-03-06T14:40:56  <openstackgerrit> Matt Riedemann proposed openstack-infra/elastic-recheck: Add query for cinder CLI race bug 1429151  https://review.openstack.org/162176
2015-03-06T14:40:58  <openstack> bug 1429151 in Cinder "SimpleReadOnlyCinderClientTest.test_cinder_encryption_type_list fails randomly" [Undecided,New] https://launchpad.net/bugs/1429151
2015-03-06T14:41:44  *** ddieterly has quit IRC
2015-03-06T14:41:47  *** nelsnelson has quit IRC
2015-03-06T14:41:50  *** ddieterl_ has joined #openstack-infra
2015-03-06T14:43:40  *** ZZelle has quit IRC
2015-03-06T14:43:48  *** sdake_ has joined #openstack-infra
2015-03-06T14:43:48  <dhellmann> anteaya: I'm confused by your comment about the tarball site on https://review.openstack.org/#/c/161447/4 -- I thought that was used by publish-to-pypi?
2015-03-06T14:44:23  *** tonytan4ever has joined #openstack-infra
2015-03-06T14:44:39  *** alaski is now known as lascii
2015-03-06T14:46:46  <jroll> is there a jenkins thing to upload to swift?
2015-03-06T14:46:59  <jroll> or did y'all just write code to do things like that
2015-03-06T14:47:18  <sigmavirus24> jroll: code was written to do that
2015-03-06T14:47:24  <sigmavirus24> I believe superbee wrote it
2015-03-06T14:47:49  *** sdake__ has joined #openstack-infra
2015-03-06T14:47:52  <jroll> ok, thanks
2015-03-06T14:48:00  * jroll finds his swift client
2015-03-06T14:48:21  *** mrmartin has joined #openstack-infra
2015-03-06T14:48:40  *** sdake_ has quit IRC
2015-03-06T14:49:10  <sigmavirus24> jroll: I believe https://review.openstack.org/#/c/156788/ added it
2015-03-06T14:49:35  <mordred> jroll: we try to not have jenkins itself do things
2015-03-06T14:50:00  <mordred> jroll: because two reasons a) jenkins breaks b) we're working on getting rid of it
2015-03-06T14:50:06  <jroll> o.o
2015-03-06T14:50:17  <jroll> mordred: getting rid of jenkins in favor of?
2015-03-06T14:50:25  <mordred> jroll: b) follows from a) in a non-insignificant way
2015-03-06T14:50:42  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Add configurable graphite url on zuul status  https://review.openstack.org/162177
2015-03-06T14:50:44  <jroll> right
2015-03-06T14:50:45  <mordred> jroll: zuul and nodepool directly orchestrating work
2015-03-06T14:50:52  <jroll> interesting
2015-03-06T14:51:02  <mordred> jroll: you should check out jeblair's zuul v3 email if you haven't already
2015-03-06T14:51:04  *** mtanino has joined #openstack-infra
2015-03-06T14:51:21  <jroll> mordred: neat, thanks
2015-03-06T14:51:38  <jroll> I'm setting up a jenkins for our team to just build some containers and whatnot, so trying to keep it simple :)
2015-03-06T14:51:48  <jroll> vastly different scale :P
2015-03-06T14:51:50  <mordred> jroll: but before zuul v3 was hatched, the plan for getting rid of jenkins involved just running gearman workers on the nodes like turbohipster does
2015-03-06T14:52:02  <mordred> jroll: yah - I mean, jenkins is fine for the normal workgroup size stuff
2015-03-06T14:52:26  *** boris-42 has quit IRC
2015-03-06T14:52:26  <mordred> although we do hope that once we get zuul v3 going, it'll be easy to scale it _down_ to do simple tasks like that too
2015-03-06T14:52:33  *** rmcall has joined #openstack-infra
2015-03-06T14:52:39  <openstackgerrit> Doug Hellmann proposed openstack-infra/project-config: import aeromancer to stackforge  https://review.openstack.org/161447
2015-03-06T14:52:40  <openstackgerrit> Doug Hellmann proposed openstack-infra/project-config: Add detail to gerrit ACL normalization errors  https://review.openstack.org/161914
2015-03-06T14:52:52  *** amitgandhinz has joined #openstack-infra
2015-03-06T14:53:03  <jroll> mordred: cool
2015-03-06T14:53:04  <dhellmann> anteaya: let me know if ^^ looks more like what I should have if what I want is for the CI system to manage my releases
2015-03-06T14:53:06  <jroll> thanks for the info
2015-03-06T14:53:45  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Adding publish-to-pypi template to ironic-lib project  https://review.openstack.org/162010
2015-03-06T14:54:06  <AJaeger> ihrachyshka: what's the problem with https://review.openstack.org/161569 ?
2015-03-06T14:54:39  <ihrachyshka> AJaeger, I still see failures in e.g. neutron/juno. But need to recheck to make sure it's still the case.
2015-03-06T14:55:11  <AJaeger> ihrachyshka: do you have a recent run as reference?
2015-03-06T14:55:35  *** e0ne is now known as e0ne_
2015-03-06T14:55:50  <AJaeger> dhellmann, jd__ : Could you review https://review.openstack.org/157472 and https://review.openstack.org/158379, please?
2015-03-06T14:56:03  <ihrachyshka> AJaeger, https://review.openstack.org/#/c/161930/ ?
2015-03-06T14:56:12  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Add configurable graphite url on zuul status  https://review.openstack.org/162177
2015-03-06T14:56:55  <openstackgerrit> Merged openstack-infra/elastic-recheck: Add query for cinder CLI race bug 1429151  https://review.openstack.org/162176
2015-03-06T14:56:57  <openstack> bug 1429151 in Cinder "SimpleReadOnlyCinderClientTest.test_cinder_encryption_type_list fails randomly" [High,Confirmed] https://launchpad.net/bugs/1429151
2015-03-06T14:57:06  *** amotoki has quit IRC
2015-03-06T14:57:10  <dhellmann> AJaeger: +2
2015-03-06T14:57:14  <AJaeger> dhellmann: thanks!
2015-03-06T14:59:39  <AJaeger> ihrachyshka: looks like the old job definition was used. mordred, superbee: Could you check http://logs.openstack.org/30/161930/1/check/check-neutron-dsvm-functional/7aa1c5b/console.html - it seems that patch 161569 was not applied
2015-03-06T15:00:46  <ihrachyshka> AJaeger, maybe puppet not applied to jenkins? I don't know much about mechanics.
2015-03-06T15:01:03  *** e0ne_ has quit IRC
2015-03-06T15:01:15  *** persia has quit IRC
2015-03-06T15:01:17  <AJaeger> ihrachyshka: that would explain it - that's why I need jeblair, mordred or superbee to check...
2015-03-06T15:01:22  <ihrachyshka> AJaeger, afaik we were not sure that it will work since the author is not fluent in project-config speak
2015-03-06T15:01:39  <ihrachyshka> it was more a wild guess?
2015-03-06T15:02:20  <jd__> AJaeger: sure
2015-03-06T15:02:38  <AJaeger> thanks, jd__ !
2015-03-06T15:02:39  <ihrachyshka> ah, missed the 2nd patchset there. then I guess it's more grounded
2015-03-06T15:04:47  *** yfried has quit IRC
2015-03-06T15:05:24  <AJaeger> jeblair, mordred, superbee: https://review.openstack.org/161447 just failed jobs - and looking at the failures, I only get "file not found". Any problems with Jenkins/Zuul/gearman?
2015-03-06T15:06:24  <AJaeger> and two more failures just coming in. Something looks broken ;(
2015-03-06T15:06:53  <jeblair> https://jenkins02.openstack.org/job/gate-infra-puppet-apply-precise/1443/console
2015-03-06T15:07:10  <jeblair> 2015-03-06 15:01:39.899 | ImportError: No module named glob2
2015-03-06T15:07:40  <jeblair> i'm guessing a base image changed ?
2015-03-06T15:07:46  <mordred> yay!
2015-03-06T15:07:59  *** dims is now known as dimsum__
2015-03-06T15:08:08  <jeblair> that was bare-precise-rax-dfw
2015-03-06T15:08:16  *** deepakcs has joined #openstack-infra
2015-03-06T15:08:16  *** mrmartin has quit IRC
2015-03-06T15:08:50  <AJaeger> jeblair: thanks for looking into this!
2015-03-06T15:09:28  <jeblair> found one on rax-iad too
2015-03-06T15:10:28  *** achuprin_ has quit IRC
2015-03-06T15:11:15  <jeblair> we started using new images there about 20 mins ago
2015-03-06T15:12:34  *** radez is now known as radez_g0n3
2015-03-06T15:13:03  *** hdd_ has joined #openstack-infra
2015-03-06T15:13:48  *** persia_ has joined #openstack-infra
2015-03-06T15:13:48  *** persia_ has quit IRC
2015-03-06T15:13:48  *** persia_ has joined #openstack-infra
2015-03-06T15:14:41  *** jlanoux has quit IRC
2015-03-06T15:15:00  <jeblair> oh
2015-03-06T15:15:15  <jeblair> we just merged a change to the script to use glob2, but did not add it to the venv
2015-03-06T15:15:31  <jeblair> this may be a signal the script is getting a bit too big to be a standalone script.
2015-03-06T15:15:36  *** armax has joined #openstack-infra
2015-03-06T15:16:10  <jeblair> perhaps we should fold it into zuul.  we already install zuul to get cloner, so it would actually be simpler anywya.
2015-03-06T15:16:30  *** wenlock has joined #openstack-infra
2015-03-06T15:16:36  <mordred> ++
2015-03-06T15:16:55  <mordred> jeblair: I agree 100%
2015-03-06T15:17:04  <jroll> mordred: is this thing awful or awesome? https://wiki.jenkins-ci.org/display/JENKINS/JClouds+Plugin
2015-03-06T15:17:11  <mordred> jroll: it's not usable by us
2015-03-06T15:17:17  <jroll> mordred: not for you
2015-03-06T15:17:19  <jroll> for me
2015-03-06T15:17:21  <mordred> jroll: but we funded its creattion :)
2015-03-06T15:17:23  <jroll> :P
2015-03-06T15:17:24  <mordred> jroll: dunno
2015-03-06T15:17:30  <mordred> I've literally never been able to get it to work
2015-03-06T15:17:38  <jroll> huh
2015-03-06T15:17:40  <mordred> because clouds are too flaky
2015-03-06T15:17:48  <jroll> probably needs a real service catalog or something
2015-03-06T15:17:48  <mordred> that's why we wrote nodepool
2015-03-06T15:17:58  <jroll> I just want to use the storage bits
2015-03-06T15:17:58  <mordred> no - it's just that handling all of the ways clouds fail is hard
2015-03-06T15:18:07  <mordred> oh - well that's probably fine
2015-03-06T15:18:08  <jroll> which shouldn't be super flaky
2015-03-06T15:18:10  <jroll> yeah
2015-03-06T15:18:18  <jroll> ok, thanks :)
2015-03-06T15:19:06  *** wenlock has quit IRC
2015-03-06T15:19:11  <AJaeger> jeblair: argh, the swift uploader change
2015-03-06T15:19:24  *** changbl has quit IRC
2015-03-06T15:20:10  <jeblair> AJaeger: hrm, that change did come with a command to install glob2
2015-03-06T15:20:18  <jeblair> AJaeger: so i'm back to not quite understanding what's wrong...
2015-03-06T15:20:22  *** esker has joined #openstack-infra
2015-03-06T15:20:29  *** mrmartin has joined #openstack-infra
2015-03-06T15:20:40  *** r-daneel has joined #openstack-infra
2015-03-06T15:20:51  *** timcline has joined #openstack-infra
2015-03-06T15:21:31  *** wenlock has joined #openstack-infra
2015-03-06T15:21:40  <openstackgerrit> Filip Blaha proposed openstack-infra/project-config: Congress client repository clone fix  https://review.openstack.org/162188
2015-03-06T15:22:54  *** timcline_ has joined #openstack-infra
2015-03-06T15:23:45  <jeblair> oh!
2015-03-06T15:23:52  <jeblair> it's because puppet is stopped on nodepool.o.o
2015-03-06T15:24:15  *** marun has joined #openstack-infra
2015-03-06T15:25:46  <jeblair> so the image scripts are out of sync with the project_config repo that gets cloned on the image
2015-03-06T15:25:52  <AJaeger> jeblair: see above the discussion with ihrachyshka, where we looked into a job that looked it was an old job, so puppet did not update jenkins
2015-03-06T15:26:10  <AJaeger> is puppet disabled on the jenkins notes as well?
2015-03-06T15:26:12  *** timcline has quit IRC
2015-03-06T15:26:15  <jeblair> AJaeger: it shouldn't be
2015-03-06T15:26:35  <jeblair> AJaeger: except something is wrong with jenkins04
2015-03-06T15:26:39  <jeblair> AJaeger: http://puppetboard.openstack.org/
2015-03-06T15:26:50  <jeblair> AJaeger: so if it ran there, it would be outdated
2015-03-06T15:27:13  *** doude has quit IRC
2015-03-06T15:27:35  <jeblair> i think it's safe to re-enable puppet on nodepool
2015-03-06T15:28:01  *** dmsimard_away is now known as dmsimard
2015-03-06T15:28:05  *** jlanoux has joined #openstack-infra
2015-03-06T15:28:19  <jeblair> superbee, AJaeger: i'm going to re-enable puppet on nodepool and delete all current bare- images
2015-03-06T15:28:41  *** hdd_ has quit IRC
2015-03-06T15:28:45  <ihrachyshka> armax, ^^
2015-03-06T15:29:31  *** ashleighfarnham has joined #openstack-infra
2015-03-06T15:29:35  <AJaeger> jeblair: seems it was run on jenkins03 - scroll back for discussion with ihrachyshka ...
2015-03-06T15:29:46  <AJaeger> jeblair: But let's first fix the images.
2015-03-06T15:29:51  <armax> ihrachyshka: but I am still confused
2015-03-06T15:30:00  <jeblair> mordred: you want to see why puppet isn't running on jenkins04?
2015-03-06T15:30:22  <armax> ihrachyshka: if I look at the expression [[ ! "$BRANCH_OVERRIDE" =~ ^stable/(icehouse|juno)$ ]] || [[ ! "$ZUUL_BRANCH" =~ ^stabl
2015-03-06T15:30:23  <armax> e/(icehouse|juno)$ ]] as superbee suggested
2015-03-06T15:30:39  <armax> we should still be getting in the if branch for stable branches even if we don’t want to
2015-03-06T15:31:11  <ihrachyshka> le sigh
2015-03-06T15:31:25  <armax> ihrachyshka: as a matter of fact, the aim of the fix should be ‘not to get into the if branch’ if we are stable
2015-03-06T15:31:48  <ihrachyshka> armax, remove '!'s?
2015-03-06T15:31:50  <armax> ihrachyshka: my bad for copying and pasting not paying any attention at what I was told :O
2015-03-06T15:32:16  <armax> I think that we should not use BRANCH_OVERRIDE at all
2015-03-06T15:32:21  *** changbl has joined #openstack-infra
2015-03-06T15:32:44  <armax> ihrachyshka: it sounds to me that it is == default regardless of the branch, so what’s the point in using it to determine whether we are on a stable branch or not?
2015-03-06T15:32:47  *** e0ne has joined #openstack-infra
2015-03-06T15:33:07  <armax> ihrachyshka: but I have very little clue on how the infra stuff works
2015-03-06T15:33:12  <armax> ihrachyshka: apparently I am not alone :)(
2015-03-06T15:33:18  <ihrachyshka> armax, neither me, we're both blind
2015-03-06T15:33:34  *** tiswanso has quit IRC
2015-03-06T15:33:52  *** ashleighfarnham has quit IRC
2015-03-06T15:34:00  *** radez_g0n3 is now known as radez
2015-03-06T15:34:20  *** yamamoto has quit IRC
2015-03-06T15:34:23  *** zz_dimtruck is now known as dimtruck
2015-03-06T15:34:37  *** yamamoto has joined #openstack-infra
2015-03-06T15:34:38  *** tiswanso_ has joined #openstack-infra
2015-03-06T15:35:42  *** achuprin_ has joined #openstack-infra
2015-03-06T15:35:48  <AJaeger> armax, ihrachyshka you confused me as well with this change ;)
2015-03-06T15:36:01  <openstackgerrit> Armando Migliaccio proposed openstack-infra/project-config: Remove BRANCH_OVERRIDE from bool condition  https://review.openstack.org/162199
2015-03-06T15:36:08  <armax> AJaeger: ^^
2015-03-06T15:36:13  <superbee> no dont remove it ..
2015-03-06T15:36:20  <ihrachyshka> AJaeger, so I guess it's both 'jenkins not updated' and 'code is wrong' issues
2015-03-06T15:36:27  *** tiswanso_ has quit IRC
2015-03-06T15:36:32  <armax> superbee: ok, can you elaborate why?
2015-03-06T15:36:36  <superbee> should || be && I may have flipped logic
2015-03-06T15:36:57  <superbee> because if you are overridden you dont want to be in setting the projects...
2015-03-06T15:37:00  <AJaeger> might be, ihrachyshka. Note the job might fail due to the broken images.
2015-03-06T15:37:08  <armax> superbee: but I still don’t understand why we’d want it to determine a condition when the value doesn’t change from one branch to another
2015-03-06T15:37:09  <superbee> the idea is if icehouse or juno dont do this
2015-03-06T15:37:40  <superbee> so if someone makes a job that says "this is icehouse" then you dont want to do that
2015-03-06T15:37:42  <armax> so if branch_override is default regarless of whether we run master or juno
2015-03-06T15:37:55  <superbee> its not necessarily
2015-03-06T15:37:57  <armax> I beg to understand why we’d want to use it? in any condition OR or AND
2015-03-06T15:38:08  <superbee> it may be icehouse or juno
2015-03-06T15:38:15  <superbee> thats the whole point
2015-03-06T15:38:22  <armax> superbee: when?
2015-03-06T15:38:35  <superbee> when people make jobs with the override
2015-03-06T15:38:56  *** dizquierdo has joined #openstack-infra
2015-03-06T15:39:19  <mkj_wk> I could use some guidance on normal Gerrit expectations, for my new feature changeset, now in its 20th revision... Would it be considered polite for me to +1 my own patch as an indication that I think it's ready for merge and would appreciate review/merge?
2015-03-06T15:39:31  <lxsli> Hmm not sure this is the right place to raise this, but has anyone suggested colour-coding badges at Vancouver?
2015-03-06T15:39:45  <armax> superbee: this is utterly confusing
2015-03-06T15:39:46  <lxsli> Primarily for the benefit of security, and hence decreasing queuing times
2015-03-06T15:40:11  <armax> superbee: so I can have BRANCH_OVERRIDE=default and ZUUL_BRANCH=juno?
2015-03-06T15:40:18  <superbee> armax yes
2015-03-06T15:40:23  <armax> superbee: what does that mean?
2015-03-06T15:40:33  <jeblair> mkj_wk: you could just leave a comment to that effect
2015-03-06T15:40:45  <superbee> it means zuul has given you a change from juno so do the default behavior for juno
2015-03-06T15:41:08  <AJaeger> mkj_wk: what's the URL for the patch?
2015-03-06T15:41:17  <superbee> armax but override juno branch master means this is a change from master but test it against juno
2015-03-06T15:41:35  *** ChuckC_ has joined #openstack-infra
2015-03-06T15:41:54  <mkj_wk> AJaeger: https://review.openstack.org/#/c/158877/
2015-03-06T15:41:59  <armax> superbee: for the sake of what it needs to be done, I still reckon that we don’t need BRANCH_OVERRIDE at all then
2015-03-06T15:42:04  *** ChuckC has quit IRC
2015-03-06T15:42:21  <mkj_wk> jeblair: thanks :)
2015-03-06T15:42:39  <superbee> armax then please completely remove it from your job.
2015-03-06T15:42:52  <armax> superbee: that said, what do you mean?
2015-03-06T15:42:53  <superbee> 162199 is still wrong regardless
2015-03-06T15:43:05  <armax> like remove the export?
2015-03-06T15:43:15  <AJaeger> mkj_wk: ah, a patch for git-review. Let's ask superbee and jeblair kindly for a review
2015-03-06T15:43:16  <superbee> and the template parameter
2015-03-06T15:43:25  *** tiswanso has joined #openstack-infra
2015-03-06T15:44:02  <armax> superbee: so the options are two, if I understand you correctly, flip the || to && or get rid of the BRANCH_OVERRIDE entirely?
2015-03-06T15:44:11  <superbee> yes
2015-03-06T15:44:44  <armax> superbee: ok then, since I am a lazy moron, I am going to go for the easiest change
2015-03-06T15:44:56  <mkj_wk> AJaeger: that brings up the next politeness question -- does one normally add someone else as a reviewer to ones own patch, or just ping on IRC?
2015-03-06T15:45:27  <openstackgerrit> Armando Migliaccio proposed openstack-infra/project-config: Flip the bool condition  https://review.openstack.org/162199
2015-03-06T15:46:15  <armax> superbee: assuming that ZUUL_BRANCH is a stable branch this should be good now
2015-03-06T15:46:30  *** ChuckC_ has quit IRC
2015-03-06T15:46:30  <AJaeger> mkj_wk: I prefer pinging on IRC, people might not see the adding
2015-03-06T15:46:42  <superanne> anteaya: I'm trying to reach as many vendor driver writers as possible, can you think of a list that might be useful? I've been using -docs and -dev mostly.
2015-03-06T15:46:52  <mkj_wk> ok, well I suspect jeblair and superbee saw your mention as a ping then :)
2015-03-06T15:47:13  <superanne> anteaya: wondering about 3rd party list
2015-03-06T15:47:48  <AJaeger> mkj_wk: hope so. But your patch is large, so reviewing needs time
2015-03-06T15:48:03  <jeblair> mkj_wk: we should ask mordred and/or foobio to look at it, though foobio is on vacation right now
2015-03-06T15:48:12  *** achuprin_ has quit IRC
2015-03-06T15:48:22  <anteaya> superanne: this should get you started: https://review.openstack.org/#/admin/groups/270,members
2015-03-06T15:48:30  <mkj_wk> AJaeger: it was quite small when I started, but it's much better tested now
2015-03-06T15:48:37  <superanne> anteaya: perfect, thanks
2015-03-06T15:48:51  *** arxcruz has quit IRC
2015-03-06T15:49:07  <anteaya> superanne: they also should all be listed here: https://wiki.openstack.org/wiki/ThirdPartySystems
2015-03-06T15:49:10  <AJaeger> mkj_wk: ;) Please have patience, reviewing can take some time.
2015-03-06T15:49:13  <mkj_wk> jeblair: yeah, I saw foobio head off on vacation just as I was really getting to work on the feature
2015-03-06T15:49:14  <anteaya> superanne: good luck
2015-03-06T15:49:27  <mkj_wk> AJaeger: oh, I'm patient. I just didn't want it to be stuck in limbo because I didn't realize I was supposed to ping someone
2015-03-06T15:49:35  <mkj_wk> AJaeger: I've been on the other end of this elsewhere
2015-03-06T15:49:35  <anteaya> mind if I ask what your project is?
2015-03-06T15:49:37  <superanne> anteaya: will cross posting super annoy them?
2015-03-06T15:49:45  <anteaya> cross posting what?
2015-03-06T15:49:58  <superanne> anteaya: it's informing them of the driver doc spec AJaeger completed
2015-03-06T15:50:17  <superanne> anteaya: basically "here's your template, expectations, and deadline for kilo"
2015-03-06T15:50:26  <superanne> anteaya: cross posting to 3rd party, -dev, and -docs
2015-03-06T15:50:32  <AJaeger> mkj_wk: you don't have to ping, people will review at their time.
2015-03-06T15:50:44  <openstackgerrit> Julien Danjou proposed openstack-infra/project-config: Move Gnocchi from Stackforge to OpenStack  https://review.openstack.org/162146
2015-03-06T15:50:47  <mkj_wk> superanne: you might care to look at it, since I was attempting to implement a feature that you asked for almost two years ago. ☺
2015-03-06T15:50:48  *** skolekonov has quit IRC
2015-03-06T15:51:23  <mkj_wk> AJaeger: thanks for the clues :)
2015-03-06T15:51:42  <anteaya> superanne: oh in that case, draft up and email and we can send it to third-party-announce mailing list
2015-03-06T15:51:53  <anteaya> since they all are expected to be subscribed to that
2015-03-06T15:52:30  <anteaya> jeblair: any objections to sending the driver doc spec to -announce?
2015-03-06T15:52:30  <superanne> anteaya: ah nice. if I send it to -docs and -dev and send you a link is that what you need?
2015-03-06T15:52:43  <anteaya> no don't spam dev with it
2015-03-06T15:52:43  * AJaeger will be back later, time for some cooking...
2015-03-06T15:52:58  <anteaya> just draft it in an etherpad so I can take a peek
2015-03-06T15:53:13  <anteaya> then we just send it to -announce and -docs at teh same time
2015-03-06T15:53:23  *** sdake__ has quit IRC
2015-03-06T15:53:23  *** AJaeger is now known as AJaeger_cooking
2015-03-06T15:54:06  <jeblair> anteaya: no
2015-03-06T15:54:16  <anteaya> jeblair: okay
2015-03-06T15:54:24  <anteaya> jeblair: what do you suggest?
2015-03-06T15:54:51  <jeblair> anteaya: that you send it to announce.  you asked if i had objections, and i said i had no objections.
2015-03-06T15:55:08  <anteaya> ah
2015-03-06T15:55:13  <anteaya> thank you, great
2015-03-06T15:55:30  <sdague> jeblair: so on this https://review.openstack.org/#/c/161911/, is that actually what you want to do? The devstack plugin architecture was really more designed with the plugin being in the project repo.
2015-03-06T15:55:40  <anteaya> superanne: okay give me a few minutes
2015-03-06T15:56:07  <jeblair> sdague: oh okay, are there projects that implement that?  (why are there devstack-plugin projects then?)
2015-03-06T15:56:19  <sdague> the only times we've built fully new repos is for stuff like glusterfs support, which don't really have a project repo to live in, as it's not a new project but a config tweak
2015-03-06T15:56:26  <sdague> stackforge/ec2-api
2015-03-06T15:56:35  <sdague> a bunch of the neutron plugins
2015-03-06T15:56:43  <sdague> I think gnocchi as well
2015-03-06T15:57:05  *** ayoung has joined #openstack-infra
2015-03-06T15:57:14  <sdague> I pushed it for tuskar recently, I don't remember if they landed it or not
2015-03-06T15:57:28  <anteaya> superanne: okay so when you are ready just cc third-party-announce@lists.openstack.org when you send it out to -docs
2015-03-06T15:57:44  <anteaya> superanne: keep in mind these folks are used to having deadlines and consequence
2015-03-06T15:58:06  <anteaya> if they don't have "this is waht will happen if you don't" they will just get confused and come in here and ask
2015-03-06T15:58:16  *** nelsnelson has joined #openstack-infra
2015-03-06T15:58:21  <anteaya> so my take on what happens if they don't is, they don't get included in the docs
2015-03-06T15:58:25  <anteaya> which is fine with me
2015-03-06T15:58:35  <jeblair> sdague: okay, i see how that works, thanks.  i'll abandon it then.
2015-03-06T15:58:57  <anteaya> superanne: the -announce list is moderated so I will keep an eye out for it and usher it through when I see it
2015-03-06T15:59:24  *** superanne has quit IRC
2015-03-06T15:59:52  <jeblair> sdague: does that means 161887 is a bad idea?
2015-03-06T16:00:31  *** achuprin_ has joined #openstack-infra
2015-03-06T16:00:42  *** superanne has joined #openstack-infra
2015-03-06T16:00:57  <sdague> well... I think it won't be used a ton
2015-03-06T16:01:09  <openstackgerrit> gordon chung proposed openstack-infra/project-config: add experimental ceilometer elasticsearch db jobs  https://review.openstack.org/160824
2015-03-06T16:01:17  *** stevemar has joined #openstack-infra
2015-03-06T16:01:38  <jeblair> sdague: still do it, but just document that it should only be used if in-repo is not appropriate?
2015-03-06T16:01:50  <sdague> yes, I think that makes sense
2015-03-06T16:02:47  <openstackgerrit> Brian Hunter proposed openstack-infra/system-config: grammar updates for gerrit documentation  https://review.openstack.org/160185
2015-03-06T16:02:47  <jeblair> sdague: k, thx.  i'll write a patch to copy the devstack stuff into trove
2015-03-06T16:03:01  <ihrachyshka> superbee, just wondering, why would I want to run master patch with juno default?
2015-03-06T16:03:12  *** hashar is now known as hasharAway
2015-03-06T16:03:59  <jeblair> superbee: since it's early still, i'd like to kick off bare-* image builds; how should i go about that?
2015-03-06T16:04:05  <sdague> the places I expect that we'll need it is where there is some 3rd party software outside the openstack space you need to configure for a thing. So filesystems like glusterfs and ceph (which we'll try to get into one of these as well).
2015-03-06T16:04:18  <sdague> all the neutron stuff has driver trees now, so that should be fine
2015-03-06T16:04:19  <superbee> for branchless projects testing against other things
2015-03-06T16:04:26  <superbee> for example neutronclient
2015-03-06T16:04:43  <sdague> or tempest
2015-03-06T16:04:51  *** maune has joined #openstack-infra
2015-03-06T16:04:57  <superbee> jeblair bare-* are not dib so just image-update
2015-03-06T16:05:15  <superbee> jeblair I like to run one command per region for parallel builds in screen
2015-03-06T16:05:28  <jeblair> superbee: ok, thanks
2015-03-06T16:06:26  <superdan> hi all, the devstack patch merged that this depends on: https://review.openstack.org/#/c/160893/
2015-03-06T16:06:32  <sdague> jeblair: unrelated, been playing with https://pypi.python.org/pypi/pycscope/ and emacs integration this morning. Thought you might appreciate it if you haven't seen it before.
2015-03-06T16:06:37  <superdan> would love to get that in soon so I can start doing testing against devstack
2015-03-06T16:07:08  *** imcsk8 has quit IRC
2015-03-06T16:07:15  *** imcsk8 has joined #openstack-infra
2015-03-06T16:07:44  *** e0ne is now known as e0ne_
2015-03-06T16:07:47  *** superanne has quit IRC
2015-03-06T16:07:55  <openstackgerrit> Lucas Alvares Gomes proposed openstack-infra/project-config: Ironic: Move pxe_ipa-nv to check instead of experimental  https://review.openstack.org/162204
2015-03-06T16:08:12  <sdague> superdan: +A
2015-03-06T16:08:19  <superdan> sdague: thanks
2015-03-06T16:08:25  *** superanne has joined #openstack-infra
2015-03-06T16:08:41  *** carl_baldwin has joined #openstack-infra
2015-03-06T16:08:44  *** dizquierdo has quit IRC
2015-03-06T16:10:15  <jeblair> sdague: oh cool, i had not seen that, thanks.
2015-03-06T16:10:19  *** e0ne_ is now known as e0ne
2015-03-06T16:10:38  *** mpaolino has quit IRC
2015-03-06T16:11:59  *** mpaolino has joined #openstack-infra
2015-03-06T16:12:08  *** ChuckC_ has joined #openstack-infra
2015-03-06T16:12:31  *** deepakcs has quit IRC
2015-03-06T16:14:27  *** jaypipes has joined #openstack-infra
2015-03-06T16:14:46  *** mbacchi has quit IRC
2015-03-06T16:14:58  *** jaypipes is now known as leakypipes
2015-03-06T16:16:48  *** nelsnelson has quit IRC
2015-03-06T16:17:11  *** teran_ has quit IRC
2015-03-06T16:18:52  *** achuprin_ has quit IRC
2015-03-06T16:19:00  <superbee> jeblair for dib images I do a single image-build the image-update per region
2015-03-06T16:19:07  <superbee> er
2015-03-06T16:19:17  <superbee> image-upload not image-update
2015-03-06T16:19:32  <jeblair> apparently we can't build centos6 images in rax
2015-03-06T16:19:39  <jeblair> 2015-03-06 16:07:54,613 INFO nodepool.image.build.rax-dfw.bare-centos6:   setuptools must be installed to install from a source distribution
2015-03-06T16:20:29  <jeblair> we have some that are 25 hours old
2015-03-06T16:20:31  *** rfolco has quit IRC
2015-03-06T16:20:36  *** dizquierdo has joined #openstack-infra
2015-03-06T16:20:51  *** sabari has quit IRC
2015-03-06T16:23:20  *** sabari has joined #openstack-infra
2015-03-06T16:23:34  *** krtaylor has quit IRC
2015-03-06T16:25:54  *** scheuran_ has quit IRC
2015-03-06T16:27:56  *** dannywilson has joined #openstack-infra
2015-03-06T16:28:01  *** garyk has quit IRC
2015-03-06T16:28:23  *** dannywilson has quit IRC
2015-03-06T16:30:19  *** ghostpl_ has quit IRC
2015-03-06T16:32:16  *** dannywilson has joined #openstack-infra
2015-03-06T16:32:51  *** ParsectiX has joined #openstack-infra
2015-03-06T16:33:04  *** amotoki has joined #openstack-infra
2015-03-06T16:33:53  *** chlong has joined #openstack-infra
2015-03-06T16:34:03  *** ghostpl_ has joined #openstack-infra
2015-03-06T16:34:07  *** otter768 has joined #openstack-infra
2015-03-06T16:35:13  *** krtaylor has joined #openstack-infra
2015-03-06T16:35:21  *** achuprin_ has joined #openstack-infra
2015-03-06T16:36:12  *** nelsnelson has joined #openstack-infra
2015-03-06T16:36:20  <anteaya> superbee jeblair are we having more swift log upload issues? https://review.openstack.org/#/c/161447/4
2015-03-06T16:36:31  <anteaya> sorry I haven't read all the backscroll yet
2015-03-06T16:36:45  *** rfolco has joined #openstack-infra
2015-03-06T16:36:58  <anteaya> latest run has File Not Found instead of logs
2015-03-06T16:37:21  <anteaya> and the run prior to that as well
2015-03-06T16:38:31  *** otter768 has quit IRC
2015-03-06T16:38:52  <jeblair> anteaya: can you link to the failed run instead?
2015-03-06T16:38:52  <anteaya> and can someone add kevinbenton to https://review.openstack.org/#/admin/groups/632,members when they get a moment?
2015-03-06T16:39:18  <jeblair> anteaya: done
2015-03-06T16:39:21  <anteaya> thanks
2015-03-06T16:39:29  <anteaya> link to the failed run? http://logs.openstack.org/47/161447/5/check/gate-infra-puppet-apply-centos6/16d57ef/
2015-03-06T16:39:34  <anteaya> is that what you mean?
2015-03-06T16:39:49  <anteaya> and another: http://logs.openstack.org/47/161447/5/check/gate-infra-puppet-apply-precise/1444292/
2015-03-06T16:40:21  <anteaya> I've got more
2015-03-06T16:40:31  <Ng> mordred: are you using a patched vhd-util in your upload-rax.sh? (hence the docker madness in the script?)
2015-03-06T16:41:09  <mordred> Ng: yes
2015-03-06T16:41:29  <jeblair> anteaya: that's from the same time we were having problems
2015-03-06T16:41:35  <anteaya> ah
2015-03-06T16:41:53  <anteaya> so the way forward is recheck? or are we still looking for a solution?
2015-03-06T16:41:57  <mordred> Ng: I took an initial stab at making debs here: https://launchpad.net/~mordred/+archive/ubuntu/vhd-util but haven't followed up
2015-03-06T16:42:02  *** sdake_ has joined #openstack-infra
2015-03-06T16:42:05  <openstackgerrit> Merged openstack/requirements: Require openstack-doc-tools 0.23  https://review.openstack.org/157472
2015-03-06T16:42:08  <jeblair> anteaya: recheck. fixed a while ago
2015-03-06T16:42:11  <anteaya> thanks
2015-03-06T16:42:24  <openstackgerrit> Merged openstack/requirements: Update openstackdocstheme  https://review.openstack.org/158379
2015-03-06T16:42:27  *** unicell1 has quit IRC
2015-03-06T16:42:34  <mordred> jeblair: wtf on the centos6 in rax issue - aren't we using get-pip everywhere?
2015-03-06T16:42:36  <superbee> what problems were we having?
2015-03-06T16:43:01  <openstackgerrit> Merged openstack/requirements: Adds Autobahn to global requirements  https://review.openstack.org/156982
2015-03-06T16:43:10  <openstackgerrit> Merged openstack/requirements: Add python-openstackclient  https://review.openstack.org/160887
2015-03-06T16:43:17  <superbee> oh!
2015-03-06T16:43:18  <openstackgerrit> Merged openstack/requirements: Bump oslo.context version to 0.2.0  https://review.openstack.org/161868
2015-03-06T16:43:32  *** sdake__ has joined #openstack-infra
2015-03-06T16:43:37  <jeblair> superbee: i pinged you on it earlier to fyi you.  puppet was stopped on nodepool, so the images prep scripts were not in sync with on-image copies of project-config, so zuul swift upload was missing glob2
2015-03-06T16:43:51  <superbee> ya reading sb now
2015-03-06T16:44:01  <jeblair> superbee: i deleted most recent images, re-enabled puppet, and started building new ones just cause
2015-03-06T16:44:06  <superbee> cool
2015-03-06T16:44:11  <jeblair> but yeah, i have no idea what's up with centos6
2015-03-06T16:44:16  <mordred> jeblair: just cause is a great reason
2015-03-06T16:44:47  <superbee> is devatack-fedora21-dib still failing to build with puppet enabled?
2015-03-06T16:44:54  <jeblair> superbee, mordred: http://paste.openstack.org/show/190455/
2015-03-06T16:45:20  <superbee> that is an amazing error
2015-03-06T16:45:28  <jeblair> superbee: yes, f21 seems to be in a tight fail loop
2015-03-06T16:45:33  <jeblair> superbee: i think we should remove it from the config
2015-03-06T16:45:37  <anteaya> superbee jeblair can you post when the new images are finished building? the enable swift logs on python-jobs patch is waiting on the image builds
2015-03-06T16:45:48  <superbee> jeblair +1
2015-03-06T16:46:09  <jeblair> anteaya: they are not building
2015-03-06T16:46:21  <superbee> I wonder if setuptools released without a whl?
2015-03-06T16:46:25  <mordred> Ng: https://github.com/emonty/deb-vhd-util <-- there's the packaging repo for it - in case you decide to punch that in the face instead of the docker
2015-03-06T16:46:49  <Ng> mordred: I'm going to be honest here, I just build a separate vhd-util binary and shoved it in ~/bin/ ;)
2015-03-06T16:46:53  <Ng> *built
2015-03-06T16:47:02  <superbee> there is a whl on pypi
2015-03-06T16:47:28  *** sdake_ has quit IRC
2015-03-06T16:47:41  <Ng> mordred: I am curious why the convert patch has been floating around since 2012 and apparently not made it into either debian or fedora
2015-03-06T16:47:50  <openstackgerrit> James E. Blair proposed openstack-infra/system-config: Remove devstack-fedora21-dib  https://review.openstack.org/162217
2015-03-06T16:47:52  <superbee> because its terrible C
2015-03-06T16:47:55  <jeblair> superbee: ^
2015-03-06T16:48:05  *** devvesa has quit IRC
2015-03-06T16:48:12  <Ng> superbee: well that's no excuse!
2015-03-06T16:48:20  <jeblair> superbee: i guess we're not building any nodes again?
2015-03-06T16:48:23  <jeblair> jeez
2015-03-06T16:48:39  <anteaya> jeblair: oh
2015-03-06T16:48:47  *** rmcall has quit IRC
2015-03-06T16:49:07  *** rmcall has joined #openstack-infra
2015-03-06T16:49:13  <openstackgerrit> Doug Hellmann proposed openstack-infra/devstack-gate: add oslo.versionedobjects  https://review.openstack.org/162218
2015-03-06T16:49:13  <jeblair> i am going to force-merge this patch, and then i am not going to review another nodepool code or config change again until this thing has some real testing.
2015-03-06T16:49:26  *** hdd_ has joined #openstack-infra
2015-03-06T16:49:35  <superbee> ok
2015-03-06T16:49:42  *** gyee has joined #openstack-infra
2015-03-06T16:50:18  <openstackgerrit> Merged openstack-infra/system-config: Remove devstack-fedora21-dib  https://review.openstack.org/162217
2015-03-06T16:52:11  <mordred> Ng: I have literally no idea
2015-03-06T16:52:27  <jeblair> nodes are being launched now
2015-03-06T16:52:42  <superbee> mordred really its bad C iirc there was a review of it and no one worked to fix it
2015-03-06T16:52:59  *** yamahata has joined #openstack-infra
2015-03-06T16:53:11  *** boris-42 has joined #openstack-infra
2015-03-06T16:53:15  <mordred> superbee: sure. but that has never stopped distros from using patches before
2015-03-06T16:54:50  *** notmyname has joined #openstack-infra
2015-03-06T16:55:30  *** sambetts has quit IRC
2015-03-06T16:55:46  *** purp is now known as purp_away
2015-03-06T16:57:38  *** sambetts has joined #openstack-infra
2015-03-06T16:58:11  <greghaynes> Ng: Theres also https://review.openstack.org/#/c/156433/
2015-03-06T16:58:20  <greghaynes> (totally untested)
2015-03-06T16:58:36  *** jerryz_ has quit IRC
2015-03-06T16:58:55  <mordred> greghaynes: nice
2015-03-06T16:59:03  <jeblair> greghaynes: does that require the patched vhd-util?
2015-03-06T16:59:06  <greghaynes> yes
2015-03-06T17:00:01  <cody-somerville> What version of setuptools is openstack currently using?
2015-03-06T17:00:05  <mordred> yah - but it'll allow us to tell dib to output a vhd and a qcow2
2015-03-06T17:00:07  <mordred> cody-somerville: the latest
2015-03-06T17:00:19  <mordred> cody-somerville: don't ever attempt to pin setuptools, you will fail horriblyand die
2015-03-06T17:00:38  <mordred> cody-somerville: I mean, unless you want to :)
2015-03-06T17:00:53  <anteaya> 2015-03-06T15:15:15  <jeblair> we just merged a change to the script to use glob2, but did not add it to the venv
2015-03-06T17:00:54  *** changbl has quit IRC
2015-03-06T17:00:56  <anteaya> so that was me
2015-03-06T17:01:04  <anteaya> help me to learn what I should have done
2015-03-06T17:01:27  <jeblair> anteaya: that statement was wrong, keep reading
2015-03-06T17:01:59  <Ng> greghaynes: nice
2015-03-06T17:02:07  <anteaya> I'm reading
2015-03-06T17:02:21  <zaro> morning
2015-03-06T17:02:27  <anteaya> I see the problem was puppet was stopped on nodepool.o.o
2015-03-06T17:02:41  <anteaya> I still want to get better at doing the right thing though
2015-03-06T17:02:43  <mordred> greghaynes: I know you said "completely untested" ... last time I tried a multi-format output, the second format failed because a variable got stepped IIRC
2015-03-06T17:03:01  <mordred> greghaynes: we shoudl probably put "make sure format=qcow2,vhd works" on our TDL :)
2015-03-06T17:03:20  <jeblair> anteaya: okay, but you didn't do anything wrong, so good luck improving :)
2015-03-06T17:03:40  <bhunter71> quick question, sorry to butt in:   if I was to run my devstack-trusty at say 2 vcpus versus 4 - what would be the expected impact?    ie - are the tests CPU bound and concurrent/multiprocess?  would I notice significantly longer runs, do you think?    well, there's surely one way to find out!
2015-03-06T17:04:13  <anteaya> thanks, it a daily thing
2015-03-06T17:04:52  <openstackgerrit> Merged openstack-infra/project-config: Enable dsvm testing on oslo.versionedobjects  https://review.openstack.org/160893
2015-03-06T17:05:06  <ihrachyshka> anteaya, please https://review.openstack.org/#/c/161303/
2015-03-06T17:05:16  <jeblair> superbee: maybe there was not a wheel at the time?  i will kick off builds again and see
2015-03-06T17:05:29  <greghaynes> mordred: wait, you want to actually use the code? Clearly we should have designed it for this.
2015-03-06T17:05:40  *** jlanoux has quit IRC
2015-03-06T17:06:16  <superbee> jeblair: ya either that or get-pip's pip is selecting the sdist for some reason. Maybe that wheel doesn't properly advertise support on say linux because it has to link against things?
2015-03-06T17:06:30  <greghaynes> but yes, that actually could be a really simpe test case - build a few combinations of super minimal images
2015-03-06T17:06:55  <jeblair> superbee: i just ran it on a not entirely clean vm and it got a wheel, which is what prompted me to think something different might happen
2015-03-06T17:07:09  <greghaynes> since im pretty sure the different dib output formats dont care if the image is basically empty
2015-03-06T17:07:09  <jeblair> superbee: and yeah, one of the builds just got a wheel and passed that point
2015-03-06T17:07:13  *** Ala has quit IRC
2015-03-06T17:07:14  <jeblair> superbee: so it seems temporal?
2015-03-06T17:07:28  <anteaya> ihrachyshka: we have a bit of a backlog in zuul and I am still reading backscroll but I will get to it
2015-03-06T17:07:38  <ihrachyshka> thanks
2015-03-06T17:07:46  <jeblair> mordred: fyi centos6 pip issue was temporary lack of wheel from pypi
2015-03-06T17:08:10  <superbee> jeblair: weird
2015-03-06T17:08:25  <anteaya> ihrachyshka: and try to save pinging me for reviews for crisis things, because if you ping me for every patch you write, your pings will be lost to me
2015-03-06T17:08:27  <mordred> oh - like, "it was in the middle of being uploaded" or something?
2015-03-06T17:08:39  *** superanne has quit IRC
2015-03-06T17:08:57  <ihrachyshka> anteaya, I don't ping for each review, only those that break branches for stable
2015-03-06T17:09:10  *** vilobhmm has joined #openstack-infra
2015-03-06T17:09:45  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Test that dib failures don't stop node builds  https://review.openstack.org/162237
2015-03-06T17:09:52  <superbee> jeblair: ^ that is the first test in response to this
2015-03-06T17:09:56  *** vilobhmm1 has joined #openstack-infra
2015-03-06T17:09:58  <superbee> jeblair: that covers what you fixed
2015-03-06T17:10:45  <anteaya> 2015-03-06T15:39:31  <lxsli> Hmm not sure this is the right place to raise this, but has anyone suggested colour-coding badges at Vancouver?
2015-03-06T17:11:10  *** ghostpl_ has quit IRC
2015-03-06T17:11:11  <anteaya> lxsli: you might better email the foundation staff with your thoughts on summit workflows
2015-03-06T17:11:20  <superbee> lxsli anteaya summit@openstack.org
2015-03-06T17:12:43  <superbee> forgot to use the dib-nodepool topic, will update
2015-03-06T17:13:59  *** vilobhmm has quit IRC
2015-03-06T17:14:23  <asselin> greghaynes, from yesterday, it does try to download the ruby1.8 package. Seem's like a bug in the package generation script. http://paste.openstack.org/show/190467/
2015-03-06T17:14:45  <greghaynes> asselin: nice!
2015-03-06T17:15:11  *** AJaeger_cooking is now known as AJaeger
2015-03-06T17:16:01  *** e0ne is now known as e0ne_
2015-03-06T17:16:56  *** e0ne_ is now known as e0ne
2015-03-06T17:16:56  <anteaya> superbee: thanks
2015-03-06T17:17:08  <jeblair> superbee: cool, so hopefully that will fail, yeah?
2015-03-06T17:17:16  <superbee> jeblair: no it passes because your fix merged I think
2015-03-06T17:17:21  <jeblair> oh ok
2015-03-06T17:17:27  <superbee> jeblair: nodepool daemon that was running failed because we need to restart the daemon
2015-03-06T17:18:20  <superbee> yup your fix is the commit that test is based on
2015-03-06T17:18:49  <jeblair> superbee: do you need the sleep(3) there?
2015-03-06T17:19:24  <pleia2> morning
2015-03-06T17:19:38  <superbee> let me check, I mostly cargo culted the test just before it (which I also wrote) so it may be wrong too
2015-03-06T17:20:13  <jeblair> superbee: also, what causes the dib image to fail?
2015-03-06T17:20:14  <pleia2> doh, need to remove old ssh key for ci-backup-rs-ord.openstack.org
2015-03-06T17:20:16  * pleia2 gets to it
2015-03-06T17:20:36  *** changbl has joined #openstack-infra
2015-03-06T17:21:12  <anteaya> morning pleia2
2015-03-06T17:21:14  <superbee> jeblair: in the yaml, I have specified an invalid base image name. The fake dib script that the tests runs exits 1 on that
2015-03-06T17:21:27  <asselin> greghaynes, so some bug here: https://github.com/openstack-infra/project-config/blob/master/nodepool/elements/cache-devstack/extra-data.d/55-cache-devstack-repos#L120
2015-03-06T17:21:32  <superbee> jeblair: I can also add a specific assert that the dib image table is empty too and not just check nodes build
2015-03-06T17:21:37  <jeblair> superbee: got it
2015-03-06T17:21:43  *** lucasagomes has joined #openstack-infra
2015-03-06T17:22:21  *** cdent has quit IRC
2015-03-06T17:22:23  *** armax has quit IRC
2015-03-06T17:22:28  <lucasagomes> Hi all, I've a experimental job in Ironic and instead of building a ramdisk from scratch we download it during devstack run see: http://logs.openstack.org/44/158644/8/experimental/check-tempest-dsvm-ironic-pxe_ipa-nv/bd20459/logs/devstacklog.txt.gz#_2015-03-06_15_19_52_267
2015-03-06T17:22:33  <lucasagomes> is it possible to cache it somewhere?
2015-03-06T17:22:52  * lucasagomes goes and look for examples
2015-03-06T17:22:55  <AJaeger> pleia2: do you have a few minutes to discuss https://review.openstack.org/#/c/157626/ ?
2015-03-06T17:23:04  *** mpaolino has quit IRC
2015-03-06T17:23:31  <pleia2> AJaeger: if everyone is ok with it, that's fine, but it's still weird to me
2015-03-06T17:23:59  <AJaeger> pleia2: what is the weirdness? The descriptions or the check for it?
2015-03-06T17:24:07  <anteaya> AJaeger: me too
2015-03-06T17:24:20  <anteaya> I'm fine with adding descriptions
2015-03-06T17:24:25  <anteaya> the test seems weird to me
2015-03-06T17:24:30  <pleia2> AJaeger: that we're forcing projects to have descriptions when they chose not to
2015-03-06T17:24:41  <pleia2> I don't see the benefit
2015-03-06T17:24:42  <anteaya> have you looked at teh format check scripts jeblair introduced last night?
2015-03-06T17:24:55  <anteaya> I think checking for format is a better way to go
2015-03-06T17:25:10  <pleia2> and they don't know that a description has been added, so they won't know if they have to update it
2015-03-06T17:25:29  <jeblair> pleia2: i'm not sure that anyone has _chosen_ not to have a description
2015-03-06T17:25:33  *** vilobhmm1 has quit IRC
2015-03-06T17:25:33  <AJaeger> anteaya: I looked briefly but don't understand what you mean checking format
2015-03-06T17:25:47  <AJaeger> anteaya: jeblair's script can be enhanced to check for the description entry
2015-03-06T17:25:48  <jeblair> pleia2: more likely, cargo-culted something that happened to not have one
2015-03-06T17:25:49  <pleia2> jeblair: ah, just unaware of syntax?
2015-03-06T17:25:51  *** vilobhmm has joined #openstack-infra
2015-03-06T17:25:51  * pleia2 nods
2015-03-06T17:26:13  <jeblair> pleia2: i think very early versions of that file didn't have that, so many didn't get them originally
2015-03-06T17:26:14  <AJaeger> pleia2, anteaya: Most recent patches have descriptions in there - the cargo cult and docu works
2015-03-06T17:26:15  <anteaya> I'm fine checking format of what is there
2015-03-06T17:26:25  <superbee> jeblair: the test does fail without the sleep, I think it may expose a potential real problem so let me debug before approving anything
2015-03-06T17:26:28  <anteaya> whitespace and removing '
2015-03-06T17:26:41  <AJaeger> anteaya: the patch adds missing descriptions and then checks for the future...
2015-03-06T17:26:49  <superbee> jeblair: though the other tests seem to ru nwithout their sleeps, so we can probably clean the sleeps up
2015-03-06T17:26:52  <AJaeger> anteaya: yeah, I'm fine with that kind of format cleanup
2015-03-06T17:26:55  <anteaya> I'm fine with a test for format
2015-03-06T17:26:56  <superbee> looks like waitForNodes should do the sleep for us
2015-03-06T17:27:00  *** e0ne is now known as e0ne_
2015-03-06T17:27:43  <AJaeger> For me it's really usefull to have some kind of descriptions for repositories. There are far too many to know what each does...
2015-03-06T17:28:00  <greghaynes> asselin: http://git.openstack.org/cgit/openstack-dev/devstack/tree/files/debs/trema
2015-03-06T17:28:18  <superbee> jeblair: I see what the problem is, we allocate nodes to fake-provider1 even when it does not have any images ready to build that node
2015-03-06T17:28:18  * asselin looking
2015-03-06T17:28:21  <anteaya> I have read some of the descriptions they don't help me in many cases understand any better what the project does
2015-03-06T17:28:27  <superbee> jeblair: so waitForNodes() waits until it times out
2015-03-06T17:28:31  <anteaya> bindep for instance
2015-03-06T17:28:37  <greghaynes> asselin: I am still very confused why infra doesnt hit this when building images for trusty
2015-03-06T17:28:39  <anteaya> still have no idea what that repo does
2015-03-06T17:28:48  *** unicell has joined #openstack-infra
2015-03-06T17:28:54  <jeblair> anteaya: er, you have an action item to adopt it into infra
2015-03-06T17:28:56  <AJaeger> anteaya: then let's ask for better descriptions merging it in.
2015-03-06T17:29:01  <greghaynes> asselin: are you building on a trusty build host or precise?
2015-03-06T17:29:13  <AJaeger> anteaya: and for bindep, you can surely improve it.
2015-03-06T17:29:15  <asselin> greghaynes, precise
2015-03-06T17:29:24  <anteaya> jeblair: I do and have written the patches
2015-03-06T17:29:32  <anteaya> I know how to move a project
2015-03-06T17:29:39  <greghaynes> hrm, well that kills my hypothesis then
2015-03-06T17:29:44  <anteaya> but I read the description it doesn't tell me what the project does
2015-03-06T17:29:51  <anteaya> in language I understand
2015-03-06T17:29:52  *** luqas__ has quit IRC
2015-03-06T17:30:00  <anteaya> but that wasn't required to write the patch to move it
2015-03-06T17:30:11  <AJaeger> anteaya: http://git.openstack.org/cgit/stackforge/bindep/tree/README.rst
2015-03-06T17:30:13  *** dtantsur is now known as dtantsur|afk
2015-03-06T17:30:23  *** dtantsur|afk is now known as dtantsur|pto
2015-03-06T17:30:44  <superbee> jeblair: and the sleep doesn't seem to affect that, I get it to pass with and without the sleep. I am thinking a race between allocation and image build failing
2015-03-06T17:30:46  <AJaeger> anteaya: binary dependencies tells me already a lot - but yes, it still leaves question open
2015-03-06T17:30:49  <asselin> greghaynes, why?
2015-03-06T17:31:10  <superbee> jeblair: eg if we allocate before the image fails it thinks it will have an image and allocates 1, if we allocate after then it knows to give both nodes to provider2
2015-03-06T17:31:22  <greghaynes> asselin: I was thinking infra didnt hit it because they build on precise but if youre doing that too then thats probably not the issue
2015-03-06T17:31:34  <openstackgerrit> Merged openstack-infra/project-config: Flip the bool condition  https://review.openstack.org/162199
2015-03-06T17:31:38  <asselin> greghaynes, I think infra builds on trusty
2015-03-06T17:31:41  *** ddieterl_ has quit IRC
2015-03-06T17:31:58  *** ddieterly has joined #openstack-infra
2015-03-06T17:32:00  <greghaynes> ah
2015-03-06T17:32:01  *** e0ne_ has quit IRC
2015-03-06T17:32:18  <anteaya> AJaeger: see I speak a different language
2015-03-06T17:32:46  <anteaya> so forcing someone to write a description that amounts to binary dependencies doens't help me
2015-03-06T17:32:48  <AJaeger> anteaya: I guess I did a bit more packaging than you did in my past...
2015-03-06T17:32:54  <anteaya> no notice I didn't vote on teh patch
2015-03-06T17:33:04  <anteaya> I have done zero packaging
2015-03-06T17:33:21  *** jcoufal_ has quit IRC
2015-03-06T17:33:35  <anteaya> so if others want a test to force pepole to write stuff that amounts to binary dependanceies who am I to say no
2015-03-06T17:33:41  *** rwsu-afk is now known as rwsu
2015-03-06T17:33:49  <anteaya> but if you ask me does that add value for me? no, no it doesn't
2015-03-06T17:33:57  <anteaya> formating does
2015-03-06T17:34:11  *** claudiub has joined #openstack-infra
2015-03-06T17:34:22  <AJaeger> anteaya: Reading the README, what about as description for bindep: "Tool to check that binary packages need by applications and libraries exist"
2015-03-06T17:34:23  <asselin> greghaynes, for now I will work around by taking away the set -e.
2015-03-06T17:35:18  <anteaya> if you want
2015-03-06T17:35:20  <AJaeger> or "are available". It's basically like requirements.txt file but not for python packages but for binary (distribution) packages
2015-03-06T17:35:31  <anteaya> my point is a test for the presence of a description doesn't do anything for me
2015-03-06T17:35:32  *** mpaolino has joined #openstack-infra
2015-03-06T17:35:43  <anteaya> formating any description that is there does
2015-03-06T17:35:56  <AJaeger> anteaya: I agree that only the presence is not enough. We need to review better to get good descriptions in.
2015-03-06T17:36:02  <anteaya> okay
2015-03-06T17:36:14  <greghaynes> asselin: so my reading of devstack indicates that the trema dependencies file is never actually used
2015-03-06T17:36:15  <AJaeger> And I'm happy to +2 a formatting patch, I just need some more time to review it.
2015-03-06T17:36:21  <anteaya> I haven't bee reviewing for presence, just reasonableness if they put one there
2015-03-06T17:36:26  <greghaynes> asselin: which would explain why everyone isnt hitting this
2015-03-06T17:36:27  <anteaya> AJaeger: of course
2015-03-06T17:36:42  <AJaeger> anteaya: but I liked where it was going...
2015-03-06T17:36:50  <anteaya> AJaeger: your description of bindep makes sense to me
2015-03-06T17:36:52  <anteaya> thanks
2015-03-06T17:36:55  *** dizquierdo has quit IRC
2015-03-06T17:36:59  <greghaynes> superbee: is it possible that youall are pointing your nodepool-dib builds for ubuntu at a precise apt mirror?
2015-03-06T17:37:08  <anteaya> AJaeger: of course because you like to automate everything
2015-03-06T17:37:11  <anteaya> and i can see that
2015-03-06T17:37:17  <superbee> greghaynes: I don't think so
2015-03-06T17:37:24  <AJaeger> anteaya: ;)
2015-03-06T17:37:26  <anteaya> but somethings, like language choices aren't a good fit
2015-03-06T17:37:27  *** jistr has quit IRC
2015-03-06T17:37:30  <superbee> greghaynes: we use the ubuntu base images
2015-03-06T17:37:34  <superbee> greghaynes: no funny business
2015-03-06T17:37:37  <anteaya> but language format is
2015-03-06T17:37:46  <greghaynes> heh, ok
2015-03-06T17:38:39  *** pblaho has quit IRC
2015-03-06T17:39:26  <AJaeger> anteaya, pleia2: The patch has now 2 +2s on it. Since I didn't hear a veto, would you be ok if I approve it now - or do we need to discuss this in the infra-meeting some more?
2015-03-06T17:40:02  <openstackgerrit> Mauro Rodrigues proposed openstack-infra/subunit2sql: Convert tags metadata to string before persist it  https://review.openstack.org/147205
2015-03-06T17:40:13  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T17:40:22  *** armax has joined #openstack-infra
2015-03-06T17:40:48  <pleia2> AJaeger: you can go ahead
2015-03-06T17:40:49  <anteaya> AJaeger: like I said if others feel there is value there, they can have it
2015-03-06T17:40:54  <anteaya> I see no value in it
2015-03-06T17:41:07  <anteaya> I'm not blocking it
2015-03-06T17:41:17  *** rkukura has joined #openstack-infra
2015-03-06T17:41:17  <asselin> greghaynes, ok looking here: https://github.com/openstack-infra/project-config/blame/master/nodepool/elements/cache-devstack/extra-data.d/55-cache-devstack-repos#L137
2015-03-06T17:41:41  *** ivar-lazzaro has quit IRC
2015-03-06T17:41:54  <asselin> should pick either debs or apts? I see both...?
2015-03-06T17:42:05  <superbee> jeblair: the allocation granting system does not seem to take into account image availability
2015-03-06T17:42:15  <AJaeger> anteaya, pleia2: understood - thanks
2015-03-06T17:42:18  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T17:42:26  <superbee> jeblair: probably something to try updating in a subsequent change?
2015-03-06T17:42:30  *** ivar-lazzaro has quit IRC
2015-03-06T17:43:10  <AJaeger> anteaya: speaking about checks, I added one that every channel in gerritbot is in accessbot as well: Do you see value in that? https://review.openstack.org/162070
2015-03-06T17:43:25  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T17:43:31  *** david-lyle_afk is now known as david-lyle
2015-03-06T17:43:35  <superbee> actually I think there may be a simple fix
2015-03-06T17:43:53  <greghaynes> asselin: I think its correct - I think apts is just a symlink to debs
2015-03-06T17:44:04  <AJaeger> superbee: with 162070 in, all channels are cleaned up ;)
2015-03-06T17:44:13  <greghaynes> so worst case it would be double installing everything
2015-03-06T17:44:22  <asselin> greghaynes, ok I see
2015-03-06T17:45:05  *** hodos has joined #openstack-infra
2015-03-06T17:45:29  <anteaya> AJaeger: wasn't there some discussion you had with jeblair to create one bot file instead of many?
2015-03-06T17:45:40  <asselin> greghaynes, sorry going to a meeting
2015-03-06T17:45:47  *** armax has quit IRC
2015-03-06T17:45:52  <anteaya> so that getting channel services was one config entry rather than many?
2015-03-06T17:46:08  *** ashleighfarnham has joined #openstack-infra
2015-03-06T17:46:08  <anteaya> am I remembering correctly?
2015-03-06T17:46:38  *** AJaeger_ has joined #openstack-infra
2015-03-06T17:47:14  <jeblair> anteaya: i'm working on a plan, but don't have it ready yet
2015-03-06T17:47:19  *** Guest94194 has quit IRC
2015-03-06T17:48:26  <anteaya> okay thanks, just was wondering if I understood the direction correctly
2015-03-06T17:48:52  *** claudiub has quit IRC
2015-03-06T17:48:59  *** AJaeger has quit IRC
2015-03-06T17:49:47  *** afazekas has quit IRC
2015-03-06T17:49:49  <anteaya> AJaeger: and yes in the meantime ensuring that channels that recieve gerrit patch status events also have infra access is a good thing to have
2015-03-06T17:49:54  <anteaya> oh he left
2015-03-06T17:50:03  *** stevemar has quit IRC
2015-03-06T17:50:37  *** stevemar has joined #openstack-infra
2015-03-06T17:52:02  <AJaeger_> anteaya: I'm back
2015-03-06T17:52:43  *** bnemec is now known as beekneemech
2015-03-06T17:52:49  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Test that dib failures don't stop node builds  https://review.openstack.org/162237
2015-03-06T17:52:50  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Don't allocate nodes to providers without images  https://review.openstack.org/162255
2015-03-06T17:53:26  <superbee> jeblair: ^ I don't fully understand how that wasn't a 100% failure before, but this makes my test pass after 10 consecutive runs when before the fail rate was about 50%
2015-03-06T17:53:37  <anteaya> AJaeger_: oh okay great
2015-03-06T17:53:38  *** purp_away is now known as purp
2015-03-06T17:53:43  <superbee> jeblair: not sure that that is the correct place to handle this case in the allocator either
2015-03-06T17:53:45  <AJaeger_> anteaya: having it in one file would be great - together with the eavesdrop, and then still we would need some checking. This is the best I came up with for now
2015-03-06T17:53:56  <anteaya> AJaeger_: understood
2015-03-06T17:54:02  <anteaya> and yes it has value for me
2015-03-06T17:54:30  <anteaya> just keep in mind that even when we disagree I admire your hard work
2015-03-06T17:54:36  <anteaya> and appreciate your perspective
2015-03-06T17:54:41  <anteaya> I just don't share it sometimes
2015-03-06T17:54:43  <anteaya> :)
2015-03-06T17:54:46  *** jcoufal has joined #openstack-infra
2015-03-06T17:55:19  <superbee> jeblair: though this exposes a bunch of fails in the other tests :(
2015-03-06T17:55:28  <AJaeger_> anteaya: that's the spirit. Disagreement is fine if we handle it good as we do
2015-03-06T17:55:39  <superbee> because they depend on a positive allocation leading to waiting for a node to be made
2015-03-06T17:55:40  <superbee> hrm
2015-03-06T17:57:56  *** AJaeger_ is now known as AJaeger
2015-03-06T17:58:21  <anteaya> AJaeger: can you look at https://review.openstack.org/#/c/161447/5/zuul/layout.yaml for me
2015-03-06T17:58:27  <anteaya> perhaps I am confused
2015-03-06T17:58:43  <anteaya> I see tarballs and publish to pypi as separate things
2015-03-06T17:58:53  <anteaya> does publish to pypi need tarballs?
2015-03-06T17:58:57  <anteaya> I didn't think it did
2015-03-06T17:59:09  *** ssam2 has quit IRC
2015-03-06T18:02:19  <openstackgerrit> Merged openstack-infra/project-config: Add a lot of missing descriptions  https://review.openstack.org/157626
2015-03-06T18:03:43  <jeblair> superbee: i feel like your code change is correct, but that means we need a different strategy for testing :/
2015-03-06T18:04:16  *** lucasagomes is now known as lucas-beer
2015-03-06T18:04:42  <superbee> jeblair: ya I am working on that
2015-03-06T18:04:57  *** superanne has joined #openstack-infra
2015-03-06T18:04:59  <jeblair> pushed gertty 1.1.0
2015-03-06T18:05:04  <superbee> jeblair: I think the key is each test should explicitly state what resources it is waiting on early in a test
2015-03-06T18:05:17  <jeblair> superbee: that sounds like a good solution
2015-03-06T18:05:19  <superbee> jeblair: so waitForImage(X) waitForImage(Y) waitForNodes() then asserts
2015-03-06T18:05:22  <jeblair> superbee: ++
2015-03-06T18:06:02  *** lucas-beer has left #openstack-infra
2015-03-06T18:07:17  *** yamahata has quit IRC
2015-03-06T18:07:42  <superbee> jeblair: I think the sleeps were there to approximate this behavior in the past
2015-03-06T18:07:57  <jeblair> superbee: the negative is still tricky there... you are working on a test where you don't expect the image to appear, and the dib image construction is asynchronous...
2015-03-06T18:08:30  <superbee> jeblair: yup I will need to assert failed buidls some other way
2015-03-06T18:08:33  <jeblair> superbee: perhaps it will generally work, but it doesn't seem foolproof
2015-03-06T18:08:50  <jeblair> superbee: maybe record failed builds in something the test can inspect?
2015-03-06T18:08:59  <superbee> jeblair: we do :) the log
2015-03-06T18:09:07  *** yamamoto has quit IRC
2015-03-06T18:09:11  *** SumitNaiksatam has quit IRC
2015-03-06T18:09:13  <superbee> though thats a bit fragile
2015-03-06T18:09:20  <jeblair> https://pypi.python.org/pypi/gertty/1.1.0 exists
2015-03-06T18:09:41  *** marcusvrn has quit IRC
2015-03-06T18:10:59  <jlvillal> jeblair: I got an exception about the database in gertty after I did a fresh git pull.  Is this a known issue?
2015-03-06T18:11:47  <superanne> anteaya: did you get a chance to read through the email, does it make sense for the 3rd party audience?
2015-03-06T18:12:18  <jeblair> jlvillal: can you paste the error?
2015-03-06T18:12:54  <jlvillal> jeblair: http://paste.openstack.org/show/190472/
2015-03-06T18:13:07  *** marcusvrn has joined #openstack-infra
2015-03-06T18:13:41  *** bdpayne has joined #openstack-infra
2015-03-06T18:13:44  <jlvillal> jeblair: It did immediately on startup.  So I deleted the ~/.gertty.db file  But then it died again.
2015-03-06T18:13:52  <jlvillal> s/did/died/
2015-03-06T18:14:40  <jeblair> jlvillal: did it die with the same error the second time?
2015-03-06T18:15:00  <jlvillal> jeblair: The one I pasted is the 2nd time.  Let me look at scrollback for first error
2015-03-06T18:15:34  *** edmondk has left #openstack-infra
2015-03-06T18:15:36  <jlvillal> jeblair: Seems to be the same error.  I'll paste
2015-03-06T18:15:59  <jlvillal> jeblair: 1st run error: http://paste.openstack.org/show/190473/
2015-03-06T18:16:49  <jeblair> jlvillal: i believe it's an instance of this bug: https://storyboard.openstack.org/#!/story/2000073
2015-03-06T18:16:58  <jeblair> mordred: what's the latest thinking on that?
2015-03-06T18:17:12  <jeblair> jlvillal: it seems to be somehowe related to pbr and the way gertty is installed from git
2015-03-06T18:17:37  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Test that dib failures don't stop node builds  https://review.openstack.org/162237
2015-03-06T18:17:38  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Don't allocate nodes to providers without images  https://review.openstack.org/162255
2015-03-06T18:17:40  <jeblair> jlvillal: if you create a new venv, and run "pip install -d ." it should work.  or if you create a new venv and install from pypi with "pip install gertty"
2015-03-06T18:17:50  <mordred> jeblair: still unable to reproduce
2015-03-06T18:17:55  <superbee> jeblair: ^ ok that should work for the first change, now I just need to sort out positively asserting that image builds failed in the new test
2015-03-06T18:18:04  <jeblair> jlvillal: do you have any idea how you originally installed it?
2015-03-06T18:18:17  <jlvillal> jeblair: I did the virtualenv setup
2015-03-06T18:18:21  <jlvillal> jeblair: Installed it
2015-03-06T18:18:33  <jlvillal> jeblair: Then I just installed it again after doing a git pull
2015-03-06T18:18:33  <jeblair> jlvillal: do you know what command you used to install it?
2015-03-06T18:18:42  *** purp is now known as purp_away
2015-03-06T18:18:47  <superbee> jeblair: mordred the fix for that is git clean -xfd then reinstall
2015-03-06T18:19:05  <jlvillal> jeblair: pip install .
2015-03-06T18:19:19  <superbee> the stale egg tells pbr/setuptools it doesn't need to update the alembic files
2015-03-06T18:19:27  *** morganfainberg is now known as needscoffeebadly
2015-03-06T18:19:58  <jeblair> superbee: so theoretically wou should be able to checkout an old version, pip install ., checkout a new version, pip install . and reproduce?
2015-03-06T18:20:10  <jeblair> s/wou/we/
2015-03-06T18:20:13  *** dolphm is now known as dolphin
2015-03-06T18:20:15  *** mpaolino has quit IRC
2015-03-06T18:20:43  *** dolphin is now known as Guest82734
2015-03-06T18:20:52  <jeblair> superbee: so theoretically we should be able to checkout an old version, pip install ., start gertty, stop gertty, checkout a new version, pip install ., start gertty and reproduce?
2015-03-06T18:20:55  <jeblair> fixed ^ :)
2015-03-06T18:21:22  <jlvillal> jeblair: Did a brand new virtualenv.  activate.  'pip install .'  And crashed :(
2015-03-06T18:21:38  <superbee> jeblair: yes I think so, just be sure you start with a clean slate otherwise your old version may also be affected by a stale egg
2015-03-06T18:21:46  <jeblair> jlvillal: what's the error this time?
2015-03-06T18:21:56  <jlvillal> jeblair: Same one
2015-03-06T18:22:15  <jlvillal> jeblair: sqlalchemy.exc.OperationalError: (OperationalError) no such column: ...
2015-03-06T18:22:18  *** esker has quit IRC
2015-03-06T18:22:30  *** needscoffeebadly is now known as CaptainMorgan
2015-03-06T18:22:59  *** e0ne has joined #openstack-infra
2015-03-06T18:23:00  <pc_m> superbee: pping
2015-03-06T18:23:08  <superbee> pc_m: pong
2015-03-06T18:23:16  *** achanda has joined #openstack-infra
2015-03-06T18:23:25  *** armax has joined #openstack-infra
2015-03-06T18:23:26  <pc_m> superbee: Can you review (and hopefully approve) https://review.openstack.org/#/c/162135/?
2015-03-06T18:23:50  <jlvillal> jeblair: It happens when I hit the key 'L'
2015-03-06T18:23:50  <pc_m> superbee: I goofed with the file filtering thing.
2015-03-06T18:24:06  *** e0ne has quit IRC
2015-03-06T18:24:19  <superbee> pc_m: sure done
2015-03-06T18:24:27  <pc_m> superbee: Thank you!
2015-03-06T18:24:32  <jeblair> jlvillal: i just did that and it worked for me.  are you sure you were in a completely new venv?
2015-03-06T18:25:02  *** tonytan4ever has quit IRC
2015-03-06T18:25:06  <jlvillal> jeblair: I'm sure.  I'll do it again :)
2015-03-06T18:25:44  <jeblair> jlvillal: best also remove the .gertty.db just to be sure
2015-03-06T18:25:56  *** jp_at_hp has quit IRC
2015-03-06T18:26:37  <jlvillal> jeblair: I did that.  Testing again.
2015-03-06T18:27:11  <AJaeger> anteaya: what's the problem with pypi?
2015-03-06T18:27:36  *** superanne has quit IRC
2015-03-06T18:27:45  <AJaeger> anteaya: the template generates the tarballs and uploads them
2015-03-06T18:27:57  *** jogo is now known as flashgordon
2015-03-06T18:28:19  <jeblair> superbee: those steps don't reproduce :(
2015-03-06T18:28:32  *** salv-orl_ has quit IRC
2015-03-06T18:28:41  <jeblair> 2015-03-06 10:32:44,963 Running upgrade 312cd5a9f878 -> 4a802b741d2f, add starred
2015-03-06T18:28:46  <anteaya> AJaeger: right so with publish to pypi we don't need any additional information for tarballs do we?
2015-03-06T18:29:13  <jeblair> superbee: https://etherpad.openstack.org/p/LeqN5lpQ4d are the steps
2015-03-06T18:29:21  <anteaya> AJaeger: see my comments: https://review.openstack.org/#/c/161447/4/jenkins/jobs/projects.yaml
2015-03-06T18:29:42  *** coolsvap has joined #openstack-infra
2015-03-06T18:29:57  <anteaya> superanne: yes, go ahead do send
2015-03-06T18:30:09  <AJaeger> ah, dig a bit...
2015-03-06T18:30:16  <anteaya> AJaeger: am I wrong?
2015-03-06T18:31:20  <AJaeger> anteaya: jenkins/jobs/pypi-jobs.yaml uses tarball-site
2015-03-06T18:31:26  *** yamahata has joined #openstack-infra
2015-03-06T18:31:27  <AJaeger> so, the variable is needed
2015-03-06T18:32:09  <AJaeger> and the jjb template python-jobs includes the {name}-tarball job-group
2015-03-06T18:32:22  <AJaeger> I meant:
2015-03-06T18:32:35  <AJaeger> and the jjb  python-jobs job-group includes the {name}-tarball job
2015-03-06T18:32:43  <jeblair> superbee: i don't see egg dirs in gertty when i do that; could an older version of pbr have created them?
2015-03-06T18:32:54  <AJaeger> And the Zuul publish-to-pypi template uses {name}-tarball job
2015-03-06T18:33:16  <openstackgerrit> Michael Krotscheck proposed openstack-infra/storyboard-webclient: Added sane result set indicators.  https://review.openstack.org/162265
2015-03-06T18:33:29  <AJaeger> So, if you remove the two liines from projects.yaml, our tests should fail because tarball-site is not set and the tarball job does not exist
2015-03-06T18:34:16  <anteaya> ah okay
2015-03-06T18:34:24  <anteaya> so doug was right the first time and i"m wrong
2015-03-06T18:34:26  <anteaya> thanks
2015-03-06T18:34:28  <jeblair> superbee, mordred: i found that if i run python setup.py install with the old checkout, it creates an egg dir and triggers the problem
2015-03-06T18:34:55  <mordred> jeblair: AH. LOVELY
2015-03-06T18:34:59  *** otter768 has joined #openstack-infra
2015-03-06T18:35:02  <jeblair> mordred: see the steps in https://etherpad.openstack.org/p/LeqN5lpQ4d
2015-03-06T18:35:18  <AJaeger> anteaya: dhellmann used just ''{name}-tarball' in his most recent patch - so just the one job...
2015-03-06T18:35:43  <anteaya> but in the patch I commented on
2015-03-06T18:35:46  <mordred> jeblair: /me grumps
2015-03-06T18:36:02  <openstackgerrit> Merged openstack-infra/project-config: Partial revert of func job setup for VPNaaS repo  https://review.openstack.org/162135
2015-03-06T18:36:10  <anteaya> AJaeger: did doug have it right in patchset 4?
2015-03-06T18:36:28  <jeblair> jlvillal: so clark's part of the solution is important.  you have to clean out the old egg dir from your git checkout (recreating the venv is not enough)
2015-03-06T18:36:29  *** Guest82734 is now known as dolphinator
2015-03-06T18:36:39  <mordred> dstufft: there isn't any way to detect if you're being run by pip vs. being run directy by python setup.py is there?
2015-03-06T18:36:49  <jlvillal> jeblair: Oh.  let me try that :)
2015-03-06T18:36:55  <jeblair> jlvillal: "the fix for that is git clean -xfd then reinstall"
2015-03-06T18:37:05  <dstufft> mordred: do you want the real answer or the ideal answer
2015-03-06T18:37:39  <mordred> dstufft: the real answer
2015-03-06T18:37:45  <mordred> dstufft: I've long since given up on idealism
2015-03-06T18:38:55  <jlvillal> jeblair: Woo hoo!!!  and woo hoo to superbee :)  It works now.  Thanks.  Hopefully there can be a way to detect that for upgraders.
2015-03-06T18:39:11  <mordred> jeblair: (I'm thinking that if we can detect it - we can at least print a warning like "dude, don't run setup.py directly")
2015-03-06T18:39:26  <AJaeger> anteaya: setting tarball-site was right, using python-jobs included the tarball job but many other jobs as well - like many other include.
2015-03-06T18:39:28  *** markvoelker has quit IRC
2015-03-06T18:39:43  <jeblair> jlvillal: yeah, i think that's what mordred is working on.  but from now on, as long as you don't run "python setup.py install" and just do "pip install ." you shouldn't hit the error again, even on the next upgrade
2015-03-06T18:39:44  <AJaeger> anteaya: so it was good - but using only tarballs job is perfect like its now ;)
2015-03-06T18:40:01  *** otter768 has quit IRC
2015-03-06T18:40:02  *** markvoelker has joined #openstack-infra
2015-03-06T18:40:04  <dstufft> mordred: so pip calls setup.py in a specific way that's highly unlikely to be replicated by someone whose not pip, also I'm pretty sure that pip sets some environment variables too that you could check for. But none of those are promised things and may change in the future (and may not hold in the past)
2015-03-06T18:40:38  <jlvillal> jeblair: I only did 'pip install .'  as a note
2015-03-06T18:40:56  <anteaya> AJaeger: ah so the latest patchset is better, cool
2015-03-06T18:41:04  <anteaya> AJaeger: thanks for looking at it
2015-03-06T18:41:05  <mordred> dstufft: could I request that we add a thing that always sets a "RUNNING_IN_PIP" env or something? I'll even write the patch ...
2015-03-06T18:41:11  <jeblair> jlvillal: do you have a "gertty.egg-info" in your gertty directory now?
2015-03-06T18:41:20  *** BobBall is now known as BobBall_AWOL
2015-03-06T18:41:30  *** sarob_ has joined #openstack-infra
2015-03-06T18:41:36  <anteaya> dhellmann: AJaeger likes your latest aeromancer patchset, and shortly I will too
2015-03-06T18:41:54  <jlvillal> jeblair: I don't see one
2015-03-06T18:41:56  *** thingee has joined #openstack-infra
2015-03-06T18:42:09  <jeblair> jlvillal: ok good.  i wonder if maybe an older version of pbr caused it to be created or something...
2015-03-06T18:42:11  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Test that dib failures don't stop node builds  https://review.openstack.org/162237
2015-03-06T18:42:26  <jeblair> jlvillal: do you have your old virtualenv -- the one that had the initial problem?
2015-03-06T18:42:33  <thingee> jeblair: I noticed the #openstack-cinder channel topic changed. Not sure if I upset someone or if there was some global reset in topics.
2015-03-06T18:42:51  <dstufft> mordred: I'd need to think about that a little bit, I understand the desire to check for that, but I worry about the precidence it would set - We're trying to move towards a world where what installer you use doesn't matter
2015-03-06T18:42:56  <jeblair> thingee: global reset of topics with outdated info due to technical error.  sorry :(  feel free to change it back
2015-03-06T18:42:58  <jlvillal> jeblair: Sorry.  The git -xfd wiped it out.
2015-03-06T18:43:12  <pleia2> need to heads down for a bit to work on some slides+practice elasticon talk for next week, bbiab
2015-03-06T18:43:15  <thingee> jeblair: Ok just double checking I didn't do something wrong :)
2015-03-06T18:43:24  <dstufft> mordred: open a ticket for discussion?
2015-03-06T18:43:24  <superbee> jeblair: I also see http://paste.openstack.org/show/190485/ occasionally when running these tests with --until-failure
2015-03-06T18:43:28  <jeblair> jlvillal: np.  we're a bit closer to understanding now, and i'm at least pretty sure that you should be all set going forward.
2015-03-06T18:43:41  <jeblair> jlvillal: thanks and sorry
2015-03-06T18:43:53  *** wenlock has quit IRC
2015-03-06T18:43:55  <jlvillal> jeblair: Thanks for the help :)
2015-03-06T18:43:56  <mordred> dstufft: fair concern... and yes, I shall do that
2015-03-06T18:44:36  *** markvoelker has quit IRC
2015-03-06T18:44:56  *** spzala has joined #openstack-infra
2015-03-06T18:45:00  <openstackgerrit> Rafael Folco proposed openstack-infra/system-config: Updates to running-your-own CI docs: Changes required  https://review.openstack.org/162268
2015-03-06T18:45:08  *** amitgandhinz has quit IRC
2015-03-06T18:45:24  <anteaya> can we get third party account 9751 IBM DB2 CI disabled please? http://paste.openstack.org/show/190486/ https://review.openstack.org/#/c/157158/
2015-03-06T18:45:29  <jlvillal> jeblair: On another note.  How hard would it be to have j/k scroll down/up ?  Or are those keys already used?  vim user here :)
2015-03-06T18:45:38  <anteaya> keystone has tried for 4 days to get them to fix it and they won't
2015-03-06T18:45:51  <anteaya> so CaptainMorgan has requested they be disabled
2015-03-06T18:46:19  <CaptainMorgan> i also looked, they are not properly posting logs for success. and haven't been for a while.
2015-03-06T18:46:32  <CaptainMorgan> 404 when you click the link.
2015-03-06T18:47:06  <openstackgerrit> Rafael Folco proposed openstack-infra/system-config: Updates to running-your-own CI docs: Changes required  https://review.openstack.org/162268
2015-03-06T18:47:10  <CaptainMorgan> since i haven't seen failures outside of merge conflict with no logs, i don't know if failures would have logs either.
2015-03-06T18:47:39  <jeblair> jlvillal: you can override keys in your local config file.  and if you create a "vim-style" map that others might like, we can add that as a built-in keymap too, so people can just say "keymap: vim" in their config files and get the same thing.
2015-03-06T18:48:05  <jlvillal> jeblair: Thanks.  I will check out the config file
2015-03-06T18:48:08  * mordred keeps wanting "u" to do the same thing as esc - but hasn't bothered doing it ...
2015-03-06T18:48:20  <mordred> also, I have no idea why I want that ... my fingers just want to do it all the time
2015-03-06T18:48:32  <mordred> was that an elm keystoke I wonder?
2015-03-06T18:48:58  <jeblair> jlvillal: i am not (much of) a vim user, so if you come up with the mapping, i'll be happy to help out with the patch
2015-03-06T18:49:53  <jlvillal> jeblair: Okay.  j/k are the things I naturally go for when I want to scroll up/down.  Not sure if any other keys come to mind as useful.
2015-03-06T18:50:21  *** stevemar is now known as stevedore
2015-03-06T18:51:40  <jeblair> jlvillal: it currently doesn't have support for multi-key commands, but probably could with a little work (so :q isn't an option yet).  i hope to add that at some point if someone doesn't beat me to it.
2015-03-06T18:52:00  <jeblair> jlvillal: (i would use it for c-x c-q of course ;)
2015-03-06T18:52:02  *** achanda has quit IRC
2015-03-06T18:52:06  <jlvillal> jeblair: :D
2015-03-06T18:52:38  <jlvillal> jeblair: I will get back to you and ask how to set it up in the config file.  Time for lunch now...
2015-03-06T18:52:53  *** ivar-lazzaro has quit IRC
2015-03-06T18:53:35  *** rkukura has quit IRC
2015-03-06T18:56:09  <sabari> I have a glance bp for k3 and it needs https://review.openstack.org/#/c/161878/.
2015-03-06T18:56:11  <sabari> It would be great if someone can review.
2015-03-06T18:56:31  *** ddieterly has quit IRC
2015-03-06T18:57:15  <anteaya> sabari: these are the folks you need to find: https://review.openstack.org/#/admin/groups/131,members
2015-03-06T18:57:31  *** achanda has joined #openstack-infra
2015-03-06T18:57:38  *** ddieterly has joined #openstack-infra
2015-03-06T18:57:47  *** sdake__ has quit IRC
2015-03-06T18:58:04  <sabari> anteaya: Thanks :). Will do.
2015-03-06T18:58:05  <openstackgerrit> yolanda.robla proposed openstack-infra/system-config: Expose jenkins_gitfullname and jenkins_gitemail  https://review.openstack.org/161695
2015-03-06T18:58:23  *** rmcall has quit IRC
2015-03-06T18:58:46  *** sarob_ has quit IRC
2015-03-06T19:00:13  <superbee> jeblair: "# granted but not requested?  shouldn't happen" comment around the raise for the KeyError I pasted above
2015-03-06T19:00:17  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T19:00:26  <superbee> jeblair: any thoughts on how that is happening would be awesome. I am going to see if it happens without my changes now
2015-03-06T19:00:58  *** dangers_away is now known as dangers
2015-03-06T19:01:22  *** amitgandhinz has joined #openstack-infra
2015-03-06T19:01:31  <SpamapS> superbee: funny story, on your question "why did you remove the base class?" ... I actually didn't even look at the base class and figured that was just useless boiler plate. ;)
2015-03-06T19:01:49  * SpamapS will push patch up for that later
2015-03-06T19:03:02  *** markvoelker has joined #openstack-infra
2015-03-06T19:03:14  *** MaxV has quit IRC
2015-03-06T19:04:28  *** superanne has joined #openstack-infra
2015-03-06T19:05:24  <superbee> jeblair: so far it hasn't happened without my change, going to let that run as much as it wants though while I step out for some food
2015-03-06T19:05:31  <superbee> but its likely my change has a bug
2015-03-06T19:06:15  *** rkukura has joined #openstack-infra
2015-03-06T19:06:37  <superbee> CaptainMorgan: anteaya did that account get inactivated?
2015-03-06T19:06:46  <superbee> I am reading scrollback to catch up
2015-03-06T19:06:56  <cody-somerville> Have you ever seen a case where all the jobs have ran for a change but they just sit there in the queue?
2015-03-06T19:07:07  <anteaya> superbee: I have not seen that it has
2015-03-06T19:07:12  <superbee> anteaya: ok will do that now
2015-03-06T19:07:18  <anteaya> superbee: thank you
2015-03-06T19:07:47  <superbee> anteaya: CaptainMorgan all done
2015-03-06T19:07:47  *** melwitt has joined #openstack-infra
2015-03-06T19:08:02  <superbee> cody-somerville: which queue?
2015-03-06T19:08:07  <cody-somerville> superbee: gate
2015-03-06T19:08:28  <anteaya> superbee: thank you
2015-03-06T19:08:37  * anteaya composes email to -announce
2015-03-06T19:09:25  <openstackgerrit> jose-idar proposed openstack-infra/project-config: Adding pep8 gate check to Opencafe  https://review.openstack.org/159642
2015-03-06T19:09:39  *** yamamoto has joined #openstack-infra
2015-03-06T19:10:10  <superbee> cody-somerville: check your zuul event and results queue
2015-03-06T19:10:31  <superbee> cody-somerville: if the results queue value is not 0 that means zuul is processing the results and finished jobs will hang around until zuul gets to them
2015-03-06T19:10:48  <cody-somerville> superbee: Queue lengths: 0 events, 0 results.
2015-03-06T19:11:47  <superbee> cody-somerville: could it be that gerrit is taking a long time to merge the change?
2015-03-06T19:12:00  <superbee> cody-somerville: zuul will sit and wait for either the successful or fail response
2015-03-06T19:12:51  <superbee> jeblair: it almost looks like getNeededNodes is not properly reentrant
2015-03-06T19:13:05  <superbee> jeblair: and both _run and waitForNodes call it
2015-03-06T19:13:30  <openstackgerrit> Merged openstack-infra/subunit2sql: Convert tags metadata to string before persist it  https://review.openstack.org/147205
2015-03-06T19:13:33  <superbee> and reentrancy is broken by my change somehow, I will need to think this thorugh
2015-03-06T19:14:22  *** yamamoto has quit IRC
2015-03-06T19:15:00  <cody-somerville> superbee: Unlikely. It's been an hour and a half.
2015-03-06T19:15:24  <cody-somerville> superbee: its noop jobs fwiw
2015-03-06T19:15:59  <cody-somerville> superbee: is it because there are other changes in the change queue that aren't finished?
2015-03-06T19:16:07  <superbee> cody-somerville: I don't think the jobs are at fault, it would be something zuul is doing
2015-03-06T19:16:26  <superbee> cody-somerville: if it is a proper gating queue zuul always pops off the head
2015-03-06T19:16:31  <superbee> cody-somerville: no changes can be removed elsewhere
2015-03-06T19:16:50  <superbee> jeblair: I think I see it, this isn't an issue with the old code because it always requests consistently
2015-03-06T19:17:31  *** thingee has quit IRC
2015-03-06T19:17:33  <superbee> jeblair: but now when we check the labels first there is a race between the label having an image ready and multiple getNeededNodes calls
2015-03-06T19:18:31  <superbee> jeblair: except hrm, all of these objects appear to be on the stack
2015-03-06T19:19:00  <jeblair> superbee: yeah, things are going to be more dynamic... things that might have done one node from each of 2 providers before could end up doing 2 nodes from 1 and none from another...
2015-03-06T19:19:07  <cody-somerville> superbee: but doesn't it do the grouping by job name? Why would noop jobs be in a change queue with a change that has no noop jobs?
2015-03-06T19:20:06  <superbee> cody-somerville: yes its based on job but its transitive
2015-03-06T19:20:20  <superbee> so if you have noop job in a project along side another gate job then that can happen
2015-03-06T19:20:48  <nikhil_k> hey, we're looking to possibly retag glance_store version(s)
2015-03-06T19:20:57  *** dkranz has quit IRC
2015-03-06T19:21:00  <nikhil_k> was hoping to find out the best way to do that in our setup
2015-03-06T19:21:08  <cody-somerville> superbee: they only have noop jobs then there is a cinder change with the standard cinder jobs
2015-03-06T19:21:08  <jeblair> nikhil_k: what do you mean by retag?
2015-03-06T19:21:53  <nikhil_k> jeblair: we've this issue where the release consisted of a feature addition but we released it with a bump on X in 0.0.X
2015-03-06T19:21:54  <superbee> cody-somerville: and no other project has both noop and cinder jobs?
2015-03-06T19:22:01  <jeblair> doesn't have to just be cinder
2015-03-06T19:22:29  <nikhil_k> jeblair: so, we are wondering if it is possible to retag 0.1.12 to 0.2.0
2015-03-06T19:22:42  <nikhil_k> or have parallel tags, maybe?
2015-03-06T19:22:47  <jeblair> superbee, cody-somerville: it could be, but it could also be noop + foo and foo + bar and bar + devstack-gate
2015-03-06T19:22:55  <cody-somerville> and weird, superbee jeblair: the noop jobs have finally disappeared but the change at the top of the queue is still running.
2015-03-06T19:23:20  <jeblair> cody-somerville: the status page tells you whether changes are in the same change queue or not
2015-03-06T19:23:31  <cody-somerville> jeblair: they were in the same change queue, yes.
2015-03-06T19:23:53  <jeblair> cody-somerville: if they are, then something is very, very broken.  if they aren't, it was probably just waiting for gerrit.
2015-03-06T19:23:53  <cody-somerville> the list of projects for the change queue seemed to list almost all the projects we have
2015-03-06T19:24:09  *** superanne has quit IRC
2015-03-06T19:24:32  <jeblair> cody-somerville: then it seems likely that you have at least one project with noop and another job.
2015-03-06T19:24:42  *** ivar-lazzaro has quit IRC
2015-03-06T19:24:49  <jeblair> cody-somerville: but if they were in the same queue, it should not have been removed if it was not at the top.
2015-03-06T19:24:59  <jeblair> nikhil_k: that sounds terribly confusing :(
2015-03-06T19:25:08  <nikhil_k> umm
2015-03-06T19:25:19  *** coolsvap has quit IRC
2015-03-06T19:25:29  <nikhil_k> jeblair: one sec
2015-03-06T19:25:42  <superbee> ok I really need to step out for a bit, jeblair your thoughts on the nodepool change and possible bug much appreciated if you have time
2015-03-06T19:26:07  <jeblair> superbee: yeah, i've been thinking about it, but i don't have a good answer yet
2015-03-06T19:26:37  <nikhil_k> jeblair: http://eavesdrop.openstack.org/irclogs/%23openstack-glance/%23openstack-glance.2015-03-06.log you would need to search for "2015-03-06T15:05:50"
2015-03-06T19:27:09  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Allow JJB to set connection timeout to jenkins server  https://review.openstack.org/151472
2015-03-06T19:27:50  <nikhil_k> jeblair: the basic issue is that a condition is asking for the release number to be 0.2.0 but we have a release of 0.1.11
2015-03-06T19:28:25  <nikhil_k> jeblair: we were hoping to see if that can be corrected and the release tag for 0.1.12 can be equivalent to 0.2.0 by any chance?
2015-03-06T19:29:31  <jeblair> nikhil_k: i think that's only going to make things worse.  i think sigmavirus24 is correct -- it's done, and we just need to deal with it.  releasing 0.2.0 will not make 0.1.12 go away, and 0.1.12 existing and adding new features is the part that causes problems.
2015-03-06T19:29:52  *** _shaps_ has joined #openstack-infra
2015-03-06T19:29:53  <jeblair> nikhil_k: so i think the best choice is just to deal with it (we may need to adjust stable branch version caps)
2015-03-06T19:29:54  *** thingee has joined #openstack-infra
2015-03-06T19:30:01  <cody-somerville> jesusaurus: ^^ can you check on that noop thing?
2015-03-06T19:30:47  <openstackgerrit> Ian Cordasco proposed openstack-infra/system-config: Add logging to #openstack-ansible  https://review.openstack.org/161412
2015-03-06T19:31:02  <jeblair> nikhil_k: if, for some reason, we really, really, really want to cause more pain -- you could release 0.1.13 which is equivalent to 0.1.11, and then release 0.2.0 as equivalent to 0.1.12.
2015-03-06T19:31:18  <jeblair> nikhil_k: i would recommend against that though, unless there's a really good reason
2015-03-06T19:31:25  <nikhil_k> jeblair: heh, that seems worse
2015-03-06T19:31:41  <nikhil_k> jeblair: yeah, ok. I will try to convince doug otherwise
2015-03-06T19:32:18  <jeblair> dhellmann: oh, you want a release of 0.2.0 that is == to 0.1.12?
2015-03-06T19:32:31  <nikhil_k> jeblair: he wanted for us to do it as we'r trying to bump up the cap https://review.openstack.org/#/c/161079/
2015-03-06T19:32:35  *** ayoung is now known as SugarAddy
2015-03-06T19:32:38  *** SugarAddy is now known as ayoung
2015-03-06T19:32:45  *** SumitNaiksatam has joined #openstack-infra
2015-03-06T19:33:02  *** ja is now known as zz_ja
2015-03-06T19:33:11  <jeblair> dhellmann: my thought is, 0.1.12 is already out there, and breaks any caps that people may have had.  releasing 0.2.0 doesn't fix that, but only makes things confusing for users (why are these versions the same?)
2015-03-06T19:34:02  <jeblair> dhellmann: releasing 0.1.13 as a revert of 0.1.12 (and then releasing 0.2.0) would "fix" people with version caps, but is complex.
2015-03-06T19:34:20  <jeblair> dhellmann: (and still slightly confusing to users, but only if they wonder what 0.1.12 was all about)
2015-03-06T19:34:50  <jeblair> dhellmann: whereas the state we are in now is a more comprehensible "oops -- semver fail" situation :)
2015-03-06T19:34:52  <jeblair> nikhil_k: ^
2015-03-06T19:36:32  <jeblair> so anyway, my recommendation would be (in order of preference): a) do nothing (except fix version caps where necessary); or b) release 0.1.13 and 0.2.0 as described above
2015-03-06T19:36:51  <nikhil_k> jeblair: I personally prefer to let things be as is and promise dhellmann to release 0.2.0 instead of 0.1.13
2015-03-06T19:37:24  <nikhil_k> jeblair: however, we really need that review merged https://review.openstack.org/#/c/161079/
2015-03-06T19:37:25  <jeblair> nikhil_k: yeah, i just don't see what releasing 0.2.0 without 0.1.13 solves
2015-03-06T19:37:34  <jeblair> it only creates confusion and solves no technical problems
2015-03-06T19:38:08  <nikhil_k> jeblair: :)
2015-03-06T19:38:34  <nikhil_k> jeblair: I was trying to resolve conflicts. What can we do to get that merged?
2015-03-06T19:39:55  *** tnovacik has joined #openstack-infra
2015-03-06T19:40:42  <jeblair> nikhil_k: i'm not going to review that change, so you should probably wait to see if i have convinced dhellman to change his mind and then do what he suggests.
2015-03-06T19:41:50  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T19:42:43  *** ghostpl_ has joined #openstack-infra
2015-03-06T19:43:29  <Ng> hmm, I am apparently being 17 kinds of stupid today
2015-03-06T19:43:34  <nikhil_k> jeblair: heh, ok.. appreciate it, nevertheless
2015-03-06T19:43:52  <nikhil_k> zhiyan: ^^
2015-03-06T19:44:00  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Make manual checklang target voting  https://review.openstack.org/162033
2015-03-06T19:45:59  <Ng> mordred: other than using rackspace-glanceclient, did you have to do some magic to be able to talk to rax glance? I seem to be talking fine to their nova, but glance is insisting on 401s
2015-03-06T19:46:19  *** thingee has quit IRC
2015-03-06T19:46:35  <jeblair> Ng: at some point, their url wasn't what was actually in the catalog... i wonder if that got fixed?
2015-03-06T19:48:58  *** ddieterly has quit IRC
2015-03-06T19:49:00  *** dkranz has joined #openstack-infra
2015-03-06T19:49:04  *** ddieterl_ has joined #openstack-infra
2015-03-06T19:49:54  <Ng> jeblair: huh
2015-03-06T19:50:00  *** mrunge has quit IRC
2015-03-06T19:50:07  <Ng> well this is just bizarre, keystone 401s too, but nova is very clearly working
2015-03-06T19:50:09  *** CaptainMorgan is now known as morganfainberg
2015-03-06T19:50:13  *** superanne has joined #openstack-infra
2015-03-06T19:50:27  <morganfainberg> Ng, how is keystone 401ing
2015-03-06T19:50:36  <morganfainberg> or..
2015-03-06T19:50:37  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Normalize Gerrit projects.yaml  https://review.openstack.org/161954
2015-03-06T19:50:42  <morganfainberg> nothing i need to worry about ;)
2015-03-06T19:50:55  <mordred> Ng: yes. please dont use rackspace-glanceclient
2015-03-06T19:51:00  <mordred> Ng: use python-glanceclient
2015-03-06T19:51:06  <mordred> Ng: you need to set an env var
2015-03-06T19:51:21  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Wrap projects.yaml at 80 characters  https://review.openstack.org/161955
2015-03-06T19:51:21  <mordred> Ng: export OS_IMAGE_API_VERSION=2
2015-03-06T19:51:25  <Ng> mordred: OS_IMAGE_API_VERSION?
2015-03-06T19:51:28  <Ng> k
2015-03-06T19:51:28  <mordred> yup
2015-03-06T19:51:41  <mordred> Ng: it's ... bannanas
2015-03-06T19:51:59  *** superanne has quit IRC
2015-03-06T19:52:02  *** carl_baldwin has quit IRC
2015-03-06T19:52:16  <morganfainberg> oh
2015-03-06T19:52:21  *** salv-orlando has joined #openstack-infra
2015-03-06T19:52:21  <morganfainberg> glanceclient
2015-03-06T19:52:28  * morganfainberg goes back to identity-land
2015-03-06T19:52:40  *** superanne has joined #openstack-infra
2015-03-06T19:53:06  <Ng> hmm, still 401
2015-03-06T19:53:42  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Remove upstreams from projects.yaml  https://review.openstack.org/161956
2015-03-06T19:54:06  <jesusaurus> superbee: jeblair: oh the test name check for dependent pipelines is transitive?
2015-03-06T19:54:10  <openstackgerrit> Merged openstack-infra/system-config: Add Wildfly Puppet module  https://review.openstack.org/143512
2015-03-06T19:55:25  <jeblair> jesusaurus: yes -- if project A affects B and project B affects C, then it follows that A affects C
2015-03-06T19:56:30  <jesusaurus> superbee: jeblair: is there an easy way to get the list of projects grouped into a dependent pipeline? hovering over the list on the zuul status page gives a box too large to be useful
2015-03-06T19:56:30  *** superanne has quit IRC
2015-03-06T19:57:08  *** superanne has joined #openstack-infra
2015-03-06T19:57:43  <jeblair> jesusaurus: it should log all of the decision making about it at startup.  or you can grab the status.json directly.
2015-03-06T19:58:15  <mrmartin> AJaeger: are you here?
2015-03-06T19:58:32  <AJaeger> mrmartin: yes, I am
2015-03-06T19:58:51  *** _et has joined #openstack-infra
2015-03-06T19:59:05  <superbee> jeblair: I think I figured it out, there is a pool.allocation_history that is used
2015-03-06T19:59:16  <superbee> jeblair: so we need to lock around access to that
2015-03-06T20:00:54  <jeblair> superbee: just for testing?
2015-03-06T20:01:15  <mtreinish> jeblair: qq about depends on. Would it work if I had a tempest patch and linked it as depending on a stable/icehouse and stable/juno devstack patch?
2015-03-06T20:01:42  <superbee> jeblair: yes, the only place getNeededNodes() is called in prod is the run loop
2015-03-06T20:02:08  <sigmavirus24> mtreinish: is there any way I can help with https://review.openstack.org/#/c/152224/ ?
2015-03-06T20:02:28  <superbee> it might also be possible toget the info we need with calling the side effecting getNeededNodes
2015-03-06T20:02:29  <jeblair> mtreinish: tell me if this answers your question: http://docs.openstack.org/infra/manual/developers.html#multiple-changes
2015-03-06T20:03:12  <mtreinish> sigmavirus24: hmm, yeah if you want to pick that up and run with it that would be great
2015-03-06T20:03:35  <mtreinish> sigmavirus24: my next step was going to be tracking down which bugs are still there (which is causing the failures) and reopen them
2015-03-06T20:03:37  <sigmavirus24> mtreinish: heh okay
2015-03-06T20:03:46  *** che-arne has quit IRC
2015-03-06T20:03:58  *** bcourt has joined #openstack-infra
2015-03-06T20:04:10  <sigmavirus24> Elastic recheck caught a bunch of bugs it apparently recognized but let me rebase to see what's going on
2015-03-06T20:05:15  <mtreinish> jeblair: I think it does, so it should work as I would expect. Thanks
2015-03-06T20:05:32  <jeblair> mtreinish: woo!
2015-03-06T20:05:44  <openstackgerrit> Merged openstack-infra/system-config: Add Zuul Gerrit Trigger Way & JJB  https://review.openstack.org/149032
2015-03-06T20:05:48  *** mriedem has quit IRC
2015-03-06T20:06:17  *** Longgeek has quit IRC
2015-03-06T20:06:18  <mtreinish> jeblair: the pending change is to set the tempest.conf on stable to disable an option which is being added (default enabled) to the config file
2015-03-06T20:07:05  <mtreinish> sigmavirus24: sure, I just assumed the bugs were still open, but there's also a good chance the tempest tests have bit rotted while skipped too
2015-03-06T20:07:11  <jeblair> mtreinish: perfect
2015-03-06T20:07:22  <sigmavirus24> mtreinish: yeah, also this isn't going to rebase cleanly (oh joy ;))
2015-03-06T20:08:02  <mtreinish> sigmavirus24: it might just make sense to abandon the single patch and split it into a bunch of separate patches for each skip being removed
2015-03-06T20:08:18  <superbee> jeblair: commented on my change with the info
2015-03-06T20:08:43  <superbee> jeblair: we might be able to get away with using two different history objects
2015-03-06T20:09:07  <superbee> jeblair: though really we just need to record how many nodes we need to launch somewhere
2015-03-06T20:09:07  <sigmavirus24> mtreinish: makes sense
2015-03-06T20:09:18  <jeblair> superbee: 162255?
2015-03-06T20:09:23  <superbee> jeblair: yes
2015-03-06T20:10:09  <sigmavirus24> mtreinish: I'll start working on splitting it up. Thanks for the pointers. =)
2015-03-06T20:10:55  <jeblair> superbee: how is that getting called twice?
2015-03-06T20:11:08  <superbee> jeblair: _run() calls it and waitForNodes() in the tests call it
2015-03-06T20:11:15  <jeblair> superbee: thx
2015-03-06T20:11:22  *** salv-orlando has quit IRC
2015-03-06T20:11:32  <mtreinish> sigmavirus24: sure, np. Thanks for taking it over. I haven't had a chance to pick it back up
2015-03-06T20:11:34  <asselin> greghaynes, another possibility of why -infra isn't running into the issue is that they already have the packages cached?
2015-03-06T20:11:34  *** ctlaugh_ has joined #openstack-infra
2015-03-06T20:11:53  *** esker has joined #openstack-infra
2015-03-06T20:11:54  <sigmavirus24> mtreinish: no worries. trying to turn on testing for a heat thing and noticed that review.
2015-03-06T20:13:36  <mtreinish> sigmavirus24: heh, have you seen: https://review.openstack.org/#/c/158536/
2015-03-06T20:13:42  <Ng> greghaynes: on a scale from zero to legal injunction, how offended would you be if I pushed some tweaks to your changeset for adding VHD support to DIB?
2015-03-06T20:13:54  *** mriedem has joined #openstack-infra
2015-03-06T20:13:56  <sigmavirus24> No but it's relevant to my interests heh
2015-03-06T20:14:32  *** rkukura has quit IRC
2015-03-06T20:14:35  *** bswartz has joined #openstack-infra
2015-03-06T20:14:49  *** bcourt has quit IRC
2015-03-06T20:16:14  <anteaya> superanne: i see the post to -dev but not -announce yet
2015-03-06T20:16:42  <superanne> anteaya: ah yes, meant to ask, will teh same topics in the subject be useful on that list?
2015-03-06T20:17:08  <anteaya> no, just the subject
2015-03-06T20:17:31  <superanne> ok
2015-03-06T20:17:39  <superanne> thanks anteaya
2015-03-06T20:17:48  <anteaya> thank you!
2015-03-06T20:18:10  <jeblair> superbee: if we made allocation_history a param to getNeededNodes, would it work?
2015-03-06T20:18:25  *** _shaps_ has quit IRC
2015-03-06T20:18:41  <openstackgerrit> Merged openstack-infra/project-config: Normalize Gerrit projects.yaml  https://review.openstack.org/161954
2015-03-06T20:18:41  <jeblair> superbee: nodepool could use its own allocation history, and the tests could use theirs?  the tests don't actually care about the history, they mostly just want to know whether demand is satisfied.
2015-03-06T20:18:55  <superbee> jeblair ya I think that would work
2015-03-06T20:19:00  <jeblair> superbee: or....
2015-03-06T20:19:27  <jlvillal> jeblair: In keymaps.  If I want to do:   cursor-down: ['j']   how would I also specify the arrow-up key?  Or do I need to?
2015-03-06T20:19:49  <jeblair> superbee: actually i don't like my other idea, nevermind the "or...".  :)
2015-03-06T20:20:16  <openstackgerrit> Merged openstack-infra/project-config: Wrap projects.yaml at 80 characters  https://review.openstack.org/161955
2015-03-06T20:20:22  <jeblair> superbee: i did have one more idea which was to change waitfornodes from a general wait to a specific one (eg, wait for X nodes of this typo and Y nodes of that type -- like waitforimage)
2015-03-06T20:20:42  *** aysyd has quit IRC
2015-03-06T20:21:29  <superbee> ok I can update to do the first thing
2015-03-06T20:22:30  <jlvillal> jeblair: I didn't seem to need to have to specify arrow-up.  So I think I am good :)
2015-03-06T20:22:32  <cinerama> hey umm pleia2
2015-03-06T20:22:36  <jeblair> jlvillal: i don't think you need to
2015-03-06T20:22:47  *** rkukura has joined #openstack-infra
2015-03-06T20:22:48  *** aysyd has joined #openstack-infra
2015-03-06T20:23:00  <jeblair> jlvillal: yeah :)  but i think if you want to, you can say ['j', 'down'].
2015-03-06T20:23:13  <jlvillal> jeblair: Okay.  Thanks!
2015-03-06T20:23:20  <jeblair> jlvillal: but you should only need to do that if you want to change, say, down to up.  :)
2015-03-06T20:23:36  <jlvillal> jeblair: Is it just me or are the times being displayed in UTC?
2015-03-06T20:23:38  <openstackgerrit> nikhil komawar proposed openstack/requirements: Bump glance_store to 0.2.0  https://review.openstack.org/161079
2015-03-06T20:23:42  <jeblair> jlvillal: they are in utc
2015-03-06T20:23:47  <jlvillal> jeblair: :(
2015-03-06T20:23:56  <jlvillal> jeblair: Is there a way to be in local time?
2015-03-06T20:23:56  <jeblair> jlvillal: see 127260
2015-03-06T20:23:58  <nikhil_k> jeblair: new release ^
2015-03-06T20:24:51  <jeblair> nikhil_k: did dhellmann continue to disagree?
2015-03-06T20:24:52  <jlvillal> jeblair: So I assume all the clocks in your house are set to UTC?  :P
2015-03-06T20:24:57  <nikhil_k> jeblair: I've passed along the info on ML too.
2015-03-06T20:25:00  *** mrmartin has quit IRC
2015-03-06T20:25:15  <nikhil_k> jeblair: we just figured this was the fastest way to resolve conflicts ...
2015-03-06T20:25:24  <nikhil_k> and hopefully it works with everyone!
2015-03-06T20:25:41  <jeblair> nikhil_k: not sure i follow -- dhellmann still isn't around to weigh in on this
2015-03-06T20:25:57  * dhellmann hears his name
2015-03-06T20:26:03  <jeblair> jlvillal: the one i use for work is, and all of foobio's clocks are :)  but anyway, i think it's a good idea, i just think it should be an option
2015-03-06T20:26:07  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Remove upstreams from projects.yaml  https://review.openstack.org/161956
2015-03-06T20:26:31  <nikhil_k> jeblair: ah, we just got a +2! \o\ \o/ /o/
2015-03-06T20:26:41  <jeblair> jlvillal: "20:26 < jeblair> jlvillal: the one i use for work is,"  :)
2015-03-06T20:26:49  <nikhil_k> please do the honors if possible :)
2015-03-06T20:26:59  <dhellmann> jeblair, nikhil_k : sorry, I was at lunch for most of that earlier discussion.
2015-03-06T20:27:02  <jlvillal> jeblair: Okay and thanks.  Not sure I want to tackle that patch....   Hopefully the author will update with  your suggestions.
2015-03-06T20:27:06  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Propose projects.yaml normalization daily  https://review.openstack.org/161957
2015-03-06T20:27:09  <nikhil_k> dhellmann: no issues..
2015-03-06T20:27:19  <nikhil_k> glad we got it resolved!
2015-03-06T20:27:28  <dhellmann> jeblair, nikhil_k: Did the new release end up including things that were not in the earlier patch release?
2015-03-06T20:27:49  <openstackgerrit> Matthew Treinish proposed openstack-infra/puppet-subunit2sql: Add option to disable uneccesary data migration  https://review.openstack.org/162289
2015-03-06T20:28:16  <mtreinish> superbee, jeblair: ^^^ if you guys get a sec that branch is needed before I push the next release
2015-03-06T20:29:13  * mtreinish hopes to keep the proud tradition of Fri. releases
2015-03-06T20:29:50  *** tonytan4ever has joined #openstack-infra
2015-03-06T20:30:01  <AJaeger> jeblair: I loved your patch series and rebased and +2ed - thanks!
2015-03-06T20:30:43  <openstackgerrit> Antoine Musso proposed openstack-infra/zuul: Fix testtools requiring unittest2  https://review.openstack.org/162291
2015-03-06T20:30:50  <jeblair> dhellmann: it looks like it has a few more commits in it, so at least it's not exactly the same
2015-03-06T20:31:28  <dhellmann> jeblair: ok. we've re-tagged libs in the past without anyone getting confused, so I really thought that was a simple solution.
2015-03-06T20:32:24  *** radez is now known as radez_g0n3
2015-03-06T20:32:57  <nikhil_k> dhellmann: yes
2015-03-06T20:33:31  <nikhil_k> ah, see that is figured out earlier..
2015-03-06T20:33:46  <nikhil_k> no issues with newer commits, they needed to go in soon anyways :)
2015-03-06T20:35:52  *** otter768 has joined #openstack-infra
2015-03-06T20:36:32  *** dmsimard has quit IRC
2015-03-06T20:37:39  *** achanda has quit IRC
2015-03-06T20:37:51  *** SumitNaiksatam has quit IRC
2015-03-06T20:38:06  <marcusvrn> asselin: ping
2015-03-06T20:39:12  *** ddieterl_ has quit IRC
2015-03-06T20:39:18  *** ddieterly has joined #openstack-infra
2015-03-06T20:39:27  *** ivar-lazzaro has quit IRC
2015-03-06T20:40:30  *** otter768 has quit IRC
2015-03-06T20:41:12  <asselin> hi
2015-03-06T20:41:30  *** rkukura has quit IRC
2015-03-06T20:41:46  <asselin> marcusvrn, pong
2015-03-06T20:43:01  *** crc32 has joined #openstack-infra
2015-03-06T20:46:07  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Log info about updated and deleted jobs  https://review.openstack.org/162293
2015-03-06T20:46:36  <marcusvrn> asselin: hi! I was looking at my CI...and I saw that zuul is checking out the patches into its git repo (configured in zuul.conf)...but how can slaves use this repo to run the tempest against the code with that patch? Because I think my CI is running tempest against the devstack master, with no patch applied...
2015-03-06T20:46:48  *** sc68cal_ is now known as sc68cal
2015-03-06T20:47:01  <lxsli> anteaya: superbee: thanks
2015-03-06T20:47:17  <asselin> marcusvrn, which os is zull running on?
2015-03-06T20:47:45  <marcusvrn> asselin: ubuntu
2015-03-06T20:47:56  <asselin> marcusvrn, which version?
2015-03-06T20:48:59  <marcusvrn> asselin: ubuntu 12.04.5
2015-03-06T20:49:32  <asselin> marcusvrn, ok ...and are you using devstack-gate scripts?
2015-03-06T20:49:45  <marcusvrn> asselin: yes
2015-03-06T20:50:24  <asselin> marcusvrn, do you have a link to one of the jobs in question?
2015-03-06T20:51:17  *** ivar-lazzaro has joined #openstack-infra
2015-03-06T20:51:58  *** ivar-lazzaro has quit IRC
2015-03-06T20:52:03  *** ivar-laz_ has joined #openstack-infra
2015-03-06T20:52:05  *** ivar-laz_ has quit IRC
2015-03-06T20:53:32  <marcusvrn> asselin: http://177.84.241.119:10000/28/159528/2/check/hds-hnas-iscsi/e332854/
2015-03-06T20:54:11  *** tnovacik has quit IRC
2015-03-06T20:54:43  <asselin> marcusvrn, http://177.84.241.119:10000/28/159528/2/check/hds-hnas-iscsi/e332854/logs/devstack-gate-setup-workspace-new.txt.gz#_2015-02-28_08_28_03_195
2015-03-06T20:55:06  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Test that dib failures don't stop node builds  https://review.openstack.org/162237
2015-03-06T20:55:07  <openstackgerrit> Clark Boylan proposed openstack-infra/nodepool: Don't allocate nodes to providers without images  https://review.openstack.org/162255
2015-03-06T20:55:16  <superbee> jeblair: ^ local testing seems to indicate that is working as expected
2015-03-06T20:55:25  <superbee> an I forgot to set the topic again :/
2015-03-06T20:55:55  <superbee> but consider that ready for review now
2015-03-06T20:57:06  <erlon> asselin: see the devstack.log  for https://review.openstack.org/#/c/161365/
2015-03-06T20:58:08  <marcusvrn> asselin: yep, this remote repo is the one that we have configured, but it's not the one that zuul is checking out and merging patches.
2015-03-06T20:58:12  <erlon> asselin: if you seek for 'git show --oneline', it says: "e34e6ae Add oslo.policy to global requirements", which is note the change in test
2015-03-06T20:58:21  <asselin> marcusvrn, not sue this is right: http://177.84.241.119:10000/28/159528/2/check/hds-hnas-iscsi/e332854/console.html
2015-03-06T20:58:37  <asselin> ZUUL_BRANCH=master
2015-03-06T20:59:14  <asselin> marcusvrn, I'm looking at ours for that patch and we don't set it: http://15.126.198.151/65/161365/3/check/3par-iscsi-driver-master-client-pip-eos10-dsvm/7c788c8/console.html
2015-03-06T20:59:38  *** dprince has quit IRC
2015-03-06T21:00:40  <marcusvrn> asselin: do you have a local openstack git repo for your CI?
2015-03-06T21:00:57  *** achanda has joined #openstack-infra
2015-03-06T21:01:01  <asselin> marcusvrn, we're using a mirror
2015-03-06T21:01:20  *** dimsum__ has quit IRC
2015-03-06T21:01:33  <asselin> marcusvrn, you should see something like this which pulls it from zuul: http://15.126.198.151/65/161365/3/check/3par-iscsi-driver-master-client-pip-eos10-dsvm/7c788c8/logs/devstack-gate-setup-workspace-new.txt.gz#_2015-03-06_13_11_48_770
2015-03-06T21:03:10  <marcusvrn> asselin: how did you configure the repo to make zuul and slave use the same patch?
2015-03-06T21:03:52  <asselin> marcusvrn, does your job look something like this? https://github.com/rasselin/os-ext-testing-data/blob/master/etc/jenkins_jobs/config/dsvm-cinder-driver.yaml.sample#L67
2015-03-06T21:04:32  <asselin> marcusvrn, zuul sets up the change, passes the ref to the jenkins job which gets consumed by devstack-gate script
2015-03-06T21:04:53  <asselin> marcusvrn, in jenkins, you can see all the environment variables passed in for completed jobs
2015-03-06T21:05:25  <marcusvrn> asselin: yes, my job is something like that you sent me
2015-03-06T21:06:04  <superbee> jeblair: any word on the leaked ports? wondering if maybe we should just go ahead and dlete them
2015-03-06T21:06:09  <asselin> marcusvrn, then you need to look at the env variales in jenkins. There should be a ZUUL_BRANCH set there
2015-03-06T21:08:26  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Log info about updated and deleted jobs  https://review.openstack.org/162293
2015-03-06T21:08:40  <asselin> marcusvrn, e.g. this is what I see in mine. please paste yours: http://paste.openstack.org/show/190514/
2015-03-06T21:08:52  *** bcourt has joined #openstack-infra
2015-03-06T21:09:45  *** arosen has left #openstack-infra
2015-03-06T21:10:17  <marcusvrn> asselin: http://paste.openstack.org/show/190515/
2015-03-06T21:10:19  <AJaeger> superbee: could you review https://review.openstack.org/162093 today, please? We want to translate RST files in openstack-manuals...
2015-03-06T21:11:05  <superbee> AJaeger: uh oh bash arrays, this will be fun :)
2015-03-06T21:11:27  <AJaeger> superbee: we use them already in openstack-manuals
2015-03-06T21:11:43  <AJaeger> superbee: but I had to write a test script to check that everything works ;)
2015-03-06T21:11:50  <superbee> ya its fine I just have to lookup what the symbols mean each time
2015-03-06T21:12:14  *** yamamoto has joined #openstack-infra
2015-03-06T21:12:54  <asselin> marcusvrn, strange. these lines seem to indicate nothing is set...? http://paste.openstack.org/show/190516/
2015-03-06T21:13:20  <asselin> marcusvrn, are the variables getting unset anywehre?
2015-03-06T21:13:40  <superbee> AJaeger: doc-tools-check-languages.conf does that exist in the repo(s) yet?
2015-03-06T21:13:43  <marcusvrn> asselin: I think I know what's going on...I have 2 jobs...one that handles the slave node VM and another one (triggered after the VM is ready) that runs the devstack-gate scripts..... the ZUUL env variables are on the master node, but it's not being passed to the slave node
2015-03-06T21:13:45  <superbee> AJaeger: its set -e so will error if not
2015-03-06T21:14:56  <AJaeger> superbee: it does
2015-03-06T21:15:16  <asselin> marcusvrn, so the job doesn't get sent directly to the jenkins slave? I guess you have a different setup
2015-03-06T21:15:24  <AJaeger> superbee: http://git.openstack.org/cgit/openstack/openstack-manuals/tree/doc-tools-check-languages.conf
2015-03-06T21:15:25  <marcusvrn> asselin: I think I have to pass those variables to the slave which will run the devstack-gate scripts
2015-03-06T21:15:33  *** ldnunes has quit IRC
2015-03-06T21:15:39  *** kgiusti has left #openstack-infra
2015-03-06T21:15:39  <superbee> AJaeger: thank you
2015-03-06T21:15:46  <AJaeger> the other repos don't use SPECIAL_BOOKS yet but have the file
2015-03-06T21:16:53  *** yamamoto has quit IRC
2015-03-06T21:17:10  <marcusvrn> asselin: yes, the job get sent to the slave that will handle the VM and then, this slave will trigger another slave to runs devstack-gate on the VM
2015-03-06T21:17:32  <superbee> AJaeger: lgtm
2015-03-06T21:18:10  <marcusvrn> asselin: so, I think all that I have to do is to pass the env variables to that slave which will run the devstack-gate..
2015-03-06T21:18:16  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Change log level for job deletion and add logging for job creation  https://review.openstack.org/162302
2015-03-06T21:18:24  <asselin> marcusvrn, yes
2015-03-06T21:18:24  <AJaeger> superbee: thansk for the review
2015-03-06T21:18:35  *** rkukura has joined #openstack-infra
2015-03-06T21:18:43  *** thingee has joined #openstack-infra
2015-03-06T21:19:29  <marcusvrn> asselin: do you know which env variables the devstack-gate uses? Does it use only ZUUL variables?
2015-03-06T21:20:16  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Allow JJB to set connection timeout to jenkins server  https://review.openstack.org/151472
2015-03-06T21:21:12  <asselin> marcusvrn, yes, definitely the ZUUL*. Not sure what else.
2015-03-06T21:22:11  <marcusvrn> asselin: and if I pass the variables to the slave, I will not need this (http://paste.openstack.org/show/190520/) anymore, will I?
2015-03-06T21:22:37  <marcusvrn> asselin: perfect, I'm going to fix it now!
2015-03-06T21:22:57  <asselin> marcusvrn, actually, I removed those from my jobs already....
2015-03-06T21:23:25  <marcusvrn> asselin: nice
2015-03-06T21:24:12  <openstackgerrit> Andreas Jaeger proposed openstack-infra/project-config: Support translation of RST files  https://review.openstack.org/162093
2015-03-06T21:24:22  <AJaeger> superbee: yes, we can use the same way - just different directories ^
2015-03-06T21:24:53  *** rkukura has quit IRC
2015-03-06T21:25:13  <marcusvrn> asselin: Thanks!! You helped me a lot!
2015-03-06T21:25:25  <asselin> marcusvrn, you're welcome
2015-03-06T21:26:10  *** ihrachyshka has quit IRC
2015-03-06T21:27:46  *** teran has joined #openstack-infra
2015-03-06T21:27:51  *** julim has quit IRC
2015-03-06T21:28:14  *** AJaeger has quit IRC
2015-03-06T21:28:26  *** jp_at_hp has joined #openstack-infra
2015-03-06T21:32:17  *** persia_ is now known as persia
2015-03-06T21:32:27  *** pc_m has quit IRC
2015-03-06T21:33:17  *** jp_at_hp has quit IRC
2015-03-06T21:34:11  *** harlowja_away has quit IRC
2015-03-06T21:36:43  *** salv-orlando has joined #openstack-infra
2015-03-06T21:37:08  <bhunter71> If one's gerrit account is Administrator group, and Administrator is granted 'Start Replication' - doesn't this mean I should be able to "gerrit replicate" over SSH?   [could have sworn this worked in the past -any ideas?]
2015-03-06T21:37:28  *** dboik_ has quit IRC
2015-03-06T21:37:59  <bhunter71> "gerrit: replicate: not found"
2015-03-06T21:38:02  *** dustins has quit IRC
2015-03-06T21:38:22  *** rfolco has quit IRC
2015-03-06T21:38:54  <superbee> they changed the command its `replication start` now
2015-03-06T21:39:09  *** jcoufal has quit IRC
2015-03-06T21:39:30  *** hodos|2 has joined #openstack-infra
2015-03-06T21:39:59  <bhunter71> hrm.  gerrit: replication: not found
2015-03-06T21:40:07  <openstackgerrit> Khai Do proposed openstack-infra/jenkins-job-builder: Change log level for job deletion and add logging for job creation  https://review.openstack.org/162302
2015-03-06T21:40:35  <superbee> it is a plugin maybe it isnt installed?
2015-03-06T21:40:40  <bhunter71> further, if I just say 'gerrit', I get a list of commands with nothing resembling replication
2015-03-06T21:41:09  <zaro> bhunter71: yeah, depend on which version of Gerrit. but it's a core plugin in gerrit 2.9
2015-03-06T21:41:31  *** hodos has quit IRC
2015-03-06T21:41:33  *** dimsum__ has joined #openstack-infra
2015-03-06T21:42:12  <zaro> superbee: was wondering if you could help with this? https://review.openstack.org/#/c/158387/
2015-03-06T21:42:30  <bhunter71> interesting.  I still have 2.8.   maybe I downloaded a plugin in the past.
2015-03-06T21:42:32  *** koolhead17 has quit IRC
2015-03-06T21:42:37  <bhunter71> thanks zaro/superbee
2015-03-06T21:42:47  <superbee> zaro ya sorry keep getting distracted by fires
2015-03-06T21:44:19  *** superanne has quit IRC
2015-03-06T21:45:07  *** _shaps_ has joined #openstack-infra
2015-03-06T21:45:40  <superbee> zaro wow that picture of the drawing I made
2015-03-06T21:46:25  <marcusvrn> asselin: I tested and now it's working! thanks again! :)
2015-03-06T21:46:29  <asselin> marcusvrn, glad to hear! :)
2015-03-06T21:46:36  *** signed8bit has quit IRC
2015-03-06T21:47:00  *** marun has quit IRC
2015-03-06T21:47:42  *** bradm has quit IRC
2015-03-06T21:47:51  <zaro> superbee: you must be looking at pleia2 slides.
2015-03-06T21:48:00  *** amotoki has quit IRC
2015-03-06T21:48:08  *** signed8bit has joined #openstack-infra
2015-03-06T21:48:21  <superbee> zaro https://review.openstack.org/#/c/158387/5/images/ci_team_infrastructure_draft.png
2015-03-06T21:48:26  <superbee> I approved
2015-03-06T21:48:40  <mtreinish> heh, I remember that
2015-03-06T21:49:52  *** baoli_ has quit IRC
2015-03-06T21:51:19  <zaro> superbee: thanks, that's one of the openstack works of arts.  maybe should enter it into next tshirt contest :)
2015-03-06T21:51:28  <superbee> ha
2015-03-06T21:51:35  *** mattymo has quit IRC
2015-03-06T21:52:06  *** mattymo has joined #openstack-infra
2015-03-06T21:52:38  *** superanne has joined #openstack-infra
2015-03-06T21:52:43  <flashgordon> still looking for reviews for  https://review.openstack.org/#/c/160548/ and https://review.openstack.org/#/c/160933/
2015-03-06T21:52:58  <flashgordon> expected to shave 5 minutes of all devstack jobs
2015-03-06T21:53:01  <jesusaurus> do zuul pipelines get starved by other pipelines with a higher precedence? will nodes be allocated to a normal queue over a low queue without regard to the length of time a job is waiting in a low queue?
2015-03-06T21:53:55  <flashgordon> and  over 1k dsvm jobs in in zuulat this very moment that is a lot of CPU hours
2015-03-06T21:54:06  <flashgordon> superbee: ^
2015-03-06T21:54:51  <flashgordon> mordred: ^
2015-03-06T21:55:17  *** nelsnelson has quit IRC
2015-03-06T21:55:19  <mordred> flashgordon: looking
2015-03-06T21:55:28  <zaro> jesusaurus: not sure, but that seems reasonable.  did you expect something else?
2015-03-06T21:56:05  <superbee> flashgordon do all three devstack branches have that script?
2015-03-06T21:56:35  <mordred> flashgordon: I have a question you may not like
2015-03-06T21:56:51  <jesusaurus> zaro: it does seem reasonable, but I was wondering if it might be a bit smarter for cases when zuul is under prolonged resource contention
2015-03-06T21:56:57  *** prad has joined #openstack-infra
2015-03-06T21:56:58  <flashgordon> superbee: I don't think so but not 100% sure
2015-03-06T21:57:03  <mordred> flashgordon: how do you have the c library dependencies installed such that you can build the c extensions
2015-03-06T21:57:16  <superbee> mordred hahaha good point
2015-03-06T21:57:17  <mordred> flashgordon: because normally those are installed by devstack
2015-03-06T21:57:18  <flashgordon> mordred: oh yeah ......
2015-03-06T21:57:23  <flashgordon> fuuuuuuuuu
2015-03-06T21:57:23  * mordred apologizes
2015-03-06T21:57:24  <flashgordon> ck
2015-03-06T21:57:27  <flashgordon> mtreinish: ^
2015-03-06T21:57:41  <superbee> mordred please leave review comment :)
2015-03-06T21:57:45  <mordred> superbee: I will
2015-03-06T21:57:52  <mordred> I FULLY support the goal
2015-03-06T21:57:54  <mordred> btw
2015-03-06T21:58:12  <mtreinish> mordred: because nodepool installs the apt list before we build the wheel
2015-03-06T21:58:19  <mordred> no it doesn't
2015-03-06T21:58:32  <flashgordon> it installs some things for sure not sure if its enough
2015-03-06T21:58:47  <mordred> it shoudl install none of the things
2015-03-06T21:58:56  <mordred> and if it does, it'sa  bug
2015-03-06T21:59:00  <mtreinish> then I have no idea, let me check when devstack calls the wheel build script
2015-03-06T21:59:22  <mtreinish> because I though it did that before we run apt for anything
2015-03-06T21:59:39  <jlvillal> jeblair: gertty --print-keymap prints the keymaps that can be set.  But it doesn't print what they are set to.  Is there a way to get a list of the keymap settings?
2015-03-06T21:59:42  <flashgordon> mtreinish: I am running it inside an empty env now to test
2015-03-06T22:00:10  <flashgordon> mtreinish mordred: http://paste.openstack.org/show/190527/
2015-03-06T22:00:21  <zaro> jesusaurus: so under prolonged resource contention you want low pri jobs to run before stuff in normal queue?
2015-03-06T22:00:33  <mordred> flashgordon: what caused that?
2015-03-06T22:00:48  <flashgordon> ./tools/build_wheels.sh
2015-03-06T22:00:57  *** marcusvrn has quit IRC
2015-03-06T22:01:11  <jesusaurus> zaro: under heavy resource contention i want low pri jobs to run more than 0% of the time, but less often than normal pri jobs
2015-03-06T22:01:18  <flashgordon> using a base docker ubunut:14:04 image with just a few things isntalled
2015-03-06T22:01:19  <mtreinish> d'oh it's kinda obvious it's called right in the script
2015-03-06T22:01:36  <mtreinish> http://git.openstack.org/cgit/openstack-dev/devstack/tree/tools/build_wheels.sh#n50
2015-03-06T22:01:52  <flashgordon> mtreinish: doh
2015-03-06T22:02:25  <mordred> so - we coudl run this in a docker container, copy out the results and delete the docker container
2015-03-06T22:02:37  <openstackgerrit> Ramy Asselin proposed openstack-infra/nodepool: Fix Nodepool DIB Uploads to Glance w/o region_name  https://review.openstack.org/162313
2015-03-06T22:02:40  <mordred> just as a way to get the wheelhouse pre-done but not pollute the machine
2015-03-06T22:02:43  <superbee> or use our mirrors again
2015-03-06T22:02:48  <mordred> superbee: or that
2015-03-06T22:02:55  <superbee> I am now convinced this is what we should do
2015-03-06T22:03:15  <flashgordon> I still think the long term answer is: stack.sh ; unstack.sh
2015-03-06T22:03:17  <mordred> I'm fairly convinced of that - it would also lessen the frequency of rebuilds of things like lxml even more
2015-03-06T22:03:32  <flashgordon> and have a new job for devstack that runs on a clean env that didn't have that
2015-03-06T22:04:30  <flashgordon> but that doesn't work with chroot ...
2015-03-06T22:05:37  *** tiswanso has quit IRC
2015-03-06T22:06:00  <openstackgerrit> Gene Snider proposed openstack-infra/zuul: Migrate zuul timer to apscheduler version 3.0  https://review.openstack.org/162315
2015-03-06T22:06:07  *** _shaps_ has quit IRC
2015-03-06T22:06:14  <flashgordon> but install_prereqs.sh ; build_wheels.sh would get us pretty far
2015-03-06T22:06:32  *** jgrimm is now known as zz_jgrimm
2015-03-06T22:07:16  <mordred> flashgordon: yah - install_prereqs.sh ; build_wheels.sh in a chroot or a docker would be a very clean way to do it
2015-03-06T22:07:16  *** ddieterly has quit IRC
2015-03-06T22:07:28  *** ddieterly has joined #openstack-infra
2015-03-06T22:07:54  <flashgordon> right now there are some issues with dib though
2015-03-06T22:07:59  <flashgordon> greghaynes: spotted it
2015-03-06T22:08:14  <mordred> oh - right.
2015-03-06T22:08:23  <mordred> sorry - I forgot the dib part of this
2015-03-06T22:08:24  <flashgordon> it cleans out the apt-cache and links to the host by default
2015-03-06T22:08:40  <flashgordon> but turns out the apt-get install bits aren't that slow
2015-03-06T22:08:45  <flashgordon> maybe save a minute all together tops
2015-03-06T22:08:47  <mordred> and we can't build-host cache it because it's wheels
2015-03-06T22:08:48  *** radez_g0n3 is now known as radez
2015-03-06T22:09:04  *** mattfarina has quit IRC
2015-03-06T22:09:10  *** timcline_ has quit IRC
2015-03-06T22:09:18  <jeblair> superbee, mordred: so...
2015-03-06T22:09:33  <jeblair> superbee, mordred: the case i opened with hp public cloud says "Awaiting Customer Input"
2015-03-06T22:09:48  <jeblair> superbee, mordred: but i can't actually see anywhere they have said or asked anything
2015-03-06T22:09:57  <mordred> jeblair: that's awesome
2015-03-06T22:10:14  *** baoli has joined #openstack-infra
2015-03-06T22:10:20  <jeblair> the description field seems the same as i left it, and there is nothing in the comments section
2015-03-06T22:10:24  *** woodster_ has quit IRC
2015-03-06T22:10:37  <mordred> jeblair: have you tried the noc channel? or would you like me to?
2015-03-06T22:10:39  *** hdd_ has quit IRC
2015-03-06T22:10:43  <jeblair> mordred: i'll go there now
2015-03-06T22:13:02  <openstackgerrit> James Polley proposed stackforge/gertty: Expand sample keymaps to ameliorate OSX features  https://review.openstack.org/157488
2015-03-06T22:13:31  <zaro> jesusaurus: from looking available zuul params it's unlikely that it does that.
2015-03-06T22:13:36  *** pblaho has joined #openstack-infra
2015-03-06T22:13:59  *** pblaho has quit IRC
2015-03-06T22:14:34  *** bradm has joined #openstack-infra
2015-03-06T22:16:36  *** dimsum__ has quit IRC
2015-03-06T22:17:02  *** dimsum__ has joined #openstack-infra
2015-03-06T22:17:18  <jeblair> mordred, superbee: are we using any neutron api calls with hpcloud?
2015-03-06T22:17:42  <mordred> jeblair: not in nodepool
2015-03-06T22:18:03  <mordred> jeblair: we currently use no neutron calls at all
2015-03-06T22:18:26  <mordred> (although I want to change that wrt floating ips when we move to shade, because it's a more solid approach)
2015-03-06T22:18:31  <jeblair> right
2015-03-06T22:18:35  <mordred> but that's future
2015-03-06T22:19:22  <openstackgerrit> Gene Snider proposed openstack-infra/zuul: Migrate zuul timer to apscheduler version 3.0  https://review.openstack.org/162315
2015-03-06T22:20:47  *** tnovacik has joined #openstack-infra
2015-03-06T22:21:08  *** hdd_ has joined #openstack-infra
2015-03-06T22:21:17  *** dimsum__ has quit IRC
2015-03-06T22:22:29  *** e0ne has joined #openstack-infra
2015-03-06T22:23:03  *** dimsum__ has joined #openstack-infra
2015-03-06T22:23:24  *** r-daneel has quit IRC
2015-03-06T22:23:34  <jlvillal> jeblair: I feel like this is a dumb question.  But when I'm making a comment on a line in a patch.  How do I get out of the comment mode?  Hitting <ESC> takes me out of diff mode.  I was hoping for a better method.
2015-03-06T22:23:59  <jeblair> superbee: short version: they agree none of the instances are active, and they also are not in the deleted instances list which goes back to july 2014, and don't know what they are.  they had some basic followup questions which i have answered.
2015-03-06T22:24:29  <jeblair> jlvillal: hit up or down to move the cursor out of the box
2015-03-06T22:24:49  *** chlong has quit IRC
2015-03-06T22:24:53  *** andreykurilin_ has joined #openstack-infra
2015-03-06T22:25:12  <jeblair> jlvillal: i'm guessing the regular arrow keys are going to work better than j/k for this one? ;)  also, i'm hoping you can still type j/k in the comment box, is that correct?
2015-03-06T22:25:32  <jlvillal> jeblair: Oh.  Sounds simple! :)
2015-03-06T22:25:49  <jlvillal> jeblair: Yep j/k work in the comment box.  I have to admit I would think escape should exit the comment box
2015-03-06T22:25:58  <jlvillal> and not the whole diff mode
2015-03-06T22:26:31  <jlvillal> jeblair: Thanks!
2015-03-06T22:27:03  <superbee> jeblair so we should delete them?
2015-03-06T22:27:24  <jeblair> superbee: gimme a second, they pointed me at a jira ticket... so i'm vpning
2015-03-06T22:28:34  *** aysyd has quit IRC
2015-03-06T22:31:13  *** radez is now known as radez_g0n3
2015-03-06T22:31:25  *** ddieterly has quit IRC
2015-03-06T22:32:26  <tchaypo> jlvillal: i found that confusing at first as well
2015-03-06T22:32:39  <tchaypo> also I’d love to hack in keybindings for deleting all the comment as well
2015-03-06T22:32:45  <tchaypo> having to hold down backspace for half an hour is so tedious
2015-03-06T22:32:51  <tchaypo> then again maybe i should just write shorter comments
2015-03-06T22:33:55  *** marcusvrn has joined #openstack-infra
2015-03-06T22:36:27  *** dangers is now known as dangers_away
2015-03-06T22:36:47  *** otter768 has joined #openstack-infra
2015-03-06T22:37:06  <jeblair> superbee: i don't think they have a good answer on the deletion question, so perhaps we try to stay on the safe side and maybe delete 20-50 of them?
2015-03-06T22:37:47  <jeblair> superbee: also jesusaurus reports this internally two, so extra data points
2015-03-06T22:37:52  <jeblair> too even
2015-03-06T22:39:32  <jeblair> jlvillal, tchaypo: that's good to know (i love user feedback like that).... do you expect that to happen after you've typed a comment in, or only when you've selected a line to start a comment, but then changed your mind and want to leave no comment there after all?
2015-03-06T22:40:12  <jeblair> jlvillal, tchaypo: (referring to the esc thing)
2015-03-06T22:41:00  <jlvillal> jlvillal: I was hoping <ESC> would just exit the comment line, but not erase it.
2015-03-06T22:41:17  *** otter768 has quit IRC
2015-03-06T22:41:32  *** julim has joined #openstack-infra
2015-03-06T22:41:38  <jeblair> jlvillal: where should the cursor go in that case?
2015-03-06T22:42:34  <tchaypo> Hrm.
2015-03-06T22:42:37  <jlvillal> jeblair: Hmmm.  Good question! :)
2015-03-06T22:42:42  <tchaypo> Thinking back on the times when I’ve hit esc by mistake
2015-03-06T22:43:03  <tchaypo> I think it’s usually when I’m in the middle of writing something and decide I should comment on a different line, or that I don’t want to comment at all
2015-03-06T22:43:24  *** dimsum__ has quit IRC
2015-03-06T22:43:46  <jlvillal> jeblair: I was thinking that you had to press <enter> to start editing the comment.  But now I see that if there is a comment there that it automatically puts you into editing mode if you land on the line.
2015-03-06T22:43:50  *** dimsum__ has joined #openstack-infra
2015-03-06T22:44:15  <jeblair> jlvillal, tchaypo: the paradigm is that the cursor is always on a line, either ready to create a comment or edit an existing comment, so that makes it a bit hard to figure out what to do in that case....
2015-03-06T22:44:21  <jlvillal> jeblair: I was thinking that you wouldn't be in editing mode, and that maybe could do 'd' to delete the comment at that point.  And if you hit 'esc' while in editing mode it would leave it.
2015-03-06T22:44:54  *** tonytan4ever has quit IRC
2015-03-06T22:45:07  <jeblair> jlvillal, tchaypo: i think our options are to rethink the paradigm, so that it behaves more like what jlvillal just described; or perhaps disable esc while in comment editing, so at least you have to leave comment editing some other way before you can leave the screen (so it won't happen by accident)
2015-03-06T22:47:55  *** mriedem has quit IRC
2015-03-06T22:48:29  *** dimsum__ has quit IRC
2015-03-06T22:49:47  <tchaypo> jlvillal: let me guess
2015-03-06T22:49:49  <tchaypo> jlvillal: you use vim?
2015-03-06T22:49:50  <tchaypo> ;)
2015-03-06T22:50:02  <jlvillal> tchaypo: Yep :)
2015-03-06T22:52:35  <tchaypo> I don’t think I like either of those options
2015-03-06T22:52:54  <tchaypo> often when I’m editing a comment I want to pop out to check another change or something
2015-03-06T22:53:11  <jlvillal> Is there an IRC channel for Stackalytics?  Engineer stats don't show up it seems: http://stackalytics.com/?release=kilo&module=ironic-group&metric=commits
2015-03-06T22:53:18  <tchaypo> if esc was disabled *thinks* I’d have to arrow up, then hit esc
2015-03-06T22:53:32  <tchaypo> i guess that’s not too bad
2015-03-06T22:53:35  *** salv-orlando has quit IRC
2015-03-06T22:53:40  <jeblair> jlvillal: i'm not certain, but NikitaKonovalov is in here and may be able to help
2015-03-06T22:53:54  <tchaypo> but I think I’d be confused about why esc didn’t work straight away
2015-03-06T22:54:20  *** peristeri has quit IRC
2015-03-06T22:54:40  <jeblair> tchaypo: yeah.  :|
2015-03-06T22:54:43  <jlvillal> tchaypo: jeblair: I think <ESC> should exit the comment editing, but that would require a paradigm change.  Or have it move up to the line being commented on.
2015-03-06T22:55:42  <tchaypo> one thing we could do to make this more clear
2015-03-06T22:55:53  <tchaypo> would be to edit the comment in a popup rather than inline
2015-03-06T22:56:09  <tchaypo> but i think that would be even more disruptive
2015-03-06T22:56:18  <tchaypo> can’t see the code you’re commenting on, or comments you’re responding to
2015-03-06T22:56:41  <jlvillal> jeblair: Also it would be nice when starting a comment if it defaulted to the right hand side, as I think that is the current patch revision.  It seems odd to default to the previous revision to start commenting on.
2015-03-06T22:57:09  <jlvillal> Unless I'm doing something wrong.
2015-03-06T22:57:58  <jeblair> jlvillal: oh interesting, that might work... it looks like you might currently be able to create multiple comments by selecting the same line multiple times, that seems buggy.  at any rate, i think your suggestion of having esc move the cursor back to the line being commented on would work....
2015-03-06T22:58:33  <jeblair> jlvillal: would you then want to have to hit enter on the line again to edit your comment, or is the 'move cursor into edit box' paradigm okay for that?
2015-03-06T22:58:53  *** hodos|2 has quit IRC
2015-03-06T22:59:09  <tchaypo> on a different note
2015-03-06T22:59:15  <jlvillal> jeblair: Either way is fine for me.  The only benefit of the <enter> paradigm.  Is then could add a way to delete a whole comment or other actions on the comment.
2015-03-06T22:59:15  <tchaypo> as lifeless mentioned yesterday
2015-03-06T22:59:40  *** hasharAway has quit IRC
2015-03-06T22:59:48  <tchaypo> I’m finding that gertty takes a really long time to sync, and seems to spend more time with the counter increasing than decreasing
2015-03-06T22:59:58  *** superanne has quit IRC
2015-03-06T22:59:59  <openstackgerrit> Kyle Mestery proposed openstack-infra/project-config: Add functional test job for python-neutronclient  https://review.openstack.org/162329
2015-03-06T23:00:00  <jeblair> jlvillal: and yes, i think it should default on the right. i note that once you leave a comment on the right, it defaults there.  i believe i was fighting urwid to get the initial focus on the right, but lost.  may be time for a rematch.  :)
2015-03-06T23:00:10  <jlvillal> jeblair: LOL :D
2015-03-06T23:00:16  *** ParsectiX has quit IRC
2015-03-06T23:00:50  *** ParsectiX has joined #openstack-infra
2015-03-06T23:00:57  <openstackgerrit> Kyle Mestery proposed openstack-infra/project-config: Add functional test job for python-neutronclient  https://review.openstack.org/162329
2015-03-06T23:01:39  <jeblair> tchaypo: if you run with verbose or debug, do log messages give you insight?  is it working but really slow?  is it piling up duplicate sync requests?  are some requests hanging and not timing out properly?
2015-03-06T23:01:52  <tchaypo> i seem to be subscribed to 69 projects
2015-03-06T23:02:16  *** r-daneel has joined #openstack-infra
2015-03-06T23:02:24  <jeblair> tchaypo: (also note that many sync actions are effectively noop -- i find that when my counter gets really high, it's really only about half as bad as it looks)
2015-03-06T23:02:33  <tchaypo> I’m running with verbose at the moment
2015-03-06T23:02:44  <tchaypo> https://www.irccloud.com/pastebin/umEjgE8h
2015-03-06T23:03:03  *** achanda_ has joined #openstack-infra
2015-03-06T23:03:26  *** achanda has quit IRC
2015-03-06T23:03:34  <tchaypo> yeah, it does seem to eventually hit a point where all the remaining changes are noops and then it drops quickly, but it can take hours to get there
2015-03-06T23:04:03  *** Ryan_Lane has joined #openstack-infra
2015-03-06T23:04:09  <tchaypo> let me switch to debug
2015-03-06T23:04:23  *** andreykurilin_ has quit IRC
2015-03-06T23:04:52  *** cdent has joined #openstack-infra
2015-03-06T23:04:55  <tchaypo> the database lock messages usually have quite short timestamps - 0.03<x<0.1s
2015-03-06T23:05:01  <tchaypo> so I think it’s mostly network latency
2015-03-06T23:05:13  *** claudiub has joined #openstack-infra
2015-03-06T23:06:50  <tchaypo> https://www.irccloud.com/pastebin/ALjS1XPZ
2015-03-06T23:06:53  *** r-daneel_ has joined #openstack-infra
2015-03-06T23:06:54  <jlvillal> jeblair: Probably another dumb question.  Is it possible to set in the config the default sort method?  I searched for 'sort' in the reference example doc, but did not have success.  I would like it to default to reverse-sorted by change date.
2015-03-06T23:07:02  *** r-daneel has quit IRC
2015-03-06T23:07:04  <jeblair> tchaypo: i synced the same changes in your paste and the times in the "Synced change .. in .." messages are roughly similar for me
2015-03-06T23:07:22  *** achanda_ has quit IRC
2015-03-06T23:07:51  *** amitgandhinz has quit IRC
2015-03-06T23:08:09  *** esker has quit IRC
2015-03-06T23:08:29  <tchaypo> right after i say the database locks tend to be fairly short, I find one that holds a lock for 14 seconds..
2015-03-06T23:09:09  <tchaypo> I’m interpreting the “revision x needs parent commit”, “…. synced” messages as meaning that it’s doing a git fetch of individual patchsets?
2015-03-06T23:09:49  *** adalbas has quit IRC
2015-03-06T23:10:00  *** achanda has joined #openstack-infra
2015-03-06T23:10:01  *** r-daneel_ has quit IRC
2015-03-06T23:10:20  *** r-daneel_ has joined #openstack-infra
2015-03-06T23:10:37  *** gordc has quit IRC
2015-03-06T23:12:08  *** tnovacik has quit IRC
2015-03-06T23:12:14  <tchaypo> Reasons I know I’m a bad person: seeing that https://review.openstack.org/#/c/161047/2/specs/stable-requirements.rst has 37 comments makes me chuckle
2015-03-06T23:12:16  *** cdent has quit IRC
2015-03-06T23:12:22  *** sandywalsh has quit IRC
2015-03-06T23:13:19  *** crc32 has quit IRC
2015-03-06T23:13:35  <jeblair> tchaypo: actually, no network traffic is happening during those comments...
2015-03-06T23:13:39  *** sandywalsh has joined #openstack-infra
2015-03-06T23:13:40  <jeblair> er log entries
2015-03-06T23:14:07  *** yamamoto has joined #openstack-infra
2015-03-06T23:14:27  <jeblair> tchaypo: basically the result of all those "needs parent commit" lines is that later, after this sync is finished, it will go do some git fetches for those...
2015-03-06T23:14:55  <tchaypo> ah
2015-03-06T23:14:56  <tchaypo> in that case
2015-03-06T23:15:05  <jeblair> tchaypo: most of what's going on for those 14 seconds is actually local db queries... so there might be something really unoptimized there
2015-03-06T23:15:07  <tchaypo> why does it take so long? there’s like a second in between each comment
2015-03-06T23:15:10  <tchaypo> ah
2015-03-06T23:15:15  <tchaypo> also
2015-03-06T23:15:29  <tchaypo> I get the feeling that something is firing off a fresh sync before the previous sync is finished
2015-03-06T23:15:45  <tchaypo> when i first fire up gertty it will quickly get up to about 256 or so
2015-03-06T23:15:53  <tchaypo> if it’s been synced recently that drops back to 0 almost immediately
2015-03-06T23:16:28  <tchaypo> but if it hasn’t that number just grows and grows - and it seems like every now and then another ~200 or so get added
2015-03-06T23:16:33  <jeblair> jlvillal: i believe the defaults are hard coded, but i think a config option for them would be a great idea.  if you don't want to write a patch, would you mind filing a story?
2015-03-06T23:16:41  *** prad has quit IRC
2015-03-06T23:16:42  <tchaypo> once it hits 800 or so my usual remedy is to kill gertty and re-open it
2015-03-06T23:17:16  <tchaypo> in this case it was somewhere north of 800 when i killed and restarted to get debug logs, and now it’s fully synced
2015-03-06T23:17:22  <openstackgerrit> Joe Gordon proposed openstack-infra/devstack-gate: force_config_drive always=>True  https://review.openstack.org/162339
2015-03-06T23:17:27  <flashgordon> mtreinish: have a chance to re-spin your patch?
2015-03-06T23:17:35  <tchaypo> in about 10 minutes; where before I’d had it open for >20 minutes and the count was still increasing
2015-03-06T23:17:44  <jlvillal> jeblair: I can investigate a patch.  If I did make it a config option.  What should the config option be called and where should it be placed?
2015-03-06T23:18:29  *** yamamoto has quit IRC
2015-03-06T23:19:12  <jlvillal> jeblair: As in top_level_name -> second_level_name -> etc...
2015-03-06T23:19:38  <jeblair> jlvillal: there's a top level "change-list-query" option, so probably "change-list-sort: <keywords: number, updated>" and "change-list-reverse: <bool, default False>" also at the top level
2015-03-06T23:19:52  <tchaypo> while we’re talking feature requests
2015-03-06T23:19:56  <jlvillal> jeblair: Okay
2015-03-06T23:20:03  <tchaypo> I’d love to be able to switch between side-by-side and unified diff on the fly
2015-03-06T23:20:33  <jeblair> tchaypo: the periodic sync should wait until it's completely finished before it adds anything else to it... so the += 200 tasks should only be coming from things it's discovering it has to do while syncinc...
2015-03-06T23:21:07  <mtreinish> flashgordon: which patch? I have many
2015-03-06T23:21:59  <mtreinish> oh, probably the wheels one. What did I have to do, I missed the trail end of that discussion
2015-03-06T23:22:25  *** e0ne has quit IRC
2015-03-06T23:22:27  <tchaypo> flashgordon: so this might just be me being overly relaxed because it’s saturday
2015-03-06T23:22:34  <jeblair> tchaypo: interesting; i thought about that but didn't expect anyone to want to do that.  it should be possible, though would be a little bit of work.  out of curiousity, what would you get from that?  also -- literally toggle while you're already on a diff, or would going back to the change, switching, then hitting diff again be okay?
2015-03-06T23:22:48  <tchaypo> flashgordon: but I’m wondering if we should be thinking about adding features to pip
2015-03-06T23:23:35  <tchaypo> flashgordon: the ability to specify “here are the allowed packages and their allowed versions” seems like it would be useful in many contexts other than ours.
2015-03-06T23:23:45  <jlvillal> jeblair: And what do you think about unittests?
2015-03-06T23:24:06  <tchaypo> jeblair: the latter would be fine
2015-03-06T23:24:32  <tchaypo> when I’m looking at a modification of existing code, side-by-side is often helpful
2015-03-06T23:24:56  <tchaypo> but just now I was looking at a brand new file, so the left half of the window is entirely blank - unified would have used the space better
2015-03-06T23:25:14  *** ChuckC_ has quit IRC
2015-03-06T23:25:43  <tchaypo> also, I often find myself splitting the pane in tmux and having gertty on the left with docs or some other code on the right, or even running the code. In that circumstance side-by-side often makes the columns too narrow to really see the change; unified would work better
2015-03-06T23:25:46  <flashgordon> mtreinish: a sudo or two, superbee commented inline
2015-03-06T23:25:58  <jeblair> jlvillal: i think they might be cool for some things.  i really think the search could benefit from testing, for instance, keymaps, palettes, and maybe the sync stuff too.  i'm not sure what some of the ui behavioral stuff would look like unit tested.  understand that i'm skeptical of mocks and generally only want to test real behaviors.
2015-03-06T23:26:11  <mtreinish> flashgordon: oh, just that. I thought there was more to do. That's simple enough, one sec
2015-03-06T23:26:27  <jlvillal> jeblair: Okay.
2015-03-06T23:26:34  <flashgordon> tchaypo: its not a bad idea, adam_g mentioned something similar
2015-03-06T23:26:41  <jeblair> tchaypo: got it, thanks :)
2015-03-06T23:26:47  <flashgordon> tchaypo: I agree others have the same issues but on a smaller scale
2015-03-06T23:27:06  <tchaypo> flashgordon: maybe it’s a sign I’ve spent too much time in Enterprise environments though
2015-03-06T23:27:24  <flashgordon> tchaypo: hehe
2015-03-06T23:27:26  <tchaypo> I think I’m thinking of an ITIL software librarby style thing
2015-03-06T23:27:30  *** armax has quit IRC
2015-03-06T23:27:35  <flashgordon> if you look at the bottom of the spec there is some related work there
2015-03-06T23:27:55  <tchaypo> A different way to manage this might be to run a devpi server and control which versions are available on it
2015-03-06T23:28:34  <openstackgerrit> Matthew Treinish proposed openstack-infra/project-config: Build wheel house during nodepool devstack caching  https://review.openstack.org/160548
2015-03-06T23:28:38  <mtreinish> flashgordon: ^^^
2015-03-06T23:28:39  *** doug-fish has left #openstack-infra
2015-03-06T23:29:31  <flashgordon> superbee:  ^^
2015-03-06T23:29:44  <jeblair> jlvillal: not sure how i missed this, but check out change 161032
2015-03-06T23:29:45  <flashgordon> mtreinish: so the best part of this, is we built numpy but don't even use it
2015-03-06T23:29:59  <flashgordon> we still have the apt-get installed version in there
2015-03-06T23:30:09  <mtreinish> flashgordon: it's a 2nd level dep for something in nova
2015-03-06T23:30:23  <mtreinish> oh, heh I thought we removed the package, or is something else pulling it in
2015-03-06T23:30:25  <jlvillal> jeblair: :)  Just as I was doing it....
2015-03-06T23:30:51  * jlvillal goes to stash changes and cherry-pick patch
2015-03-06T23:31:40  <flashgordon> mtreinish: sigh
2015-03-06T23:31:46  *** stevedore has quit IRC
2015-03-06T23:32:31  *** signed8bit has quit IRC
2015-03-06T23:35:26  <mtreinish> flashgordon: nope, I'm wrong it looks like python-numpy is still in the apts lists for nova
2015-03-06T23:35:36  <mtreinish> if we want to use the wheel that's probably fair game to remove
2015-03-06T23:36:16  <flashgordon> mtreinish: so have a short term answer https://review.openstack.org/162343
2015-03-06T23:36:22  <flashgordon> which is the opposite
2015-03-06T23:37:30  <flashgordon> heh building numpy is single threaded
2015-03-06T23:37:32  <flashgordon> fail
2015-03-06T23:37:42  <mtreinish> flashgordon: well that only works until dtroyer's patches to use a venv for services lands
2015-03-06T23:37:52  <flashgordon> mtreinish: yup, as I said short term
2015-03-06T23:38:21  <flashgordon> timing a numpy wheel build on my box to get a rough estimate on how bad it is
2015-03-06T23:38:28  <flashgordon> mtreinish: how many dsvm jobs do we run a day?
2015-03-06T23:39:15  <mtreinish> flashgordon: I'm sure graphite can give you the complete answer. I can check subunit2sql for how many gate tempest/grenade dsvms we ran yesterady, one sec
2015-03-06T23:39:38  *** woodster_ has joined #openstack-infra
2015-03-06T23:40:00  *** mattfarina has joined #openstack-infra
2015-03-06T23:41:04  <flashgordon> wow 4 minutes
2015-03-06T23:41:07  <flashgordon> so yeah
2015-03-06T23:41:22  <flashgordon> IMHO worth temporary hacks just to get rid of that
2015-03-06T23:41:33  <jlvillal> jeblair: That patch worked for me :)
2015-03-06T23:41:54  <flashgordon> mtreinish: that is 4 out of the 20 minutes or so devstack takes ...
2015-03-06T23:42:00  <jeblair> jlvillal: cool, thanks
2015-03-06T23:42:58  <flashgordon> mtreinish: on zuul I see 675 dsvm jobs that are running or recently finished so this would save about 45 instance hours off of that
2015-03-06T23:43:29  *** ChuckC_ has joined #openstack-infra
2015-03-06T23:44:12  <mtreinish> flashgordon: accoring to the db we ran 836 gating jobs  between '2015-03-05 00:00:00' and '2015-03-06 00:00:00'
2015-03-06T23:44:28  <mtreinish> gating tempest or grenade
2015-03-06T23:44:46  *** ChuckC_ is now known as ChuckC
2015-03-06T23:44:48  <jeblair> mtreinish: not counting check?
2015-03-06T23:45:00  *** dmsimard has joined #openstack-infra
2015-03-06T23:45:13  <mtreinish> jeblair: nope the subunit2sql db only collects the streams from gate jobs
2015-03-06T23:45:16  <flashgordon> mtreinish: wow that is a lot of gate jobs
2015-03-06T23:45:25  <jeblair> check is much more
2015-03-06T23:45:25  <flashgordon> I assume that is only completed jobs too
2015-03-06T23:45:42  <mtreinish> http://git.openstack.org/cgit/openstack-infra/system-config/tree/modules/openstack_project/files/logstash/jenkins-log-client.yaml#n14
2015-03-06T23:47:40  <jeblair> flashgordon, mtreinish: yesterday zuul launche 8766 jobs with 'dsvm' in their names
2015-03-06T23:48:25  <flashgordon> jeblair: wow!
2015-03-06T23:48:36  *** ghostpl_ has quit IRC
2015-03-06T23:48:45  <mtreinish> jeblair: heh, nice
2015-03-06T23:48:50  <flashgordon> mtreinish: we build numpy wheels 4,782 in the past 24 hours per logstash
2015-03-06T23:49:07  <flashgordon> mtreinish: or 318 hours of wall time
2015-03-06T23:49:15  <flashgordon> roughly
2015-03-06T23:49:41  <jeblair> flashgordon, mtreinish: two days ago 10671 dsvm jobs, but that may have been an abnormally heavy day due to the queue from the rax maint work.
2015-03-06T23:50:28  <flashgordon> out of that we are getting about 150-200 merges to openstack, openstack-infra, openstack-dev
2015-03-06T23:50:33  <flashgordon> https://github.com/openstack/openstack/graphs/commit-activity
2015-03-06T23:50:40  <flashgordon> that is really impressive
2015-03-06T23:50:47  * flashgordon wonders how big travis CI is
2015-03-06T23:51:50  <jeblair> flashgordon, mtreinish: yesterday we launched 34841 jobs total
2015-03-06T23:51:56  <mtreinish> flashgordon: heh, I'm trying to get the run count for yesterday as meaninglessly large number to brag about. But the query is really slow...
2015-03-06T23:52:00  <jeblair> flashgordon: we are significantly larger than travisci
2015-03-06T23:52:08  <jeblair> mordred: ^ what was it last time you checked?
2015-03-06T23:52:39  <flashgordon> mtreinish: haha fail
2015-03-06T23:52:41  * mordred forgets
2015-03-06T23:52:50  <mordred> but we were decently bigger
2015-03-06T23:53:15  <flashgordon> at 34k jobs I would be surprised if we are just 'decently' bigger
2015-03-06T23:53:27  <jeblair> flashgordon, mtreinish: 35300 total jobs launched 2 days ago.
2015-03-06T23:53:40  <jeblair> istr it was an integer factor larger
2015-03-06T23:54:17  <mtreinish> flashgordon: 627394 tempest tests as part of the gate queue yesterday
2015-03-06T23:54:36  <mtreinish> (that took 6 min 42.55 sec I probably need to make the schema better)
2015-03-06T23:56:02  <mtreinish> jeblair: hmm, 35300 over 2 days but 34841 yesterday
2015-03-06T23:56:11  <mtreinish> oh nm misread
2015-03-06T23:56:51  <jeblair> mtreinish: status:open (topic:enable_swift OR topic:dib-nodepool OR topic:zanata OR topic:downstream-puppet OR topic:askbot-site OR topic: gerrit-upgrade)
2015-03-06T23:56:54  <jeblair> gah
2015-03-06T23:57:19  <jeblair> mtreinish: 35300 on tuesday
2015-03-06T23:57:24  *** mattfarina has quit IRC
2015-03-06T23:57:28  <jeblair> mtreinish: 34841 on thursday
2015-03-06T23:57:35  <jeblair> for UTC days
2015-03-06T23:58:06  <mtreinish> jeblair: yeah, I just misread what you put earlier
2015-03-06T23:59:05  *** dimsum__ has joined #openstack-infra
