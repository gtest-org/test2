2014-04-30T00:00:51  <openstackgerrit> A change was merged to openstack-infra/config: Rename gertty ACL file to correct name  https://review.openstack.org/91197
2014-04-30T00:01:17  *** morgabra has quit IRC
2014-04-30T00:02:04  <harlowja> jbooboo haha, u'll start love widget = widget.contents[0][0]
2014-04-30T00:02:05  <harlowja> :-P
2014-04-30T00:02:08  <harlowja> that part i don't like
2014-04-30T00:02:14  <harlowja> i had to do that weirdness to
2014-04-30T00:05:36  *** marcoemorais has quit IRC
2014-04-30T00:06:05  <sdague> notmyname: what defines your waiting to merge link?
2014-04-30T00:06:09  <dims> hmm, are we missing work in progress button?
2014-04-30T00:06:18  <sdague> dims: it's now workflow -1
2014-04-30T00:06:29  *** yamahata has joined #openstack-infra
2014-04-30T00:06:32  <dims> ah. thx
2014-04-30T00:08:48  <derekh> foobio: found it, the rackspace fedora image uses a different grub config to the default fedora cloud image, running some tests now
2014-04-30T00:09:02  <foobio> derekh: fun!
2014-04-30T00:09:37  <foobio> derekh: i've noticed that rs, in general, does not use vanilla "cloud" images in their catalog
2014-04-30T00:10:15  *** morgabra has joined #openstack-infra
2014-04-30T00:13:48  <derekh> foobio: yup
2014-04-30T00:14:43  *** atiwari has quit IRC
2014-04-30T00:15:47  <sdague> notmyname: looking at waiting for merge, I feel like we probably need a set of queries which are mostly house keeping. Sets of odd states that we don't think things should in
2014-04-30T00:16:40  *** sacharya has joined #openstack-infra
2014-04-30T00:16:47  *** sacharya has quit IRC
2014-04-30T00:17:40  <sdague> jbooboo: so what's your thinking around the fact that label:Code-Review>=0,self throwing an error if not logged in on that dashboard
2014-04-30T00:18:52  *** SumitNaiksatam has quit IRC
2014-04-30T00:20:02  *** nati_ueno has joined #openstack-infra
2014-04-30T00:21:04  *** reed has quit IRC
2014-04-30T00:21:24  *** reed has joined #openstack-infra
2014-04-30T00:22:11  *** manishg has joined #openstack-infra
2014-04-30T00:23:41  *** nati_uen_ has quit IRC
2014-04-30T00:24:43  <jbooboo> sdague: if i click on the important changes dashboard while not logged in, it says my session is expired.  i find it curious that the error is differnt.
2014-04-30T00:25:09  <jbooboo> sdague: but i think i agree with your earlier sentiment -- there's probably nothing for it and we'll just have to accept it as is.
2014-04-30T00:25:23  *** reed has quit IRC
2014-04-30T00:25:37  *** manishg_ has joined #openstack-infra
2014-04-30T00:26:41  *** manishg has quit IRC
2014-04-30T00:27:15  <openstackgerrit> A change was merged to stackforge/gertty: Initial commit  https://review.openstack.org/91191
2014-04-30T00:28:21  *** yidclare has quit IRC
2014-04-30T00:29:49  *** thomasem has joined #openstack-infra
2014-04-30T00:31:18  *** talluri has joined #openstack-infra
2014-04-30T00:31:42  *** praneshp has quit IRC
2014-04-30T00:32:24  <harlowja> durn just added comments to that, lol
2014-04-30T00:32:34  <openstackgerrit> Derek Higgins proposed a change to openstack-infra/config: Use grub2-mkconfig if update-grub isn't present  https://review.openstack.org/91188
2014-04-30T00:32:46  <harlowja> anyway, nothing to bad, jbooboo u urwid expert now, lol
2014-04-30T00:33:13  <jbooboo> harlowja: oops, sorry, i'll go check them out, thanks
2014-04-30T00:33:18  <harlowja> np
2014-04-30T00:33:19  <harlowja> :)
2014-04-30T00:33:31  <jbooboo> harlowja: and it's terrifying that you think i'm a urwid expert ;)
2014-04-30T00:33:35  <harlowja> hahaha
2014-04-30T00:33:42  <sdague> jbooboo: I'm surprised you didn't write it in elisp as an emacs extension
2014-04-30T00:33:48  <sdague> :)
2014-04-30T00:33:57  <derekh> foobio: ^ that looks like it works on the rackspace fedora
2014-04-30T00:34:08  <harlowja> jbooboo u seem to have found most of the urwid oddness :-P
2014-04-30T00:34:11  <foobio> derekh: oh, cool
2014-04-30T00:34:11  <harlowja> so that makes u expert, lol
2014-04-30T00:34:25  <harlowja> and u even got popups
2014-04-30T00:34:47  <jbooboo> sdague: i thought about it... :)
2014-04-30T00:35:00  <sdague> jbooboo: I would support that :)
2014-04-30T00:35:12  <sdague> or a server that exposes it as IMAP :)
2014-04-30T00:35:33  <foobio> derekh: oh, and yeah, i had to jump through similar hoops upgrading rackspace's debian wheezy images to jessie since they stub in an old grub. must be something about their xen domu boot setup
2014-04-30T00:36:53  <derekh> foobio: yup must be
2014-04-30T00:42:45  <openstackgerrit> Joshua Harlow proposed a change to stackforge/gertty: Read using a file handle instead of read() method  https://review.openstack.org/91204
2014-04-30T00:42:57  <harlowja> alright jbooboo  https://review.openstack.org/91204
2014-04-30T00:43:03  <harlowja> :)
2014-04-30T00:43:14  <harlowja> ha
2014-04-30T00:43:15  <foobio> jbooboo: if https://review.openstack.org/91188 seems sane to you, i'll babysit centos6 and precise image updates to make sure there are no unfortunate surprises
2014-04-30T00:50:34  <openstackgerrit> Joshua Harlow proposed a change to stackforge/gertty: Allow for password prompting  https://review.openstack.org/91205
2014-04-30T00:52:23  *** tteggel has quit IRC
2014-04-30T00:53:18  *** UtahDave has quit IRC
2014-04-30T00:53:29  *** Adri2000 has quit IRC
2014-04-30T00:53:39  *** jhesketh has quit IRC
2014-04-30T00:53:40  <openstackgerrit> Joshua Harlow proposed a change to stackforge/gertty: Add ordereddict requirement  https://review.openstack.org/91206
2014-04-30T00:53:51  *** stevebaker has quit IRC
2014-04-30T00:54:13  <openstackgerrit> Monty Taylor proposed a change to openstack-infra/config: Add tool to parse puppet reports  https://review.openstack.org/91207
2014-04-30T00:54:25  <mordred> jbooboo, foobio ^^
2014-04-30T00:54:39  <mordred> that will parse a puppet yaml report file and print some basic things
2014-04-30T00:54:49  *** tteggel_ has joined #openstack-infra
2014-04-30T00:54:51  <mordred> but more importantly, it will parse the file into some objects
2014-04-30T00:54:53  <openstackgerrit> Joshua Harlow proposed a change to stackforge/gertty: Add ordereddict requirement  https://review.openstack.org/91206
2014-04-30T00:55:28  *** Adri2000 has joined #openstack-infra
2014-04-30T01:00:44  *** stevebaker has joined #openstack-infra
2014-04-30T01:01:22  *** nati_ueno has quit IRC
2014-04-30T01:01:27  <openstackgerrit> David Pursehouse proposed a change to openstack-infra/jenkins-job-builder: Doc: Use VersionInfo from pbr and remove openstack common modules  https://review.openstack.org/90658
2014-04-30T01:02:27  <openstackgerrit> Marc Abramowitz proposed a change to openstack-infra/jenkins-job-builder: Fix "delete-all"  https://review.openstack.org/91208
2014-04-30T01:04:14  <openstackgerrit> Mathew Odden proposed a change to openstack-infra/config: Create bash8 project in openstack-dev  https://review.openstack.org/88747
2014-04-30T01:04:43  *** nati_ueno has joined #openstack-infra
2014-04-30T01:08:39  *** jhesketh has joined #openstack-infra
2014-04-30T01:08:50  *** dkehn_afk is now known as dkehn
2014-04-30T01:11:57  <derekh> foobio: I gotta call it a night, I know of any other problems and will check in first thing to help deal with anything that might crop up
2014-04-30T01:13:19  <derekh> *I don't know of any ....
2014-04-30T01:13:38  *** derekh has quit IRC
2014-04-30T01:16:35  <tchaypo> dstufft: finally have a new commit with tests - let me know if you'd prefer the two commits squashed
2014-04-30T01:16:47  <jbooboo> foobio: lgtm
2014-04-30T01:16:49  <dstufft> tchaypo: nah, we don't really care about squashing
2014-04-30T01:17:07  <tchaypo> dstufft: that was a quick response
2014-04-30T01:17:33  <jbooboo> mordred, krotscheck: is there a way to get the task id in storyboard?
2014-04-30T01:18:47  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/config: Update zuul merger init script  https://review.openstack.org/91211
2014-04-30T01:19:04  <openstackgerrit> A change was merged to openstack-infra/config: Use grub2-mkconfig if update-grub isn't present  https://review.openstack.org/91188
2014-04-30T01:19:41  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Fix displaying new files  https://review.openstack.org/91212
2014-04-30T01:20:36  *** lakshmi has joined #openstack-infra
2014-04-30T01:20:42  <dstufft> tchaypo: looks reasonable to me, did you ensure the tests fail w/o your change?
2014-04-30T01:20:47  <openstackgerrit> A change was merged to stackforge/gertty: Read using a file handle instead of read() method  https://review.openstack.org/91204
2014-04-30T01:21:33  <openstackgerrit> A change was merged to stackforge/gertty: Allow for password prompting  https://review.openstack.org/91205
2014-04-30T01:21:44  <tchaypo> dstufft: the only one that fails without my change is  test_url_incorrect_case_file_index
2014-04-30T01:21:53  <mordred> jbooboo: unsure.
2014-04-30T01:22:00  <dstufft> tchaypo: works for me
2014-04-30T01:22:09  <mordred> jbooboo: how do I get help text in an xterm wthat 'helpfully' thinks F1 is for it?
2014-04-30T01:22:12  <openstackgerrit> A change was merged to stackforge/gertty: Add ordereddict requirement  https://review.openstack.org/91206
2014-04-30T01:22:30  <dstufft> tchaypo: I just wanted to make sure you verified that so that we know that there is a correct test for it so this stuff doesn't break in the future :]
2014-04-30T01:22:41  <jbooboo> mordred: that's apalling.
2014-04-30T01:22:53  <mordred> jbooboo: I just changed the setting in the terminal
2014-04-30T01:22:55  <mordred> nevermind
2014-04-30T01:23:06  <tchaypo> Yeah. Having a test that passes after the change because it's a broken test is quite pointless :)
2014-04-30T01:23:15  <openstackgerrit> A change was merged to stackforge/gertty: Fix displaying new files  https://review.openstack.org/91212
2014-04-30T01:23:30  *** dkehn is now known as dkehn_zzz
2014-04-30T01:24:05  <dstufft> tchaypo: ya, folks do it so I ask!
2014-04-30T01:24:15  <dstufft> I'll merge once tests pass
2014-04-30T01:24:22  <openstackgerrit> Joshua Harlow proposed a change to openstack/requirements: Add wrapt library  https://review.openstack.org/87395
2014-04-30T01:24:34  <jbooboo> mordred: i think HEAD may be just barely usable for you now
2014-04-30T01:24:54  <dstufft> tchaypo: uh oh
2014-04-30T01:24:56  <dstufft> tchaypo: failing tests
2014-04-30T01:25:06  <jbooboo> mordred: though heads up about this bug: https://storyboard.openstack.org/#!/story/74
2014-04-30T01:25:17  <dstufft> tchaypo: looks like it fails on everything but 2.7
2014-04-30T01:25:18  <tchaypo> well that's rude.
2014-04-30T01:25:21  *** talluri has quit IRC
2014-04-30T01:25:22  <dstufft> https://travis-ci.org/pypa/pip/builds/24066032
2014-04-30T01:25:32  <tchaypo> oh. coincidentally, I only tested it on 2.7
2014-04-30T01:25:53  <dstufft> oh .message is deprecated in 2.x and removed in 3.x
2014-04-30T01:26:55  *** saschpe has quit IRC
2014-04-30T01:27:15  <mordred> sqlalchemy.exc.OperationalError: (OperationalError) database is locked u'UPDATE project SET subscribed=? WHERE project."key" = ?' (1, 157)
2014-04-30T01:27:26  <tchaypo> actually according to https://travis-ci.org/pypa/pip/jobs/24066036 it's deprecated as of 2.6
2014-04-30T01:27:34  <tchaypo> so I'm confused about why 2.7 works
2014-04-30T01:28:31  <dstufft> probably they screwed up the deprecation message on 2.7
2014-04-30T01:30:45  *** saschpe has joined #openstack-infra
2014-04-30T01:32:44  *** david-lyle has joined #openstack-infra
2014-04-30T01:33:05  *** Daviey has quit IRC
2014-04-30T01:33:16  <tchaypo> on a side note - when I run "tox -epy27" I get a ton of failures. I've been ignoring everything that wasn't related to the code I was working on. Is there something I'm missing about running the tests locally?
2014-04-30T01:33:24  *** mfer has joined #openstack-infra
2014-04-30T01:34:53  *** talluri has joined #openstack-infra
2014-04-30T01:35:22  *** melwitt has joined #openstack-infra
2014-04-30T01:35:29  *** lakshmi has quit IRC
2014-04-30T01:35:40  *** nosnos has joined #openstack-infra
2014-04-30T01:37:02  *** talluri has quit IRC
2014-04-30T01:37:38  *** talluri has joined #openstack-infra
2014-04-30T01:37:53  *** Ryan_Lane has quit IRC
2014-04-30T01:41:50  *** talluri has quit IRC
2014-04-30T01:41:56  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/config: Install bootstrap for zuul module  https://review.openstack.org/91214
2014-04-30T01:42:08  *** SumitNaiksatam has joined #openstack-infra
2014-04-30T01:42:49  *** krtaylor has joined #openstack-infra
2014-04-30T01:51:12  *** sandywalsh has quit IRC
2014-04-30T01:54:15  *** yaguang has joined #openstack-infra
2014-04-30T01:55:54  <portante> hello folks, how do I go about adding another test run for the swift project?
2014-04-30T01:56:37  <portante> We recently added the ability to run our functional test suite entirely within a single process (thanks eventlet), so that now one can do: "tox -e pep8,py26,py27,func"
2014-04-30T01:57:00  *** david-lyle has quit IRC
2014-04-30T01:57:35  <portante> while we there is a devstack based functional test run as a check/gate job, I'd like to see this new in-process functional test run executed as well.
2014-04-30T01:57:40  <portante> notmyname: do you agree?
2014-04-30T01:59:11  *** mfer has quit IRC
2014-04-30T02:01:16  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/config: Install bootstrap for zuul module  https://review.openstack.org/91214
2014-04-30T02:05:21  *** homeless has quit IRC
2014-04-30T02:06:38  *** zehicle_at_dell has quit IRC
2014-04-30T02:07:41  *** manishg_ has quit IRC
2014-04-30T02:07:51  *** zehicle_at_dell has joined #openstack-infra
2014-04-30T02:08:44  *** thomasem has quit IRC
2014-04-30T02:09:27  *** arnaud has quit IRC
2014-04-30T02:12:03  *** wenlock has joined #openstack-infra
2014-04-30T02:12:16  *** zhiyan_ is now known as zhiyan
2014-04-30T02:24:00  *** ptoohill has joined #openstack-infra
2014-04-30T02:25:17  <ptoohill> Hello, following articles about error led me here. Im currently having issues submitting my first change with the following error from git-review: fatal: ICLA contributor agreement requires current contact information. I believe i may need to resign contract, but am unsure how to proceed. Any advice?
2014-04-30T02:26:03  *** mriedem has quit IRC
2014-04-30T02:26:32  <ptoohill> Also, to note, when attempting to update contact info in gerrit i get a server error "Cannot store contact information"
2014-04-30T02:27:13  *** harlowja is now known as harlowja_away
2014-04-30T02:29:08  <ptoohill> Should i just create a new account? or maybe im asking in the wrong place
2014-04-30T02:29:43  *** crc32 has joined #openstack-infra
2014-04-30T02:32:07  *** melwitt has quit IRC
2014-04-30T02:32:12  *** jhesketh has quit IRC
2014-04-30T02:32:14  <crc32> Gerrit is complaining that a coworker hasen't set up their contact info and is rejecting their commits for review. This seems to be along the lines of https://ask.openstack.org/en/question/3413/icla-contributor-agreement-requires-current-contact-information-error-while-using-git-review
2014-04-30T02:32:21  <crc32> is their a work around for this?
2014-04-30T02:32:28  *** jhesketh has joined #openstack-infra
2014-04-30T02:32:32  <crc32> where are the admins to contact?
2014-04-30T02:33:20  *** jhesketh has quit IRC
2014-04-30T02:35:13  <mattoliverau> ptoohill: you are in the right place.. unfortuantly this week is the openstack off week (between releases) so many of the cores are not around.
2014-04-30T02:35:23  <ptoohill> gotcha
2014-04-30T02:35:33  <ptoohill> Any known work-arounds?
2014-04-30T02:35:37  <ptoohill> that you know of?
2014-04-30T02:36:02  *** melwitt has joined #openstack-infra
2014-04-30T02:36:39  <quantumfly> first go to your gerrit settings and submit contact info as that seems to line up with your error
2014-04-30T02:36:51  <openstackgerrit> A change was merged to openstack/requirements: Work around atexit bug in python < 2.7.4  https://review.openstack.org/89382
2014-04-30T02:36:54  <mattoliverau> ptoohill: So you have signed the aggreement? And are the contact details up to date, do they match your lauchpad account etc?
2014-04-30T02:36:56  <ptoohill> i cannot submit as Gerrit complains
2014-04-30T02:37:09  <ptoohill> yes, i have signed the agreement and all details match up
2014-04-30T02:37:13  <portante> quantumfly: did you see the above on tox -e func for swift?
2014-04-30T02:37:28  <ptoohill> When attempting to submit contact changes i get server error
2014-04-30T02:37:30  <quantumfly> portante no currently attemptibg vacation
2014-04-30T02:37:37  <openstackgerrit> OpenStack Proposal Bot proposed a change to openstack-dev/hacking: Updated from global requirements  https://review.openstack.org/91220
2014-04-30T02:37:39  <portante> run!
2014-04-30T02:37:44  <portante> and don't look back
2014-04-30T02:37:49  <portante> it can wait
2014-04-30T02:38:00  <ptoohill> "Cannot store contact information"
2014-04-30T02:38:34  <crc32> it also says he already signed the ICLA.
2014-04-30T02:38:40  <ptoohill> ^
2014-04-30T02:38:42  <mattoliverau> portante: Hmm, so the problem is gerrit details aren't correct and you can't update them then.
2014-04-30T02:39:00  <mattoliverau> ptoohill: ^^^
2014-04-30T02:39:02  <ptoohill> thats what it seems like
2014-04-30T02:39:06  <mattoliverau> damn auto correct
2014-04-30T02:39:28  <mattoliverau> portante: sorry, wrong auto correct.
2014-04-30T02:39:36  <ptoohill> im not sure if theres another issue being hidden here somehow, but yes, git review complains that i need to submit contact info, but Gerrit wont let me
2014-04-30T02:39:37  <crc32> mattoliverau: or they are correct but gerrit doesn't recognize a working config.
2014-04-30T02:39:50  <ptoohill> or that too ^
2014-04-30T02:40:22  <portante> mattoliverau: no problem
2014-04-30T02:41:50  <ptoohill> My issue is nearly identical to this: https://ask.openstack.org/en/question/3413/icla-contributor-agreement-requires-current-contact-information-error-while-using-git-review/
2014-04-30T02:41:57  *** praneshp has joined #openstack-infra
2014-04-30T02:42:46  <ptoohill> So, i assume, if Gerrit would take my attempts to add contact info the problem would be resolved. Unfortunately, Gerrit gives a server error
2014-04-30T02:43:18  <mattoliverau> ptoohill, crc32: In either case, I don't have admin rights... so can't poke around.  So looks like we'll need a core to take a look. But I'll have a look around and see if the is anything else I can find we can try.
2014-04-30T02:43:48  <ptoohill> I do appreciate the help mattoliverau
2014-04-30T02:43:56  *** yjiang has joined #openstack-infra
2014-04-30T02:44:13  <crc32> ok thank you.
2014-04-30T02:44:21  <crc32> Will any core reviewer do?
2014-04-30T02:46:10  *** Shrews has joined #openstack-infra
2014-04-30T02:47:19  *** sweston has joined #openstack-infra
2014-04-30T02:51:44  *** etoews has quit IRC
2014-04-30T02:53:15  *** zz_gondoi is now known as gondoi
2014-04-30T02:54:54  *** marun has quit IRC
2014-04-30T02:55:46  *** gyee has quit IRC
2014-04-30T02:55:51  *** marun has joined #openstack-infra
2014-04-30T02:56:02  *** matsuhashi has quit IRC
2014-04-30T02:56:50  *** changbl has joined #openstack-infra
2014-04-30T02:57:46  *** matsuhashi has joined #openstack-infra
2014-04-30T02:57:53  <mattoliverau> crc32: I think so, so long as they have access to gerrit to maybe see a log or too to find out what happening and to hopefully fix it.
2014-04-30T02:58:25  <mattoliverau> gerrit was updated yesterday to a later version, so we could be experiencing a bug with the new version.
2014-04-30T03:00:59  *** marun has quit IRC
2014-04-30T03:01:52  *** alexpilotti has quit IRC
2014-04-30T03:02:29  *** asalkeld has joined #openstack-infra
2014-04-30T03:03:04  *** gondoi is now known as zz_gondoi
2014-04-30T03:03:08  <asalkeld> anyone know where the WIP button has gone from gerrit? nothing about it here -> https://wiki.openstack.org/wiki/GerritUpgrade
2014-04-30T03:03:11  *** alexpilotti has joined #openstack-infra
2014-04-30T03:03:41  <mattoliverau> asalkeld: its workflow -1
2014-04-30T03:03:58  <asalkeld> that's not approved?
2014-04-30T03:04:07  <mattoliverau> thats workflow +1
2014-04-30T03:04:19  <mattoliverau> there should be a label so you can't get it wrong
2014-04-30T03:04:54  <asalkeld> what I mean is approved == workflow +1, never approve == workflow -1
2014-04-30T03:04:55  *** alexpilotti has quit IRC
2014-04-30T03:05:04  <asalkeld> not exactly the same as wip
2014-04-30T03:05:33  <asalkeld> nothing telling me someone is working on it
2014-04-30T03:05:33  *** zz_gondoi is now known as gondoi
2014-04-30T03:06:59  <ptoohill> mattoliverau, Issue has been resolved, made my first commit! Thanks again
2014-04-30T03:07:00  <mattoliverau> asalkeld: yeah, it isn't the best, so now a big red X in workflow means don't review its a WIP.
2014-04-30T03:07:09  *** gondoi is now known as zz_gondoi
2014-04-30T03:07:15  <mattoliverau> ptoohill: excelent, nice work!
2014-04-30T03:07:19  <asalkeld> grumble, grumble ...
2014-04-30T03:07:23  <asalkeld> thanks
2014-04-30T03:07:31  *** amcrn has joined #openstack-infra
2014-04-30T03:07:56  *** Ryan_Lane has joined #openstack-infra
2014-04-30T03:08:14  *** talluri has joined #openstack-infra
2014-04-30T03:08:17  <mattoliverau> asalkeld: yeah, new gerrit gives us an API so hopefully we can do something with that.
2014-04-30T03:08:32  <mattoliverau> in the meantime grumble away :P
2014-04-30T03:08:37  <quantumfly> you can search on it too
2014-04-30T03:08:49  <asalkeld> lol so now we have create our own ui
2014-04-30T03:08:56  <quantumfly> workflow>=0 to ignore wip
2014-04-30T03:10:13  <asalkeld> thanks - later (sorry for the grumbling)
2014-04-30T03:10:24  *** asalkeld has left #openstack-infra
2014-04-30T03:10:44  *** nati_ueno has quit IRC
2014-04-30T03:11:02  *** marun has joined #openstack-infra
2014-04-30T03:11:31  *** nati_ueno has joined #openstack-infra
2014-04-30T03:12:50  <mattoliverau> quantumfly: yeah good point :) oh and thanks for helping in channel even though you should be vacationing!
2014-04-30T03:13:30  *** crc32 has quit IRC
2014-04-30T03:14:44  <openstackgerrit> A change was merged to openstack-infra/config: Bump check-rally-dsvm-{name} job timeout  https://review.openstack.org/90630
2014-04-30T03:20:16  *** JayF has quit IRC
2014-04-30T03:20:16  *** JayF has joined #openstack-infra
2014-04-30T03:20:52  *** manishg has joined #openstack-infra
2014-04-30T03:21:40  *** chandan_kumar has joined #openstack-infra
2014-04-30T03:25:29  *** manishg has quit IRC
2014-04-30T03:26:03  *** manishg has joined #openstack-infra
2014-04-30T03:27:43  *** ianw has quit IRC
2014-04-30T03:28:11  *** ianw has joined #openstack-infra
2014-04-30T03:28:18  *** pcrews_ has quit IRC
2014-04-30T03:28:27  *** resker has joined #openstack-infra
2014-04-30T03:29:39  <foobio> ptoohill: was the error you were getting trying to update your contact information covered by the answer at https://wiki.openstack.org/wiki/CLA-FAQ#When_trying_to_sign_the_new_ICLA_and_include_contact_information.2C_why_am_I.27m_getting_an_error_message_saying_that_my_E-mail_address_doesn.27t_correspond_to_a_Foundation_membership.3F
2014-04-30T03:30:14  <ptoohill> foobio, i didnt see this one, nor try anything else. i just used another account :/
2014-04-30T03:30:26  *** kashyap has quit IRC
2014-04-30T03:30:32  *** manishg has quit IRC
2014-04-30T03:30:58  <foobio> ptoohill: ahh, well the faq there should hopefully cover most common cla/contact-info related errors
2014-04-30T03:31:28  *** manishg has joined #openstack-infra
2014-04-30T03:31:50  <ptoohill> foobio: ill keep that one in mind if error comes up again, but i wanted to actually use this new email anyhow, thank you though!
2014-04-30T03:32:05  *** chandan_kumar has quit IRC
2014-04-30T03:32:20  *** esker has quit IRC
2014-04-30T03:32:45  <foobio> in other news, there are devstack-f20 nodepool nodes now, and the devstack-precise and bare-centos6 node images i updated didn't break, so we should be all set
2014-04-30T03:35:54  *** kashyap has joined #openstack-infra
2014-04-30T03:36:15  *** etoews has joined #openstack-infra
2014-04-30T03:36:17  *** manishg_ has joined #openstack-infra
2014-04-30T03:36:32  *** manishg has quit IRC
2014-04-30T03:36:54  *** freyes has quit IRC
2014-04-30T03:38:30  <HenryG> Hi. What bug can I use to reverify https://review.openstack.org/90456 ?
2014-04-30T03:38:41  <HenryG> Here is the failure:  http://logs.openstack.org/56/90456/3/gate/gate-neutron-python26/a7718f5/console.html
2014-04-30T03:40:23  *** etoews has quit IRC
2014-04-30T03:40:26  *** manishg_ has quit IRC
2014-04-30T03:40:57  *** ArxCruz_ has quit IRC
2014-04-30T03:41:23  *** manishg has joined #openstack-infra
2014-04-30T03:44:36  *** jhesketh_ has joined #openstack-infra
2014-04-30T03:46:17  *** manishg has quit IRC
2014-04-30T03:46:35  *** manishg has joined #openstack-infra
2014-04-30T03:50:04  *** nati_ueno has quit IRC
2014-04-30T03:50:53  *** zz_gondoi is now known as gondoi
2014-04-30T03:51:04  *** manishg has quit IRC
2014-04-30T03:51:29  *** mfer has joined #openstack-infra
2014-04-30T03:51:44  *** chandan_kumar has joined #openstack-infra
2014-04-30T03:51:50  *** gondoi is now known as zz_gondoi
2014-04-30T03:52:00  *** manishg has joined #openstack-infra
2014-04-30T03:54:33  *** Ryan_Lane has quit IRC
2014-04-30T03:54:34  *** zz_gondoi is now known as gondoi
2014-04-30T03:55:29  *** Ryan_Lane has joined #openstack-infra
2014-04-30T03:56:05  *** mfer has quit IRC
2014-04-30T03:56:41  *** manishg has quit IRC
2014-04-30T03:57:11  *** manishg has joined #openstack-infra
2014-04-30T04:01:20  *** manishg has quit IRC
2014-04-30T04:02:15  *** manishg has joined #openstack-infra
2014-04-30T04:04:25  *** gondoi is now known as zz_gondoi
2014-04-30T04:07:05  *** manishg has quit IRC
2014-04-30T04:07:51  *** manishg has joined #openstack-infra
2014-04-30T04:09:50  *** mattymo|home has joined #openstack-infra
2014-04-30T04:10:48  *** matsuhashi has quit IRC
2014-04-30T04:12:19  *** manishg has quit IRC
2014-04-30T04:12:58  *** manishg has joined #openstack-infra
2014-04-30T04:17:06  *** praneshp has quit IRC
2014-04-30T04:17:10  *** praneshp_ has joined #openstack-infra
2014-04-30T04:17:29  *** manishg has quit IRC
2014-04-30T04:18:00  *** manishg has joined #openstack-infra
2014-04-30T04:22:14  *** manishg has quit IRC
2014-04-30T04:23:16  *** manishg has joined #openstack-infra
2014-04-30T04:24:15  *** nati_ueno has joined #openstack-infra
2014-04-30T04:25:47  *** yfried has quit IRC
2014-04-30T04:26:37  *** nosnos has quit IRC
2014-04-30T04:27:53  *** manishg has quit IRC
2014-04-30T04:27:59  *** Longgeek has joined #openstack-infra
2014-04-30T04:28:19  *** manishg has joined #openstack-infra
2014-04-30T04:32:30  *** manishg has quit IRC
2014-04-30T04:33:35  *** manishg has joined #openstack-infra
2014-04-30T04:36:23  *** manishg_ has joined #openstack-infra
2014-04-30T04:38:17  *** manishg has quit IRC
2014-04-30T04:40:33  *** manishg_ has quit IRC
2014-04-30T04:41:35  *** manishg has joined #openstack-infra
2014-04-30T04:43:08  <tchaypo> dstufft: so all the tests pass now.
2014-04-30T04:43:20  <tchaypo> I'm not entirely certain if the message body that is being passed back is something useful though.
2014-04-30T04:45:47  *** nati_ueno has quit IRC
2014-04-30T04:46:39  *** manishg_ has joined #openstack-infra
2014-04-30T04:46:44  *** manishg has quit IRC
2014-04-30T04:47:10  *** nati_ueno has joined #openstack-infra
2014-04-30T04:48:12  <tchaypo> but since I don'tt hink that message ever gets utilised anywhere I don't think it matters
2014-04-30T04:50:51  *** manishg_ has quit IRC
2014-04-30T04:51:43  *** alexpilotti has joined #openstack-infra
2014-04-30T04:51:44  *** manishg has joined #openstack-infra
2014-04-30T04:56:29  *** manishg has quit IRC
2014-04-30T04:56:46  *** manishg has joined #openstack-infra
2014-04-30T04:56:50  *** alexpilotti has quit IRC
2014-04-30T04:56:57  <mattoliverau> foobio: thanks for the FAQ link, I'll add it to my list of bookmarks for future reference :)
2014-04-30T05:01:05  *** manishg has quit IRC
2014-04-30T05:02:05  *** manishg has joined #openstack-infra
2014-04-30T05:03:42  *** ildikov has quit IRC
2014-04-30T05:04:57  *** matsuhashi has joined #openstack-infra
2014-04-30T05:06:53  *** manishg has quit IRC
2014-04-30T05:07:16  *** manishg has joined #openstack-infra
2014-04-30T05:08:27  *** UtahDave has joined #openstack-infra
2014-04-30T05:10:55  *** morganfainberg is now known as morganfainberg_Z
2014-04-30T05:11:44  *** manishg has quit IRC
2014-04-30T05:12:34  *** manishg has joined #openstack-infra
2014-04-30T05:16:58  *** nosnos has joined #openstack-infra
2014-04-30T05:17:17  *** manishg has quit IRC
2014-04-30T05:17:35  *** kashyap has quit IRC
2014-04-30T05:17:51  *** manishg has joined #openstack-infra
2014-04-30T05:17:52  *** kashyap has joined #openstack-infra
2014-04-30T05:19:57  <ianw> foobio: still around?
2014-04-30T05:20:05  *** zhiyan is now known as zhiyan_
2014-04-30T05:21:59  *** manishg has quit IRC
2014-04-30T05:22:50  *** nosnos has quit IRC
2014-04-30T05:22:52  *** manishg has joined #openstack-infra
2014-04-30T05:23:06  <openstackgerrit> A change was merged to openstack/requirements: Limit psutil to <2.0.0  https://review.openstack.org/81373
2014-04-30T05:23:17  *** nosnos has joined #openstack-infra
2014-04-30T05:25:34  *** AaronGreen has joined #openstack-infra
2014-04-30T05:27:41  *** manishg has quit IRC
2014-04-30T05:28:15  *** manishg has joined #openstack-infra
2014-04-30T05:29:11  *** AaronGr has quit IRC
2014-04-30T05:30:19  *** matsuhashi has quit IRC
2014-04-30T05:30:38  *** matsuhashi has joined #openstack-infra
2014-04-30T05:32:38  *** manishg has quit IRC
2014-04-30T05:33:31  *** manishg has joined #openstack-infra
2014-04-30T05:33:32  *** Ryan_Lane has quit IRC
2014-04-30T05:34:56  *** Ryan_Lane has joined #openstack-infra
2014-04-30T05:36:30  *** matsuhashi has quit IRC
2014-04-30T05:36:39  *** matsuhashi has joined #openstack-infra
2014-04-30T05:37:56  *** etoews has joined #openstack-infra
2014-04-30T05:38:05  *** manishg has quit IRC
2014-04-30T05:38:53  *** manishg has joined #openstack-infra
2014-04-30T05:43:15  *** manishg has quit IRC
2014-04-30T05:43:58  *** yfried has joined #openstack-infra
2014-04-30T05:44:15  *** manishg has joined #openstack-infra
2014-04-30T05:45:26  *** etoews has quit IRC
2014-04-30T05:48:39  *** resker has quit IRC
2014-04-30T05:49:02  *** UtahDave has quit IRC
2014-04-30T05:49:08  *** manishg has quit IRC
2014-04-30T05:49:22  *** manishg has joined #openstack-infra
2014-04-30T05:49:36  *** ildikov has joined #openstack-infra
2014-04-30T05:53:31  *** manishg has quit IRC
2014-04-30T05:54:18  *** amcrn has quit IRC
2014-04-30T05:54:50  *** manishg has joined #openstack-infra
2014-04-30T05:57:07  <openstackgerrit> Andreas Jaeger proposed a change to openstack/requirements: Update openstack-doc-tools to 0.13 to fix api-site  https://review.openstack.org/90746
2014-04-30T05:59:32  *** manishg has quit IRC
2014-04-30T05:59:32  *** zul has quit IRC
2014-04-30T06:00:10  *** manishg has joined #openstack-infra
2014-04-30T06:01:24  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/config: Publish translated localized API documents  https://review.openstack.org/91132
2014-04-30T06:04:32  *** manishg has quit IRC
2014-04-30T06:05:32  *** manishg has joined #openstack-infra
2014-04-30T06:05:44  *** rcarrill` has joined #openstack-infra
2014-04-30T06:07:29  *** rcarrillocruz has quit IRC
2014-04-30T06:08:52  *** melwitt has quit IRC
2014-04-30T06:10:05  <yfried> anyone here familiar with logstash? I have some questions about these filters https://github.com/openstack-infra/config/blob/master/modules/openstack_project/templates/logstash/indexer.conf.erb
2014-04-30T06:10:09  *** WaltNik has joined #openstack-infra
2014-04-30T06:10:35  *** manishg has quit IRC
2014-04-30T06:10:43  *** manishg_ has joined #openstack-infra
2014-04-30T06:14:37  *** afazekas has joined #openstack-infra
2014-04-30T06:14:42  *** zul has joined #openstack-infra
2014-04-30T06:14:53  <yfried> mattoliverau: ^
2014-04-30T06:15:10  *** manishg_ has quit IRC
2014-04-30T06:16:08  *** manishg has joined #openstack-infra
2014-04-30T06:17:59  *** medieval1 has quit IRC
2014-04-30T06:19:37  *** viktors|afk is now known as viktors
2014-04-30T06:19:56  *** Ryan_Lane has quit IRC
2014-04-30T06:20:19  *** medieval1 has joined #openstack-infra
2014-04-30T06:20:54  *** Ryan_Lane has joined #openstack-infra
2014-04-30T06:20:59  *** manishg has quit IRC
2014-04-30T06:21:40  <mattoliverau> yfried: Not really up to speed with logstash, I plan to familarise myself with it when I get the chance as quite a few questions seem to be popping up about it. Feel free to ask, if I can't answer then they will be in scroll back for someone too when someone who knows something comes online.
2014-04-30T06:22:06  *** manishg has joined #openstack-infra
2014-04-30T06:24:01  *** jcoufal has joined #openstack-infra
2014-04-30T06:26:31  *** manishg has quit IRC
2014-04-30T06:26:38  *** e0ne has joined #openstack-infra
2014-04-30T06:26:57  <yfried> q1: what is the multi line filter for? shouldn't each line of log be parsed independantly?
2014-04-30T06:27:22  *** manishg has joined #openstack-infra
2014-04-30T06:29:32  *** jlibosva has joined #openstack-infra
2014-04-30T06:30:10  *** ArxCruz has joined #openstack-infra
2014-04-30T06:31:40  *** _nadya_ has joined #openstack-infra
2014-04-30T06:32:02  *** manishg has quit IRC
2014-04-30T06:32:32  *** manishg has joined #openstack-infra
2014-04-30T06:35:22  *** ArxCruz has quit IRC
2014-04-30T06:36:48  *** manishg has quit IRC
2014-04-30T06:37:03  *** jcoufal has quit IRC
2014-04-30T06:37:25  *** jcoufal has joined #openstack-infra
2014-04-30T06:37:28  <yfried> I assume it is to catch traceback messages, so that anything without timestamp is part of previous trace, but that's not how logs are built
2014-04-30T06:37:42  *** manishg has joined #openstack-infra
2014-04-30T06:39:44  <quantumfly> yfried that is why. I dont understand your statement about how they are built
2014-04-30T06:39:58  *** alexpilotti has joined #openstack-infra
2014-04-30T06:40:19  <yfried> quantumfly: http://paste.openstack.org/show/77885/
2014-04-30T06:40:42  <yfried> quantumfly: look for "self." to find a tracebak
2014-04-30T06:41:05  <quantumfly> well its not just tracebacks
2014-04-30T06:41:19  <yfried> quantumfly: what do you mean?
2014-04-30T06:41:27  <quantumfly> its any line without a timestamp belongs to the previous line
2014-04-30T06:41:36  <yfried> quantumfly: ok
2014-04-30T06:41:41  <mattoliverau> yfried: good question.. while clark it taking a look, I'm going to take the chance to drive to the otherside of town for dinner with the inlaws.
2014-04-30T06:41:53  <mattoliverau> night all, if I don't jump back online post dinner
2014-04-30T06:41:56  <yfried> mattoliverau: tnx
2014-04-30T06:42:26  *** manishg has quit IRC
2014-04-30T06:42:29  <quantumfly> yfried: there are other occurrences of multine logs
2014-04-30T06:42:46  *** manishg has joined #openstack-infra
2014-04-30T06:42:49  <yfried> quantumfly: but traceback in particular DO have timestamps. how would the match the previous line?
2014-04-30T06:43:04  <yfried> **they match
2014-04-30T06:43:23  <quantumfly> tracebacks with the exception level are matched on log level
2014-04-30T06:43:42  <yfried> quantumfly: what do you mean?
2014-04-30T06:44:23  *** mkoderer has joined #openstack-infra
2014-04-30T06:44:41  <quantumfly> when they have a timestamp they have a different log level. that log level is used to collapse them together
2014-04-30T06:45:13  *** alexpilotti has quit IRC
2014-04-30T06:45:16  <yfried> quantumfly: you mean loglevel = "TRACE" ?
2014-04-30T06:45:49  *** e0ne has quit IRC
2014-04-30T06:45:57  <quantumfly> yes
2014-04-30T06:47:03  *** manishg has quit IRC
2014-04-30T06:47:07  <yfried> quantumfly: this? https://github.com/openstack-infra/config/blob/master/modules/openstack_project/templates/logstash/indexer.conf.erb#L40
2014-04-30T06:47:59  *** manishg has joined #openstack-infra
2014-04-30T06:48:09  <quantumfly> yes
2014-04-30T06:49:01  *** flaper87|afk is now known as flaper87
2014-04-30T06:49:05  <yfried> quantumfly: does it mean all TRACE msgs are a single muiltiline, or do we assume all lines of a single trace have the exact same timestamp and NUMBER and each pare (TS:NUM) creates a new mulline match?
2014-04-30T06:49:56  *** esker has joined #openstack-infra
2014-04-30T06:50:02  <quantumfly> they dont have the same timestamp and number. that is a regex
2014-04-30T06:50:43  <quantumfly> it means all trace lines that havent been broken by a regex that doesnt match are a single multiline
2014-04-30T06:51:03  *** flaper87 is now known as flaper87|afk
2014-04-30T06:51:33  <yfried> quantumfly: oh. so if for some reasone, a non-match line appears in the middle of a trace - a new trace is created by logstash?
2014-04-30T06:51:37  <yfried> quantumfly: tnx
2014-04-30T06:52:08  <quantumfly> yes anything that doesnt match breaks the event into a new event
2014-04-30T06:52:15  <yfried> quantumfly: tnx
2014-04-30T06:52:19  <yfried> quantumfly: new question:
2014-04-30T06:52:23  <yfried> https://github.com/openstack-infra/config/blob/master/modules/openstack_project/templates/logstash/indexer.conf.erb#L117
2014-04-30T06:52:40  <yfried> what's the meaning of those mutate filters?
2014-04-30T06:52:50  *** manishg has quit IRC
2014-04-30T06:52:53  <yfried> quantumfly: why do they remove a field?
2014-04-30T06:53:13  *** manishg has joined #openstack-infra
2014-04-30T06:54:20  <quantumfly> the first one replaces the message with the constructed message it doesnt remove it completely
2014-04-30T06:54:23  *** esker has quit IRC
2014-04-30T06:54:35  <quantumfly> the second one removes the now redundant fields
2014-04-30T06:55:24  *** andreykurilin_ has joined #openstack-infra
2014-04-30T06:55:28  *** marun has quit IRC
2014-04-30T06:55:51  <yfried> quantumfly: why is logdate redundant?
2014-04-30T06:56:11  <quantumfly> because it is in the timestamp field
2014-04-30T06:56:24  <quantumfly> the date filter does that
2014-04-30T06:56:36  <yfried> quantumfly: ok
2014-04-30T06:57:19  <yfried> quantumfly: this is nit: since we now have logmsg and msg, why move logmsg into msg and delete logmsg? why not simply delete msg?
2014-04-30T06:57:41  *** manishg has quit IRC
2014-04-30T06:57:49  <yfried> quantumfly: or might there by events without logmsg?
2014-04-30T06:58:09  <quantumfly> because logstash convention is that the message is in message
2014-04-30T06:58:23  <yfried> quantumfly: :)
2014-04-30T06:58:28  <yfried> quantumfly: tnx
2014-04-30T06:58:44  *** manishg has joined #openstack-infra
2014-04-30T06:59:19  <yfried> quantumfly: you helped me alot. will you be online for the following hours, or is it the end of your day?
2014-04-30T06:59:45  <quantumfly> this is end of day
2014-04-30T07:00:06  <quantumfly> and technically out this week soprobably not much irc until next week
2014-04-30T07:00:31  <yfried> quantumfly: that's too bad. you seem like to only logstash expert around
2014-04-30T07:00:43  <yfried> quantumfly: or do you know of anyone else?
2014-04-30T07:01:00  <yfried> who might also be in Europe timezone?
2014-04-30T07:01:07  <quantumfly> I'm sure others can sort it out
2014-04-30T07:01:16  <quantumfly> its mostly just regexes
2014-04-30T07:03:30  <yfried> quantumfly: about the multiline - shouldn't no-timestamped line somehow get detailes from the previously stamped line (it's usually a continuation of a debug msg)?
2014-04-30T07:03:48  *** manishg_ has joined #openstack-infra
2014-04-30T07:03:53  *** manishg has quit IRC
2014-04-30T07:03:54  *** flaper87|afk is now known as flaper87
2014-04-30T07:04:06  <quantumfly> yes that is what multiline does
2014-04-30T07:04:34  <yfried> quantumfly: ok. thnx
2014-04-30T07:04:40  *** ArxCruz has joined #openstack-infra
2014-04-30T07:06:49  <yfried> quantumfly: why add "recieved_at"? isn't it duplication of timestamp?
2014-04-30T07:07:18  <openstackgerrit> Victor Sergeyev proposed a change to openstack-infra/config: Import oslo.db repository  https://review.openstack.org/78955
2014-04-30T07:07:58  *** manishg_ has quit IRC
2014-04-30T07:08:35  *** matsuhashi has quit IRC
2014-04-30T07:08:39  <quantumfly> no received at is when logstash received the log line
2014-04-30T07:08:50  *** manishg has joined #openstack-infra
2014-04-30T07:09:04  <quantumfly> it gauges processing delay
2014-04-30T07:10:55  *** pblaho has joined #openstack-infra
2014-04-30T07:11:31  *** matsuhashi has joined #openstack-infra
2014-04-30T07:13:38  *** manishg has quit IRC
2014-04-30T07:14:23  *** manishg has joined #openstack-infra
2014-04-30T07:15:10  <yfried> quantumfly: I'm trying to ship this file: http://paste.openstack.org/show/77881/
2014-04-30T07:16:06  <yfried> quantumfly: using this http://paste.openstack.org/show/77894
2014-04-30T07:17:01  <yfried> quantumfly: all 33 lines fail to ship, unless I completely disable the filter section
2014-04-30T07:17:34  *** Daviey has joined #openstack-infra
2014-04-30T07:17:34  *** matsuhashi has quit IRC
2014-04-30T07:17:40  *** ekarlso has joined #openstack-infra
2014-04-30T07:17:58  *** matsuhashi has joined #openstack-infra
2014-04-30T07:18:07  *** _nadya_ has quit IRC
2014-04-30T07:18:12  <yfried> quantumfly: these are the logs of the 2 tries:
2014-04-30T07:18:25  <yfried> quantumfly: with filteres - http://paste.openstack.org/show/77874/
2014-04-30T07:18:36  *** manishg has quit IRC
2014-04-30T07:18:43  <yfried> quantumfly: without filter - http://paste.openstack.org/show/77875/
2014-04-30T07:19:29  *** wenlock has quit IRC
2014-04-30T07:19:32  *** manishg has joined #openstack-infra
2014-04-30T07:21:25  *** talluri has quit IRC
2014-04-30T07:21:32  <quantumfly> yfried: sorry internet connection is terrible I wont be able to debug that
2014-04-30T07:21:44  *** _nadya_ has joined #openstack-infra
2014-04-30T07:24:37  *** manishg_ has joined #openstack-infra
2014-04-30T07:24:41  *** manishg has quit IRC
2014-04-30T07:24:57  *** _nadya_ has quit IRC
2014-04-30T07:25:12  *** mattymo|home has quit IRC
2014-04-30T07:27:36  <yfried>  quantumfly: could you think of a way to catch all filttered out events?
2014-04-30T07:28:51  *** manishg_ has quit IRC
2014-04-30T07:28:59  <quantumfly> there shouldnt be any filtered out as you dont have any drops
2014-04-30T07:29:08  *** marun has joined #openstack-infra
2014-04-30T07:29:12  <quantumfly> I would test with the stdout output though
2014-04-30T07:29:48  *** manishg has joined #openstack-infra
2014-04-30T07:29:57  *** nati_ueno has quit IRC
2014-04-30T07:30:10  *** _nadya_ has joined #openstack-infra
2014-04-30T07:30:31  <quantumfly> the last bit of multiline data wont flush until a non matching line arrives or a timeout is hit though
2014-04-30T07:30:34  *** amcrn has joined #openstack-infra
2014-04-30T07:30:39  *** mattymo|home has joined #openstack-infra
2014-04-30T07:30:44  *** andreykurilin_ has quit IRC
2014-04-30T07:34:26  *** manishg has quit IRC
2014-04-30T07:35:07  *** manishg has joined #openstack-infra
2014-04-30T07:38:58  *** praneshp_ has quit IRC
2014-04-30T07:39:29  *** manishg has quit IRC
2014-04-30T07:40:21  *** manishg has joined #openstack-infra
2014-04-30T07:42:55  *** etoews has joined #openstack-infra
2014-04-30T07:43:37  *** hashar has joined #openstack-infra
2014-04-30T07:45:24  <yfried> quantumfly: I disabled the multiline. now I only have 6 (instead of 33) events, and all are marked with _grokparsefaiure tag and their msg is replaced by "%{logmessage}"
2014-04-30T07:45:29  *** manishg has quit IRC
2014-04-30T07:45:29  *** manishg_ has joined #openstack-infra
2014-04-30T07:45:51  *** romcheg1 has joined #openstack-infra
2014-04-30T07:46:58  <romcheg1> Guys, is anyone around who can help me with the stuck review?
2014-04-30T07:47:23  <romcheg1> https://review.openstack.org/#/c/86021/ it was approved but gate jobs did not start
2014-04-30T07:49:46  *** manishg_ has quit IRC
2014-04-30T07:50:05  *** etoews has quit IRC
2014-04-30T07:50:18  *** manishg has joined #openstack-infra
2014-04-30T07:50:47  *** esker has joined #openstack-infra
2014-04-30T07:50:50  *** ArxCruz has quit IRC
2014-04-30T07:51:12  *** Shivraam has joined #openstack-infra
2014-04-30T07:51:38  *** medieval1 has quit IRC
2014-04-30T07:51:47  <yfried> quantumfly: maybe I need the recieving server configured to catch multiline? (input codec)?
2014-04-30T07:52:30  *** e0ne has joined #openstack-infra
2014-04-30T07:52:35  *** talluri has joined #openstack-infra
2014-04-30T07:54:58  *** esker has quit IRC
2014-04-30T07:55:12  *** talluri_ has joined #openstack-infra
2014-04-30T07:55:14  *** manishg has quit IRC
2014-04-30T07:55:17  *** manishg_ has joined #openstack-infra
2014-04-30T07:55:25  *** zigo_ is now known as zigo
2014-04-30T07:55:57  *** talluri has quit IRC
2014-04-30T07:56:30  *** medieval1 has joined #openstack-infra
2014-04-30T07:57:45  *** jpich has joined #openstack-infra
2014-04-30T07:59:40  *** manishg_ has quit IRC
2014-04-30T08:00:22  *** manishg has joined #openstack-infra
2014-04-30T08:02:11  *** Shivraam has quit IRC
2014-04-30T08:04:11  *** ildikov_ has joined #openstack-infra
2014-04-30T08:04:23  *** cody-somerville has quit IRC
2014-04-30T08:04:35  *** ildikov has quit IRC
2014-04-30T08:04:59  *** manishg has quit IRC
2014-04-30T08:05:25  *** manishg has joined #openstack-infra
2014-04-30T08:05:49  *** e0ne has quit IRC
2014-04-30T08:08:17  *** darraghb has joined #openstack-infra
2014-04-30T08:09:18  <openstackgerrit> Carl Loa Odin proposed a change to openstack-infra/jenkins-job-builder: Extend trigger_builds functionality  https://review.openstack.org/91051
2014-04-30T08:09:33  *** manishg has quit IRC
2014-04-30T08:10:32  *** manishg has joined #openstack-infra
2014-04-30T08:13:57  *** e0ne has joined #openstack-infra
2014-04-30T08:15:23  *** manishg has quit IRC
2014-04-30T08:15:35  *** manishg has joined #openstack-infra
2014-04-30T08:16:55  *** mrmartin has joined #openstack-infra
2014-04-30T08:17:56  *** ihrachyshka has joined #openstack-infra
2014-04-30T08:19:22  *** cody-somerville has joined #openstack-infra
2014-04-30T08:19:22  *** cody-somerville has quit IRC
2014-04-30T08:19:22  *** cody-somerville has joined #openstack-infra
2014-04-30T08:19:50  *** manishg has quit IRC
2014-04-30T08:20:39  *** manishg has joined #openstack-infra
2014-04-30T08:21:32  *** derekh has joined #openstack-infra
2014-04-30T08:24:56  <openstackgerrit> Benjamin Staffin proposed a change to openstack-infra/jenkins-job-builder: Tiny spelling fix: YMAL -> YAML  https://review.openstack.org/91291
2014-04-30T08:25:45  *** manishg_ has joined #openstack-infra
2014-04-30T08:25:47  *** manishg has quit IRC
2014-04-30T08:28:49  *** mrmartin has quit IRC
2014-04-30T08:30:05  *** manishg_ has quit IRC
2014-04-30T08:30:55  *** manishg has joined #openstack-infra
2014-04-30T08:31:43  *** jooools has joined #openstack-infra
2014-04-30T08:34:26  <openstackgerrit> Carl Loa Odin proposed a change to openstack-infra/jenkins-job-builder: Extend trigger_builds functionality  https://review.openstack.org/91051
2014-04-30T08:35:32  *** manishg has quit IRC
2014-04-30T08:36:18  *** manishg has joined #openstack-infra
2014-04-30T08:37:02  *** katyafervent is now known as katyafervent_awa
2014-04-30T08:40:44  *** manishg has quit IRC
2014-04-30T08:40:54  <openstackgerrit> Nikolay Mahotkin proposed a change to openstack-infra/config: Add mistral-dashboard project to stackforge  https://review.openstack.org/91296
2014-04-30T08:41:25  <openstackgerrit> Carl Loa Odin proposed a change to openstack-infra/jenkins-job-builder: Extend trigger_builds functionality  https://review.openstack.org/91051
2014-04-30T08:42:15  *** manishg has joined #openstack-infra
2014-04-30T08:45:27  *** katyafervent_awa is now known as katyafervent
2014-04-30T08:46:38  *** ArxCruz has joined #openstack-infra
2014-04-30T08:46:51  *** etoews has joined #openstack-infra
2014-04-30T08:47:14  *** manishg has quit IRC
2014-04-30T08:47:41  *** manishg has joined #openstack-infra
2014-04-30T08:49:23  *** romcheg1 has quit IRC
2014-04-30T08:50:58  *** ArxCruz has quit IRC
2014-04-30T08:51:07  *** ociuhandu has quit IRC
2014-04-30T08:51:53  *** etoews has quit IRC
2014-04-30T08:52:06  *** manishg has quit IRC
2014-04-30T08:52:25  *** jhesketh_ has quit IRC
2014-04-30T08:52:53  *** manishg has joined #openstack-infra
2014-04-30T08:55:17  <openstackgerrit> Nikita Konovalov proposed a change to openstack-infra/storyboard-webclient: TimeLine events support  https://review.openstack.org/88405
2014-04-30T08:57:12  *** proffalken has quit IRC
2014-04-30T08:57:13  <openstackgerrit> Nikita Konovalov proposed a change to openstack-infra/storyboard: Introducing the event timeline  https://review.openstack.org/87959
2014-04-30T08:57:24  *** yjiang has quit IRC
2014-04-30T08:57:38  *** manishg has quit IRC
2014-04-30T08:58:17  *** manishg has joined #openstack-infra
2014-04-30T09:01:26  *** Ryan_Lane has quit IRC
2014-04-30T09:02:44  *** manishg has quit IRC
2014-04-30T09:03:34  *** manishg has joined #openstack-infra
2014-04-30T09:06:53  <openstackgerrit> Nikolay Mahotkin proposed a change to openstack-infra/config: Add mistral-dashboard project to stackforge  https://review.openstack.org/91296
2014-04-30T09:07:12  *** jhesketh_ has joined #openstack-infra
2014-04-30T09:07:30  *** manishg has quit IRC
2014-04-30T09:07:51  *** manishg has joined #openstack-infra
2014-04-30T09:12:14  *** manishg_ has joined #openstack-infra
2014-04-30T09:12:17  *** manishg has quit IRC
2014-04-30T09:12:32  <rossella_s> Hello all! I am having problems accessing review.openstack.org . I am based in Italy, if I use a VPN I can load the page without any problem.
2014-04-30T09:12:48  <BobBall> try restarting your browser session rossella_s
2014-04-30T09:13:10  <rossella_s> BobBall: I tried that and no joy
2014-04-30T09:14:03  <rossella_s> BobBall ssh is also not working...if I do ssh -p 29418 rossella-o@review.openstack.org gerrit ls-projects
2014-04-30T09:14:12  <rossella_s> it hangs
2014-04-30T09:14:17  <BobBall> that's a bigger problem :)
2014-04-30T09:14:25  <BobBall> hangs as in firewall eventually blocks it?
2014-04-30T09:14:31  <rossella_s> BobBall: yes :(
2014-04-30T09:14:49  *** manishg has joined #openstack-infra
2014-04-30T09:14:51  <BobBall> Did you know that the IP for review.openstack.org has changed?  you might need to  hange your firewall config
2014-04-30T09:15:20  <rossella_s> BobBall: yes I know the IP changed
2014-04-30T09:15:30  <BobBall> Also if you're using IPv6 I think some were having problems yesterday
2014-04-30T09:15:32  <BobBall> so try ipv4
2014-04-30T09:15:40  <openstackgerrit> Nikolay Mahotkin proposed a change to openstack-infra/config: Add mistral-dashboard project to stackforge  https://review.openstack.org/91296
2014-04-30T09:16:09  <rossella_s> BobBall: I am using ipV4
2014-04-30T09:16:42  *** manishg_ has quit IRC
2014-04-30T09:16:53  <BobBall> then I'm afraid I'm out of ideas :/
2014-04-30T09:17:00  <BobBall> that's all I've heard of as being the cause
2014-04-30T09:17:20  <BobBall> My issues were the browser-restart one and the new IP being blocked by our corporate firewall
2014-04-30T09:18:00  <rossella_s> BobBall: my internet provider has a firewall, maybe that's where it's being blocked. How can I check that?
2014-04-30T09:18:12  <rossella_s> BobBall: thanks a lot for your patience!
2014-04-30T09:18:37  <rossella_s> BobBall: it's very unlikely that it's blocking it...anyway it's worth making sure
2014-04-30T09:19:03  *** manishg_ has joined #openstack-infra
2014-04-30T09:19:06  *** manishg has quit IRC
2014-04-30T09:19:36  <BobBall> If you've going straight to your ISP then it's very unlikely to be blocked there since it's an outgoing connection not an incoming one
2014-04-30T09:19:48  <BobBall> and, as it worked before, they aren't blocking the port.
2014-04-30T09:20:17  <BobBall> You'll probably have to wait for some of the infra guys who know what's changed to get more advice on this one :/
2014-04-30T09:20:35  <BobBall> oh
2014-04-30T09:20:37  <BobBall> one more thought
2014-04-30T09:20:43  <BobBall> what does review.openstack.org resolve to?
2014-04-30T09:20:52  <BobBall> if you added it to /etc/hosts then that'll be the problem
2014-04-30T09:21:16  <rossella_s> resolves to 23.253.232.87
2014-04-30T09:21:21  <BobBall> drat
2014-04-30T09:21:22  <BobBall> worth a shot
2014-04-30T09:21:24  <BobBall> that's the right IP
2014-04-30T09:21:28  <rossella_s> I already purged the know host file
2014-04-30T09:22:14  <rossella_s> BobBall: thanks a lot for your help!
2014-04-30T09:23:01  *** manishg has joined #openstack-infra
2014-04-30T09:23:41  *** manishg_ has quit IRC
2014-04-30T09:26:17  *** manishg_ has joined #openstack-infra
2014-04-30T09:27:20  *** manishg has quit IRC
2014-04-30T09:27:39  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Move status stylesheets into css file  https://review.openstack.org/84921
2014-04-30T09:27:41  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Add in sparklines to status page pipelines  https://review.openstack.org/84922
2014-04-30T09:27:42  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Make zuul javascript app more modular  https://review.openstack.org/91310
2014-04-30T09:29:02  *** ominakov has joined #openstack-infra
2014-04-30T09:30:18  *** manishg_ has quit IRC
2014-04-30T09:30:30  *** andreaf has joined #openstack-infra
2014-04-30T09:31:08  *** proffalken has joined #openstack-infra
2014-04-30T09:31:10  *** manishg has joined #openstack-infra
2014-04-30T09:35:34  *** manishg_ has joined #openstack-infra
2014-04-30T09:35:41  *** manishg has quit IRC
2014-04-30T09:38:09  *** manishg has joined #openstack-infra
2014-04-30T09:39:48  *** manishg_ has quit IRC
2014-04-30T09:40:22  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Make zuul javascript app more modular  https://review.openstack.org/91310
2014-04-30T09:42:18  *** manishg has quit IRC
2014-04-30T09:43:10  *** manishg has joined #openstack-infra
2014-04-30T09:43:13  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/config: Fix zuul's app.js name  https://review.openstack.org/91314
2014-04-30T09:43:58  *** che-arne has joined #openstack-infra
2014-04-30T09:47:54  *** manishg has quit IRC
2014-04-30T09:48:31  *** manishg has joined #openstack-infra
2014-04-30T09:49:24  *** rcarrillocruz has joined #openstack-infra
2014-04-30T09:50:05  *** etoews has joined #openstack-infra
2014-04-30T09:50:39  *** esker has joined #openstack-infra
2014-04-30T09:50:46  *** rcarrill` has quit IRC
2014-04-30T09:51:58  *** yaguang has quit IRC
2014-04-30T09:52:38  *** manishg has quit IRC
2014-04-30T09:52:38  *** manishg_ has joined #openstack-infra
2014-04-30T09:53:08  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Fix up fetching jquery.visibility  https://review.openstack.org/91316
2014-04-30T09:54:39  *** etoews has quit IRC
2014-04-30T09:54:57  *** esker has quit IRC
2014-04-30T09:56:01  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Move status stylesheets into css file  https://review.openstack.org/84921
2014-04-30T09:56:03  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Fix up fetching jquery.visibility  https://review.openstack.org/91316
2014-04-30T09:56:05  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Add in sparklines to status page pipelines  https://review.openstack.org/84922
2014-04-30T09:56:06  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Make zuul javascript app more modular  https://review.openstack.org/91310
2014-04-30T09:56:08  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/zuul: Fix pep8 issue with test_scheduler  https://review.openstack.org/91317
2014-04-30T09:56:42  *** manishg_ has quit IRC
2014-04-30T09:57:27  *** manishg has joined #openstack-infra
2014-04-30T09:57:34  <jhesketh_> is anybody who was involved in the gerrit upgrade around?
2014-04-30T09:58:14  <jhesketh_> foobio: ping
2014-04-30T10:01:55  *** manishg has quit IRC
2014-04-30T10:03:38  *** manishg has joined #openstack-infra
2014-04-30T10:07:16  *** manishg_ has joined #openstack-infra
2014-04-30T10:08:02  *** manishg has quit IRC
2014-04-30T10:09:42  *** rcarrill` has joined #openstack-infra
2014-04-30T10:10:49  *** alexpilotti has joined #openstack-infra
2014-04-30T10:11:30  *** manishg_ has quit IRC
2014-04-30T10:11:33  *** rcarrillocruz has quit IRC
2014-04-30T10:12:32  *** manishg has joined #openstack-infra
2014-04-30T10:13:44  <BobBall> don't think so jhesketh_ - they will all be sleeping
2014-04-30T10:13:54  <jhesketh_> figured, all good :-)
2014-04-30T10:13:56  <jhesketh_> th
2014-04-30T10:13:57  <jhesketh_> *thanks
2014-04-30T10:13:59  <BobBall> actually sdague may be around at some point
2014-04-30T10:14:11  <BobBall> depends on the level of involvement you care about :)
2014-04-30T10:14:36  <jhesketh_> just curious to how a patch that fails pep8 got through the gate.. maybe we're not gating properly for example
2014-04-30T10:14:42  <jhesketh_> it's okay, I'll grab some dinner
2014-04-30T10:14:58  *** jp_at_hp has joined #openstack-infra
2014-04-30T10:15:05  <BobBall> Curious indeed!
2014-04-30T10:16:54  *** manishg has quit IRC
2014-04-30T10:17:54  *** dizquierdo has joined #openstack-infra
2014-04-30T10:17:55  *** manishg has joined #openstack-infra
2014-04-30T10:19:09  <sdague> what's up?
2014-04-30T10:19:26  <sdague> jhesketh_: pointer?
2014-04-30T10:19:35  <BobBall> sdague: I think it was a question about how the pep8 violation fixed by https://review.openstack.org/91317 got merged
2014-04-30T10:20:05  <BobBall> & whether the gate is working correctly (I guess it might have been force-pushed during the upgrade)
2014-04-30T10:20:47  *** talluri_ has quit IRC
2014-04-30T10:21:02  *** nosnos has quit IRC
2014-04-30T10:21:54  *** manishg has quit IRC
2014-04-30T10:22:19  <SergeyLukjanov> morning folks
2014-04-30T10:22:26  *** manishg has joined #openstack-infra
2014-04-30T10:23:19  *** ociuhandu has joined #openstack-infra
2014-04-30T10:23:40  <sdague> BobBall: looks like foobio merged it manually
2014-04-30T10:23:54  <sdague> the Verified vote is not from Jenkins
2014-04-30T10:27:03  *** manishg has quit IRC
2014-04-30T10:28:31  *** manishg has joined #openstack-infra
2014-04-30T10:29:35  *** nosnos has joined #openstack-infra
2014-04-30T10:32:42  *** manishg has quit IRC
2014-04-30T10:33:35  *** manishg has joined #openstack-infra
2014-04-30T10:34:58  *** markmc has joined #openstack-infra
2014-04-30T10:38:10  *** manishg has quit IRC
2014-04-30T10:38:16  <BobBall> there you fair enough
2014-04-30T10:38:20  <BobBall> -there you!
2014-04-30T10:38:23  <jhesketh_> sdague: didn't realise you could merge it through manually
2014-04-30T10:38:31  <jhesketh_> sdague: doesn't gerrit wait for --submit from zuul?
2014-04-30T10:38:41  *** manishg has joined #openstack-infra
2014-04-30T10:39:16  *** etoews has joined #openstack-infra
2014-04-30T10:41:14  *** talluri has joined #openstack-infra
2014-04-30T10:41:28  <sdague> jhesketh_: infra-core can direct merge
2014-04-30T10:41:39  <sdague> there are times when it's needed
2014-04-30T10:41:46  <sdague> normal humans can't
2014-04-30T10:42:00  <jhesketh_> sdague: fair enough
2014-04-30T10:42:06  <jhesketh_> do other cores for other projects have that?
2014-04-30T10:42:42  *** manishg has quit IRC
2014-04-30T10:43:04  *** manishg has joined #openstack-infra
2014-04-30T10:43:30  *** etoews has quit IRC
2014-04-30T10:44:26  <sdague> no
2014-04-30T10:47:30  <bookwar> can anyone help with gerrit authorization, here are the logs http://pastebin.com/print.php?i=0kqn07FZ and we tried hard to ensure that the key stored is the right one, can someone check it on the server side?
2014-04-30T10:47:32  <jhesketh_> ah okay
2014-04-30T10:47:35  <jhesketh_> do infra have verify +2 rights on other projects?
2014-04-30T10:47:39  *** vkramskikh has joined #openstack-infra
2014-04-30T10:47:50  *** manishg has quit IRC
2014-04-30T10:48:15  *** manishg has joined #openstack-infra
2014-04-30T10:48:24  <sdague> project bootstrappers has all the permissions
2014-04-30T10:48:33  <sdague> and infra core can add themselves to that group
2014-04-30T10:48:40  <sdague> when needed
2014-04-30T10:48:49  <sdague> they don't tend to keep themselves in there
2014-04-30T10:50:01  <jhesketh_> righto
2014-04-30T10:50:29  <jhesketh_> sdague: so how do the merges get triggered.. I thought you needed to send the submit command, or is gerrit instructed to simply look for the Verified+2?
2014-04-30T10:51:38  *** openstackgerrit has quit IRC
2014-04-30T10:52:18  <sdague> jhesketh_: that I'm not 100% sure on. foobio would know
2014-04-30T10:52:18  *** manishg has quit IRC
2014-04-30T10:52:30  *** manishg has joined #openstack-infra
2014-04-30T10:52:32  <jhesketh_> sure, thanks for the clarifications though :-)
2014-04-30T10:52:51  <sdague> I think zuul is issuing the submit
2014-04-30T10:53:12  <sdague> once things are satisfied
2014-04-30T10:53:56  *** vponomaryov has quit IRC
2014-04-30T10:53:56  <jhesketh_> hmm, not sure about that, looking at the commit that went through the merge was listed under Jeremy's user, not Jenkins'
2014-04-30T10:54:18  *** ominakov has quit IRC
2014-04-30T10:54:32  *** miarmak has quit IRC
2014-04-30T10:54:53  *** achuprin has quit IRC
2014-04-30T10:56:35  *** vponomaryov has joined #openstack-infra
2014-04-30T10:56:38  *** yamahata has quit IRC
2014-04-30T10:56:45  *** ominakov has joined #openstack-infra
2014-04-30T10:56:46  *** miarmak has joined #openstack-infra
2014-04-30T10:57:01  *** manishg has quit IRC
2014-04-30T10:57:12  *** achuprin has joined #openstack-infra
2014-04-30T10:57:39  *** manishg has joined #openstack-infra
2014-04-30T11:01:54  *** manishg has quit IRC
2014-04-30T11:02:11  *** manishg has joined #openstack-infra
2014-04-30T11:06:41  *** manishg has quit IRC
2014-04-30T11:07:00  *** e0ne has quit IRC
2014-04-30T11:07:21  *** manishg has joined #openstack-infra
2014-04-30T11:11:30  *** manishg has quit IRC
2014-04-30T11:11:36  <yfried> anyone here familiar with logstash?
2014-04-30T11:11:55  *** manishg has joined #openstack-infra
2014-04-30T11:16:21  *** manishg has quit IRC
2014-04-30T11:17:59  *** manishg has joined #openstack-infra
2014-04-30T11:22:18  *** manishg has quit IRC
2014-04-30T11:23:11  *** adalbas has joined #openstack-infra
2014-04-30T11:23:51  *** manishg has joined #openstack-infra
2014-04-30T11:27:27  <SergeyLukjanov> yfried, quantumfly, but he's on vacation now
2014-04-30T11:28:26  *** manishg has quit IRC
2014-04-30T11:28:43  <yfried> SergeyLukjanov: yeah. we talked earlier. anyone else?
2014-04-30T11:29:15  <SergeyLukjanov> yfried, IIRC nope
2014-04-30T11:29:16  *** manishg has joined #openstack-infra
2014-04-30T11:33:30  *** manishg has quit IRC
2014-04-30T11:34:24  *** manishg has joined #openstack-infra
2014-04-30T11:39:04  *** manishg has quit IRC
2014-04-30T11:39:04  *** mwagner_lap has quit IRC
2014-04-30T11:40:08  *** manishg has joined #openstack-infra
2014-04-30T11:44:15  *** manishg_ has joined #openstack-infra
2014-04-30T11:44:18  *** manishg has quit IRC
2014-04-30T11:46:32  *** rlandy has joined #openstack-infra
2014-04-30T11:48:44  *** manishg_ has quit IRC
2014-04-30T11:50:07  *** manishg has joined #openstack-infra
2014-04-30T11:50:38  *** esker has joined #openstack-infra
2014-04-30T11:50:46  *** ArxCruz has joined #openstack-infra
2014-04-30T11:54:18  *** manishg has quit IRC
2014-04-30T11:54:58  *** manishg has joined #openstack-infra
2014-04-30T11:55:19  *** esker has quit IRC
2014-04-30T11:55:28  *** Longgeek_ has joined #openstack-infra
2014-04-30T11:58:29  *** Longgeek has quit IRC
2014-04-30T11:59:22  *** manishg has quit IRC
2014-04-30T11:59:54  *** Longgeek_ has quit IRC
2014-04-30T12:00:55  *** e0ne has joined #openstack-infra
2014-04-30T12:01:26  *** manishg has joined #openstack-infra
2014-04-30T12:02:14  *** matsuhashi has quit IRC
2014-04-30T12:02:44  *** e0ne_ has joined #openstack-infra
2014-04-30T12:02:47  *** matsuhashi has joined #openstack-infra
2014-04-30T12:02:58  *** e0ne has quit IRC
2014-04-30T12:03:22  *** matsuhashi has quit IRC
2014-04-30T12:05:30  *** manishg has quit IRC
2014-04-30T12:05:39  *** manishg has joined #openstack-infra
2014-04-30T12:06:02  *** pdmars has joined #openstack-infra
2014-04-30T12:06:58  *** jgallard has joined #openstack-infra
2014-04-30T12:07:56  *** e0ne_ has quit IRC
2014-04-30T12:09:40  *** nosnos has quit IRC
2014-04-30T12:10:00  *** manishg has quit IRC
2014-04-30T12:10:56  *** manishg has joined #openstack-infra
2014-04-30T12:13:25  *** _nadya_ has quit IRC
2014-04-30T12:14:13  *** _nadya_ has joined #openstack-infra
2014-04-30T12:15:06  *** pblaho has quit IRC
2014-04-30T12:15:06  *** manishg has quit IRC
2014-04-30T12:15:43  *** manishg has joined #openstack-infra
2014-04-30T12:16:05  *** dprince has joined #openstack-infra
2014-04-30T12:16:06  *** skraynev_ has joined #openstack-infra
2014-04-30T12:16:06  *** skraynev_ has quit IRC
2014-04-30T12:17:01  *** sandywalsh has joined #openstack-infra
2014-04-30T12:20:09  *** manishg has quit IRC
2014-04-30T12:21:08  *** manishg has joined #openstack-infra
2014-04-30T12:22:33  <tnurlygayanov> hi there!
2014-04-30T12:23:08  <tnurlygayanov> I have a question about the tarballs automated creation for the new releases
2014-04-30T12:23:39  <tnurlygayanov> we have the repository https://github.com/stackforge/mistral-extra
2014-04-30T12:23:57  <tnurlygayanov> and we have pushed the new tag 0.0.1
2014-04-30T12:24:12  <tnurlygayanov> for the first stable version of Mistral
2014-04-30T12:25:06  <tnurlygayanov> but zuul creates tarball with incorrect version 0.0.0: http://tarballs.openstack.org/mistral-extra/mistral-extra-0.0.0.tar.gz
2014-04-30T12:25:06  *** manishg has quit IRC
2014-04-30T12:25:33  <tnurlygayanov> can anybody describe how we can create the tarbal with version 0.0.1 ?
2014-04-30T12:26:01  <tnurlygayanov> for other repositories of Mistral zuul creates correct tarball with version number 0.0.1
2014-04-30T12:26:14  *** skolekonov has joined #openstack-infra
2014-04-30T12:27:23  *** mwagner_lap has joined #openstack-infra
2014-04-30T12:28:07  *** manishg has joined #openstack-infra
2014-04-30T12:28:41  <ArxCruz> anteaya: the powervc team fix the issue yesterday :)
2014-04-30T12:28:58  *** rcarrill` is now known as rcarrillocruz
2014-04-30T12:31:26  *** aysyd has joined #openstack-infra
2014-04-30T12:32:43  *** manishg has quit IRC
2014-04-30T12:32:47  *** maxbit has quit IRC
2014-04-30T12:33:13  *** maxbit has joined #openstack-infra
2014-04-30T12:33:45  *** manishg has joined #openstack-infra
2014-04-30T12:33:57  *** maxbit has quit IRC
2014-04-30T12:36:44  *** maxbit has joined #openstack-infra
2014-04-30T12:36:47  *** weshay has joined #openstack-infra
2014-04-30T12:37:54  *** manishg has quit IRC
2014-04-30T12:37:54  *** maxbit has quit IRC
2014-04-30T12:38:48  *** manishg has joined #openstack-infra
2014-04-30T12:39:37  *** maxbit has joined #openstack-infra
2014-04-30T12:39:58  *** rfolco has joined #openstack-infra
2014-04-30T12:41:44  *** maxbit has quit IRC
2014-04-30T12:41:44  *** lcostantino has joined #openstack-infra
2014-04-30T12:42:31  *** maxbit has joined #openstack-infra
2014-04-30T12:43:21  *** manishg has quit IRC
2014-04-30T12:44:13  <SergeyLukjanov> tnurlygayanov, hey, do you have link to the tarball job logs?
2014-04-30T12:44:37  <tnurlygayanov> yes
2014-04-30T12:44:57  <tnurlygayanov> SergeyLukjanov: https://jenkins03.openstack.org/job/mistral-extra-tarball/1/
2014-04-30T12:45:33  <SergeyLukjanov> tnurlygayanov, it looks like err in setup.cfg at least
2014-04-30T12:45:34  <SergeyLukjanov> https://github.com/stackforge/mistral-extra/blob/master/setup.cfg#L3
2014-04-30T12:46:07  <SergeyLukjanov> tnurlygayanov, and setup.py is incorrect - it doesn't call pbr https://github.com/stackforge/mistral-extra/blob/master/setup.py
2014-04-30T12:46:21  <tnurlygayanov> SergeyLukjanov: for Mistral repo we have the same error, but tarbal was successfully created.
2014-04-30T12:46:37  <tnurlygayanov> with correct version 0.0.1.
2014-04-30T12:46:39  <SergeyLukjanov> tnurlygayanov, the version is overriden by gerrit
2014-04-30T12:46:48  <tnurlygayanov> ok, we will fix all small issues with setup.cfg
2014-04-30T12:46:48  <SergeyLukjanov> tnurlygayanov, but setup.py should call pbr for it
2014-04-30T12:46:56  <SergeyLukjanov> tnurlygayanov, otherwise it'll not work
2014-04-30T12:47:16  <SergeyLukjanov> tnurlygayanov, https://github.com/openstack/sahara/blob/master/setup.py is the correct pbr init
2014-04-30T12:47:32  <SergeyLukjanov> tnurlygayanov, due to the https://github.com/stackforge/mistral-extra/blob/master/setup.py#L21
2014-04-30T12:47:37  <SergeyLukjanov> setuptools.setup(
2014-04-30T12:47:37  <SergeyLukjanov>     name="mistral-extra")
2014-04-30T12:47:46  *** esker has joined #openstack-infra
2014-04-30T12:47:50  *** vkramskikh has left #openstack-infra
2014-04-30T12:47:54  *** rakhmerov has joined #openstack-infra
2014-04-30T12:47:57  <SergeyLukjanov> version will be 0.0.0 anyway, there is no way to override it
2014-04-30T12:49:14  *** julim has joined #openstack-infra
2014-04-30T12:49:24  <tnurlygayanov> SergeyLukjanov: ok, thank you!
2014-04-30T12:49:33  <anteaya> ArxCruz: thank you!
2014-04-30T12:49:57  <anteaya> ArxCruz: I appreciate you talking to them and following up with me, thank you
2014-04-30T12:50:08  <ArxCruz> anteaya: you're welcome :)
2014-04-30T12:51:38  *** mfer has joined #openstack-infra
2014-04-30T12:52:39  <viktors> hello All! Folks, could you please look at the patch to config - https://review.openstack.org/#/c/78955/ (Import oslo.db repository) ? Thanks!
2014-04-30T12:56:54  *** dkranz has joined #openstack-infra
2014-04-30T12:59:21  *** mbacchi has joined #openstack-infra
2014-04-30T13:02:46  *** eharney has joined #openstack-infra
2014-04-30T13:05:11  <SergeyLukjanov> viktors, hey, lgtm
2014-04-30T13:06:04  *** Ajaeger has joined #openstack-infra
2014-04-30T13:06:58  <viktors> SergeyLukjanov: thanks a lot!
2014-04-30T13:07:05  *** matty_dubs|gone is now known as matty_dubs
2014-04-30T13:13:22  *** smarcet has joined #openstack-infra
2014-04-30T13:17:36  *** jgallard has quit IRC
2014-04-30T13:19:16  *** mriedem has joined #openstack-infra
2014-04-30T13:19:50  *** thomasem has joined #openstack-infra
2014-04-30T13:20:18  *** mwagner_lap has quit IRC
2014-04-30T13:22:23  *** bknudson has joined #openstack-infra
2014-04-30T13:28:29  *** _nadya_ has quit IRC
2014-04-30T13:28:51  <jbooboo> jhesketh_: sdague: yes, that was manually merged bypassing gating during the maintenance to fix an issue with zuul itself (the removal of force-message in gerrit broke several of our pipelines).
2014-04-30T13:29:26  <anteaya> jbooboo: does our gerrit use a self-signed cert? http://git.openstack.org/cgit/stackforge/gertty/tree/README.rst
2014-04-30T13:29:28  <jbooboo> jhesketh_: sdague: fixing operational problems is about the only time we do that.
2014-04-30T13:29:40  *** mengxd has joined #openstack-infra
2014-04-30T13:29:50  <jbooboo> anteaya: no, but review-dev does
2014-04-30T13:29:56  <anteaya> jbooboo: k, thanks
2014-04-30T13:32:31  *** signed8bit has joined #openstack-infra
2014-04-30T13:33:15  <jbooboo> is there a way i can make firefox look like firefox and not chrome?  <sigh>
2014-04-30T13:33:18  *** dkliban_afk is now known as dkliban
2014-04-30T13:34:25  *** yfried has quit IRC
2014-04-30T13:35:12  <foobio> jhesketh_: sdague: what was the question?
2014-04-30T13:35:47  *** afazekas has quit IRC
2014-04-30T13:35:56  <jbooboo> foobio: how did a pep8 violation in zuul merge
2014-04-30T13:36:02  *** enykeev has quit IRC
2014-04-30T13:36:58  *** skolekonov has quit IRC
2014-04-30T13:37:03  <jbooboo> foobio: i answered them above ^
2014-04-30T13:37:06  *** mkerrin has quit IRC
2014-04-30T13:37:51  <jhesketh_> jbooboo: okay, thanks
2014-04-30T13:38:01  <jhesketh_> jbooboo: so how does gerrit know when to actually do a merge?
2014-04-30T13:38:40  <foobio> jbooboo: yep, i see that now
2014-04-30T13:38:49  *** zz_gondoi is now known as gondoi
2014-04-30T13:38:56  <foobio> jhesketh_: gerrit is instructed (by someone or something) to merge a change
2014-04-30T13:39:24  <foobio> jhesketh_: normally zuul instructs gerrit to merge a change once all jobs succeed on it
2014-04-30T13:40:22  <jhesketh_> foobio: right, so is there some kind of force submit button that core infra people have?
2014-04-30T13:40:35  <foobio> jhesketh_: for unusual circumstances (like needing to coordinate merges of things which are blocked on outside alterations, such as a gerrit upgrade) we can force a change to merge with a button, yes
2014-04-30T13:41:07  <jbooboo> we don't normally have extra acls, but we add ourselves to a group that has them when needed
2014-04-30T13:41:19  <foobio> jhesketh_: normally we don't "have" that button per se. we self-add to an administrative group which has elevated access within gerrit, and then we see the submit button, verify vote options and so on
2014-04-30T13:41:38  <jhesketh_> right, makes sense :-) thanks
2014-04-30T13:41:41  <foobio> and then remove ourselves from said group once done
2014-04-30T13:41:51  <foobio> to avoid... "accidents"
2014-04-30T13:42:28  <jhesketh_> heh, wise
2014-04-30T13:42:55  *** mengxd has quit IRC
2014-04-30T13:43:45  *** dkehn_ has joined #openstack-infra
2014-04-30T13:43:48  <foobio> and we really, really don't like doing it. because it can lead to issues like the pep8 failure you spotted (we were a bit rushed and not running tests manually locally when scrambling to get everything running again)
2014-04-30T13:43:54  <jhesketh_> jbooboo: so with that reporter issue, should the requirement to list reporters at all just be lifted?
2014-04-30T13:44:15  *** plars has joined #openstack-infra
2014-04-30T13:45:10  <jbooboo> jhesketh_: actually the requirement to list reporters there was lucky and let us do that -- listing a reporter already says "i want you to send a report in this manner".  that's all we want for experimental pipelines (no voting or anything).
2014-04-30T13:45:41  <jbooboo> jhesketh_: but we need no arguments if all we're doing is sending a message.
2014-04-30T13:45:59  *** dkehn_zzz has quit IRC
2014-04-30T13:46:12  *** dkehn_ has quit IRC
2014-04-30T13:46:24  <jbooboo> jhesketh_: we might want to find another way of doing that, because, yeah, the braces to make an empty dict are not exactly intuitive
2014-04-30T13:46:44  <StevenK> Could I get some kind souls to nudge https://review.openstack.org/82706 into landing?
2014-04-30T13:46:44  *** dkehn_ has joined #openstack-infra
2014-04-30T13:46:56  *** dkehnx has quit IRC
2014-04-30T13:47:20  <jbooboo> jhesketh_: but the general approach of saying "i want gerrit to report success (full stop)" and "i want gerrit to report success and pass these other arguments " seems intuitive
2014-04-30T13:48:01  *** dkehn_zzz has joined #openstack-infra
2014-04-30T13:49:15  <plars> I heard that someone here might have experience with using jenkins open-id for sso along with python-jenkins for job management? We're experimenting with a similar setup and get_jobs() works if I pass username and api token for the password, but not job creation or reconfiguring
2014-04-30T13:49:29  *** afazekas has joined #openstack-infra
2014-04-30T13:49:42  <jbooboo> i think gerritbot is dead
2014-04-30T13:50:44  <foobio> jbooboo: are you looking into it? if not, i'll coax it back in
2014-04-30T13:50:50  <jbooboo> foobio: on it
2014-04-30T13:50:59  *** jgrimm has joined #openstack-infra
2014-04-30T13:51:16  <jbooboo> plars: you may need to check the authorization in jenkins to make sure your user has the right perms
2014-04-30T13:51:44  <jbooboo> plars: all our job management is done with jenkins-job-builder, so you can check that for examples of how we use python-jenkins to interact
2014-04-30T13:51:56  <plars> jbooboo: yeah, already checked that. The user has full administrative permissions. Even tried giving all the permissions specifically on top of that
2014-04-30T13:52:11  <anteaya> I have gertty running, and have subscribed to one repo stackforge/gertty
2014-04-30T13:52:16  *** _nadya_ has joined #openstack-infra
2014-04-30T13:52:17  <plars> jbooboo: I also tried jjb, which I think is using python-jenkins underneath. I still get the 403 when trying to create a job
2014-04-30T13:53:15  <jbooboo> plars: do you have xsrf protection enabled in jenkins?  i think python-jenkins recently gained features to deal with that
2014-04-30T13:53:41  <jbooboo> plars: but that's a possible cause
2014-04-30T13:53:55  *** sdake_ has quit IRC
2014-04-30T13:54:18  <foobio> bookwar: has anybody helped you with your authentication problem yet? the error message you pasted looks like you're using ssh-agent but haven't done an ssh-add on that key yet
2014-04-30T13:54:27  <jbooboo> plars: also, sometimes in these situations, i add a print statement to python-jenkins to print out the output returned in the response body from jenkins to see if it has any helpful info
2014-04-30T13:54:39  <bookwar> foobio: is already silved, thanks, was issue on our side )
2014-04-30T13:54:43  *** freyes has joined #openstack-infra
2014-04-30T13:54:49  <foobio> bookwar: okay, cool
2014-04-30T13:55:00  <jbooboo>   File "/usr/local/lib/python2.7/dist-packages/irc/client.py", line 892, in send_raw
2014-04-30T13:55:00  <jbooboo>     raise ServerNotConnectedError("Not connected.")
2014-04-30T13:55:28  <plars> jbooboo: looks like it's turned off at the moment
2014-04-30T13:56:31  *** dkehn_zzz is now known as dkehn
2014-04-30T13:56:50  <jbooboo> plars: i'm out of ideas off the top of my head; i'd try getting the output from the 403 then
2014-04-30T13:56:52  *** openstackgerrit has joined #openstack-infra
2014-04-30T13:57:12  <jbooboo> anteaya: you should have an unreviewed change now :)
2014-04-30T13:59:52  *** doug-fish has joined #openstack-infra
2014-04-30T14:00:10  <anteaya> jbooboo: thanks, it started using all my cpu so I had to shut it down, will start it again in a debugger to see if I can get some info next time
2014-04-30T14:01:18  <jbooboo> anteaya: runing it with the '-d' option and tailing ~/.gertty.log might tell you what you need to know.
2014-04-30T14:01:47  *** zns has joined #openstack-infra
2014-04-30T14:02:06  *** homeless has joined #openstack-infra
2014-04-30T14:02:38  <anteaya> jbooboo: I'll try that
2014-04-30T14:02:53  <openstackgerrit> Pierre Padrixe proposed a change to openstack/requirements: Update sphinxcontrib-pecanwsme to 0.8  https://review.openstack.org/91370
2014-04-30T14:03:24  <anteaya> I was invoking with `python gertty/gertty.py`
2014-04-30T14:03:26  *** dangers_away is now known as dangers
2014-04-30T14:03:29  <anteaya> is that what I should be using?
2014-04-30T14:03:34  <openstackgerrit> A change was merged to stackforge/gertty: Fix some diff comment display errors  https://review.openstack.org/91364
2014-04-30T14:04:05  <jbooboo> anteaya: yep.  'python gertty/gertty.py -d' will log debug output
2014-04-30T14:04:15  <anteaya> k
2014-04-30T14:04:23  <Ajaeger> infra team, previously annegentle and myself could both +2 and approve patches in the api projects like compute-api. We noticed yesterday that we still can +2 but not approve anymore. It works fine for the normal docu projects like openstack-manuals but not for these mixed projects like compute-api.
2014-04-30T14:04:54  <jhesketh_> jbooboo: (sorry, had to step away for a sec) right, but I meant what about having no reporters at all.. Should that be something we want possible?
2014-04-30T14:05:16  <jbooboo> jhesketh_: oh, yes -- that's how we do the silent pipeline
2014-04-30T14:05:28  <jhesketh_> yeah, I just checked the code
2014-04-30T14:05:37  <jhesketh_> jbooboo: right, I misinterpreted your commit msg
2014-04-30T14:05:41  <jbooboo> Ajaeger: we probably missed an acl change, i'll look
2014-04-30T14:05:46  <foobio> Ajaeger: i'll take a look. you're trying to "workflow +1" them now righth? (approve has a new name)
2014-04-30T14:05:49  <jbooboo> jhesketh_: sorry, heh, was under duress.  :)
2014-04-30T14:05:50  *** esker has quit IRC
2014-04-30T14:05:50  *** prad_ has joined #openstack-infra
2014-04-30T14:06:06  <jbooboo> foobio: nm, i'll let you handle it if you're on it
2014-04-30T14:06:08  <jhesketh_> jbooboo: heh, more likely my fault, it's after midnight here
2014-04-30T14:06:15  <Ajaeger> foobio: I have no workflow buttons at all for compute-api, they only exist for openstack-manuals etc
2014-04-30T14:06:24  * hashar sends jhesketh_ to bed
2014-04-30T14:06:32  *** esker has joined #openstack-infra
2014-04-30T14:06:34  <foobio> Ajaeger: ahh, i bet we missed changing the api-projects meta project acl
2014-04-30T14:06:37  <jhesketh_> hashar: you fail to realise this is when I work best ;-)
2014-04-30T14:06:58  <jhesketh_> although my previous statement disproves that :-P
2014-04-30T14:06:58  *** yamahata has joined #openstack-infra
2014-04-30T14:07:03  <hashar> jhesketh_: yeah have the same issue. But have to wake up at 7am no matter what happens (kid!)
2014-04-30T14:07:04  <jbooboo> jhesketh_: haha :)
2014-04-30T14:07:06  <Ajaeger> foobio: thanks for checking
2014-04-30T14:07:20  <Ajaeger> hashar: 7am? That's late ;)
2014-04-30T14:07:23  <jhesketh_> yeah, luckily I can choose my hours a bit :-)
2014-04-30T14:07:52  <jhesketh_> but there's also a reason I don't often make it to the 5am infra meetings
2014-04-30T14:08:24  <openstackgerrit> Antoine Musso proposed a change to openstack-infra/zuul: cloner to easily clone dependent repositories  https://review.openstack.org/70373
2014-04-30T14:09:19  <foobio> Ajaeger: yep, that was it... try again
2014-04-30T14:10:07  <openstackgerrit> Pierre Padrixe proposed a change to openstack/requirements: Update sphinxcontrib-pecanwsme to 0.8  https://review.openstack.org/91370
2014-04-30T14:10:29  <Ajaeger> foobio: great, netconn-api and identity-api look fine now (no review open for compute-api ;). Thanks a lot!
2014-04-30T14:11:11  <foobio> Ajaeger: you're welcome. apologies for the oversight. we seem to do "special" things for acls on api projects
2014-04-30T14:11:30  <anteaya> jbooboo: I see the sync number counts down
2014-04-30T14:11:45  <Ajaeger> foobio: yeah, api projects are special in that both project and docu cores have access.
2014-04-30T14:12:03  <openstackgerrit> Antoine Musso proposed a change to openstack-infra/zuul: cloner to easily clone dependent repositories  https://review.openstack.org/70373
2014-04-30T14:12:12  <jbooboo> anteaya: yes, it shows you how many background sync tasks it has going
2014-04-30T14:12:36  <hashar> would it make sense to have WIP -1  to stick when new patch sets are pushed ?
2014-04-30T14:12:55  <foobio> Ajaeger: in theory we could solve that much with group inclusion. looks like what we're doing special in this case is overriding the default state for "Forge Author Identity" and "Forge Committer Identity" on refs/*
2014-04-30T14:13:00  * anteaya nods, continues to poke around
2014-04-30T14:13:40  <jbooboo> hashar, YorikSar suggested that too.  unfortunately, it's a question with no right answer right now.  half the time people want it to stack, the other half they don't.
2014-04-30T14:13:45  <boris-42> foobio btw bumping timeout works woohoo=)
2014-04-30T14:13:49  <foobio> Ajaeger: might be for historical reasons no longer relevant... jbooboo: do you happen to remember why they're set up that way?
2014-04-30T14:14:32  <jbooboo> hashar, YorikSar: s/stack/stick/.
2014-04-30T14:14:33  <anteaya> jbooboo: should I expect to see a link to the unreviewed change in the stackforge/gertty repo in my gertty view somewhere?
2014-04-30T14:14:55  <hashar> jbooboo: not a big deal. I can just workflow -1 whenever I push a new one :] Thx!
2014-04-30T14:15:19  <jbooboo> hashar, YorikSar: when you're continuously developing something, you might want it to stick; but when you say "oh, yeah, i'll fix this thing and push a new patchset" you don't.
2014-04-30T14:15:39  <jbooboo> hashar, YorikSar: i think the best answer in the future might be to work on the work-in-progress plugin for gerrit
2014-04-30T14:15:47  <foobio> hashar: one downside to making workflow sticky for future patchsets is that it's not a toggle for the change, it's a toggle for multiple parties individually on the change. if a core reviewer adds workflow -1 to your change, you as the change owner will be unable to remove it. currently the solution is a new patchset or hunt them down and beg
2014-04-30T14:15:50  <anteaya> too bad we can't toggle that in preferences
2014-04-30T14:15:57  <anteaya> then individuals can choose
2014-04-30T14:16:03  <openstackgerrit> A change was merged to openstack-infra/config: Import oslo.db repository  https://review.openstack.org/78955
2014-04-30T14:16:09  <anteaya> sticky -1 workflow or not
2014-04-30T14:16:44  <jbooboo> hashar, YorikSar: especially if the plugin can define a magic ref, then git-review could push to 'refs/wip/foo'.
2014-04-30T14:17:14  <hashar> or we could use the draft system but the change is not public
2014-04-30T14:17:14  <jbooboo> hashar, YorikSar: then it wouldn't be a two-stage thing (you can push a patchset directly into wip)
2014-04-30T14:17:15  <foobio> perhaps a compromise would be to make owner-provided workflow votes sticky and non-owner workflow votes clear on new patchsets
2014-04-30T14:17:50  <anteaya> foobio: that sounds like a good start
2014-04-30T14:18:41  <jbooboo> hashar, YorikSar: but at the moment, there's a balance of interests in the workflow -1 system of doing wip -- if we make them sticky, then you can't remove someone else's wip vote.
2014-04-30T14:18:47  <foobio> though maybe still clear owner-added workflow +1 on new patchsets, since that could have unintended consequences for self-approving change owners
2014-04-30T14:19:16  <anteaya> so I see the title "unreviewed changes in stackforge/gertty" and the headers "Number" and "Subject" and the sync countdown and nothing else
2014-04-30T14:19:47  <jbooboo> foobio: i'd rather have consistency so i can predict whether the vote will be cleared or not.  i think the best solution is to actually allow the author to express his or her intent when uploading
2014-04-30T14:20:09  <jbooboo> anteaya: i merged the change while you weren't running it.  there are no open changes in gertty now.
2014-04-30T14:20:16  <anteaya> ah
2014-04-30T14:20:18  *** mwagner_lap has joined #openstack-infra
2014-04-30T14:20:25  <jbooboo> anteaya: you might want to subscribe to a busier project
2014-04-30T14:20:26  <jhesketh_> jbooboo: with the new gerrit I'd like to get the zuul overlay stuff happening.. if you find yourself with some spare time (heh, so sorry!) it'd be awesome to get the zuul javascript stuff merged (tail is now here: https://review.openstack.org/#/c/91316/)
2014-04-30T14:20:50  <foobio> jbooboo: agreed. perhaps git-review could have a configurable option to check whether the current patchset in gerrit is workflow -1 prior to uploading a new patchset and then automatically reapply it if so
2014-04-30T14:21:10  <jbooboo> jhesketh_: yeah, though the hold-up wasn't gerrit -- it was zuul.
2014-04-30T14:21:22  <anteaya> jbooboo: ah ha, it is the list page that eats up cpu
2014-04-30T14:21:24  *** wchrisj has joined #openstack-infra
2014-04-30T14:21:39  *** wchrisj has left #openstack-infra
2014-04-30T14:21:45  <jhesketh_> oh I just meant now gerrit is done it'd be a nice feature to have
2014-04-30T14:22:00  <jhesketh_> jbooboo: by zuul, do you mean because you wanted to get the javascript stuff less duplicated
2014-04-30T14:22:16  <anteaya> I moved back to the list page, I had subscribed to openstack/tempest earlier and now the highest I can see on the list is python-marconiclient
2014-04-30T14:22:54  <jbooboo> jhesketh_: yep -- i consider that a hard requirement before we really start on it -- because i don't want three javascript things that no one maintains.  :)  one is plenty.  :)
2014-04-30T14:23:04  <anteaya> it finished giving me the full list and has calmed down again
2014-04-30T14:23:47  <anteaya> nope, navigating the list with my arrow keys, up and down arrow seems to have set it off again
2014-04-30T14:23:48  <jhesketh_> jbooboo: you'll have to show me how you trick people into doing javascript ;-P
2014-04-30T14:23:49  <jhesketh_> (ie me)
2014-04-30T14:24:14  <jbooboo> jhesketh_: i'm so good at it i tricked myself into it.
2014-04-30T14:24:35  <jhesketh_> haha
2014-04-30T14:25:36  <openstackgerrit> A change was merged to openstack-infra/zuul: Add queue-name parameter to job  https://review.openstack.org/81320
2014-04-30T14:25:48  <jbooboo> jhesketh_: anyway, i'll try to get to it; i currently have 82 unreviewed changes in config though, so it might be a little bit.
2014-04-30T14:26:12  <jhesketh_> jbooboo: totally understand, I realise it's pretty low priority
2014-04-30T14:26:18  <jhesketh_> and should be
2014-04-30T14:26:49  <anteaya> also after subscribing, navigation is frozen and cpu usage goes up to around 105%
2014-04-30T14:26:52  <jbooboo> foobio: can you give 63190 the once over and aprv?
2014-04-30T14:26:59  <anteaya> perhaps that is to be expected?
2014-04-30T14:27:47  <jbooboo> anteaya: not too surprising -- it's not the most efficient program, yet.
2014-04-30T14:28:46  *** zns has quit IRC
2014-04-30T14:29:15  *** creiht has joined #openstack-infra
2014-04-30T14:29:25  <creiht> did the ips of review.openstack.org change?
2014-04-30T14:29:32  <anteaya> jbooboo: okay, continuing to poke around
2014-04-30T14:29:38  <jbooboo> creiht: yes
2014-04-30T14:29:38  <anteaya> so far, I am very impressed
2014-04-30T14:29:43  <creiht> I'm getting ssh errors that the signature isn't the same
2014-04-30T14:29:47  *** david-lyle has joined #openstack-infra
2014-04-30T14:29:48  <jbooboo> creiht: see https://wiki.openstack.org/wiki/GerritUpgrade
2014-04-30T14:29:59  <creiht> hehe
2014-04-30T14:29:59  <creiht> ok
2014-04-30T14:30:01  <creiht> thx
2014-04-30T14:30:03  <jbooboo> np
2014-04-30T14:30:18  <derekh> foobio: I see the f20 nodes got built (at least the logs show no errors) thanks for helping it through, no we just have todo something useful with them
2014-04-30T14:30:22  <creiht> jbooboo: since I'm here... :)
2014-04-30T14:30:34  <derekh> *now
2014-04-30T14:30:46  <creiht> jbooboo: did you all and notmyname get the versioning stuff figured out for swift?
2014-04-30T14:30:49  <jhesketh_> does it bother anybody else that the verified column is not leftmost in gerrit?
2014-04-30T14:30:55  <anteaya> yes
2014-04-30T14:31:05  <anteaya> right now we are stuck with it
2014-04-30T14:31:07  *** nati_ueno has joined #openstack-infra
2014-04-30T14:31:09  <jhesketh_> it bothers me enough to suggest we rename it CI and go through the pain of fixing all 3rd party systems
2014-04-30T14:31:20  <anteaya> it is on the list of things we would like to address
2014-04-30T14:31:31  <anteaya> wow
2014-04-30T14:31:42  <jhesketh_> anteaya: upstream with gerrit?
2014-04-30T14:31:45  <anteaya> that is quite the standard of measurement for your pain
2014-04-30T14:31:54  <jhesketh_> well besides 3rd parties we can do the rest in one commit on config
2014-04-30T14:32:00  <anteaya> jhesketh_: not sure, probably give upstream a try
2014-04-30T14:32:06  <jhesketh_> it's hurting my brain trying to scan what I need to review
2014-04-30T14:32:13  <anteaya> jhesketh_: /me nods
2014-04-30T14:32:17  <openstackgerrit> Antoine Musso proposed a change to openstack-infra/zuul: cloner to easily clone dependent repositories  https://review.openstack.org/70373
2014-04-30T14:32:44  *** gondoi is now known as zz_gondoi
2014-04-30T14:32:45  <jhesketh_> I fear, from what I've heard anyway, that if we went with upstream it'd take forever before it actually changed by which point I'd be used to the new order
2014-04-30T14:32:55  * anteaya nods
2014-04-30T14:32:59  <anteaya> very possible
2014-04-30T14:33:07  * jhesketh_ nearly submitted a patch to rename the column this afternoon 
2014-04-30T14:33:08  <anteaya> jhesketh_: you might like to read this: http://git.openstack.org/cgit/stackforge/gertty/tree/README.rst
2014-04-30T14:33:21  <jhesketh_> oh yeah, I've seen that :-)
2014-04-30T14:33:22  *** zns has joined #openstack-infra
2014-04-30T14:33:27  <anteaya> jbooboo's newest invention
2014-04-30T14:33:27  <hashar> oh men
2014-04-30T14:33:28  <jhesketh_> haven't tried it yet
2014-04-30T14:33:33  <anteaya> I'm playing with it
2014-04-30T14:33:34  <foobio> creiht: i do not believe it's been solved yet. i took a peek at the failure log for the tag merge job and for some reason it's ending up with more than just the merge commit staged (which is causing git-review to abort). i'll see if i can tell what's going on there
2014-04-30T14:33:47  <anteaya> very easy on teh eyes
2014-04-30T14:33:47  <creiht> foobio: ok cool
2014-04-30T14:33:57  <creiht> thanks for taking a look at it
2014-04-30T14:34:02  <creiht> was just curious where it was
2014-04-30T14:34:08  <anteaya> and since jbooboo wrote it, I'm sure you can make it look however you want
2014-04-30T14:34:12  <foobio> derekh: yes, i was able to get the image to build with your patch applied, and then nodes were launched from it, so should be all set for some trial jobs
2014-04-30T14:35:19  <anteaya> jhesketh_: the listing and subscribing process is cpu heavy right now, and syncing takes a bit
2014-04-30T14:35:34  <anteaya> jhesketh_: but it might be more satisfying than what you are currently staring at
2014-04-30T14:36:00  <foobio> creiht: for the moment, this is the situation... http://logs.openstack.org/a8/a88690e47e5ec4a39603b42ca992c4f6129834da/release/swift-merge-release-tags/25429aa/console.html.gz
2014-04-30T14:36:14  <derekh> foobio: cool, you've seen the one I am proposing, anybody else want to take a look at https://review.openstack.org/#/c/86910/  ?
2014-04-30T14:36:48  <YorikSar> hashar, jbooboo, foobio: I think that the best place for WIP-stickiness is in git-review now. We shouldn't stick all -1s in Gerrit because there is (and should be) more than one person to set WIP. Creatign a new plugin for Gerrit might be a good idea but it sounds like it won't come around shortly.
2014-04-30T14:37:09  <anteaya> so what does gertty consider an unreviewed change? any status:open patch on a repo? or do I have to have subscribed to a patch for it to be considered unreviewed for gertty?
2014-04-30T14:37:27  <jhesketh_> okay, I'm off
2014-04-30T14:37:31  <jhesketh_> night all!
2014-04-30T14:37:32  <anteaya> jhesketh_: night
2014-04-30T14:37:35  <anteaya> sleep well
2014-04-30T14:38:19  <jbooboo> YorikSar: the plugin exists, it just requires 2.9 to be fully functional
2014-04-30T14:38:44  <jbooboo> foobio: huh, i could have sworn i wrote a patch to fix the merge tag thing.  1 min.
2014-04-30T14:39:11  *** zz_gondoi is now known as gondoi
2014-04-30T14:39:39  <YorikSar> jbooboo: Oh. Good :) But I think we won't get 2.9 upgrade until Juno...
2014-04-30T14:40:21  <jbooboo> foobio: the script is already fixed.
2014-04-30T14:40:42  *** wenlock has joined #openstack-infra
2014-04-30T14:40:47  <foobio> jbooboo: was it fixed after the 17th
2014-04-30T14:40:50  <foobio> ?
2014-04-30T14:41:02  <jbooboo> foobio: https://review.openstack.org/#/c/88309/
2014-04-30T14:41:03  <jbooboo> foobio: yes
2014-04-30T14:41:07  <foobio> okay
2014-04-30T14:41:13  <jbooboo> foobio: because of that failure
2014-04-30T14:41:24  <foobio> and just not retriggered yet i guess
2014-04-30T14:41:30  <jbooboo> foobio: i think mordred was going to run the job again.
2014-04-30T14:41:40  <openstackgerrit> A change was merged to openstack-dev/pbr: Make source configurable when using --coverage  https://review.openstack.org/89205
2014-04-30T14:41:50  <foobio> i wonder now if it will encounter new problems since swift's milestone-proposed branch has been deleted in that time
2014-04-30T14:42:08  <foobio> i'll give the retrigger a shot real quicklike
2014-04-30T14:43:09  *** dangers is now known as dangers_away
2014-04-30T14:43:24  <openstackgerrit> A change was merged to openstack-infra/config: Create a swap partition if needed for new servers  https://review.openstack.org/63190
2014-04-30T14:43:51  *** tteggel_ has quit IRC
2014-04-30T14:43:58  <anteaya> jbooboo: emailed you a screenshot of what gertty looks like for me
2014-04-30T14:44:04  *** tteggel_ has joined #openstack-infra
2014-04-30T14:44:33  *** tteggel_ is now known as tteggel
2014-04-30T14:44:33  *** ildikov_ has quit IRC
2014-04-30T14:44:59  *** ildikov_ has joined #openstack-infra
2014-04-30T14:45:32  <foobio> progress! http://logs.openstack.org/a8/a88690e47e5ec4a39603b42ca992c4f6129834da/release/swift-merge-release-tags/25429aa,1/console.html
2014-04-30T14:45:46  <foobio> though now we have an acl issue, i think, courtesy of gerrit upgrade
2014-04-30T14:45:58  <jbooboo> yay!
2014-04-30T14:46:00  <foobio> and i need to run out to a quick appointment, but will have a look at that as soon as i return
2014-04-30T14:46:11  <anteaya> happy appointment
2014-04-30T14:46:13  <tnurlygayanov> hm
2014-04-30T14:46:36  *** pcrews_ has joined #openstack-infra
2014-04-30T14:46:49  <anteaya> oh I am out for an appointment myself this afternoon, leaving in about 3 hours
2014-04-30T14:47:00  <tnurlygayanov> after some fixes with setup.py / setup.cfg we can see that pbr want to build release 0.0.1.1
2014-04-30T14:47:22  <tnurlygayanov> how we can say to pbr that we want release 0.0.2?
2014-04-30T14:48:04  <tnurlygayanov> we just run: python setup.py sdist     - and after that we can see new tarball with version 0.0.1.1
2014-04-30T14:49:06  *** atiwari has joined #openstack-infra
2014-04-30T14:49:13  <tnurlygayanov> we want to make a release of Mistral: https://github.com/stackforge/mistral
2014-04-30T14:50:09  <anteaya> tnurlygayanov: I know so little about pbr I am useless to you
2014-04-30T14:50:23  <anteaya> hopefully someone with more knowledge will show up soon
2014-04-30T14:51:00  <tnurlygayanov> anteaya: ok, thank you, I will wait :)
2014-04-30T14:53:07  <jbooboo> tnurlygayanov: you just tag 0.0.2 and push that
2014-04-30T14:53:40  <jbooboo> tnurlygayanov: pbr does tag-based post-versioning by default
2014-04-30T14:54:59  *** _nadya_ has quit IRC
2014-04-30T14:55:05  <openstackgerrit> A change was merged to openstack-infra/config: Create propose_translation_update for horizon  https://review.openstack.org/82176
2014-04-30T14:55:08  <openstackgerrit> A change was merged to openstack-infra/config: Create propose_translation_update for horizon  https://review.openstack.org/82176
2014-04-30T14:56:40  *** andreaf has quit IRC
2014-04-30T14:56:49  *** rcarrill` has joined #openstack-infra
2014-04-30T14:56:50  <openstackgerrit> Antoine Musso proposed a change to stackforge/gertty: Print a friendly user message when conf is missing  https://review.openstack.org/91385
2014-04-30T14:56:58  <jbooboo> that was weird
2014-04-30T14:57:29  <hashar> oh man, where is the tox.ini ! :-D
2014-04-30T14:58:03  *** rcarrillocruz has quit IRC
2014-04-30T14:58:43  *** msabramo has joined #openstack-infra
2014-04-30T14:59:43  <openstackgerrit> A change was merged to stackforge/gertty: Print a friendly user message when conf is missing  https://review.openstack.org/91385
2014-04-30T15:00:25  <jbooboo> i think making it installable is probably a first order requirement for that.  :)
2014-04-30T15:00:28  <anteaya> I'm going with gerritbot had a hiccup
2014-04-30T15:00:38  <jbooboo> anteaya: glitch in the matrix
2014-04-30T15:00:46  <anteaya> apparently
2014-04-30T15:02:17  <anteaya> invoke gertty gerrit
2014-04-30T15:02:27  <anteaya> hashar: that gets it to run for you?
2014-04-30T15:02:53  <jbooboo> fyi, i'm not really interested in adding pep8 to gertty for a while -- at least not until it settles down a bit.
2014-04-30T15:03:00  <anteaya> k
2014-04-30T15:03:23  <hashar> anteaya: yeah yeah playing with it right now :-]
2014-04-30T15:03:36  <hashar> jbooboo: dont you have pep8 errors reported in your text editor ?
2014-04-30T15:03:42  <jbooboo> (this is a fun project for me, and hey, it's on stackforge)
2014-04-30T15:04:13  <anteaya> hashar: cool
2014-04-30T15:04:15  <anteaya> it is great
2014-04-30T15:04:16  <jbooboo> hashar: nope!  i don't like computers bossing me around.  ;)
2014-04-30T15:04:39  *** Ajaeger has quit IRC
2014-04-30T15:04:41  *** jlibosva has quit IRC
2014-04-30T15:04:49  <anteaya> right now crtl-C doesn't kill it, it stops gertty view but logging still happens and I don't get my prompt back
2014-04-30T15:04:59  <openstackgerrit> Cedric Brandily proposed a change to openstack-infra/git-review: Correct test_remote to support branchs without upstream  https://review.openstack.org/83798
2014-04-30T15:05:04  <anteaya> I have to track it down with ps aux and kill it
2014-04-30T15:05:11  <jbooboo> anteaya: try ctrl-\
2014-04-30T15:05:16  <anteaya> k
2014-04-30T15:05:54  <jbooboo> harlowja_away: pointed out some threads that should be daemonized yesterday.  also, it needs an actual quit command added.  :)
2014-04-30T15:06:24  *** zns has quit IRC
2014-04-30T15:06:25  <anteaya> hashar: gertty gerrit doesn't work for me: http://paste.openstack.org/show/77997/ how do you get it working for yourself?
2014-04-30T15:06:54  <hashar> anteaya: how it does not work yet :]
2014-04-30T15:06:59  *** zns has joined #openstack-infra
2014-04-30T15:07:04  <anteaya> hashar: oh
2014-04-30T15:07:16  <anteaya> ctrl-\ works
2014-04-30T15:07:26  <jbooboo> hashar: also, if you omit the name of the gerrit, it will just use the first one in the file
2014-04-30T15:07:36  <hashar> anteaya: you want:  python gertty/gertty.py
2014-04-30T15:07:40  <anteaya> yes
2014-04-30T15:07:56  <anteaya> that is what I am using now, just wondered if I was missing something
2014-04-30T15:08:07  *** esker has quit IRC
2014-04-30T15:08:07  <anteaya> the docs are ahead of the code, that doesn't happen often
2014-04-30T15:08:46  *** esker has joined #openstack-infra
2014-04-30T15:09:12  <anteaya> hashar: what do you see in your screen when you select a view for a subscribed repo?
2014-04-30T15:09:15  *** dkranz has quit IRC
2014-04-30T15:11:32  <hashar> well
2014-04-30T15:11:47  <hashar> it currently tries to fetch /ra/projects/  instead of /r/projects (extra a)
2014-04-30T15:11:49  *** jgallard has joined #openstack-infra
2014-04-30T15:11:51  <anteaya> unsubscribing from a repo and then subscriping again to the same repo eats up cpu as well
2014-04-30T15:11:56  <anteaya> ah
2014-04-30T15:12:28  *** mkoderer has quit IRC
2014-04-30T15:12:43  <jbooboo> hashar: i think the url in the config file should have a trailing slash
2014-04-30T15:13:02  <portante> can somebody offer guidance on how to get a new swift gate/check job in place? We recently added a new tox target, "tox -e func".
2014-04-30T15:13:26  <portante> i imagine it would run like the existing swift py26 and py27 unit tests
2014-04-30T15:13:30  <anteaya> portante: do you have a link to the patch?
2014-04-30T15:13:36  <portante> sec
2014-04-30T15:13:42  *** ildikov_ has quit IRC
2014-04-30T15:13:50  <hashar> jbooboo: and there is an extra  'a/' inserted between the url and /projects/  http://paste.openstack.org/show/77998/ :D
2014-04-30T15:13:58  <portante> anteaya: https://review.openstack.org/66108
2014-04-30T15:14:27  <jbooboo> hashar: that's to make it authenticated
2014-04-30T15:14:28  *** signed8bit has quit IRC
2014-04-30T15:14:31  <chmouel> portante: i think it just need to be added to the envlist
2014-04-30T15:14:45  <chmouel> portante: http://pastie.org/pastes/9126738/text?key=3gyawvps2y9ycoyomvqsg
2014-04-30T15:15:21  <portante> so is that a swift tox.ini change?
2014-04-30T15:15:31  <jbooboo> hashar: if the url ended with / it would be host.com/r/a/projects which should be correct for your setup i think
2014-04-30T15:15:34  <portante> I thought I already added func to the tox.ini change
2014-04-30T15:15:35  *** signed8bit has joined #openstack-infra
2014-04-30T15:16:18  <jbooboo> no, we don't run the envlist -- that's just for convenience for developers on their local workstations (so you can say "tox" and run whatever the project admins think is appropriate)
2014-04-30T15:16:26  <hashar> jbooboo: ah that is the API entry point. Thanks!
2014-04-30T15:17:02  <jbooboo> portante: one sec and i'll grab some links
2014-04-30T15:17:08  <anteaya> hashar: so it needs to be r/a not ra/ ?
2014-04-30T15:17:50  <jbooboo> portante: you'll want to add a job definition to this file: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/jenkins_job_builder/config/swift-functional.yaml
2014-04-30T15:18:15  <jbooboo> portante: (more to come, gimme a sec)
2014-04-30T15:18:19  <portante> sec
2014-04-30T15:18:25  <jbooboo> min
2014-04-30T15:18:30  <sdague> so here is a write up of some of the gerrit query changes and how to use them - https://dague.net/2014/04/30/helpful-gerrit-queries-gerrit-2-8-edition/
2014-04-30T15:18:44  <sdague> figured that would be helpful for people to navigate the transition
2014-04-30T15:18:44  <openstackgerrit> Antoine Musso proposed a change to stackforge/gertty: Properly register password from prompt  https://review.openstack.org/91392
2014-04-30T15:18:46  <openstackgerrit> Antoine Musso proposed a change to stackforge/gertty: Normalize URL to ends with a slash  https://review.openstack.org/91393
2014-04-30T15:19:11  *** pcrews_ has quit IRC
2014-04-30T15:19:12  *** thedodd has joined #openstack-infra
2014-04-30T15:20:42  *** doddstack has joined #openstack-infra
2014-04-30T15:20:49  <jbooboo> wow, we don't have any run-tox jobs right now... where did they go?
2014-04-30T15:21:11  <anteaya> hashar: the importance of 91392 is lost on me
2014-04-30T15:21:18  <anteaya> missing jobs?
2014-04-30T15:21:30  <openstackgerrit> Marc Abramowitz proposed a change to openstack-infra/jenkins-job-builder: Modularize to enable easier testing  https://review.openstack.org/90572
2014-04-30T15:21:40  <jbooboo> oh they changed to run-unittests, right
2014-04-30T15:21:52  <hashar> anteaya: the 'noop' job is the default one.  I guess James did not had the default python jobs in Jenkins and Zuul yet :]
2014-04-30T15:22:23  *** WaltNik has quit IRC
2014-04-30T15:22:39  *** talluri has quit IRC
2014-04-30T15:22:43  <jbooboo> portante: strike my earlier suggestion
2014-04-30T15:22:57  <jbooboo> portante: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/jenkins_job_builder/config/misc.yaml#n42
2014-04-30T15:22:59  *** che-arne has quit IRC
2014-04-30T15:23:24  <jbooboo> portante: i think that job defn (gate-{name}-unittests-{env}) may do what you need...
2014-04-30T15:23:39  <tnurlygayanov> so, problem with tags and tarballs versions was fixed (need just merge all fixes and push tags)
2014-04-30T15:23:41  *** thedodd has quit IRC
2014-04-30T15:24:30  <jbooboo> portante: add a stanza like this: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/jenkins_job_builder/config/projects.yaml#n244
2014-04-30T15:24:52  <jbooboo> portante: to the swift project in that file, and set env = 'func'
2014-04-30T15:25:09  *** dkranz has joined #openstack-infra
2014-04-30T15:25:09  *** signed8bit has quit IRC
2014-04-30T15:25:41  <jbooboo> portante: then add 'gate-swift-unittests-func' to the pipelines you want it in here: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/zuul/layout.yaml#n1022
2014-04-30T15:26:02  <JayF> So I just figured out a big problem with the new gerrit
2014-04-30T15:26:07  <JayF> we're getting SPF softfails
2014-04-30T15:26:16  <JayF> which is why all the new mail is going into my spam folder
2014-04-30T15:26:34  <jbooboo> portante: finally, you may want to add a job stanza with voting:false to this section: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/zuul/layout.yaml#n341
2014-04-30T15:26:40  <portante> jbooboo: where is the definition of the job that results here: http://logs.openstack.org/08/66108/25/gate/gate-swift-python27/1b03f8a/
2014-04-30T15:26:41  <portante> ?
2014-04-30T15:27:10  <portante> because that is just doing "tox -epy27", and the new one would just be "tox -efunc"
2014-04-30T15:27:17  <jbooboo> portante: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/files/jenkins_job_builder/config/python-jobs.yaml#n79
2014-04-30T15:27:27  <JayF> openstack.org descriptive text "v=spf1 include:sendgrid.net ~all" <-- and it appears the new gerrit installation is sending locally, not from sendgrid
2014-04-30T15:27:39  <JayF> I'd strongly suggest dropping the SPF record or adding 23.253.232.87 to it
2014-04-30T15:28:17  *** signed8bit has joined #openstack-infra
2014-04-30T15:28:37  <jbooboo> JayF: the same was true for the old server
2014-04-30T15:29:12  <JayF> Hmm. Then I still wonder why it's going to junk instead of inbox since the server change (on outlook.com hosted mail, so probably everything Microsoft, since Office 365/Hotmail share incoming mail infra afaict)
2014-04-30T15:29:56  <JayF> Either way, this seems like something that's nearly trivial to fix? Do we have automation against DNS where I could file a merge request, or is it all hand-configured?
2014-04-30T15:30:03  *** eharney has quit IRC
2014-04-30T15:30:05  <jbooboo> JayF: it's possible they incorporate reputation into softfail, and the new server has little/no reputation now.
2014-04-30T15:30:11  <anteaya> hashar: so what is the purpose of https://review.openstack.org/#/c/91392/1 what is it fixing?
2014-04-30T15:30:14  <jbooboo> JayF: unfortunately, no dns automation :(
2014-04-30T15:30:30  <JayF> So would an email to the list proposing a revised SPF record be the best route?
2014-04-30T15:30:52  <anteaya> hashar: it changes the scope of the input, okay sorry
2014-04-30T15:31:18  *** mrodden has quit IRC
2014-04-30T15:31:19  <hashar> anteaya: if you are missing the 'password' field, it asks for the password by prompting you.  But your input is not registered in the config object :-(
2014-04-30T15:31:22  <jbooboo> JayF: yeah
2014-04-30T15:31:40  <anteaya> hashar: okay, i see that now, sorry
2014-04-30T15:31:43  <anteaya> makes sense
2014-04-30T15:31:58  <JayF> jbooboo: will-do. Any other mail sending servers in the infra world that I might not know about?
2014-04-30T15:32:08  *** sdake_ has joined #openstack-infra
2014-04-30T15:32:08  *** sdake_ has quit IRC
2014-04-30T15:32:08  *** sdake_ has joined #openstack-infra
2014-04-30T15:32:19  <jbooboo> JayF: lists.o.o.  also, they all send mail to me.
2014-04-30T15:32:20  *** _nadya_ has joined #openstack-infra
2014-04-30T15:32:39  <jbooboo> i think openstackid-dev does, probably groups.
2014-04-30T15:32:47  <JayF> jbooboo: for instance, I see MX for openstack.org goes to Rackspace Email & Apps (woo, I helped build this), does anyone send from those accounts?
2014-04-30T15:32:58  <jbooboo> JayF: yep.
2014-04-30T15:33:07  <zaro> morning
2014-04-30T15:33:12  <anteaya> morning zaro
2014-04-30T15:33:21  <jbooboo> JayF: honestly, it should probably be +all or ~all.
2014-04-30T15:33:26  <JayF> It's already ~all
2014-04-30T15:33:40  <JayF> but softfailing anything not from sendgrid seems worse than +all given that's all that's in the record
2014-04-30T15:34:18  <jbooboo> JayF: yeah.  i think the common interpretation of ~all is to accept but give scrutiny -- so i think the issue is less that we're saying "anything not sendgrid bad" and more that the new server is sending a lot of mail with no reputation yet.
2014-04-30T15:34:25  <JayF> I'll take a look at it though, I've worked with mail for a while and it won't take long to assemble a better SPF record.
2014-04-30T15:34:43  <JayF> jbooboo: IME, working in email, a softfail is treated much more harshly than that, especially nowadays
2014-04-30T15:35:04  <jbooboo> JayF: do you git openstack-dev@lists.o.o email?
2014-04-30T15:35:04  <JayF> although reputation does matter quite a bit, if you pass the SPF record, you should inherit the reputation of the domain, which should be pristine
2014-04-30T15:35:16  <JayF> I get that email, and it does go to my inbox properly
2014-04-30T15:35:26  <portante> jbooboo, chmouel: so is this then just as easy as modifying swift's tox.ini file to have "func" in the envlist and we're done?
2014-04-30T15:35:27  <JayF> I'm betting it doesn't softfail because lists.o.o doesn't have SPF
2014-04-30T15:35:32  <portante> cause that would be cool
2014-04-30T15:35:35  <portante> and simple
2014-04-30T15:35:48  <JayF> Authentication-Results: hotmail.com; spf=none (sender IP is 50.56.173.222)
2014-04-30T15:35:54  <JayF> vs spf=softfail for gerrit
2014-04-30T15:36:03  <jbooboo> portante: no, i explained earlier why that's not the case.  see scrollback.  i also detailed what you should do to add the job.
2014-04-30T15:36:20  <portante> k, sorry I did not catch that
2014-04-30T15:37:19  <jbooboo> JayF: oh, this is because of <review@openstack.org> ?
2014-04-30T15:37:32  <anteaya> portante: http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2014-04-30.log timestamp 2014-04-30T15:22:57
2014-04-30T15:37:34  <JayF> yes, absolutely
2014-04-30T15:37:49  <JayF> so it's hitting the openstack.org SPF record, because that's the domain in the email
2014-04-30T15:38:01  <JayF> if it were, for instance, review@review.openstack.org, spf wouldn't be evaluated and it would pass
2014-04-30T15:38:07  <JayF> well, not pass, but much better than softfail
2014-04-30T15:38:58  <portante> anteaya: thanks
2014-04-30T15:39:03  <anteaya> np
2014-04-30T15:39:36  <JayF> something like "v=spf1 a:review.openstack.org include:sendgrid.net include:emailsrvr.com ~all" would be better and prevent anyone from having to worry about it if gerrit servers change again
2014-04-30T15:39:55  <JayF> I'll look at openstackid-dev as well if I've ever gotten any email from it and pop a mail out to the list
2014-04-30T15:40:05  *** msabramo has quit IRC
2014-04-30T15:40:08  *** gyee has joined #openstack-infra
2014-04-30T15:40:50  *** vponomaryov has left #openstack-infra
2014-04-30T15:42:26  <jbooboo> JayF: or we could do +all instead of whack-a-mole. :)
2014-04-30T15:42:30  *** che-arne has joined #openstack-infra
2014-04-30T15:43:08  <JayF> I would strongly prefer we get a good SPF record in place with the flexibility to keep things working. If you add +all, then you might as well remove the SPF record altogether :(
2014-04-30T15:43:44  *** msabramo has joined #openstack-infra
2014-04-30T15:44:11  <JayF> The A++ solution would be to get all outgoing mail going through Mailgun or Sendgrid, but that's a much larger undertaking than just trying to improve the SPF record :). Besides, a reasonably setup SPF record with a:some.host.name type entries should only have to be modified when new services that send mail come online on the openstack.org domain (and not a subdomain, like lists.o.o)
2014-04-30T15:45:02  <jbooboo> JayF: i don't agree at all that is a good solution.  i'm strongly opposed to paid mail providers being email gatekeepers.
2014-04-30T15:45:28  <JayF> I understand that philosophy, and that's why my actual proposal is to fix the SPF record :).
2014-04-30T15:45:43  <JayF> Easier to trust Mailgun when I can go give their whole tech staff high fives a few steps away.
2014-04-30T15:49:25  <foobio> mmmscrollback
2014-04-30T15:49:38  *** mrodden has joined #openstack-infra
2014-04-30T15:50:52  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Make ordereddict optional  https://review.openstack.org/91401
2014-04-30T15:52:27  <hashar> jbooboo: can you exit gertty by pressing Ctrl + C ?   The app seems to terminate but I am left with a leftover Python process (might be my setup)
2014-04-30T15:52:27  *** serverascode has quit IRC
2014-04-30T15:52:38  *** UtahDave has joined #openstack-infra
2014-04-30T15:52:50  <mugsie> SergeyLukjanov: i fixed that ACL issue in https://review.openstack.org/#/c/87540/ - is there anything else you think I need to do?
2014-04-30T15:52:57  <jbooboo> hashar: no, it needs some threads marked daemon, and also an actual exit command.  i'm using ctrl-\ for now
2014-04-30T15:53:03  <anteaya> hashar: ctrl \
2014-04-30T15:53:12  <hashar> oh
2014-04-30T15:53:17  <openstackgerrit> A change was merged to stackforge/gertty: Make ordereddict optional  https://review.openstack.org/91401
2014-04-30T15:53:20  <anteaya> I asked the same above
2014-04-30T15:53:38  <hashar> I can't do that magic escape commands with my french keyboard :-/
2014-04-30T15:53:44  <anteaya> :(
2014-04-30T15:53:47  <hashar> that gives me :
2014-04-30T15:53:57  *** talluri has joined #openstack-infra
2014-04-30T15:54:18  <hashar> to get backslashes I have to alt + shift + :  , doing ctrl + alt + shift + :  just yield :
2014-04-30T15:54:22  *** ihrachyshka has quit IRC
2014-04-30T15:54:26  <hashar> I can surely redefine it
2014-04-30T15:54:47  *** serverascode has joined #openstack-infra
2014-04-30T15:54:54  <anteaya> jbooboo: I pulled in that last change
2014-04-30T15:55:01  <anteaya> now I can't get to the list page
2014-04-30T15:55:09  <anteaya> pressing l gets me no change
2014-04-30T15:56:25  <anteaya> and somehow I got subscribed to openstack/sahara-dashboard because now I am looking at the repo view
2014-04-30T15:56:55  <anteaya> and now I have the list view
2014-04-30T15:57:08  <anteaya> maybe there is lag?
2014-04-30T15:58:17  *** talluri has quit IRC
2014-04-30T15:59:04  <anteaya> ctrl + alt + shift + : wow, do you have to get help from the cat for that one?
2014-04-30T15:59:08  *** andreykurilin_ has joined #openstack-infra
2014-04-30T15:59:37  <foobio> JayF: jbooboo: the downside to having gerrit send as something@review.o.o is that unless we also add an mx for review.o.o to somewhere which will accept bounces for that address, sender verification callouts on recipient mtas will start failing (different set of span-prevention-tripwires to deal with)
2014-04-30T15:59:39  *** KurtMartin is now known as kmartin
2014-04-30T16:00:14  <foobio> s/span/spam/
2014-04-30T16:00:31  <JayF> foobio: that's a good point. I just think we should update the SPF record and everything will be fine :)
2014-04-30T16:00:40  <hashar> anteaya: well I should get a qwerty keyboard. Or figure out how to associate a different keystroke to whatever ctrl + \  does :]
2014-04-30T16:00:53  <anteaya> or train the cat
2014-04-30T16:01:07  <anteaya> the cat invokation command
2014-04-30T16:01:18  <anteaya> invocation
2014-04-30T16:01:34  *** packet has joined #openstack-infra
2014-04-30T16:01:37  <hashar> I managed to get something!
2014-04-30T16:01:42  <hashar> but have to drop /a/ from the URL :/
2014-04-30T16:02:09  <anteaya> interesting
2014-04-30T16:02:33  <hashar> I can't connect to https://gerrit.wikimedia.org/r/a/ (the user/pass is rejected hehe)
2014-04-30T16:02:39  <hashar> but https://gerrit.wikimedia.org/r/projects/  works fine
2014-04-30T16:03:12  *** packet has quit IRC
2014-04-30T16:03:42  <anteaya> huh
2014-04-30T16:03:51  <anteaya> what file did you make that change in?
2014-04-30T16:03:52  *** chandan_kumar has quit IRC
2014-04-30T16:03:56  *** sdake_ has quit IRC
2014-04-30T16:03:57  <jbooboo> hashar: unauthenticated access isn't going to work for most of what gertty does; you'll want to fix that.
2014-04-30T16:04:18  *** dkranz has quit IRC
2014-04-30T16:04:36  <hashar> jbooboo: I think I got authenticated at that address
2014-04-30T16:04:58  *** matty_dubs is now known as matty_dubs|lunch
2014-04-30T16:05:01  *** achuprin has quit IRC
2014-04-30T16:05:08  *** eharney has joined #openstack-infra
2014-04-30T16:05:09  *** afazekas has quit IRC
2014-04-30T16:05:27  *** packet has joined #openstack-infra
2014-04-30T16:05:31  *** packet has quit IRC
2014-04-30T16:06:21  *** packet has joined #openstack-infra
2014-04-30T16:07:50  *** sdake_ has joined #openstack-infra
2014-04-30T16:08:04  *** marcoemorais has joined #openstack-infra
2014-04-30T16:08:05  *** zehicle_at_dell has quit IRC
2014-04-30T16:09:46  <jbooboo> hashar: https://gerrit.wikimedia.org/r/Documentation/rest-api.html#authentication
2014-04-30T16:10:27  <hashar> jbooboo: ah thanks. was looking for that :]
2014-04-30T16:10:44  <openstackgerrit> Victor Sergeyev proposed a change to openstack/requirements: Add oslo.db library  https://review.openstack.org/91407
2014-04-30T16:12:39  *** viktors has quit IRC
2014-04-30T16:13:15  *** signed8bit has quit IRC
2014-04-30T16:14:01  *** signed8bit has joined #openstack-infra
2014-04-30T16:14:56  <foobio> jbooboo: mordred: so the current acl situation with the tag-merge jobs is that the proposal bot account is not in a group which can push merge commits... presently only project bootstrappers has that... though looking more closely i think the release managers are also going to have a hard time pushing tags as well (right now they're allowed annotated tags but not signed tags)
2014-04-30T16:16:41  <foobio> to deal with the tag-merge though, i suggest we add a specific group we can put the proposal bot account in for that access (unless you think one of the existing groups is well suited, though they don't seem like it to me)
2014-04-30T16:16:46  *** nati_ueno has quit IRC
2014-04-30T16:16:59  <openstackgerrit> Marc Abramowitz proposed a change to openstack-dev/pbr: pbr/testr_command.py: Add logging  https://review.openstack.org/89203
2014-04-30T16:17:38  *** dkranz has joined #openstack-infra
2014-04-30T16:18:23  *** weshay has quit IRC
2014-04-30T16:18:45  *** rcarrillocruz has joined #openstack-infra
2014-04-30T16:18:48  <foobio> but separately, i'll switch the annotated tag permissions to signed tag in all-projects unless there are any objections
2014-04-30T16:19:00  <jbooboo> foobio: agreed on all counts (i wonder how this was supposed to work before..)
2014-04-30T16:20:13  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Fix editing inline comments  https://review.openstack.org/91410
2014-04-30T16:20:16  <foobio> i have a suspicion that the merge perms were previously being granted by some other permission which got stricter between 2.4 and 2.8
2014-04-30T16:20:42  *** talluri has joined #openstack-infra
2014-04-30T16:20:47  *** rcarrill` has quit IRC
2014-04-30T16:21:17  <foobio> for example, the proposal bot has batch priority in global caps. not sure what that means exactly...
2014-04-30T16:21:42  *** hogepodge has joined #openstack-infra
2014-04-30T16:23:01  *** marun has quit IRC
2014-04-30T16:23:24  <kiall> jbooboo: Heya - Hows the tag situation? Should I bother you again tomorrow? ;)
2014-04-30T16:24:38  *** weshay has joined #openstack-infra
2014-04-30T16:24:51  *** jpich has quit IRC
2014-04-30T16:24:52  *** etoews has joined #openstack-infra
2014-04-30T16:24:52  *** hemna__ is now known as hemna
2014-04-30T16:25:14  *** talluri has quit IRC
2014-04-30T16:25:47  *** bhuvan has quit IRC
2014-04-30T16:27:36  *** manishg has joined #openstack-infra
2014-04-30T16:29:51  *** sdake_ has quit IRC
2014-04-30T16:29:58  <jbooboo> kiall: i think we've got it worked out.  do you have a link to the failed job?
2014-04-30T16:30:17  <kiall> Yep - It was https://jenkins01.openstack.org/job/designate-tarball/3/
2014-04-30T16:30:20  <kiall> But the tag is unsigned
2014-04-30T16:30:29  <kiall> so needs to be `rm -rf`'d
2014-04-30T16:31:30  *** rakhmerov has quit IRC
2014-04-30T16:32:11  *** pcrews_ has joined #openstack-infra
2014-04-30T16:33:34  <jbooboo> kiall: here are our options:  (a) just run the job again on the unsigned tag and publish that; (b) delete the unsigned tag so you can push a signed version; (c) ignore the unsigned tag and push a signed 2014.1.1
2014-04-30T16:33:46  <anteaya> jbooboo: is there any http response code handling in gertty?
2014-04-30T16:33:48  *** markmc has quit IRC
2014-04-30T16:34:00  <kiall> jbooboo: (B) is ideal.. But sounds like the most painful for you?
2014-04-30T16:34:24  <jbooboo> kiall: nah, it's okay.  will be just a minute.
2014-04-30T16:34:32  <jbooboo> anteaya: it might log something?
2014-04-30T16:35:12  *** krtaylor has quit IRC
2014-04-30T16:36:32  <jbooboo> kiall: done
2014-04-30T16:36:38  <kiall> Cool
2014-04-30T16:36:40  <anteaya> jbooboo: looking, I am probably not looking in the right place yet
2014-04-30T16:38:43  *** hashar has quit IRC
2014-04-30T16:40:11  <anteaya> I'm getting a lot of this in the logs: http://paste.openstack.org/show/78024/ is that due to the auth error, hashar?
2014-04-30T16:40:23  *** hogepodge has quit IRC
2014-04-30T16:40:37  <anteaya> oh he left
2014-04-30T16:40:58  <foobio> jbooboo: mordred: notmyname: creiht: https://review.openstack.org/91417
2014-04-30T16:41:23  <kiall> jbooboo: Huumm - Pushed a new signed tag, missed the zuul status page link to the job, but no tarball produced
2014-04-30T16:41:26  <notmyname> foobio: thanks
2014-04-30T16:41:52  *** crc32 has joined #openstack-infra
2014-04-30T16:41:53  *** dkliban is now known as dkliban_lunch
2014-04-30T16:42:15  <kiall> jbooboo: looks to be still a race somewhere? https://jenkins03.openstack.org/job/designate-tarball/2/console
2014-04-30T16:42:20  <foobio> notmyname: you're welcome. jbooboo apparently fixed the job a while back, but it didn't get re-run and then some changes in acl behavior in new gerrit broke it again, but all working now i think
2014-04-30T16:42:38  <kiall> That's a signed tag, so re-triggering should be enough to kick it into action
2014-04-30T16:43:07  *** chandan_kumar has joined #openstack-infra
2014-04-30T16:43:46  <foobio> kiall: i strongly suspect the degree of staleness for hpcloud-az2 nodepool images is such that the fixed slave scripts are not present on that node
2014-04-30T16:43:53  *** romcheg has joined #openstack-infra
2014-04-30T16:43:54  * foobio checks
2014-04-30T16:44:00  <kiall> hah :)
2014-04-30T16:44:03  *** romcheg has left #openstack-infra
2014-04-30T16:44:59  <foobio> kiall: yeah, our most recent bare-precise image in hpcloud-az2 is 348.79 hours old
2014-04-30T16:45:23  *** dizquierdo has quit IRC
2014-04-30T16:45:25  <kiall> Nice - So failing to rebuild.. Annoying!
2014-04-30T16:45:36  <foobio> courtesy of the nova metadata server not being responsive, causing daily image updates to fail there most of the time
2014-04-30T16:46:26  <kiall> The "new regions" metadata service is much more reliable, if that's of any value in pointing out ;)
2014-04-30T16:46:31  <foobio> apparently puppet facter wants to query it, then gives up after not getting a response, then puppet treats that as a hard failure and nodepool has to abort the image update
2014-04-30T16:46:37  <kiall> (I know, pros and cons...!)
2014-04-30T16:47:49  <foobio> kiall: i can re-trigger the job and see if it gets lucky and runs on a less stale node
2014-04-30T16:48:07  *** jp_at_hp has quit IRC
2014-04-30T16:48:12  <anteaya> jbooboo: yes the http response codes are in the log file: http://paste.openstack.org/show/78028/
2014-04-30T16:48:13  <kiall> foobio: ah - roulette, let's play ;)
2014-04-30T16:48:41  *** derekh has quit IRC
2014-04-30T16:48:46  *** matty_dubs|lunch is now known as matty_dubs
2014-04-30T16:49:20  <jbooboo> foobio: this is an important problem, maybe we should remove the stale images
2014-04-30T16:49:52  *** bhuvan has joined #openstack-infra
2014-04-30T16:50:11  <foobio> jbooboo: i'm happy to do that. how old is too old? just remove bare-precise images?
2014-04-30T16:50:47  <foobio> if it's specifically the tag fixes we're concerned about, then bare-precise images prior to the script patch should cover it
2014-04-30T16:51:30  <foobio> kiall: got lucky that time... http://logs.openstack.org/e8/e888486ab133bef1b2020ad26e2bcba5df2944f7/release/designate-tarball/56af9e1,1/console.html
2014-04-30T16:51:40  *** mbacchi has quit IRC
2014-04-30T16:51:49  *** hogepodge has joined #openstack-infra
2014-04-30T16:52:56  <foobio> looks like the fix merged 04-29 20:30
2014-04-30T16:53:24  <foobio> so any bare-precise images prior to today's scheduled image update should be deleted
2014-04-30T16:53:24  *** annegentle has joined #openstack-infra
2014-04-30T16:53:38  <jbooboo> foobio: yeah
2014-04-30T16:53:41  <nibalizer> sorry i've been so afk yall
2014-04-30T16:53:57  <nibalizer> $REALJOB has moved into serious overdrive, doesn't leave much energy for OSS
2014-04-30T16:54:14  *** harlowja_away is now known as harlowja
2014-04-30T16:55:32  <foobio> nibalizer: sorry to hear that. on the other hand, the shackles of job security are often padded for comfort ;)
2014-04-30T16:57:06  *** etoews has quit IRC
2014-04-30T16:57:35  *** yidclare has joined #openstack-infra
2014-04-30T16:57:41  <kiall> foobio: I see a tarball :) Thanks!
2014-04-30T16:57:47  <kiall> and jbooboo - thanks :)
2014-04-30T16:58:02  <anteaya> it looks like there needs to be username:password inserted in here somewhere for the url to be authorized: http://git.openstack.org/cgit/stackforge/gertty/tree/gertty/sync.py#n135
2014-04-30T16:59:05  *** praneshp has joined #openstack-infra
2014-04-30T16:59:09  <foobio> okay, all bare-precise nodepool images older than yesterday's ggp patch are now gone, and any nodes they begat should die off to attrition fairly rapidly as well
2014-04-30T17:00:12  *** mbacchi has joined #openstack-infra
2014-04-30T17:00:35  *** nati_ueno has joined #openstack-infra
2014-04-30T17:00:39  *** talluri has joined #openstack-infra
2014-04-30T17:00:46  *** jamielennox is now known as jamielennox|away
2014-04-30T17:00:55  <jbooboo> foobio: thanks; hopefully that will let the job running robots do their jobs (so we don't have to step in for them).
2014-04-30T17:00:57  <cody-somerville> How can I delete a bunch of changes from a pipeline?
2014-04-30T17:01:09  <foobio> jbooboo: agreed
2014-04-30T17:01:23  *** nati_ueno has quit IRC
2014-04-30T17:01:47  <jbooboo> cody-somerville: 3 options: (a) push new patchsets for all of them.  (b) stop zuul.  (c) write the 'dequeue' command line client
2014-04-30T17:02:14  *** praneshp_ has joined #openstack-infra
2014-04-30T17:02:24  <jbooboo> cody-somerville: typically (a) is what we do around here; sometimes (b).
2014-04-30T17:02:38  *** _nadya_ has quit IRC
2014-04-30T17:02:45  *** ominakov has quit IRC
2014-04-30T17:03:08  <foobio> there are definitely times where (c) would have been great to have, since (a) and (b) are both pretty labor-intensive
2014-04-30T17:03:29  <jbooboo> cody-somerville: (if they are git-dependent, you might only have to push a new patch for the first one)
2014-04-30T17:03:35  *** nati_ueno has joined #openstack-infra
2014-04-30T17:04:09  *** hashar has joined #openstack-infra
2014-04-30T17:04:14  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Handle "No newline at end of file" and add --no-sync option  https://review.openstack.org/91418
2014-04-30T17:04:21  *** praneshp has quit IRC
2014-04-30T17:04:21  *** praneshp_ is now known as praneshp
2014-04-30T17:04:26  *** hashar has quit IRC
2014-04-30T17:04:43  *** Ajaeger has joined #openstack-infra
2014-04-30T17:05:14  <openstackgerrit> A change was merged to openstack-infra/config: Finish puppeting accessbot  https://review.openstack.org/86440
2014-04-30T17:06:39  <cody-somerville> So I have a bunch of jobs (~300) in the post pipeline for a bunch of deleted branches on the same repository. I also have a small number of changes unrelated in the check queue. The former seems to be making things get processed very slowly. I have a bunch of ready slaves but zuul is only slowly queuing up the -branch-tarball jobs (and sometimes -coverage jobs) for the deleted branches. It was speculated this might be be du
2014-04-30T17:06:39  <cody-somerville> e to the -branch-tarball job being configured not to run concurrently.
2014-04-30T17:06:53  *** chandan_kumar has quit IRC
2014-04-30T17:06:55  *** _david_ has joined #openstack-infra
2014-04-30T17:06:55  *** SumitNaiksatam has quit IRC
2014-04-30T17:07:45  <foobio> cody-somerville: do you have more than one jenkins master? if so, non-concurrency isn't guaranteed anyway
2014-04-30T17:08:05  <cody-somerville> I had about 20 -branch-tarball jobs queued up in Jenkins - and naturally it made sense they wouldn't be executing in parallel since specifically being configured not to. I thought maybe this was causing zuul to think all the slaves were busy and not dispatch more things that *could* run.
2014-04-30T17:08:22  <foobio> unless you only have one slave for the job with a single executor on it, in which case you're de-facto non-concurrent without actually configuring that option
2014-04-30T17:08:40  <cody-somerville> So I deleted the 20 or so -branch-tarball jobs from the jenkins queue but zuul continues to just slowly add -branch-tarball jobs again to jenkin's queue.
2014-04-30T17:09:28  <jbooboo> cody-somerville: because we can't guarantee concurrency, we don't have any jobs configured in that way.  you're in untested territory.  however, i would guess the following things are happening:
2014-04-30T17:10:09  *** jgallard has quit IRC
2014-04-30T17:10:12  *** Ryan_Lane has joined #openstack-infra
2014-04-30T17:10:14  <jbooboo> cody-somerville: a) jenkins gearman plugin doesn't know about the non-concurrency aspect and is scheduling jobs as fast as it can on specific nodes.  this means those nodes are unavailable to run other jobs while jenkins waits to run a job on them.
2014-04-30T17:10:18  *** annegentle has quit IRC
2014-04-30T17:10:49  <jbooboo> cody-somerville: that explains why your check jobs are not running while you appear to have nodes available (they aren't available, they are actually "running" post jobs, they just haven't actually started yet)
2014-04-30T17:11:14  *** dangers_away is now known as dangers
2014-04-30T17:11:26  <jbooboo> cody-somerville: b) when you remove jobs from the jenkins queue, it would not surprise me if zuul interprets that as a transient jenkins error and reschedules them
2014-04-30T17:11:35  <harlowja> jbooboo do u want flake8 and stuff running on gertty?
2014-04-30T17:11:38  <harlowja> just wondering :)
2014-04-30T17:12:37  <jbooboo> harlowja: no, not for a while.  when development slows down a bit.
2014-04-30T17:12:48  <dhellmann> did viktors ask to have the oslo-db-core team set up in gerrit? could someone add me to that group so I can add everyone else?
2014-04-30T17:12:56  <msabramo> what is gertty?
2014-04-30T17:13:09  <msabramo> gerrit on your tty?
2014-04-30T17:13:10  <jbooboo> dhellmann: will do
2014-04-30T17:13:16  <jbooboo> msabramo: you win!
2014-04-30T17:13:19  <dhellmann> jbooboo: thanks!
2014-04-30T17:13:19  <harlowja> jbooboo sounds good
2014-04-30T17:13:24  <msabramo> woo hoo!
2014-04-30T17:13:39  <msabramo> sounds like we all win
2014-04-30T17:13:45  <harlowja> msabramo its the next best thing after https://github.com/harlowja/gerrit_view/ :-P
2014-04-30T17:13:54  <jbooboo> msabramo: http://git.openstack.org/cgit/stackforge/gertty/tree/README.rst
2014-04-30T17:13:55  <harlowja> that jbooboo is coming up, 21st century technology
2014-04-30T17:13:58  <cody-somerville> ah
2014-04-30T17:14:01  <dhellmann> jbooboo: I don't remember if there's an oslo-db-milestone or not, but I should be in that one, too :-)
2014-04-30T17:14:05  <harlowja> with lots of new agile hotness, lol
2014-04-30T17:14:06  <cody-somerville> the concurrency restriction on jobs was only removed recently
2014-04-30T17:14:24  <cody-somerville> https://github.com/openstack-infra/config/commit/ef40ea5b5d372ae30d0087727ce1fbf2d1c9f14e
2014-04-30T17:14:33  <foobio> msabramo: so much gerrit it all up in yuo tty
2014-04-30T17:14:58  <foobio> !!!1!eleven
2014-04-30T17:14:58  <openstack> foobio: Error: "!!1!eleven" is not a valid command.
2014-04-30T17:15:15  <foobio> openstack: you're so disagreeable sometimes
2014-04-30T17:15:32  *** manishg has quit IRC
2014-04-30T17:15:38  <jbooboo> dhellmann: https://review.openstack.org/#/admin/projects/openstack/oslo.db,access  no oslo-db-milestone, i think we missed that in review
2014-04-30T17:15:50  <jbooboo> dhellmann: i added oslo-core to oslo-db-core -- see if that's enough for you to self-manage now
2014-04-30T17:15:57  <jbooboo> dhellmann: https://review.openstack.org/#/admin/groups/331,members
2014-04-30T17:16:01  <jbooboo> dhellmann: if not, i'll add you explicitly
2014-04-30T17:16:20  <dhellmann> jbooboo: it's working, thanks!
2014-04-30T17:17:07  <sdague> jbooboo / mordred : thoughts on putting the new dashboard in today?
2014-04-30T17:17:27  <dhellmann> jbooboo: as far as the milestone group, I'll submit a change to make that oslo-core
2014-04-30T17:17:43  <dhellmann> or oslo-db-milestone, I guess
2014-04-30T17:18:49  *** Alexei_987 has joined #openstack-infra
2014-04-30T17:19:03  <jbooboo> sdague: can you change 'main' to 'review-inbox'?
2014-04-30T17:19:16  *** esker has quit IRC
2014-04-30T17:19:19  *** manishg has joined #openstack-infra
2014-04-30T17:19:28  <sdague> sure, on review-dev?
2014-04-30T17:19:29  *** SumitNaiksatam has joined #openstack-infra
2014-04-30T17:19:38  <_david_> gerrit Workflow label confiuration: how can i propose a change for it to openstack-infra-config?
2014-04-30T17:19:40  <jbooboo> sdague: yeah
2014-04-30T17:19:48  *** krtaylor has joined #openstack-infra
2014-04-30T17:20:42  <sdague> jbooboo: done
2014-04-30T17:21:27  <jbooboo> _david_: i think it's still manually managed (mordred wants to fix that); what's the change?
2014-04-30T17:21:51  <jbooboo> https://review.openstack.org/gitweb?p=All-Projects.git;a=blob;f=project.config;h=f067a64a8bcb2317c74144bf86694a2c9a3696e6;hb=c2f7b042f2bc2f6884930790b47b1d5c2c9abf0f
2014-04-30T17:22:09  <_david_> jbooboo, thanks, i see, i think we should set:  copyMinScore = true for WIP state to enforce stickeness on upload new patch sets
2014-04-30T17:22:26  <_david_> jbooboo, Congrats on upgrade, well done ;-)
2014-04-30T17:23:04  <jbooboo> _david_: thanks :)
2014-04-30T17:23:55  <openstackgerrit> Anita Kuno proposed a change to stackforge/gertty: Adds --digest flag to url required for http auth  https://review.openstack.org/91421
2014-04-30T17:24:15  <jbooboo> _david_: we can't make it sticky right now -- because the core group can -1wip someone else's change, that means they can't remove that vote, only a new patchset clears that (or they would have to pester core reviewers, and that defeats the purpose of wip)
2014-04-30T17:24:17  *** grantbow has joined #openstack-infra
2014-04-30T17:24:42  <jbooboo> _david_: i think instead we should make it easier for devs to express whether they want a new patchset to be wip when uploaded
2014-04-30T17:24:50  <jbooboo> _david_: which probably means changing git-review to support it
2014-04-30T17:25:29  <jbooboo> _david_: and, i'm hoping, if we move to the wip plugin in 2.9, maybe it could support something like /refs/wip/foo so that becomes a one-step process on upload
2014-04-30T17:25:31  <foobio> and adding wip control (back) to dit-review has been on the wishlist for a while anyway
2014-04-30T17:25:42  <foobio> s/dit/git/
2014-04-30T17:25:50  <jbooboo> foobio: i think you mean derp-review
2014-04-30T17:25:56  *** andreykurilin_ has quit IRC
2014-04-30T17:25:57  <foobio> i SO do
2014-04-30T17:27:57  <anteaya> jbooboo: this change is possibly in the wrong place but that is the notion anyway: https://review.openstack.org/#/c/91421/
2014-04-30T17:28:13  <anteaya> I have to get ready to head out for an appointment, gone for several hours
2014-04-30T17:28:24  <_david_> jbooboo, i thought that change owner can always remove wip state?
2014-04-30T17:29:46  <jbooboo> _david_: i don't think they can remove someone else's vote though
2014-04-30T17:29:56  <Shrews> foobio: has anyone reported the LP bug hook doesn't appear to be working?
2014-04-30T17:30:06  *** nati_ueno has quit IRC
2014-04-30T17:30:29  *** nati_ueno has joined #openstack-infra
2014-04-30T17:30:33  <foobio> Shrews: you just reported it ;)
2014-04-30T17:30:41  <foobio> (in other words, first i've heard)
2014-04-30T17:30:44  <jbooboo> _david_: that's not desirable -- it's a drawback of the review label approach; but it's mitigated by not having copyminscore
2014-04-30T17:30:44  <foobio> i'll have a look
2014-04-30T17:30:44  <Shrews> first! \o/
2014-04-30T17:31:02  <foobio> nb4bug
2014-04-30T17:31:05  *** amcrn has quit IRC
2014-04-30T17:31:13  *** nati_ueno has quit IRC
2014-04-30T17:31:22  *** dkliban_lunch is now known as dkliban
2014-04-30T17:31:26  *** nati_ueno has joined #openstack-infra
2014-04-30T17:31:30  <Shrews> foobio: if you need an example: https://review.openstack.org/#/c/91366/
2014-04-30T17:31:37  <foobio> Shrews: that helps, thanks
2014-04-30T17:32:19  <_david_> jbooboo, to be fair wip plugin would clear the state with new patch set upload too
2014-04-30T17:33:20  <foobio> Shrews: i'm not terribly surprised though... the gerrit hooks interface is relatively unstable and right now some of our hooks probably break when passed new options they don't recognize
2014-04-30T17:33:31  <jbooboo> _david_: yeah, and i personally prefer the clear on new patchset, but at least then it becomes a discussion about what we should do vs what we must do.  :)
2014-04-30T17:33:52  <jbooboo> _david_: that's why i think the best place to fix this is at patch upload -- so the developer can decide
2014-04-30T17:34:32  <jbooboo> i have to run out for a few mins
2014-04-30T17:34:38  <foobio> k
2014-04-30T17:34:47  <_david_> jbooboo, agreed, so let me check the options we have or can introduce upstream ...
2014-04-30T17:35:28  <jbooboo> _david_: and thank you very much for your help with the upgrade.  i think some of the patches we merged recently for it were the ones you uploaded earlier in the year.  :)
2014-04-30T17:36:08  <foobio> _david_: yes, it was a HUGE help. thanks!
2014-04-30T17:36:15  <_david_> jbooboo, thank you guys back for yor help LibreOffice community two years ago ;-)
2014-04-30T17:36:33  <_david_> foobio, thanks
2014-04-30T17:36:39  *** _david_ has quit IRC
2014-04-30T17:37:41  *** dripton has quit IRC
2014-04-30T17:43:37  *** med_ has joined #openstack-infra
2014-04-30T17:45:01  *** david-lyle has quit IRC
2014-04-30T17:45:58  *** rcarrillocruz has quit IRC
2014-04-30T17:46:00  *** rcarrill` has joined #openstack-infra
2014-04-30T17:46:47  <zaro> jbooboo: would it not make sense to give core reviewers permission to unabandone any change?
2014-04-30T17:47:07  <foobio> zaro: i believe that was on our to do list now that it can be controlled with the acl
2014-04-30T17:47:48  *** manishg has quit IRC
2014-04-30T17:48:12  <zaro> foobio: if that permission is set then i think it would make sense to set copyMinScore ?
2014-04-30T17:48:46  <zaro> foobio: it seems appropriate to me to have to contact a core to unabadone a change that it's owned by yourself.
2014-04-30T17:49:16  <foobio> zaro: i'm not sure what copyminscore has to do with abandoned changes
2014-04-30T17:49:35  <foobio> zaro: the idea with abandonment was to allow core reviewers and change owners to abandon/unabandon changes
2014-04-30T17:49:39  <zaro> foobio: ohh i meant wip all along.
2014-04-30T17:50:10  <zaro> foobio: so un-wip not un-abandone
2014-04-30T17:50:15  *** dripton has joined #openstack-infra
2014-04-30T17:50:28  <foobio> wip is different with the workflow vote. if i as a core reviewer set your patchset to wip, you as the change owner have no ability to switch it back out of wip because you can't change my vote
2014-04-30T17:50:35  *** melwitt has joined #openstack-infra
2014-04-30T17:51:08  <zaro> foobio: ohh of course.
2014-04-30T17:51:43  *** david-lyle has joined #openstack-infra
2014-04-30T17:52:40  <openstackgerrit> Peter Portante proposed a change to openstack-infra/config: Add swift "in-process" functional test runs  https://review.openstack.org/91424
2014-04-30T17:52:59  <portante> chmouel: ^^^
2014-04-30T17:53:05  *** darraghb has quit IRC
2014-04-30T17:53:11  <zaro> jbooboo: i'm trying to setup gear on a VM to work with SSL certs, but I can't seem to get it to work.  I mean i can't get a connection.  would you be able to help me with that?
2014-04-30T17:53:26  *** thomasbiege has joined #openstack-infra
2014-04-30T17:53:39  *** amcrn has joined #openstack-infra
2014-04-30T17:56:41  *** thomasbiege has quit IRC
2014-04-30T17:56:59  *** che-arne has quit IRC
2014-04-30T18:00:41  *** doddstack has quit IRC
2014-04-30T18:02:58  *** dkliban is now known as dkliban_afk
2014-04-30T18:03:16  *** zns has quit IRC
2014-04-30T18:03:37  *** yfried has joined #openstack-infra
2014-04-30T18:04:04  <yfried> asking again - is there anyone here familiar with logstash?
2014-04-30T18:04:12  <yfried> jesusaurus: ?
2014-04-30T18:04:43  <yfried> I'm trying to set up logstash as a deamon
2014-04-30T18:04:54  <yfried> how is done on the gate?
2014-04-30T18:05:32  *** marun has joined #openstack-infra
2014-04-30T18:06:03  *** jooools has quit IRC
2014-04-30T18:06:09  *** msabramo has left #openstack-infra
2014-04-30T18:07:08  <foobio> yfried: we have a special agent which gets zmq notification from jenkins job completion and then retrieves and injects all the log files from that job
2014-04-30T18:07:27  <foobio> so it's a batch processing loader
2014-04-30T18:07:38  *** nati_ueno has quit IRC
2014-04-30T18:07:45  <foobio> it's not set up like a typical logserver
2014-04-30T18:07:50  *** nati_ueno has joined #openstack-infra
2014-04-30T18:08:16  *** e0ne has joined #openstack-infra
2014-04-30T18:08:50  *** thomasbiege has joined #openstack-infra
2014-04-30T18:09:23  <yfried> foobio: ok, different question:   this is how logfiles are parsed  https://github.com/openstack-infra/config/blob/master/modules/openstack_project/templates/logstash/indexer.conf.erb
2014-04-30T18:09:39  <yfried> foobio: but how do you tag logs according to job and build?
2014-04-30T18:10:16  <foobio> yfried: metadata provided in the 0mq messages coming from jenkins is interpreted by the loader
2014-04-30T18:11:06  <yfried> foobio: how? where?
2014-04-30T18:11:41  <foobio> yfried: http://git.openstack.org/cgit/openstack-infra/zmq-event-publisher/tree/README
2014-04-30T18:12:33  *** ildikov has joined #openstack-infra
2014-04-30T18:13:27  <yfried> foobio: tnx. I'll look into it
2014-04-30T18:14:17  *** timrc is now known as timrc-afk
2014-04-30T18:14:26  <yfried> foobio: another question - are the logs being parsed during the run, or are the sent at the end of a job?
2014-04-30T18:14:36  *** morganfainberg_Z is now known as morganfainberg
2014-04-30T18:15:45  <foobio> once the job completes, jenkins pulls logs off the slave and publishes them to a webserver for archival, then sends a zeromq message to the logstash processor notifying of their availability. the logstash processor downloads those files from the webserver and then starts feeding them into logstash for indexing
2014-04-30T18:17:00  <yfried> foobio: where is all of this documented? because it doesn't sound like what I've read in the short wiki for logstash.openstack
2014-04-30T18:17:27  <foobio> yfried: http://ci.openstack.org/logstash.html
2014-04-30T18:17:51  <yfried> foobio: yeah, that's the one I've read
2014-04-30T18:19:10  <yfried> doesn't seem like exactly what you described.
2014-04-30T18:19:15  *** e0ne has quit IRC
2014-04-30T18:19:34  <foobio> yfried: that page documents how logstash is integrated, but doesn't necessarily go into details on things happening on the jenkins side (the log archiving we're doing from that end predates any of the logstash implementation and is mostly unchanged \)
2014-04-30T18:19:35  *** zns has joined #openstack-infra
2014-04-30T18:19:36  <yfried> foobio: I also was unable to find the log-pusher mentioned there
2014-04-30T18:20:13  <foobio> yfried: the links to them aren't working?
2014-04-30T18:20:16  *** zns_ has joined #openstack-infra
2014-04-30T18:20:27  <foobio> aha
2014-04-30T18:20:39  <foobio> the urls there are lacking /cgit/ in them
2014-04-30T18:20:44  *** nati_ueno has quit IRC
2014-04-30T18:21:05  *** nati_ueno has joined #openstack-infra
2014-04-30T18:21:06  <foobio> no, nevermind. perhaps they were moved and the docs not updated
2014-04-30T18:21:23  *** thomasbiege has quit IRC
2014-04-30T18:21:31  *** ominakov has joined #openstack-infra
2014-04-30T18:21:36  *** zns has quit IRC
2014-04-30T18:21:41  *** ominakov has quit IRC
2014-04-30T18:22:15  <yfried> it speaks about a python script. I'd love to see it
2014-04-30T18:22:21  <foobio> i'm busy trying to fix something else at the moment, but the puppet manifests there for the logstash server should show where they're being installed from
2014-04-30T18:22:24  <jbooboo> zaro: yes, i can help -- what's up
2014-04-30T18:22:42  <jbooboo> foobio, yfried i'll find the scripts and fix the docs
2014-04-30T18:22:49  <yfried> jbooboo: tnx
2014-04-30T18:23:05  *** hashar has joined #openstack-infra
2014-04-30T18:23:11  <mriedem> foobio: jbooboo: does updating a commit message in place with new gerrit reset the review scores? assuming 'yes'
2014-04-30T18:23:45  <foobio> mriedem: i assume it makes a new patchset and everything that implies
2014-04-30T18:23:53  <jbooboo> foobio: mriedem yep
2014-04-30T18:23:58  <foobio> but haven't tried it myselg
2014-04-30T18:23:59  <mriedem> k, just making sure, thanks
2014-04-30T18:24:00  <foobio> myself
2014-04-30T18:24:11  <mordred> morning jbooboo
2014-04-30T18:24:31  <yfried> so, if I get this - upon finishing the job, jenkins pushes the logs via zmq to the logstash server, together with tags about build/job/etc..?
2014-04-30T18:24:45  * zaro is afk, bb in 2hrs
2014-04-30T18:25:21  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Correct log processor script links in docs  https://review.openstack.org/91431
2014-04-30T18:25:23  <foobio> yfried: jenkins uploads the logs to a webserver and sends a zmq message about them which gets interpreted by a gearman client
2014-04-30T18:25:29  <foobio> sort of convoluted
2014-04-30T18:25:47  <jbooboo> yfried: the 2 scripts mentioned in the docs are here: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/log_processor/files/
2014-04-30T18:25:56  <foobio> well, interpreted by a zmq listener which in turn coordinates the indexing via gearman protocol to the cluster
2014-04-30T18:25:59  *** e0ne has joined #openstack-infra
2014-04-30T18:26:01  <jbooboo> mordred: mornin
2014-04-30T18:27:09  <foobio> yfried: but anyway, jenkins does not send the logs to logstash. it just sticks them on a webserver, then the logstash processing scripts act on the notification and go retrieve them from the same webserver
2014-04-30T18:28:08  <mordred> jbooboo: it's wet on the east coast
2014-04-30T18:28:28  <sdague> yes, it is
2014-04-30T18:28:38  <foobio> mordred: indeed. the weather radio woke me up squaking about tornadoes just a few miles north of here
2014-04-30T18:28:43  <yfried> foobio: where is the code to make logstash retrieve the logs?
2014-04-30T18:28:52  <foobio> mordred: better than an alarm clock
2014-04-30T18:29:02  <jbooboo> mordred: it is 83 going on 91 at your house.
2014-04-30T18:29:23  <mordred> jbooboo: *sob*
2014-04-30T18:29:29  *** rustlebee has left #openstack-infra
2014-04-30T18:29:37  <jbooboo> and not wet.
2014-04-30T18:29:46  <foobio> yfried: https://git.openstack.org/cgit/openstack-infra/config/tree/modules/log_processor/files/log-gearman-worker.py#n117
2014-04-30T18:32:09  <sdague> what, only an inch of rain since midnight here :) - http://www.wunderground.com/personal-weather-station/dashboard?ID=KNYPOUGH7#history/s20140430/e20140430/mtoday
2014-04-30T18:33:25  <yfried> foobio: tnx. this might be a stupid question, but what exactly is gearman? I've seen it mentioned, and I now it's designed to help distribute jenkins load, but I'm not too clear
2014-04-30T18:33:56  <foobio> yfried: http://gearman.org/
2014-04-30T18:34:19  <foobio> yfried: it's for coordinating task distribution
2014-04-30T18:34:23  *** thomasbiege has joined #openstack-infra
2014-04-30T18:35:15  *** aconrad has joined #openstack-infra
2014-04-30T18:35:39  <foobio> yfried: though we use a pure-python client+server implementation of the gearman protocol called "gear" http://git.openstack.org/cgit/openstack-infra/gear/tree/
2014-04-30T18:39:11  <yfried> so gearman is the "webserver" waiting to get logs via zmq and telling logstash to parse them?
2014-04-30T18:39:54  <yfried> foobio: ^
2014-04-30T18:40:15  <foobio> yfried: no... jobs run on a jenkins slave and generate logs. jenkins master pulls logs from the slave and scp's them to a linux server named logs.openstack.org
2014-04-30T18:40:33  <foobio> that linux server serves those raw log files via apache
2014-04-30T18:40:51  *** arnaud__ has joined #openstack-infra
2014-04-30T18:41:00  *** dkliban_afk is now known as dkliban
2014-04-30T18:41:04  <foobio> separately, when the jenkins master is done scp'ing those logs up to logs.o.o, it also sends a zeromq message about their existence
2014-04-30T18:41:29  <foobio> the logstash cluster has a client subscribed to those zeromq notifications
2014-04-30T18:42:08  <foobio> it then communicates separately to the other logstash indexer cluster workers letting them know there's a log processing task which needs to be done
2014-04-30T18:42:15  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Adds insecure option to launch_node.py  https://review.openstack.org/86690
2014-04-30T18:42:33  <openstackgerrit> James E. Blair proposed a change to openstack-infra/config: Adds insecure option to launch_node.py  https://review.openstack.org/86690
2014-04-30T18:42:39  <foobio> ...via gearman protocol. one of those indexing workers accepts the job and then retrieves the corresponding files from logs.o.o
2014-04-30T18:42:47  *** gabriel-bezerra has joined #openstack-infra
2014-04-30T18:43:03  <jbooboo> mriedem, foobio: data point -- i updated commit message on https://review.openstack.org/86690 after leaving a -1 and my -1 stuck
2014-04-30T18:43:24  <jbooboo> mriedem, foobio: don't know if that's because it was MY -1, or if it would do that for all -1s
2014-04-30T18:44:03  *** timrc-afk is now known as timrc
2014-04-30T18:44:07  <yfried> foobio: so the script you sent me (log-gearman-worker) is for which part?
2014-04-30T18:44:13  *** crc32 has quit IRC
2014-04-30T18:45:20  <foobio> yfried: that was a link to the class which does that last bit (runs on the indexing cluster workers and downloads the log files from the logs.o.o webserver)
2014-04-30T18:45:37  *** manishg has joined #openstack-infra
2014-04-30T18:45:49  <sdague> jbooboo: https://review.openstack.org/#/q/status:open+file:%255E.*layout.yaml+NOT+label:Code-Review%253E%253D-2%252Cself,n,z - oh, how I love secondary indexes
2014-04-30T18:45:59  *** _nadya_ has joined #openstack-infra
2014-04-30T18:46:45  <mordred> sdague: your blog post on them is amazing
2014-04-30T18:47:01  <sdague> mordred: thanks!
2014-04-30T18:47:06  <mordred> I need to set up one of those for setup.py, setup.cfg and tox.ini in all projects
2014-04-30T18:47:29  <foobio> jbooboo: mordred: not sure what's changed, but with the new bare-precise images nodepool nodes are ending at "Exception: Timeout waiting for ssh access" after quite a lot of "INFO nodepool.utils: Password auth exception. Try number X..." messages in the log
2014-04-30T18:47:57  <foobio> the images built successfully, but i wonder if our ssh key changes have screwed something up?
2014-04-30T18:47:58  *** nati_ueno has quit IRC
2014-04-30T18:48:02  *** mrodden1 has joined #openstack-infra
2014-04-30T18:48:34  *** nati_ueno has joined #openstack-infra
2014-04-30T18:48:39  <mordred> foobio: hrm. on both providers?
2014-04-30T18:49:01  <foobio> mordred: yes, which leads me to believe it's courtesy of a recent patch (some time last night or this morning)
2014-04-30T18:49:16  *** nati_ueno has quit IRC
2014-04-30T18:49:20  <mordred> foobio: nod
2014-04-30T18:49:48  <mordred> foobio: we were doing something with the ssh_authorized_keys yesterda
2014-04-30T18:49:57  *** zns_ has quit IRC
2014-04-30T18:50:16  <mordred> foobio: I'm going to look at nodepool log to see if there's a puppet error there
2014-04-30T18:50:26  *** mrodden has quit IRC
2014-04-30T18:50:33  <foobio> good idea. maybe puppet didn't abort but failed to do something
2014-04-30T18:50:37  <gabriel-bezerra> hi, where can I find devstack core reviewers?
2014-04-30T18:50:43  <mordred> yup
2014-04-30T18:50:54  <gabriel-bezerra> I mean, there is no #openstack-devstack channel
2014-04-30T18:51:02  *** nati_ueno has joined #openstack-infra
2014-04-30T18:51:23  <foobio> gabriel-bezerra: here and there... #openstack-qa is where a lot of devstack discussions happen
2014-04-30T18:51:26  <morganfainberg> gabriel-bezerra, i think #openstack-qa
2014-04-30T18:51:31  <foobio> gabriel-bezerra: the actual list of people is https://review.openstack.org/#/admin/groups/50,members
2014-04-30T18:52:33  <gabriel-bezerra> ok. thank you. foobio and morganfainberg
2014-04-30T18:52:34  *** tjones has left #openstack-infra
2014-04-30T18:52:59  <yfried> foobio: the scripts starts upon recieving zmq msg?
2014-04-30T18:54:59  *** e0ne has quit IRC
2014-04-30T18:55:31  <mordred> foobio: I have a patch up to fix this from yesterday
2014-04-30T18:55:40  <foobio> mordred: oh!
2014-04-30T18:55:43  *** e0ne has joined #openstack-infra
2014-04-30T18:56:11  <yfried> foobio: how do I get the zmq plugin to my jenkins? should it be available via jenkins plugins page?
2014-04-30T18:56:36  <mordred> foobio: but it looks landed...
2014-04-30T18:56:45  <yfried> foobio: does it need to be DL from the githup repo?
2014-04-30T18:57:06  <mordred> 2014-04-30 17:07:31,207 INFO nodepool.image.build.rax-iad.bare-precise: merr: /Stage[main]/Openstack_project::Users/User::Virtual::Localuser[corvus]/Ssh_authorized_key[jbooboo@operational-necessity]: Could not evaluate: Puppet::Util::FileType::FileTypeFlat could not write /home/corvus/.ssh/authorized_keys: Permission denied - /home/corvus/.ssh/authorized_key
2014-04-30T18:57:17  *** zns has joined #openstack-infra
2014-04-30T18:57:36  <foobio> yfried: i believe it can be installed from the jenkins plugins site. quantumfly's our resident expert on this and is on vacation this week. i'm not 100% positive we're using the build on the jenkins plugin site
2014-04-30T18:57:43  *** ramashri has joined #openstack-infra
2014-04-30T18:57:54  *** david-lyle has quit IRC
2014-04-30T18:58:05  <foobio> mordred: so that's the 0400 vs 0600 perms on teh a_k file
2014-04-30T18:59:12  *** sdake_ has joined #openstack-infra
2014-04-30T18:59:28  *** crc32 has joined #openstack-infra
2014-04-30T18:59:35  <mordred> foobio: that SHOULD be fixed now
2014-04-30T18:59:37  <mordred> I'm confused
2014-04-30T19:00:12  *** ramashri has quit IRC
2014-04-30T19:00:16  <foobio> mordred: i'm manually booting an instance from one of those images now and will log in/poke around
2014-04-30T19:00:17  <mordred> foobio: like, the patch has landed - I can see the corvus_sshkey resource in the log
2014-04-30T19:00:30  <mordred> foobio: good luck - it's not going to have your ssh key
2014-04-30T19:00:52  <mordred> foobio: you may have to log in from a jenkins master as jenkins
2014-04-30T19:01:03  <foobio> mordred: it will because i've told nova boot --file /root/.ssh/authorized_keys=$HOME/.ssh/id_rsa.pub
2014-04-30T19:01:34  <foobio> mordred: but i can also use password login via the web virtual console in rackspace's dashboard
2014-04-30T19:01:38  <yfried> foobio: I'm trying to build a logstash instance for our own ci jobs
2014-04-30T19:01:38  *** ramashri_ has joined #openstack-infra
2014-04-30T19:01:38  <notmyname> no meetbot in -meeting?
2014-04-30T19:01:38  <notmyname> jbooboo: ^
2014-04-30T19:01:39  <yfried> foobio: I tried to send a single job log data directly to logstash (via redis) and it was a very slow process, so I'm looking for a more efficient way, trying to learn from your setup
2014-04-30T19:02:14  <notmyname> oh, it's there. just lots of lag
2014-04-30T19:02:21  <foobio> yfried: yes, the complexity in our configuration evolved from multiple iterations of dealing with massive scaling problems
2014-04-30T19:02:28  <jbooboo> notmyname: yeah, seems to be lag
2014-04-30T19:03:25  <foobio> yfried: and even so, we're only able to keep about 2 weeks worth of job logs indexed (that's about a terabyte of indexes on each elasticsearch cluster member i believe, of which we currently have 6)
2014-04-30T19:03:35  *** sdague has quit IRC
2014-04-30T19:03:56  *** sdague has joined #openstack-infra
2014-04-30T19:07:04  *** mrodden has joined #openstack-infra
2014-04-30T19:07:27  *** mrodden1 has quit IRC
2014-04-30T19:09:09  <yfried> foobio: we don't have that much volume of jobs as the gate does
2014-04-30T19:09:43  <yfried> foobio: and I'm more concerned with stress and prolonging the job, that with storage space
2014-04-30T19:09:54  *** chandan_kumar has joined #openstack-infra
2014-04-30T19:10:44  <foobio> yfried: right, the system load and processing speed is why our indexing cluster is 16 rather large virtual machines each with (up to 4?) indexers running on separate cores
2014-04-30T19:11:09  <foobio> i forget the exact count, but it's big
2014-04-30T19:11:32  <foobio> and that's so that we have some hope of having logs indexed within a few minutes of the job completing
2014-04-30T19:13:11  *** ramashri_ has quit IRC
2014-04-30T19:14:17  <yfried> foobio: tnx. you helped my a lot. what's your timezone?
2014-04-30T19:14:52  <foobio> yfried: most of the time it's utc-4 or utc-5
2014-04-30T19:15:06  <foobio> utc-4 at the moment
2014-04-30T19:15:58  <yfried> foobio: that's US time right? too bad. do you know anyone who has similar understanding of logstash in europe timezone?
2014-04-30T19:16:39  <foobio> mordred: it appears that our individual authorized_keys files are 0600 root:root and zero bytes in length
2014-04-30T19:17:17  <foobio> so perms are no longer 0400 at least, but still not owned by our accounts and have no contents
2014-04-30T19:18:46  <foobio> mordred: also, ~jenkins/.ssh/authorized_keys doesn't exist at all
2014-04-30T19:20:22  <mordred> foobio: sigh
2014-04-30T19:20:35  <mordred> foobio: SO - I think ...
2014-04-30T19:20:56  <mordred> the patch to fix the perms only works with existing files
2014-04-30T19:21:16  <mordred> so, now that we've migrated, we should revert that portion of the patch
2014-04-30T19:21:25  <mordred> and I should have just updated the perms with ansible instead
2014-04-30T19:21:37  <foobio> i think most sites using puppet must do kerberos or ldap for login management ;)
2014-04-30T19:21:44  <mordred> because ssh_auth_key worked in nodepool
2014-04-30T19:21:48  <mordred> before the patch
2014-04-30T19:21:55  <mordred> so it worked without the patch on a clean machine
2014-04-30T19:22:19  *** e0ne has quit IRC
2014-04-30T19:25:06  <foobio> mordred: do you think the file permissions change could also be responsible for the missing ~jenkins/.ssh/authorized_keys file? or is that likely a side effect of some other related key management change?
2014-04-30T19:25:31  *** rloo has joined #openstack-infra
2014-04-30T19:25:37  *** nati_ueno has quit IRC
2014-04-30T19:26:33  <mordred> yes
2014-04-30T19:26:37  <mordred> I thnk it's the file perms
2014-04-30T19:27:07  <mordred> because it introduced a file resource with no content
2014-04-30T19:27:27  <foobio> because the manifestation differs. for our accounts it's empty authorized_keys files owned by root. for the jenkins user it's a missing file entirely
2014-04-30T19:28:36  <foobio> mordred: are you drafting the rip-out for that bit, or should i?
2014-04-30T19:29:34  <rloo> hi. I wanted to get python-ironicclient dev docs up on docs.openstack.org/developer/. I added jobs to jenkins/zuul and the docs are on docs-draft.openstack.org. What else do I need to do?
2014-04-30T19:30:08  <jbooboo> rloo: the change to add the new jobs has merged?
2014-04-30T19:30:27  <rloo> jbooboo:  yes. https://review.openstack.org/#/c/86390/
2014-04-30T19:30:44  <rloo> jbooboo: and i can see them on docs-draft, eg http://docs-draft.openstack.org/18/72418/11/check/gate-python-ironicclient-docs/747b1af/doc/build/html/
2014-04-30T19:31:12  <rloo> jbooboo: what copies the stuff from docs-draft to docs.openstack.org/developer?
2014-04-30T19:31:21  <jbooboo> rloo: it looks like client docs are only published on release
2014-04-30T19:31:45  <jbooboo> rloo: so it should happen the next time a release is tagged
2014-04-30T19:31:53  <rloo> jbooboo: hmm. is that how other client docs are done? I copy/pasted from others.
2014-04-30T19:32:17  <jbooboo> rloo: yes.  i believe the intention is to avoid confusing users by publishing documentation for unreleased software
2014-04-30T19:32:26  <rloo> jbooboo: I assume there's a reason to do things that way. Ok, I'll discuss with deva. thx!
2014-04-30T19:32:38  <jbooboo> rloo: and the clients release more frequently than the servers
2014-04-30T19:32:41  *** mfer has quit IRC
2014-04-30T19:32:47  *** david-lyle has joined #openstack-infra
2014-04-30T19:33:15  <rloo> jbooboo: thx again!
2014-04-30T19:33:24  <jbooboo> rloo: if you are going to release soon, i'd prefer to just wait.  if you are not going to release for quite a while and otherwise have no reason to, we can try to run the job manually for the most recently released version.
2014-04-30T19:33:29  <jbooboo> rloo: you're welcome.  let me know what you learn.
2014-04-30T19:33:47  <devananda> rloo: hm?
2014-04-30T19:34:26  <rloo> devananda: didn't realize you were here. ^^. our client docs won't show up until we do a release.
2014-04-30T19:34:31  <pabelanger> So, how do global requirement gerrit reviews get created across all the projects? Is that an automated process?
2014-04-30T19:34:33  <devananda> oh - sure. i'm happy to tag a release. lemme see what the changes are
2014-04-30T19:34:56  <foobio> pabelanger: yes, it's a triggered job which runs a script which proposes them
2014-04-30T19:35:08  <foobio> pabelanger: triggered off a change merging to the requirements repo
2014-04-30T19:35:18  <rloo> devananda: thx.
2014-04-30T19:35:32  <foobio> pabelanger: so look in the post pipeline for the requirements project
2014-04-30T19:35:56  *** ihrachyshka has joined #openstack-infra
2014-04-30T19:36:56  <dkranz> foobio: In https://review.openstack.org/#/c/80620/7, there is no indication in the check/verify matrix of who gave the to +2/+A (I was one of them). Is that new behavior or I just never noticed it?
2014-04-30T19:37:15  <dkranz> foobio: two +2/+A
2014-04-30T19:38:05  <foobio> dkranz: i think that's a side effect of the approve label going away
2014-04-30T19:38:20  <dkranz> foobio: Is that  bug or a feature?
2014-04-30T19:38:33  *** ihrachyshka has quit IRC
2014-04-30T19:38:59  *** ihrachyshka has joined #openstack-infra
2014-04-30T19:39:07  <jbooboo> dkranz: misfeature, i think.  you can get the info by reading the review comments though.
2014-04-30T19:39:10  <dkranz> foobio: I would think it should show a +2 for the Approver if it is not showing Approve column
2014-04-30T19:39:18  <jbooboo> 	David Kranz		Apr 23 10:18 AM
2014-04-30T19:39:19  <jbooboo> Patch Set 7: Approved
2014-04-30T19:39:40  <dkranz> jbooboo: Yes, I saw that. That's how I remembered it was me :)
2014-04-30T19:39:41  *** thomasbiege has quit IRC
2014-04-30T19:39:50  <sdague> https://review.openstack.org/#/c/90812/ - mordred / SergeyLukjanov / morganfainberg - I actually think this should be in d-g, and not in devstack
2014-04-30T19:39:53  <foobio> dkranz: i suspect new gerrit is unable to interpret your vote since it includes a vote on a label it doesn't think exists, so it's hiding you in that table
2014-04-30T19:40:45  <jbooboo> sdague: can we make running those under apache the default?
2014-04-30T19:40:49  <dkranz> foobio: So are you saying this will only happen when looking at reviews from before the change?
2014-04-30T19:40:58  <foobio> dkranz: yes
2014-04-30T19:41:06  <sdague> jbooboo: I don't know
2014-04-30T19:41:13  <dkranz> foobio: ok, then that is not so bad.
2014-04-30T19:41:15  <foobio> dkranz: reviews approved after the upgrade will be workflow +1 instead
2014-04-30T19:41:17  <dkranz> foobio: thansk
2014-04-30T19:41:25  <sdague> morganfainberg: opinions on that?
2014-04-30T19:41:26  *** doddstack has joined #openstack-infra
2014-04-30T19:41:56  <jbooboo> sdague: i think it's better for d-g to run as close to the default devstack as possible -- a big part of the goal is to make sure we can safely say to anyone "just run devstack, it will work"
2014-04-30T19:42:40  <foobio> dkranz: we could consider retro-fixing the old changes in the db, but gerrit does some very funny things with mysql auto-timestamp fields so you have to be extremely careful to reset them to their current values. otherwise the chronology goes out the window
2014-04-30T19:42:41  <sdague> jbooboo: sure, but the proposal on the devstack side wasn't to actually change the default. It sounded like right now morganfainberg wanted a switch
2014-04-30T19:43:03  <foobio> dkranz: and i'm so far unconvinced it's worth the risk/effort
2014-04-30T19:43:34  <portante> does anybody consume the coverage report jobs output?
2014-04-30T19:43:35  <sdague> unrelated - https://review.openstack.org/#/c/87677/ - the heat team would really like to be able to work on heat adds for grenade, which they need this for
2014-04-30T19:43:37  <openstackgerrit> Davanum Srinivas (dims) proposed a change to openstack-infra/config: Set Alpha Channel for better looking favicon  https://review.openstack.org/91441
2014-04-30T19:43:51  *** chandan_kumar has quit IRC
2014-04-30T19:44:08  <pabelanger> foobio, still looking but the hook script for the repo is added into zuul?
2014-04-30T19:44:17  <dkranz> foobio: I don't think it is worth it either. I just noticed the behavior and did not know it was transient.
2014-04-30T19:44:31  <foobio> pabelanger: yeah, it's one of the jenkins slave scripts in our config repo
2014-04-30T19:45:00  <pabelanger> foobio, okay, think I see it
2014-04-30T19:45:34  <foobio> pabelanger: there's a job in the post pipeline of the requirements project in zuul's layout which should correspond to something in our jjb config which ought to lead you to a builder macro which calls that slave script which inspects the projects.txt in the requirements repo and then proposes changes to the projects listed there
2014-04-30T19:45:46  *** ociuhandu has quit IRC
2014-04-30T19:45:49  *** mfer has joined #openstack-infra
2014-04-30T19:45:58  <foobio> rube goldberg would be proud
2014-04-30T19:47:15  <pabelanger> Ya, see it now: propose-requirements-updates
2014-04-30T19:48:26  <pabelanger> okay cool. Ya, I want to setup a periodic gate for something and liked the way the requirements stuff works.  Think I'll use the same logic for creating new reviews
2014-04-30T19:48:27  *** mattymo|home has quit IRC
2014-04-30T19:49:24  <jbooboo> sdague: https://review.openstack.org/#/c/88289/
2014-04-30T19:51:11  *** talluri has quit IRC
2014-04-30T19:51:44  *** talluri has joined #openstack-infra
2014-04-30T19:53:28  <sdague> jbooboo: one minor issue I see in it
2014-04-30T19:53:54  *** _nadya_ has quit IRC
2014-04-30T19:54:03  <sdague> I'll admit my brain is not fully wrapped around the -2 jobs, so you'll have to tell me if those are right or not
2014-04-30T19:54:12  <sdague> conceptually +1
2014-04-30T19:54:25  <sdague> review feedback reported
2014-04-30T19:54:46  *** talluri has quit IRC
2014-04-30T19:55:06  *** mwagner_lap has quit IRC
2014-04-30T19:55:12  *** talluri has joined #openstack-infra
2014-04-30T19:56:38  *** rcarrillocruz has joined #openstack-infra
2014-04-30T19:58:02  *** rcarrill` has quit IRC
2014-04-30T19:59:26  <jbooboo> sdague: nice catch.  as for -2; i'm counting on the layout check to tell us if they don't exist.  it didn't complain so i assume they do.  i belive the proposed config will run them on stable branches only.
2014-04-30T19:59:41  <portante> coverage, coverage, ... anyone, anyone, ... bueller, bueller?
2014-04-30T19:59:43  <portante> ;)
2014-04-30T20:00:08  *** andreykurilin_ has joined #openstack-infra
2014-04-30T20:00:17  <jbooboo> sdague: http://logs.openstack.org/89/88289/5/check/gate-config-layout/9cfde90/console.html.gz
2014-04-30T20:00:22  <jbooboo> <Job check-tempest-dsvm-neutron-2> ^(stable/).*$
2014-04-30T20:00:28  <jbooboo> so that one will only run on stable branches
2014-04-30T20:00:43  <jbooboo> <Job check-tempest-dsvm-neutron-pg-2> <Job check-tempest-dsvm-neutron-full-2> <Job check-tempest-dsvm-neutron-pg-full-2> run on all branches
2014-04-30T20:00:50  *** nati_ueno has joined #openstack-infra
2014-04-30T20:01:11  <sdague> I think we want them not on stable branches?
2014-04-30T20:01:12  <portante> I'd like to be able to access the results of the coverage jobs
2014-04-30T20:01:17  <sdague> salv-orlando: still up?
2014-04-30T20:01:57  *** Ryan_Lane1 has joined #openstack-infra
2014-04-30T20:02:33  <jbooboo> portante: take the sha of the commit you're interested in; eg HEAD is 59a639c116eba2211dad722b287f9a8675a5155d
2014-04-30T20:02:39  <jbooboo> portante: then go to http://logs.openstack.org/59/59a639c116eba2211dad722b287f9a8675a5155d/
2014-04-30T20:03:06  *** rloo has quit IRC
2014-04-30T20:03:22  *** markmcclain has joined #openstack-infra
2014-04-30T20:03:42  *** Ryan_Lane has quit IRC
2014-04-30T20:03:52  <jbooboo> (i think there's a git subcommand floating around to do that automatically)
2014-04-30T20:04:37  <Ajaeger> jbooboo: git os-job
2014-04-30T20:04:43  <portante> jbooboo: thanks
2014-04-30T20:04:48  <jbooboo> that's it
2014-04-30T20:04:55  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Stop over-managing user SSH keyfiles  https://review.openstack.org/91449
2014-04-30T20:04:58  *** nati_ueno has quit IRC
2014-04-30T20:05:06  *** hogepodge has quit IRC
2014-04-30T20:05:18  <foobio> mordred: jbooboo: ^
2014-04-30T20:05:19  <jogo> top of gate is waiting for docs, pep8 and py27 jobs http://status.openstack.org/zuul/
2014-04-30T20:05:21  *** Ajaeger has quit IRC
2014-04-30T20:05:31  <foobio> jogo: yep. fixing
2014-04-30T20:05:46  <jogo> foobio: awesome sauce
2014-04-30T20:06:05  *** hogepodge has joined #openstack-infra
2014-04-30T20:06:29  <jbooboo> foobio: does anything pass in "old_keys"?
2014-04-30T20:07:01  <jogo> sdague: have you seen this yet: http://logs.openstack.org/46/84446/24/gate/gate-tempest-dsvm-full/84cd8ad/logs/devstacklog.txt.gz#_2014-04-29_23_18_16_856
2014-04-30T20:07:04  <foobio> jbooboo: nope. not that my git grep in the config repo found
2014-04-30T20:07:11  <jogo> fedoraproject is giving us 403s
2014-04-30T20:07:16  <jbooboo> foobio: i think old_keys might be unrelated to this -- i think it's to support key rollover
2014-04-30T20:07:29  <foobio> jbooboo: oh
2014-04-30T20:07:34  <foobio> i'll put it back
2014-04-30T20:07:41  <sdague> jogo: yes, that was supposed to be cached in nodepool though
2014-04-30T20:07:46  <jbooboo> foobio: cool, rest looks good
2014-04-30T20:08:01  <sdague> are our nodepool images super old?
2014-04-30T20:08:03  <jogo> sdague: oh :/ is there a bug filed for this
2014-04-30T20:08:12  <foobio> jbooboo: i had originally asked mordred why it was there and he said it was transitional, but we might have been talking past each other
2014-04-30T20:08:29  *** MikeLeman has joined #openstack-infra
2014-04-30T20:08:58  <sdague> jogo: I don't think so
2014-04-30T20:09:11  * jogo files an infra bug and a e-r patch for it
2014-04-30T20:09:39  <sdague> I had thought I had that change in there long enough to get into the nodepool image, but now am realizing we might be working off of really old nodepool images now
2014-04-30T20:10:07  <jbooboo> sdague: hp is so broken we only get a new image out of them every few weeks
2014-04-30T20:10:46  <jogo> sdague: ohh HP :) don't you like your new corporate overlord?
2014-04-30T20:11:17  <sdague> heh
2014-04-30T20:11:23  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/config: Stop over-managing user SSH keyfiles  https://review.openstack.org/91449
2014-04-30T20:11:23  <sdague> jbooboo: hmmm...
2014-04-30T20:11:29  <jbooboo> jogo: good point, it's all sdague's fault now.  it used to be yours but now it's his.  ;)
2014-04-30T20:12:01  <sdague> jbooboo: ok, well followup question
2014-04-30T20:12:06  <jbooboo> sdague: apparently hpcloud1.1 is better at this, but we're on the fence about whether it's better at spinning up nodes once we actually have images.
2014-04-30T20:12:12  <jbooboo> sdague: morded was looking into that.
2014-04-30T20:12:13  <sdague> the issue is fedora download sites are terrible
2014-04-30T20:12:19  <sdague> in their uptime
2014-04-30T20:12:23  <foobio> jbooboo: mordred: as soon as we approve https://review.openstack.org/91449 i'll force merge it (we don't currently have available bare-precise slaves to test it for style checks) and then build new images asap
2014-04-30T20:12:35  <sdague> however, if we could put the image somewhere we were more sure we could pull from
2014-04-30T20:12:40  <jogo> sdague jbooboo: https://bugs.launchpad.net/openstack-ci/+bug/1314786
2014-04-30T20:12:43  <uvirtbot> Launchpad bug 1314786 in openstack-ci "/opt/stack/new/devstack/files/Fedora-x86_64-20-20131211.1-sda.qcow2 is not  cached" [Undecided,New]
2014-04-30T20:12:44  <sdague> maybe we could stick it there instead
2014-04-30T20:13:05  <jbooboo> foobio: lgtm; i'll let you aprv/subm
2014-04-30T20:13:19  <sdague> because otherwise updating some of these base images for testing will take months to ensure that nodepool images have them
2014-04-30T20:13:35  <jbooboo> sdague: the right answer is to have clouds that work
2014-04-30T20:13:42  <sdague> sure
2014-04-30T20:13:43  <openstackgerrit> A change was merged to openstack-infra/config: Stop over-managing user SSH keyfiles  https://review.openstack.org/91449
2014-04-30T20:13:51  <sdague> I can't fix that part :)
2014-04-30T20:14:19  <jbooboo> we can fix it -- move to hpcloud1.1, and that's where we should put our effort
2014-04-30T20:14:23  <sdague> ok
2014-04-30T20:14:27  <foobio> i did at least test the patch on a manually-launched node from one of the broken images to make sure that it dtrt
2014-04-30T20:14:39  <jogo> jbooboo: what happened to that, I thought that already happened
2014-04-30T20:14:39  <jbooboo> foobio: you have high standards
2014-04-30T20:14:48  <jogo> or at least you previously mentioned it
2014-04-30T20:14:55  <sdague> jbooboo: so what needs to happen to get us there?
2014-04-30T20:14:56  <jbooboo> jogo: we're 1/3 of the way there, ask mordred for progress report
2014-04-30T20:15:06  <jogo> mordred: ^
2014-04-30T20:15:08  <foobio> and it does in fact seem to be capable of adding the keyfiles and ssh dires automatically, and appears to calculate its dependence on the user objects as well
2014-04-30T20:15:18  *** freyes_ has joined #openstack-infra
2014-04-30T20:15:18  <foobio> s/dires/dirs/
2014-04-30T20:15:32  *** freyes_ has quit IRC
2014-04-30T20:16:52  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/elastic-recheck: Add fingerprint for bug 1314786  https://review.openstack.org/91453
2014-04-30T20:16:56  <uvirtbot> Launchpad bug 1314786 in openstack-ci "/opt/stack/new/devstack/files/Fedora-x86_64-20-20131211.1-sda.qcow2 is not  cached" [Undecided,New] https://launchpad.net/bugs/1314786
2014-04-30T20:17:05  <jogo> sdague: ^ e-r patch
2014-04-30T20:17:37  *** Ryan_Lane1 has quit IRC
2014-04-30T20:18:04  <sdague> jogo: should be tags:console
2014-04-30T20:18:14  <sdague> because we'll start seeing this in grenade at some point
2014-04-30T20:18:39  <jogo> ack, found another manifestion as well
2014-04-30T20:18:44  <jogo> http://logs.openstack.org/47/90247/1/gate/gate-tempest-dsvm-neutron/813bb88/logs/devstacklog.txt.gz#_2014-04-30_00_04_47_103
2014-04-30T20:20:18  <jogo> sdague: (message:"awaiting response... 403 Forbidden" OR message:"Unable to establish SSL connection.") AND tags:"console"
2014-04-30T20:20:28  <jogo> I am not sure how to include fedora in the query
2014-04-30T20:21:08  <sdague> I don't think you can
2014-04-30T20:21:28  <jogo> with just the console tag it may be a pretty broad query, but we will see
2014-04-30T20:21:30  *** dprince has quit IRC
2014-04-30T20:21:37  <sdague> any egregious hits on that which don't look like this problem?
2014-04-30T20:21:43  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/elastic-recheck: Add fingerprint for bug 1314786  https://review.openstack.org/91453
2014-04-30T20:21:44  <uvirtbot> Launchpad bug 1314786 in openstack-ci "/opt/stack/new/devstack/files/Fedora-x86_64-20-20131211.1-sda.qcow2 is not  cached" [Undecided,New] https://launchpad.net/bugs/1314786
2014-04-30T20:21:58  <jogo> where this problem involves fedora
2014-04-30T20:22:02  <jogo> mirror
2014-04-30T20:22:05  <sdague> correct
2014-04-30T20:22:06  <gabriel-bezerra> something is definitely wrong with zuul. look at how long all those builds are taking to run
2014-04-30T20:22:09  <gabriel-bezerra> more than 3h
2014-04-30T20:22:17  <foobio> gabriel-bezerra: yes, it will be working again soon
2014-04-30T20:22:54  <jogo> sdague: anyway next question: what are your thoughts on adding neutron grenade logs to e-r?
2014-04-30T20:23:07  <sdague> to e-s
2014-04-30T20:23:11  <jogo> err yes
2014-04-30T20:23:11  <sdague> yes, we should do that
2014-04-30T20:23:18  <foobio> #status alert the gate is backed up due to broken nodepool images, fix in progress (eta 22:00 utc)
2014-04-30T20:23:18  <openstackstatus> foobio: sending alert
2014-04-30T20:23:26  * jogo preps a patch
2014-04-30T20:24:25  *** _nadya_ has joined #openstack-infra
2014-04-30T20:24:58  <morganfainberg> sdague, here now
2014-04-30T20:25:00  -openstackstatus- NOTICE: the gate is backed up due to broken nodepool images, fix in progress (eta 22:00 utc)
2014-04-30T20:25:02  <morganfainberg> sdague, sorry was at lunch
2014-04-30T20:25:03  *** ChanServ changes topic to "the gate is backed up due to broken nodepool images, fix in progress (eta 22:00 utc)"
2014-04-30T20:25:20  <morganfainberg> sdague, i'm fine with it being in either ds-g or in devstack
2014-04-30T20:25:23  *** SumitNaiksatam has quit IRC
2014-04-30T20:25:23  <morganfainberg> sdague, both work for me.
2014-04-30T20:25:37  <sdague> morganfainberg: so the question is about defaults
2014-04-30T20:25:39  *** nati_ueno has joined #openstack-infra
2014-04-30T20:25:48  <morganfainberg> sdague, i don't want to change any defaults at this point
2014-04-30T20:26:01  <morganfainberg> sdague, eventually we might make keystone default to an apache deploy, but we want to test it for sure
2014-04-30T20:26:15  <sdague> ok, so if we're not changing defaults, I think d-g is the right place for this
2014-04-30T20:26:18  *** mrodden has quit IRC
2014-04-30T20:26:18  <morganfainberg> sdague, my goal is to make a new check (non-vote) job to start with, eventually gate on it
2014-04-30T20:26:23  *** Ryan_Lane has joined #openstack-infra
2014-04-30T20:26:33  <sdague> morganfainberg: ok, so you're going to be at the test matrix session right? :)
2014-04-30T20:26:47  <morganfainberg> sdague, was planning on it. haven't done my schedule yet
2014-04-30T20:26:56  <morganfainberg> sdague :)
2014-04-30T20:26:58  <openstackstatus> foobio: finished sending alert
2014-04-30T20:27:06  <sdague> because we can't just multiply out another keystone config independant of all the other configs
2014-04-30T20:27:22  <sdague> at least not across everything
2014-04-30T20:27:32  *** mrodden has joined #openstack-infra
2014-04-30T20:27:44  <morganfainberg> sdague, correct. i was planning on making this a keystone-only check/gate job for now
2014-04-30T20:28:13  <sdague> ok, so lets play that game to get started. You might also want to only include keystone in the apache services list then
2014-04-30T20:28:29  <morganfainberg> sdague, ++ was just going to suggest isolating this to keystone for this change
2014-04-30T20:28:33  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Handle file renames in diff view  https://review.openstack.org/91458
2014-04-30T20:28:45  <morganfainberg> sdague, or well say that was my plan in this case.
2014-04-30T20:29:04  <morganfainberg> eventually i think we should have a mod_wsgi based check for anything that can run under mod_wsgi... but different argument different time
2014-04-30T20:29:24  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/config: Add grenade neutron logs to ElasticSearch  https://review.openstack.org/91459
2014-04-30T20:29:53  <morganfainberg> sdague, thanks for looking at it :)
2014-04-30T20:30:11  <jbooboo> yeah, if we're diverging from the default then we should put a switch in d-g -- but when it becomes the defacto default in d-g, or even the recommended way to deploy in devstack, it should become the default in devstack and eventually be removed from d-g
2014-04-30T20:30:45  <morganfainberg> jbooboo, ++ 100% agree
2014-04-30T20:30:45  <sdague> jbooboo: agreed
2014-04-30T20:33:23  *** eharney has quit IRC
2014-04-30T20:35:34  *** aconrad has quit IRC
2014-04-30T20:37:01  *** maxbit has quit IRC
2014-04-30T20:37:37  <openstackgerrit> Antoine Musso proposed a change to stackforge/python-jenkins: Wrap tests and linting with tox  https://review.openstack.org/89521
2014-04-30T20:37:53  <sdague> anyone know who owns the ops tracks at design summit?
2014-04-30T20:38:13  <foobio> sdague: the user committee i believe
2014-04-30T20:38:57  <hashar> jbooboo: will you have anytime this week to review/merge the addition of tox to stackforge/python-jenkins ?  That is preventing us from adding triggers in Zuul for that repo :-)
2014-04-30T20:39:09  <foobio> sdague: might ask fifieldt and/or reed when they're around
2014-04-30T20:39:38  *** sdake_ has quit IRC
2014-04-30T20:39:55  <sdague> foobio: thanks
2014-04-30T20:39:59  *** ociuhandu has joined #openstack-infra
2014-04-30T20:42:00  <jbooboo> hashar: i know!  i just saw the review to config that added the jobs.  i've gone from 96 reviews to 37 so far today.  i'm getting close.  i'll add you and mgagne to the group for python-jenkins.
2014-04-30T20:42:19  <hashar> jbooboo: take your time. I know you are a busy guy :]
2014-04-30T20:42:33  *** jcoufal has quit IRC
2014-04-30T20:42:35  <jbooboo> hashar: you should have +2 there now
2014-04-30T20:42:35  <ArxCruz> anteaya: jbooboo hi, after I upgrade my zuul and layout.yaml today, I start to subscribe in all changes (although I'm not voting) is that normal from now ?
2014-04-30T20:42:56  <hashar> jbooboo: you are awesome :] Can you add Khai Do as well? he is very active on jjb
2014-04-30T20:43:01  *** Ryan_Lane has quit IRC
2014-04-30T20:43:03  <jbooboo> zaro: done ^
2014-04-30T20:43:15  <hashar> unless he objects of course
2014-04-30T20:43:25  <jbooboo> heh, he can remove himself ;)
2014-04-30T20:43:34  <jbooboo> ArxCruz: i'm not sure i understand the question
2014-04-30T20:43:58  <jbooboo> ArxCruz: (specifically, i don't know what you mean by subscribe)
2014-04-30T20:44:34  <ArxCruz> jbooboo: https://review.openstack.org/#/c/90607/
2014-04-30T20:44:43  <ArxCruz> IBM Power KVM is in the review list
2014-04-30T20:45:22  <ArxCruz> my layout.yaml have gerrit: { } as you told me to do yesterday
2014-04-30T20:45:36  <ArxCruz> this is making us receive a lot of emails for every change :)
2014-04-30T20:46:08  *** lcostantino has quit IRC
2014-04-30T20:46:10  <foobio> ArxCruz: it looks like IBM PowerKVM Testing reported on that change
2014-04-30T20:46:19  <foobio> at 15:24
2014-04-30T20:47:15  *** adalbas has quit IRC
2014-04-30T20:47:15  *** aconrad has joined #openstack-infra
2014-04-30T20:47:23  <ArxCruz> foobio: yeah, but ibm powerkvm reported before, but never was added in the reviewer list
2014-04-30T20:48:27  <foobio> ArxCruz: odd, i thought any time an account commented on a change it was automatically added to the list of reviewers for that change
2014-04-30T20:48:31  *** etoews has joined #openstack-infra
2014-04-30T20:48:58  <ArxCruz> foobio: nope, that's why I'm asking if that's the new behavior
2014-04-30T20:48:59  *** mbacchi has quit IRC
2014-04-30T20:49:31  <foobio> ArxCruz: it's possible you were managing to not end up on the reviewers list for changes previously (i'm not sure how that was happening but i assume it must have been) and gerrit 2.8 perhaps behaves differently in that regard than 2.4 did
2014-04-30T20:49:45  <ArxCruz> krtaylor: ^
2014-04-30T20:49:57  <ArxCruz> foobio: that's what I want to confirm :)
2014-04-30T20:50:19  <jbooboo> ArxCruz: my understanding was the same as foobio's.
2014-04-30T20:50:44  <foobio> the other possibility is that the tweaks we had to do to zuul to support non-voting changes in the 2.8 api altered that behavior subtly?
2014-04-30T20:51:01  <ArxCruz> well, i'm using latest zuul
2014-04-30T20:51:39  <foobio> right, zuul got some patches when we upgraded gerrit, related to supporting newer gerrit
2014-04-30T20:52:17  *** jcoufal has joined #openstack-infra
2014-04-30T20:53:21  *** jcoufal has quit IRC
2014-04-30T20:55:21  *** Ryan_Lane has joined #openstack-infra
2014-04-30T20:56:06  *** zns has quit IRC
2014-04-30T20:57:19  <ArxCruz> well, I can't investigate it right now, I'm trying to make puppetboard works correctly here, the report are not appearing
2014-04-30T20:57:31  <ArxCruz> btw if someone have experience on it ... ;)
2014-04-30T20:58:22  *** marcoemorais has quit IRC
2014-04-30T20:58:43  *** zns has joined #openstack-infra
2014-04-30T20:59:44  *** arnaud__ has quit IRC
2014-04-30T21:00:59  *** ArxCruz has quit IRC
2014-04-30T21:01:06  *** pdmars has quit IRC
2014-04-30T21:03:21  <morganfainberg> pleia2, i'm looking at how to fix reviewday to handle the new WIP mode, just noticed WIP patches floated to the top again.
2014-04-30T21:03:32  <zaro> ohh cool, python-jenkins made it into gerrit.
2014-04-30T21:03:43  *** _nadya_ has quit IRC
2014-04-30T21:04:04  *** sdake_ has joined #openstack-infra
2014-04-30T21:04:13  <foobio> okay, one of the bare-precise image builds has completed so far (hpcloud-az3). others are close behind i think
2014-04-30T21:04:46  <foobio> 10 nodes building there so far
2014-04-30T21:04:57  *** thomasem has quit IRC
2014-04-30T21:05:22  *** etoews has quit IRC
2014-04-30T21:05:31  *** thomasem has joined #openstack-infra
2014-04-30T21:05:46  *** etoews has joined #openstack-infra
2014-04-30T21:06:13  <foobio> 15
2014-04-30T21:06:50  *** dkliban is now known as dkliban_afk
2014-04-30T21:06:55  <boris-42> jbooboo hi
2014-04-30T21:10:18  *** aconrad has quit IRC
2014-04-30T21:10:22  *** thomasem has quit IRC
2014-04-30T21:10:31  *** rcarrill` has joined #openstack-infra
2014-04-30T21:10:39  <foobio> and some in use now
2014-04-30T21:11:12  *** rcarrillocruz has quit IRC
2014-04-30T21:11:25  <foobio> rax-ord has a ready image and is building nodes now as well
2014-04-30T21:12:17  *** markmcclain has quit IRC
2014-04-30T21:12:48  <openstackgerrit> James E. Blair proposed a change to stackforge/gertty: Handle binary files in diffstat  https://review.openstack.org/91467
2014-04-30T21:12:59  <openstackgerrit> Morgan Fainberg proposed a change to openstack-infra/devstack-gate: Allow setting services up under apache mod_wsgi  https://review.openstack.org/90812
2014-04-30T21:13:54  *** marcoemorais has joined #openstack-infra
2014-04-30T21:13:59  <jbooboo> intervals between fixing gertty for changes it can't handle are increasing!  that was 50 minutes of nonstop reviewing!
2014-04-30T21:14:00  <jbooboo> boris-42: hello
2014-04-30T21:14:54  <boris-42> jbooboo so about Rally checks
2014-04-30T21:15:00  <boris-42> jbooboo could I introduce you a bit?
2014-04-30T21:15:46  <openstackgerrit> Morgan Fainberg proposed a change to openstack-infra/devstack-gate: Allow setting services up under apache mod_wsgi  https://review.openstack.org/90812
2014-04-30T21:16:12  <jbooboo> boris-42: i'm personally interested and excited about it, but my comment wasn't based on whether i thought rally was a good idea.  it's about how we introduce new jobs like that.
2014-04-30T21:16:55  <jbooboo> boris-42: i think what you are proposing should start out in the experimental pipeline so you can demonstrate that it works, and how it works
2014-04-30T21:17:18  <boris-42> jbooboo so actually we already demonstrated in rally gate
2014-04-30T21:17:44  <boris-42> jbooboo basically in rally we are going to use it to check that all benchmarks works
2014-04-30T21:18:10  <boris-42> jbooboo as in keystone check is already merged
2014-04-30T21:18:14  <boris-42> jbooboo let me just show
2014-04-30T21:18:27  <boris-42> jbooboo you are putting here https://review.openstack.org/#/c/90405/3/rally-scenarios/keystone.yaml task configuration for rally
2014-04-30T21:18:42  *** aconrad has joined #openstack-infra
2014-04-30T21:18:43  <boris-42> jbooboo it can be one or more benchmarks with any load in any enviroment
2014-04-30T21:19:14  <boris-42> jbooboo as a result you are getting all logs collected (dsvm job) + this pretty graphic http://logs.openstack.org/05/90405/3/check/check-rally-dsvm-keystone/81a809d/rally-plot/results.html.gz
2014-04-30T21:19:19  *** markwash has quit IRC
2014-04-30T21:19:25  *** etoews has quit IRC
2014-04-30T21:19:26  <boris-42> jbooboo ^ that shows that something is not ok with this thing under load
2014-04-30T21:19:37  <boris-42> jbooboo 0 on graph == exception
2014-04-30T21:19:56  <boris-42> jbooboo so there are 2 use cases
2014-04-30T21:20:11  <foobio> confirmed i could log into one of the fresh bare-precise nodes and here's a job which ran to completion on one as well... https://jenkins05.openstack.org/job/gate-ironic-docs/294/console
2014-04-30T21:20:12  <boris-42> default task that will allow us to track performance of major functionallity
2014-04-30T21:20:20  <foobio> so i think everything should start catching back up shortly
2014-04-30T21:20:35  <boris-42> jbooboo and actually working on performance
2014-04-30T21:20:40  <foobio> i'm going to take a break for dinner and hopefully clear the status alert when i get back
2014-04-30T21:20:56  <boris-42> jbooboo e.g. 1 patch just changes project_name.yaml and measure gates
2014-04-30T21:21:09  <boris-42> jbooboo probably one time recheck to ensure
2014-04-30T21:21:24  <boris-42> jbooboo and then your code with same content of project_name.yaml
2014-04-30T21:21:30  <boris-42> jbooboo and probably recheck
2014-04-30T21:21:59  <boris-42> jbooboo so we are getting different numbers and able to check does current patch improves performance or not
2014-04-30T21:22:25  <boris-42> jbooboo in future we are going to add normalization of benchmark results + comparison with last merged patch performance
2014-04-30T21:22:47  <boris-42> jbooboo so it will be even more usefully and probably we will be able to make +1/-1 decision depending of changes in perfroamnce
2014-04-30T21:22:55  *** dkranz has quit IRC
2014-04-30T21:24:31  *** eharney has joined #openstack-infra
2014-04-30T21:24:59  <openstackgerrit> Derek Higgins proposed a change to openstack-infra/config: Create tripleo-specs git repo  https://review.openstack.org/89691
2014-04-30T21:27:19  <zaro> jbooboo: so, hope you have time now.  about gear ssl.
2014-04-30T21:27:43  <jbooboo> zaro: yeah, what do you need?
2014-04-30T21:27:47  <zaro> jbooboo: i have setup a vm and i'm trying to test gear ssl by running server, worker, and client all on same vm
2014-04-30T21:28:07  <zaro> jbooboo: used this website as instructions to create my certs: http://forum.synology.com/wiki/index.php/How_to_generate_custom_SSL_certificates
2014-04-30T21:28:19  *** dangers is now known as dangers_away
2014-04-30T21:29:08  <zaro> jbooboo: this is how i start the server: geard -d --ssl-ca=/home/ubuntu/ca.crt --ssl-cert=/home/ubuntu/server.crt --ssl-key=/home/ubuntu/server.key
2014-04-30T21:30:12  <zaro> jbooboo: this is my worker connection setting: worker.addServer('localhost',4730,'/home/ubuntu/server.key','/home/ubuntu/server.crt','/home/ubuntu/ca.crt')
2014-04-30T21:30:25  <jbooboo> zaro: the worker should get its own cert
2014-04-30T21:30:58  <zaro> jbooboo: why? it's on the same machine.
2014-04-30T21:31:05  *** MikeLeman has quit IRC
2014-04-30T21:31:32  *** rlandy is now known as rlandy|afk
2014-04-30T21:31:38  *** jgrimm has quit IRC
2014-04-30T21:31:45  <jbooboo> zaro: it's part of how the gear acls work -- they are based on the cn in the cert, so each worker/client should get their own
2014-04-30T21:32:01  <lifeless> jbooboo: https://review.openstack.org/#/c/89691/ - are new-project things still once a week ?
2014-04-30T21:32:13  <jbooboo> lifeless: no
2014-04-30T21:32:35  <lifeless> jbooboo: yay :)
2014-04-30T21:32:50  <jbooboo> indeed :)
2014-04-30T21:32:58  <lifeless> (unless of ourese they are now once a month, in which case sad)
2014-04-30T21:33:23  <zaro> jbooboo: sorry, i'm newbie to this,  not real sure what to do now so i'm gonna ask real simple questions.
2014-04-30T21:33:48  <zaro> jbooboo: do you mean use the same instructions to create a seperate set of certs with the same cn name?
2014-04-30T21:33:52  *** hashar has quit IRC
2014-04-30T21:34:19  <jbooboo> zaro: here's what i did in my testing: http://paste.openstack.org/show/78082/
2014-04-30T21:35:07  <jbooboo> zaro: so yes -- using the commands i supplied, repeat the last two for each client you want to connect.  i did it once with CLIENT='client', and another with 'worker' and another with 'server'.
2014-04-30T21:35:40  <jbooboo> zaro: then i used the 'server' key for geard, the 'worker' key for my test worker, and the 'client' key when connecting with openssl on the command line.
2014-04-30T21:36:52  <zaro> jbooboo: ok. i will try that.  thanks.
2014-04-30T21:37:07  <jbooboo> zaro: then i used this acl file with geard: http://paste.openstack.org/show/78085/
2014-04-30T21:37:13  *** yamahata has quit IRC
2014-04-30T21:37:45  <jbooboo> zaro: (the [worker] and [client] sections there refer to the certificate names above (they don't mean "any worker", the mean "whoever connects with the cert named 'worker'")
2014-04-30T21:40:18  *** yamahata has joined #openstack-infra
2014-04-30T21:40:31  *** rfolco has quit IRC
2014-04-30T21:41:27  <openstackgerrit> A change was merged to stackforge/gertty: Properly register password from prompt  https://review.openstack.org/91392
2014-04-30T21:41:32  <openstackgerrit> A change was merged to stackforge/gertty: Normalize URL to ends with a slash  https://review.openstack.org/91393
2014-04-30T21:41:42  *** mriedem has quit IRC
2014-04-30T21:42:05  <openstackgerrit> A change was merged to stackforge/gertty: Fix editing inline comments  https://review.openstack.org/91410
2014-04-30T21:42:11  <openstackgerrit> A change was merged to stackforge/gertty: Handle "No newline at end of file" and add --no-sync option  https://review.openstack.org/91418
2014-04-30T21:42:13  <openstackgerrit> Marc Abramowitz proposed a change to stackforge/python-jenkins: 100% test coverage  https://review.openstack.org/90500
2014-04-30T21:42:52  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Support excludes when recursively processing paths  https://review.openstack.org/68895
2014-04-30T21:42:54  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Added recursive option  https://review.openstack.org/85106
2014-04-30T21:43:14  <openstackgerrit> A change was merged to stackforge/gertty: Handle file renames in diff view  https://review.openstack.org/91458
2014-04-30T21:43:42  <openstackgerrit> A change was merged to stackforge/gertty: Handle binary files in diffstat  https://review.openstack.org/91467
2014-04-30T21:46:58  <openstackgerrit> Marc Abramowitz proposed a change to stackforge/python-jenkins: Add .gitignore  https://review.openstack.org/90188
2014-04-30T21:47:07  *** markwash has joined #openstack-infra
2014-04-30T21:50:45  *** rhsu has joined #openstack-infra
2014-04-30T21:54:44  *** matty_dubs is now known as matty_dubs|gone
2014-04-30T22:01:20  *** shardy is now known as shardy_afk
2014-04-30T22:03:15  <zaro> jbooboo: which file corresponds to the 'ssl-ca'? the .crt, .csr or .key?
2014-04-30T22:04:11  *** aconrad has quit IRC
2014-04-30T22:05:26  *** yidclare has quit IRC
2014-04-30T22:09:02  <jbooboo> zaro: for the purpose of configuring gearman, ca.crt is the one you want.
2014-04-30T22:09:22  <salv-orlando> sdague: if you still need me I'm here
2014-04-30T22:09:28  <jbooboo> zaro: (your geard command line from earlier looked right)
2014-04-30T22:09:43  *** gondoi is now known as zz_gondoi
2014-04-30T22:09:57  <sdague> salv-orlando: I think there was just a question of intent on the full patch
2014-04-30T22:10:03  <sdague> because it made some of the jobs vote on stable only
2014-04-30T22:11:26  <salv-orlando> ah I see the intent is to run smoke jobs on stable only, the full job anywhere but voting only on master
2014-04-30T22:11:36  <salv-orlando> not sure if my patch implements that intent however
2014-04-30T22:12:19  <jbooboo> sdague: thoughts on https://review.openstack.org/#/c/89493/ and possible interaction with test_matrix.py?
2014-04-30T22:12:52  <zaro> jbooboo: i got a connection!  thanks.
2014-04-30T22:13:00  <jbooboo> zaro: yaay!
2014-04-30T22:14:01  <mattoliverau> Morning all
2014-04-30T22:15:29  *** nati_ueno has quit IRC
2014-04-30T22:16:45  *** aconrad has joined #openstack-infra
2014-04-30T22:18:47  <foobio> awesome--i've not missed much
2014-04-30T22:19:36  <zaro> foobio: you might want to pickup this bug? https://bugs.launchpad.net/openstack-ci/+bug/1248794
2014-04-30T22:19:37  <uvirtbot> Launchpad bug 1248794 in openstack-ci "Allow core reviewers restore auto-abandoned reviews" [Medium,In progress]
2014-04-30T22:21:06  *** ihrachyshka has quit IRC
2014-04-30T22:21:48  <foobio> i see fairly many bare-precise nodes running jobs now, but no obvious movement in zuul status
2014-04-30T22:22:56  <openstackgerrit> Alex Conrad proposed a change to openstack-infra/jenkins-job-builder: support execute-on for postbuildscript  https://review.openstack.org/90507
2014-04-30T22:24:34  <openstackgerrit> Alex Conrad proposed a change to openstack-infra/jenkins-job-builder: support execute-on for postbuildscript  https://review.openstack.org/90507
2014-04-30T22:24:58  <foobio> yeah, something's not right. bare-precise-rax-iad-3912914.slave.openstack.org is running gate-nova-pep8 for 91025,1 but the zuul status page says that's still queued
2014-04-30T22:25:43  *** atiwari has quit IRC
2014-04-30T22:26:21  <foobio> it ran in the gate pipeline and completed reporting success...
2014-04-30T22:26:51  <foobio> and then nodepoold marked it for delete
2014-04-30T22:27:35  <foobio> huh, now zuul shows the same job running, no longer queued, but on bare-precise-rax-ord-3913855
2014-04-30T22:27:38  *** smarcet has quit IRC
2014-04-30T22:28:19  <foobio> ahh, i bet the other was queued from a gate reset
2014-04-30T22:28:22  *** nati_ueno has joined #openstack-infra
2014-04-30T22:28:27  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Clean up some variable references  https://review.openstack.org/88475
2014-04-30T22:28:39  <foobio> and i walked in at just the wrong moment :/
2014-04-30T22:29:08  <jesusaurus> can i get some eyes on https://review.openstack.org/#/c/89708/ ?
2014-04-30T22:29:17  *** bknudson has quit IRC
2014-04-30T22:29:29  *** mfer has quit IRC
2014-04-30T22:30:21  *** yidclare has joined #openstack-infra
2014-04-30T22:30:59  <foobio> jesusaurus: so 89708 mostly moves jenkins slave scripts out of the jenkins module and into the openstack_project module?
2014-04-30T22:31:14  <jesusaurus> yeah
2014-04-30T22:31:24  <foobio> oh, and a lot of the manifest too actually
2014-04-30T22:31:25  <openstackgerrit> A change was merged to openstack-infra/config: Create bash8 project in openstack-dev  https://review.openstack.org/88747
2014-04-30T22:31:43  <foobio> okay, ^ proof things are indeed moving again
2014-04-30T22:32:25  <jesusaurus> foobio: it also moves bits of the ::jenkins::slave class into the ::openstack_projects module
2014-04-30T22:32:36  <jesusaurus> since most of that class is openstack-specific
2014-04-30T22:32:44  <foobio> yep, i see that
2014-04-30T22:33:39  <openstackgerrit> A change was merged to openstack-infra/config: Update zuul merger init script  https://review.openstack.org/91211
2014-04-30T22:33:41  <jesusaurus> and i also found that the term "bare slave" is overloaded, so i renamed the two things to simple_slave and thick_slave
2014-04-30T22:33:43  <foobio> the thin/thick terminology is good, i think
2014-04-30T22:33:52  <foobio> yes, my thinking exactly
2014-04-30T22:34:44  <openstackgerrit> A change was merged to openstack-infra/config: Add devstack job for Mistral project  https://review.openstack.org/91335
2014-04-30T22:35:58  *** Ryan_Lane1 has joined #openstack-infra
2014-04-30T22:36:03  <mgagne> at least we know https://review.openstack.org/#/c/89708/ didn't break XenAPI driver...
2014-04-30T22:36:08  *** Ryan_Lane has quit IRC
2014-04-30T22:37:25  *** prad_ has quit IRC
2014-04-30T22:39:08  *** gyee has quit IRC
2014-04-30T22:39:34  <jbooboo> mgagne: yeah, i think they fixed that
2014-04-30T22:40:24  *** doddstack has quit IRC
2014-04-30T22:42:08  *** weshay has quit IRC
2014-04-30T22:42:18  <mattoliverau> .
2014-04-30T22:42:25  <zaro> jesusaurus: ++ on thick/thin
2014-04-30T22:42:59  <jesusaurus> :)
2014-04-30T22:43:00  *** signed8bit has quit IRC
2014-04-30T22:43:24  *** signed8bit has joined #openstack-infra
2014-04-30T22:43:34  <mgagne> jesusaurus: thanks for the cleanup =)
2014-04-30T22:43:49  *** nati_ueno has quit IRC
2014-04-30T22:45:36  *** nati_ueno has joined #openstack-infra
2014-04-30T22:46:28  <jesusaurus> de nada
2014-04-30T22:47:11  *** UtahDave has quit IRC
2014-04-30T22:48:52  *** arnaud__ has joined #openstack-infra
2014-04-30T22:49:39  *** bknudson has joined #openstack-infra
2014-04-30T22:51:24  *** jhesketh_ has quit IRC
2014-04-30T22:52:58  *** andreykurilin_ has quit IRC
2014-04-30T22:53:02  <openstackgerrit> Alex Conrad proposed a change to openstack-infra/jenkins-job-builder: support execute-on for postbuildscript  https://review.openstack.org/90507
2014-04-30T22:53:33  *** jhesketh__ has joined #openstack-infra
2014-04-30T22:53:35  *** sweston has quit IRC
2014-04-30T22:54:11  *** bknudson has quit IRC
2014-04-30T22:54:22  *** jhesketh__ is now known as jhesketh
2014-04-30T22:57:07  <jhesketh> Morning
2014-04-30T22:58:12  *** david-lyle has quit IRC
2014-04-30T22:58:30  *** david-lyle has joined #openstack-infra
2014-04-30T22:58:44  *** david-lyle has quit IRC
2014-04-30T22:59:07  *** aysyd has quit IRC
2014-04-30T22:59:18  *** zns has quit IRC
2014-04-30T23:00:20  *** flaper87 is now known as flaper87|afk
2014-04-30T23:01:35  *** jamielennox|away is now known as jamielennox
2014-04-30T23:03:58  *** arnaud__ has quit IRC
2014-04-30T23:09:11  *** signed8bit has quit IRC
2014-04-30T23:09:13  *** bknudson has joined #openstack-infra
2014-04-30T23:09:27  <openstackgerrit> Steve Kowalik proposed a change to openstack-infra/gitdm: Add StevenK to the HP group list  https://review.openstack.org/82706
2014-04-30T23:11:22  *** zns has joined #openstack-infra
2014-04-30T23:12:31  *** hemna is now known as hemna__
2014-04-30T23:16:09  <jbooboo> phschwartz: something like 50-75% of dfw and iad nodes are failing to start now (i'm seeing lots of "ERROR" states in the logs) ord is great.
2014-04-30T23:17:15  <phschwartz> do you have instance id's for some that went to ERROR
2014-04-30T23:17:22  <phschwartz> I want to get an admin looking right now
2014-04-30T23:17:25  <jbooboo> 1 sec
2014-04-30T23:17:25  <phschwartz> jbooboo: ^^
2014-04-30T23:17:38  *** wenlock has quit IRC
2014-04-30T23:18:30  <jbooboo> phschwartz: 8d320eec-6f6a-416c-a526-a14437568029  at  2014-04-30 23:17:21,512
2014-04-30T23:18:41  <jbooboo> that was bare-precise-rax-dfw-3915000.slave.openstack.org
2014-04-30T23:19:00  <phschwartz> jbooboo: let me pull up the nova log
2014-04-30T23:21:10  *** luisg__ has joined #openstack-infra
2014-04-30T23:21:18  *** luisg_ has quit IRC
2014-04-30T23:31:33  *** mrodden has quit IRC
2014-04-30T23:32:25  *** sweston has joined #openstack-infra
2014-04-30T23:38:13  *** sweston has quit IRC
2014-04-30T23:38:17  <harlowja> jbooboo how do u currently exit gertty ?? :)
2014-04-30T23:38:28  <harlowja> kill `pid`?
2014-04-30T23:38:54  <anteaya> ctrl \
2014-04-30T23:39:20  <jbooboo> yeah ^, i need to add those daemon flags you pointed out.  :)
2014-04-30T23:40:54  *** sweston__ has joined #openstack-infra
2014-04-30T23:41:03  *** sweston__ is now known as sweston
2014-04-30T23:41:30  <mattoliverau> anteaya: Do I need to generate a gerrit http password to use gertty?
2014-04-30T23:41:52  <anteaya> yes
2014-04-30T23:42:05  <anteaya> in settings you should see where
2014-04-30T23:42:14  <anteaya> click the generate button
2014-04-30T23:42:17  <anteaya> ta da
2014-04-30T23:45:04  <mattoliverau> thought so, just wanted to make sure :)
2014-04-30T23:45:28  *** SumitNaiksatam has joined #openstack-infra
2014-04-30T23:45:44  *** mrodden has joined #openstack-infra
2014-04-30T23:48:00  *** nati_ueno has quit IRC
2014-04-30T23:48:23  *** nati_ueno has joined #openstack-infra
2014-04-30T23:48:25  <anteaya> mattoliverau: sure
2014-04-30T23:49:13  *** mrodden has quit IRC
2014-04-30T23:54:27  *** manishg has quit IRC
2014-04-30T23:54:30  *** nati_ueno has quit IRC
2014-04-30T23:56:13  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: JJB can take longer than 5 minutes to run  https://review.openstack.org/91489
