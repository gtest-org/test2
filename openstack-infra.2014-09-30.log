2014-09-30T00:01:08  *** armax has quit IRC
2014-09-30T00:02:04  *** hdd has quit IRC
2014-09-30T00:02:44  <foobio> i love how the operators list explodes with malcontent each time we eol a stable branch
2014-09-30T00:03:44  <mordred> hehe
2014-09-30T00:04:04  *** wenlock has quit IRC
2014-09-30T00:05:52  *** baoli has quit IRC
2014-09-30T00:07:47  *** tomoe has left #openstack-infra
2014-09-30T00:08:02  *** todd_dsm has joined #openstack-infra
2014-09-30T00:08:43  <superbee> foobio has that happened already? I am not seeing it if so
2014-09-30T00:09:52  *** tgohad has joined #openstack-infra
2014-09-30T00:10:52  *** JayJ has joined #openstack-infra
2014-09-30T00:10:59  <foobio> superbee: http://lists.openstack.org/pipermail/openstack-operators/2014-September/005229.html
2014-09-30T00:11:34  <krotscheck> Hrmp. That didn’t work. Ahh well, I’ll poke it more in the morning.
2014-09-30T00:11:37  <sdague> jogo: so you caught a real bug, but not the one you think :)
2014-09-30T00:11:52  *** tsg has quit IRC
2014-09-30T00:12:38  *** baoli has joined #openstack-infra
2014-09-30T00:13:03  *** yamamoto has joined #openstack-infra
2014-09-30T00:13:13  <openstackgerrit> Sean Dague proposed a change to openstack-infra/elastic-recheck: fix Launchpad link name  https://review.openstack.org/124928
2014-09-30T00:13:37  <sdague> jogo: the link in ER that I'm adding isn't to launchpad, it's to that graph on the page
2014-09-30T00:15:05  <sdague> so http://status.openstack.org/elastic-recheck/#1334109 will take you to that bug entry in the er page
2014-09-30T00:15:45  <jlk> it's almost as if people don't understand that if they want long term maintenance of a software set, they should get said software from a long term maintenance vendor
2014-09-30T00:15:48  <jlk> like, say Red Hat
2014-09-30T00:17:18  *** tgohad has quit IRC
2014-09-30T00:17:53  <foobio> jlk: well, we'd love it if red hat, ubuntu, suse and others dedicated more resources to maintaining our stable branches upstream longer, but the unfortunate truth is that after a time it's too much work and things are far simpler for them to just keep it working with whatever software dependencies they shipped with it when it released
2014-09-30T00:18:15  <jlk> sure, it's on them to keep the old stuff working within their offering
2014-09-30T00:18:21  <jlk> where they have more control over the userland
2014-09-30T00:18:32  <jlk> but end users can't expect that to come for free
2014-09-30T00:18:44  *** SumitNaiksatam has quit IRC
2014-09-30T00:19:05  <foobio> jlk: i'm actually thrilled that they and others manage to keep support for our releases updated and fresh for as much as a year, and take care of more than one in parallel even
2014-09-30T00:19:14  *** xchu has joined #openstack-infra
2014-09-30T00:19:33  *** marcoemorais has quit IRC
2014-09-30T00:19:41  <jlk> yeah, as you stated in the thread, that's well beyond what most upstreams can manage
2014-09-30T00:19:49  <jlk> most are HEAD or GTFO
2014-09-30T00:20:15  <foobio> supporting stable branches upstream for longer is mainly just a question of resources, and so far people only manage to step up and keep it going for roughly a year per release
2014-09-30T00:20:44  *** otherwiseguy has joined #openstack-infra
2014-09-30T00:21:02  *** bdpayne has quit IRC
2014-09-30T00:21:19  *** zz_dimtruck is now known as dimtruck
2014-09-30T00:21:21  <foobio> but it's not like we arbitrarily choose to end support for releases, and i find it amusing that there are so many people who just don't get that
2014-09-30T00:21:37  <krotscheck> A question about jjb- when I set the flag of ‘keep hierarchy’ to false, does it flatten everything (the uploaded files and the path in the project directory) or does it only flatten out the latter?
2014-09-30T00:21:58  *** marcoemorais has joined #openstack-infra
2014-09-30T00:23:30  *** bhuvan has quit IRC
2014-09-30T00:23:41  <mordred> krotscheck: yes
2014-09-30T00:24:08  <krotscheck> mordred: I’m confused.
2014-09-30T00:25:04  <krotscheck> mordred: I need my draft config file to be in the same directory as the js build output, and right now it’s putting it into ~/test/draft/. I was hoping if I fiddled the keep-hierarchy bit it’d just dump all the files into ~/
2014-09-30T00:25:16  <krotscheck> But if that’s not the case I need to figure something else out
2014-09-30T00:26:05  *** baoli has quit IRC
2014-09-30T00:26:18  *** praneshp has quit IRC
2014-09-30T00:26:46  *** andreaf has quit IRC
2014-09-30T00:27:04  *** marcoemorais has quit IRC
2014-09-30T00:27:18  *** andreaf has joined #openstack-infra
2014-09-30T00:27:23  *** marcoemorais has joined #openstack-infra
2014-09-30T00:28:53  *** yamahata has quit IRC
2014-09-30T00:29:22  *** unicell has joined #openstack-infra
2014-09-30T00:30:22  *** praneshp has joined #openstack-infra
2014-09-30T00:30:23  *** praneshp has quit IRC
2014-09-30T00:31:46  <mordred> hrm
2014-09-30T00:32:30  <mordred> krotscheck: you have keep-hierarchy set to true though?
2014-09-30T00:32:53  *** dims has joined #openstack-infra
2014-09-30T00:33:03  <mordred> krotscheck: https://review.openstack.org/#/c/124606/2/jenkins/jobs/javascript.yaml
2014-09-30T00:33:04  <mordred> or?
2014-09-30T00:33:10  *** baoli has joined #openstack-infra
2014-09-30T00:33:27  <krotscheck> mordred: Yeah, so I’m getting a ‘~/dist/‘ folder with the compiled assets, and a ~/test/draft folder with the config file. Optimally I want them both in the same directory.
2014-09-30T00:34:21  <krotscheck> mordred: http://paste.openstack.org/show/116914/
2014-09-30T00:35:13  *** mmaglana has quit IRC
2014-09-30T00:36:11  <foobio> krotscheck: the short and unfortunate answer is that the scp-publisher plugin can either give you a flat dump of all the files, or preserve the original directory structure and root it at a location of your choosing, but there's no good path mangling solution for it
2014-09-30T00:37:12  <foobio> krotscheck: so if possible, your job should arrange the files relative to your git clone working directory exactly how and where you expect to see them under the target directory
2014-09-30T00:39:24  *** todd_dsm has quit IRC
2014-09-30T00:39:34  <krotscheck> ALright, that should be doable
2014-09-30T00:39:37  <krotscheck> Just not optimal
2014-09-30T00:40:00  *** bradjones has quit IRC
2014-09-30T00:40:09  *** todd_dsm has joined #openstack-infra
2014-09-30T00:40:37  <foobio> yeah, the ftp publisher plugin can strip leading path parts from the source. a feature i really wish the scp publisher had
2014-09-30T00:41:02  <foobio> you know, without giving your passwords to anyone who has a router between you and the server
2014-09-30T00:43:05  *** marcoemorais has quit IRC
2014-09-30T00:46:50  *** gyee has quit IRC
2014-09-30T00:47:36  <openstackgerrit> patrick-crews proposed a change to openstack-infra/elastic-recheck: Adding query namespace to elastic-recheck  https://review.openstack.org/101958
2014-09-30T00:48:38  *** bradjones has joined #openstack-infra
2014-09-30T00:48:50  *** bradjones has quit IRC
2014-09-30T00:48:50  *** bradjones has joined #openstack-infra
2014-09-30T00:48:59  <mordred> foobio: or, we can just replace it all with swift
2014-09-30T00:49:04  <mordred> foobio: OR
2014-09-30T00:49:06  <mordred> foobio: wait for it
2014-09-30T00:49:07  <mordred> foobio: wait for it
2014-09-30T00:49:09  <mordred> foobio: wait for it
2014-09-30T00:49:11  <mordred> foobio: AFS
2014-09-30T00:49:13  <mordred> BOOM
2014-09-30T00:49:22  * foobio didn't see that coming at all
2014-09-30T00:49:22  *** rwsu has quit IRC
2014-09-30T00:49:24  * mordred drops amazing on everyone
2014-09-30T00:49:29  *** gokrokve has joined #openstack-infra
2014-09-30T00:49:33  *** salv-orlando has quit IRC
2014-09-30T00:49:41  *** harlowja_away is now known as harlowja
2014-09-30T00:50:35  <mordred> foobio: we could write a bot that just responds to all questions with "use AFS"
2014-09-30T00:51:46  *** gokrokve has quit IRC
2014-09-30T00:51:46  *** gokrokve_ has joined #openstack-infra
2014-09-30T00:51:51  *** praneshp has joined #openstack-infra
2014-09-30T00:53:11  *** chuckC has quit IRC
2014-09-30T00:53:50  <morganfainberg> mordred, lol!
2014-09-30T00:54:15  <foobio> mordred: i thought that was already your core routine?
2014-09-30T00:54:31  <mordred> foobio: use AFS!
2014-09-30T00:56:23  <morganfainberg> mordred, so let me get this straight, AFS?
2014-09-30T00:57:13  *** esker has joined #openstack-infra
2014-09-30T00:57:47  <mordred> morganfainberg: use AFS!
2014-09-30T00:58:27  *** todd_dsm has quit IRC
2014-09-30T01:00:30  <openstackgerrit> A change was merged to openstack-dev/hacking: Stop using intersphinx  https://review.openstack.org/121328
2014-09-30T01:00:47  <mordred> woot
2014-09-30T01:01:22  *** esker has quit IRC
2014-09-30T01:01:30  *** marcoemorais has joined #openstack-infra
2014-09-30T01:02:06  *** signed8bit has joined #openstack-infra
2014-09-30T01:02:06  * nibalizer considers the benefits of an AFS hilight
2014-09-30T01:02:39  <mordred> nibalizer: you know the good topics have come up when AFS gets dropped
2014-09-30T01:02:46  <nibalizer> mordred: this? http://www.openafs.org/
2014-09-30T01:02:50  <mordred> nibalizer: yup
2014-09-30T01:02:57  * nibalizer wonders if this is like kerberos and has competing impletmenations?
2014-09-30T01:03:14  <foobio> nibalizer: it relies heavily on kerberos
2014-09-30T01:03:25  <foobio> and yeah, there are a few afs implementations
2014-09-30T01:03:46  <nibalizer> oh look there are openafs packages in ubuntu
2014-09-30T01:04:00  <mordred> yeah. it's been a mainstream thing for a WHILE
2014-09-30T01:04:03  <foobio> nibalizer: http://en.wikipedia.org/wiki/Andrew_File_System#Implementations
2014-09-30T01:04:32  <dstufft> mordred: I considered using AFS
2014-09-30T01:04:41  *** ChuckC_ has quit IRC
2014-09-30T01:05:03  <nibalizer> 'a fourth implementation, unnamed, has been randomly shoved into the kernel by RedHat'
2014-09-30T01:05:08  <mordred> dstufft: corvus and I are going to spin up an AFS cell for infra when he gets back from vacation
2014-09-30T01:05:30  <foobio> it'll be just like old times! ;)
2014-09-30T01:05:35  <mordred> foobio: finally
2014-09-30T01:05:47  *** andreaf has quit IRC
2014-09-30T01:05:48  <foobio> between that and the nntp backend for our listserv...
2014-09-30T01:05:57  <mordred> foobio: I'm really not kidding about that ...
2014-09-30T01:06:00  * foobio takes back the 90s
2014-09-30T01:06:17  <dstufft> mordred: instead we used glusterfs
2014-09-30T01:06:18  *** andreaf has joined #openstack-infra
2014-09-30T01:06:21  *** otherwiseguy has quit IRC
2014-09-30T01:06:23  <dstufft> I'm not sure we made the right choice
2014-09-30T01:06:27  <mordred> foobio: we could replace freenode IRC with a LambdaMOO server
2014-09-30T01:06:41  <mordred> dstufft: I think they solve slightly different usecases
2014-09-30T01:06:45  <foobio> mordred: tinymush ftw, luser!
2014-09-30T01:07:41  <mordred> dstufft: glusterfs to me seems really great if you do want something that produces NFS mounts
2014-09-30T01:07:43  * foobio jokes... i mostly developed extensions to proper mud codebases, after all... mosly diku*
2014-09-30T01:08:03  <dstufft> mordred: glusterfs might be great if you have consitent IO
2014-09-30T01:08:14  <mordred> yes. that too
2014-09-30T01:08:20  <dstufft> It's not great for anything except frustration if you don't have consistent IO :(
2014-09-30T01:08:27  <foobio> dstufft: on the other hand, if you stick it in a cloud...
2014-09-30T01:08:28  <mordred> ugh
2014-09-30T01:09:00  *** shashankhegde has quit IRC
2014-09-30T01:09:29  <mordred> foobio: how fun would it be if instead of infra we had rooms in a MUD - so that if you came in to infra, you actually had an outer room with a dragon or something
2014-09-30T01:09:31  *** unicell has quit IRC
2014-09-30T01:09:58  *** wenlock has joined #openstack-infra
2014-09-30T01:10:02  <mordred> foobio: and if we could ACTUALLY throw wet cats at people
2014-09-30T01:10:15  <mordred> I realize I mistyped
2014-09-30T01:10:24  <mordred> s/instead of infra/instead of IRC/
2014-09-30T01:10:36  *** otherwiseguy has joined #openstack-infra
2014-09-30T01:11:03  * foobio dons his complimentary set of +1 newbie armor
2014-09-30T01:11:37  * foobio swings his sword at bug 1367907
2014-09-30T01:11:38  <uvirtbot> Launchpad bug 1367907 in python3.4 "Segfault in gc with cyclic trash" [High,In progress] https://launchpad.net/bugs/1367907
2014-09-30T01:11:45  * foobio misses, flailing wildly
2014-09-30T01:11:46  <dstufft> mordred: can I add like 12 dragons to participate in distutils-sig
2014-09-30T01:12:26  <foobio> dstufft: and train them to eat anyone who wants to be able to silently reupload different package contents with the same version numbers?
2014-09-30T01:13:18  <dstufft> yes
2014-09-30T01:13:22  <dstufft> also other bad things
2014-09-30T01:13:51  <foobio> because, you know, if you dictate sane release process to projects, the ones with crappy ideas about how to do releases will flee to github tarball distribution instead, leaving only good software on pypi
2014-09-30T01:14:09  <foobio> and that makes the psf cry
2014-09-30T01:14:57  *** gokrokve_ has quit IRC
2014-09-30T01:15:06  *** marcoemorais has quit IRC
2014-09-30T01:15:09  *** rwsu has joined #openstack-infra
2014-09-30T01:15:31  *** gokrokve has joined #openstack-infra
2014-09-30T01:15:46  *** SumitNaiksatam has joined #openstack-infra
2014-09-30T01:15:56  <dstufft> foobio: I like the idea that people are fleeing PyPI
2014-09-30T01:16:36  <superbee> foobio++
2014-09-30T01:16:36  <dstufft> foobio: when in reality, this is what PyPI's usage looks like -> http://d.stufft.io/image/1f0j0k2u1r0Q
2014-09-30T01:16:47  <foobio> dstufft: particularly the sorts of people who would get miffed if you told them they could no longer follow user-hostile release practices
2014-09-30T01:16:48  <dstufft> (to be fair, that's downloads not uploads)
2014-09-30T01:17:27  *** kgavini has joined #openstack-infra
2014-09-30T01:18:51  *** marcoemorais has joined #openstack-infra
2014-09-30T01:19:11  <dstufft> or like http://d.stufft.io/image/1O1K0j0n390s (total requests to PyPI per day)
2014-09-30T01:19:12  *** marcoemorais has quit IRC
2014-09-30T01:20:08  *** gokrokve has quit IRC
2014-09-30T01:20:16  *** marcoemorais has joined #openstack-infra
2014-09-30T01:20:23  *** sdake_ has joined #openstack-infra
2014-09-30T01:23:13  *** otherwiseguy has quit IRC
2014-09-30T01:23:32  *** alexpilotti has quit IRC
2014-09-30T01:23:47  *** otherwiseguy has joined #openstack-infra
2014-09-30T01:24:04  *** marcoemorais has quit IRC
2014-09-30T01:24:31  *** baoli has quit IRC
2014-09-30T01:25:01  *** baoli has joined #openstack-infra
2014-09-30T01:25:42  *** pcrews has quit IRC
2014-09-30T01:26:04  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Added draft build  https://review.openstack.org/124934
2014-09-30T01:26:22  *** marcoemorais has joined #openstack-infra
2014-09-30T01:27:20  *** signed8bit has quit IRC
2014-09-30T01:27:25  *** pcrews has joined #openstack-infra
2014-09-30T01:28:56  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/project-config: Call build:draft instead of build for js-draft build  https://review.openstack.org/124936
2014-09-30T01:29:54  *** yaguang has joined #openstack-infra
2014-09-30T01:31:42  *** cyeoh has joined #openstack-infra
2014-09-30T01:32:21  *** yamahata has joined #openstack-infra
2014-09-30T01:33:23  *** mikedillion has joined #openstack-infra
2014-09-30T01:34:03  *** ChuckC_ has joined #openstack-infra
2014-09-30T01:35:53  *** chuckC has joined #openstack-infra
2014-09-30T01:38:11  *** patrickeast has quit IRC
2014-09-30T01:38:46  *** Sukhdev has quit IRC
2014-09-30T01:38:53  *** sdake_ has quit IRC
2014-09-30T01:39:07  *** marcoemorais has quit IRC
2014-09-30T01:42:44  *** unicell has joined #openstack-infra
2014-09-30T01:44:48  *** sdake_ has joined #openstack-infra
2014-09-30T01:47:52  *** mikedillion has quit IRC
2014-09-30T01:50:28  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add migration tests with data  https://review.openstack.org/124938
2014-09-30T01:50:31  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Preseed data for migration tests until migration 163fd5aa1380  https://review.openstack.org/124939
2014-09-30T01:50:33  *** baoli has quit IRC
2014-09-30T01:51:07  *** tsg has joined #openstack-infra
2014-09-30T01:51:55  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T01:51:58  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add db api function to get the latest run  https://review.openstack.org/117882
2014-09-30T01:52:01  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add session objects for get_all* db api calls  https://review.openstack.org/118419
2014-09-30T01:53:27  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add migration tests with data  https://review.openstack.org/124938
2014-09-30T01:53:34  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Preseed data for migration tests until migration 163fd5aa1380  https://review.openstack.org/124939
2014-09-30T01:53:37  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add session objects for get_all* db api calls  https://review.openstack.org/118419
2014-09-30T01:53:40  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T01:53:43  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add db api function to get the latest run  https://review.openstack.org/117882
2014-09-30T01:56:16  *** Ryan_Lane has quit IRC
2014-09-30T01:56:19  *** nosnos has joined #openstack-infra
2014-09-30T01:56:44  *** signed8bit has joined #openstack-infra
2014-09-30T01:59:48  *** unicell has quit IRC
2014-09-30T02:04:21  *** _buzz has joined #openstack-infra
2014-09-30T02:05:26  *** ivar-laz_ has joined #openstack-infra
2014-09-30T02:07:37  *** bdpayne has joined #openstack-infra
2014-09-30T02:08:24  *** daya_k has joined #openstack-infra
2014-09-30T02:09:03  *** ivar-lazzaro has quit IRC
2014-09-30T02:09:41  *** aysyanne has quit IRC
2014-09-30T02:09:47  *** ivar-laz_ has quit IRC
2014-09-30T02:10:32  *** markmcclain has quit IRC
2014-09-30T02:11:43  *** signed8bit has quit IRC
2014-09-30T02:22:42  *** shashankhegde has joined #openstack-infra
2014-09-30T02:25:43  *** unicell has joined #openstack-infra
2014-09-30T02:25:49  *** dimtruck is now known as zz_dimtruck
2014-09-30T02:25:52  *** arosen1 has joined #openstack-infra
2014-09-30T02:26:23  *** otter768 has joined #openstack-infra
2014-09-30T02:28:44  <openstackgerrit> A change was merged to openstack-infra/subunit2sql: Stop using intersphinx  https://review.openstack.org/123973
2014-09-30T02:30:52  *** JayJ has quit IRC
2014-09-30T02:33:34  *** arosen1 has left #openstack-infra
2014-09-30T02:35:22  *** daya_k has quit IRC
2014-09-30T02:37:19  *** melwitt1 has quit IRC
2014-09-30T02:42:25  *** dims has quit IRC
2014-09-30T02:43:01  *** dims has joined #openstack-infra
2014-09-30T02:43:12  *** tsg has quit IRC
2014-09-30T02:44:46  <pleia2> AJaeger: thanks :)
2014-09-30T02:45:12  *** mmaglana has joined #openstack-infra
2014-09-30T02:47:15  *** dims has quit IRC
2014-09-30T02:47:42  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-09-30T02:47:54  *** sdake_ has quit IRC
2014-09-30T02:49:47  *** kgavini has quit IRC
2014-09-30T02:54:22  *** shashankhegde has quit IRC
2014-09-30T02:56:27  *** pcrews has quit IRC
2014-09-30T02:57:37  *** pcrews has joined #openstack-infra
2014-09-30T02:57:43  *** dims has joined #openstack-infra
2014-09-30T02:58:03  *** daya_k has joined #openstack-infra
2014-09-30T03:01:44  <jhesketh> sdague: let me know when you're around to discuss the zuul status page stuff
2014-09-30T03:01:51  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add migration tests with data  https://review.openstack.org/124938
2014-09-30T03:02:04  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Preseed data for migration tests until migration 163fd5aa1380  https://review.openstack.org/124939
2014-09-30T03:02:08  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add session objects for get_all* db api calls  https://review.openstack.org/118419
2014-09-30T03:02:11  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T03:02:14  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add db api function to get the latest run  https://review.openstack.org/117882
2014-09-30T03:04:40  *** pcrews has quit IRC
2014-09-30T03:04:45  *** andreaf has quit IRC
2014-09-30T03:05:13  *** andreaf has joined #openstack-infra
2014-09-30T03:07:25  *** dims has quit IRC
2014-09-30T03:08:02  *** dims has joined #openstack-infra
2014-09-30T03:08:37  *** mestery has joined #openstack-infra
2014-09-30T03:10:09  *** koolhead17 has joined #openstack-infra
2014-09-30T03:12:18  *** dims has quit IRC
2014-09-30T03:12:19  *** bdpayne has quit IRC
2014-09-30T03:16:20  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T03:21:49  *** pcrews has joined #openstack-infra
2014-09-30T03:22:37  *** nosnos has quit IRC
2014-09-30T03:23:12  *** nosnos has joined #openstack-infra
2014-09-30T03:24:50  *** armax has joined #openstack-infra
2014-09-30T03:26:11  *** harlowja is now known as harlowja_away
2014-09-30T03:26:58  *** hdd has joined #openstack-infra
2014-09-30T03:27:17  *** _buzz has quit IRC
2014-09-30T03:27:37  *** nosnos has quit IRC
2014-09-30T03:31:56  *** camunoz has quit IRC
2014-09-30T03:32:11  *** harlowja_away is now known as harlowja
2014-09-30T03:33:05  *** mestery has quit IRC
2014-09-30T03:33:47  *** andreaf has quit IRC
2014-09-30T03:34:13  *** andreaf has joined #openstack-infra
2014-09-30T03:38:04  *** armax has quit IRC
2014-09-30T03:38:45  *** adalbas has quit IRC
2014-09-30T03:40:20  *** mestery has joined #openstack-infra
2014-09-30T03:42:15  <openstackgerrit> Elizabeth K. Joseph proposed a change to openstack-infra/project-config: Move python33 test for Keystone to experimental  https://review.openstack.org/124563
2014-09-30T03:42:54  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-09-30T03:42:56  *** zns has quit IRC
2014-09-30T03:43:14  <morganfainberg> pleia2, thanks for the spell-check :)
2014-09-30T03:43:25  *** zns has joined #openstack-infra
2014-09-30T03:43:35  <pleia2> sure thing :)
2014-09-30T03:47:39  *** mestery has quit IRC
2014-09-30T03:48:12  *** zns has quit IRC
2014-09-30T03:48:58  *** otter768 has quit IRC
2014-09-30T03:54:48  *** Ryan_Lane has joined #openstack-infra
2014-09-30T03:58:17  *** Ryan_Lane has quit IRC
2014-09-30T03:59:17  *** pcrews has quit IRC
2014-09-30T04:01:59  *** rushiagr_away is now known as rushiagr
2014-09-30T04:02:03  *** mrmartin has joined #openstack-infra
2014-09-30T04:03:29  *** marcoemorais has joined #openstack-infra
2014-09-30T04:05:13  *** marcoemorais1 has joined #openstack-infra
2014-09-30T04:07:46  *** KanagarajM has joined #openstack-infra
2014-09-30T04:08:31  *** marcoemorais has quit IRC
2014-09-30T04:08:31  *** otherwiseguy has quit IRC
2014-09-30T04:10:00  *** garyh has quit IRC
2014-09-30T04:10:01  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add migration tests with data  https://review.openstack.org/124938
2014-09-30T04:10:10  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Preseed data for migration tests until migration 163fd5aa1380  https://review.openstack.org/124939
2014-09-30T04:10:13  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add session objects for get_all* db api calls  https://review.openstack.org/118419
2014-09-30T04:10:16  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T04:10:19  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add db api function to get the latest run  https://review.openstack.org/117882
2014-09-30T04:11:18  *** marcoemorais1 has left #openstack-infra
2014-09-30T04:14:03  *** nosnos has joined #openstack-infra
2014-09-30T04:18:27  *** otherwiseguy has joined #openstack-infra
2014-09-30T04:20:00  *** shashankhegde has joined #openstack-infra
2014-09-30T04:22:09  *** HeOS has joined #openstack-infra
2014-09-30T04:28:23  *** ildikov_ has quit IRC
2014-09-30T04:29:07  *** camunoz has joined #openstack-infra
2014-09-30T04:29:20  *** otherwiseguy has quit IRC
2014-09-30T04:30:55  *** yfried has quit IRC
2014-09-30T04:35:21  *** KanagarajM has quit IRC
2014-09-30T04:35:23  *** Daisy has joined #openstack-infra
2014-09-30T04:37:42  *** unicell has quit IRC
2014-09-30T04:40:41  *** yamahata has quit IRC
2014-09-30T04:41:15  *** yamahata has joined #openstack-infra
2014-09-30T04:41:49  *** mestery has joined #openstack-infra
2014-09-30T04:48:17  *** mrmartin has quit IRC
2014-09-30T04:48:41  *** mrmartin has joined #openstack-infra
2014-09-30T04:48:54  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add order column to run table  https://review.openstack.org/117861
2014-09-30T04:48:54  *** mrmartin has quit IRC
2014-09-30T04:49:05  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add db api function to get the latest run  https://review.openstack.org/117882
2014-09-30T04:51:23  *** rushiagr is now known as rushiagr_away
2014-09-30T04:56:28  *** gokrokve has joined #openstack-infra
2014-09-30T04:57:12  *** patrickeast has joined #openstack-infra
2014-09-30T04:57:15  *** mestery has quit IRC
2014-09-30T04:58:41  *** unicell has joined #openstack-infra
2014-09-30T04:59:25  *** mestery has joined #openstack-infra
2014-09-30T05:01:02  *** YorikSar has quit IRC
2014-09-30T05:01:34  *** loki184 has joined #openstack-infra
2014-09-30T05:02:36  *** hdd has quit IRC
2014-09-30T05:03:08  *** YorikSar has joined #openstack-infra
2014-09-30T05:03:40  *** KanagarajM has joined #openstack-infra
2014-09-30T05:04:53  *** patrickeast has quit IRC
2014-09-30T05:05:41  *** patrickeast has joined #openstack-infra
2014-09-30T05:09:15  *** patrickeast has quit IRC
2014-09-30T05:12:27  *** mmedvede has quit IRC
2014-09-30T05:13:48  *** patrickeast has joined #openstack-infra
2014-09-30T05:16:49  *** reed has quit IRC
2014-09-30T05:19:23  *** ildikov has joined #openstack-infra
2014-09-30T05:19:33  *** KanagarajM2 has joined #openstack-infra
2014-09-30T05:20:17  *** KanagarajM has quit IRC
2014-09-30T05:20:47  *** andreaf has quit IRC
2014-09-30T05:21:15  *** andreaf has joined #openstack-infra
2014-09-30T05:21:27  *** HeOS has quit IRC
2014-09-30T05:24:00  *** unicell has quit IRC
2014-09-30T05:28:47  *** yfried has joined #openstack-infra
2014-09-30T05:30:42  *** sressot has joined #openstack-infra
2014-09-30T05:32:37  *** rushiagr_away is now known as rushiagr
2014-09-30T05:35:49  *** dalgaaf__ has joined #openstack-infra
2014-09-30T05:35:55  *** timrc is now known as timrc-afk
2014-09-30T05:36:33  *** mestery has quit IRC
2014-09-30T05:39:05  *** waynr has quit IRC
2014-09-30T05:41:01  *** patrickeast has quit IRC
2014-09-30T05:42:08  *** cristov_mac has quit IRC
2014-09-30T05:44:36  *** linuxmohan has joined #openstack-infra
2014-09-30T05:44:55  *** linuxmohan has quit IRC
2014-09-30T05:45:21  *** linuxmohan has joined #openstack-infra
2014-09-30T05:46:08  *** andreaf has quit IRC
2014-09-30T05:47:58  *** berendt has joined #openstack-infra
2014-09-30T05:53:44  *** praneshp has quit IRC
2014-09-30T06:02:18  *** ivar-lazzaro has joined #openstack-infra
2014-09-30T06:02:55  *** ivar-lazzaro has joined #openstack-infra
2014-09-30T06:05:40  *** harlowja is now known as harlowja_away
2014-09-30T06:06:08  *** waynr has joined #openstack-infra
2014-09-30T06:08:32  *** vigneshvar has joined #openstack-infra
2014-09-30T06:08:44  *** unicell has joined #openstack-infra
2014-09-30T06:09:39  *** rwsu has quit IRC
2014-09-30T06:11:23  *** SumitNaiksatam_ has joined #openstack-infra
2014-09-30T06:11:50  *** Ryan_Lane has joined #openstack-infra
2014-09-30T06:14:09  *** SumitNaiksatam has quit IRC
2014-09-30T06:14:10  *** SumitNaiksatam_ is now known as SumitNaiksatam
2014-09-30T06:21:10  *** SumitNaiksatam has quit IRC
2014-09-30T06:22:16  *** SumitNaiksatam has joined #openstack-infra
2014-09-30T06:22:27  *** shashankhegde has quit IRC
2014-09-30T06:24:36  *** stevemar has quit IRC
2014-09-30T06:26:17  *** emagana has joined #openstack-infra
2014-09-30T06:26:28  <AJaeger> flaper87|afk, once you're back online, could you review https://review.openstack.org/#/c/116314/ again, please?
2014-09-30T06:27:31  *** praneshp has joined #openstack-infra
2014-09-30T06:27:41  *** k4n0 has joined #openstack-infra
2014-09-30T06:29:38  *** SumitNaiksatam has quit IRC
2014-09-30T06:30:06  *** praneshp_ has joined #openstack-infra
2014-09-30T06:30:24  *** ashaeron has joined #openstack-infra
2014-09-30T06:30:47  *** SumitNaiksatam has joined #openstack-infra
2014-09-30T06:32:17  *** praneshp has quit IRC
2014-09-30T06:32:18  *** praneshp_ is now known as praneshp
2014-09-30T06:33:46  *** emagana has quit IRC
2014-09-30T06:34:24  *** emagana has joined #openstack-infra
2014-09-30T06:34:50  *** SumitNaiksatam has quit IRC
2014-09-30T06:35:58  *** SumitNaiksatam has joined #openstack-infra
2014-09-30T06:39:21  *** emagana has quit IRC
2014-09-30T06:39:31  *** nosnos has quit IRC
2014-09-30T06:40:07  *** nosnos has joined #openstack-infra
2014-09-30T06:41:24  *** nosnos has quit IRC
2014-09-30T06:41:26  *** atuvenie has joined #openstack-infra
2014-09-30T06:41:26  *** nosnos_ has joined #openstack-infra
2014-09-30T06:43:39  *** Longgeek has joined #openstack-infra
2014-09-30T06:44:08  *** Longgeek has quit IRC
2014-09-30T06:44:14  *** wenlock has quit IRC
2014-09-30T06:46:24  *** Longgeek has joined #openstack-infra
2014-09-30T06:46:56  <openstackgerrit> Adam Gandelman proposed a change to openstack-infra/elastic-recheck: Add query for 1375488  https://review.openstack.org/124913
2014-09-30T06:47:13  *** jcoufal has joined #openstack-infra
2014-09-30T06:47:17  *** jcoufal has quit IRC
2014-09-30T06:49:42  *** Longgeek_ has joined #openstack-infra
2014-09-30T06:51:49  *** camunoz has quit IRC
2014-09-30T06:52:22  *** GheRivero has quit IRC
2014-09-30T06:52:57  *** Longgeek has quit IRC
2014-09-30T06:55:16  *** mmaglana has quit IRC
2014-09-30T06:58:09  <openstackgerrit> Yair Fried proposed a change to openstack-infra/devstack-gate: Adds tenant_network_conf to tempest.conf  https://review.openstack.org/124768
2014-09-30T06:58:19  *** GheRivero has joined #openstack-infra
2014-09-30T07:03:53  *** xchu has quit IRC
2014-09-30T07:06:24  *** hashar has joined #openstack-infra
2014-09-30T07:12:08  *** arxcruz has joined #openstack-infra
2014-09-30T07:14:06  *** arxcruz has quit IRC
2014-09-30T07:16:34  *** mmagr has joined #openstack-infra
2014-09-30T07:17:18  *** arxcruz has joined #openstack-infra
2014-09-30T07:17:48  *** koolhead17 has quit IRC
2014-09-30T07:18:30  *** _nadya_ has joined #openstack-infra
2014-09-30T07:18:48  *** VijayTripathi has quit IRC
2014-09-30T07:22:28  *** jcoufal has joined #openstack-infra
2014-09-30T07:22:50  *** HeOS has joined #openstack-infra
2014-09-30T07:23:08  *** _nadya_ has joined #openstack-infra
2014-09-30T07:23:09  *** jcoufal has quit IRC
2014-09-30T07:23:28  *** e0ne has joined #openstack-infra
2014-09-30T07:23:35  *** jcoufal has joined #openstack-infra
2014-09-30T07:24:52  *** e0ne has quit IRC
2014-09-30T07:26:05  *** gokrokve has quit IRC
2014-09-30T07:26:26  *** rdopieralski has joined #openstack-infra
2014-09-30T07:27:37  *** Longgeek has joined #openstack-infra
2014-09-30T07:27:58  *** ivar-lazzaro has quit IRC
2014-09-30T07:28:15  *** Longgeek_ has quit IRC
2014-09-30T07:28:34  *** _nadya_ has quit IRC
2014-09-30T07:29:03  *** e0ne has joined #openstack-infra
2014-09-30T07:29:05  *** yamamoto has quit IRC
2014-09-30T07:30:38  *** Guest68510 has joined #openstack-infra
2014-09-30T07:31:01  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-09-30T07:32:05  <openstackgerrit> Mate Lakat proposed a change to openstack-infra/project-config: XenServer: Add XenServer support  https://review.openstack.org/124730
2014-09-30T07:32:38  *** jcoufal has quit IRC
2014-09-30T07:34:20  *** ZZelle has quit IRC
2014-09-30T07:34:38  *** jcoufal has joined #openstack-infra
2014-09-30T07:34:50  *** ZZelle has joined #openstack-infra
2014-09-30T07:35:19  *** koolhead17 has joined #openstack-infra
2014-09-30T07:35:19  *** koolhead17 has quit IRC
2014-09-30T07:35:19  *** koolhead17 has joined #openstack-infra
2014-09-30T07:36:10  <openstackgerrit> A change was merged to openstack-infra/infra-manual: Add an introduction paragraph to the developer guide  https://review.openstack.org/107024
2014-09-30T07:36:36  *** jp_at_hp has joined #openstack-infra
2014-09-30T07:39:04  *** bogdando has quit IRC
2014-09-30T07:40:18  *** jcoufal has quit IRC
2014-09-30T07:40:38  *** sunrenjie6 has joined #openstack-infra
2014-09-30T07:40:44  *** jcoufal has joined #openstack-infra
2014-09-30T07:40:52  *** Longgeek has quit IRC
2014-09-30T07:42:41  *** Longgeek has joined #openstack-infra
2014-09-30T07:42:56  <openstackgerrit> Thierry Carrez proposed a change to openstack-infra/release-tools: Fix rcdelivery.sh using wrong final version  https://review.openstack.org/124963
2014-09-30T07:42:58  *** ZZelle has quit IRC
2014-09-30T07:43:23  *** ZZelle has joined #openstack-infra
2014-09-30T07:46:31  <openstackgerrit> Christoffer Skeppstedt proposed a change to openstack-infra/jenkins-job-builder: Serialize git-revision param for trigger_builds  https://review.openstack.org/124965
2014-09-30T07:46:42  *** bogdando has joined #openstack-infra
2014-09-30T07:46:59  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/project-config: Run gate-{name}-docs on infra-publish-jobs  https://review.openstack.org/124966
2014-09-30T07:47:33  *** e0ne has quit IRC
2014-09-30T07:50:42  *** skeppstedt has joined #openstack-infra
2014-09-30T07:51:19  *** mpaolino has joined #openstack-infra
2014-09-30T07:55:52  *** jistr has joined #openstack-infra
2014-09-30T07:57:04  <openstackgerrit> Jordan Pittier proposed a change to openstack-infra/project-config: Add pep8 gate job to stackforge/ospurge  https://review.openstack.org/124729
2014-09-30T07:57:51  *** andreykurilin_ has joined #openstack-infra
2014-09-30T07:58:33  *** jlibosva has joined #openstack-infra
2014-09-30T07:58:45  *** gokrokve has joined #openstack-infra
2014-09-30T07:59:06  *** zz_johnthetubagu has joined #openstack-infra
2014-09-30T07:59:17  *** zz_johnthetubagu is now known as johnthetubaguy
2014-09-30T07:59:39  *** yamamoto has joined #openstack-infra
2014-09-30T08:00:01  *** gokrokve has quit IRC
2014-09-30T08:00:04  *** yamamoto has quit IRC
2014-09-30T08:00:26  *** gokrokve has joined #openstack-infra
2014-09-30T08:02:37  *** loki184 has quit IRC
2014-09-30T08:02:42  *** e0ne has joined #openstack-infra
2014-09-30T08:02:49  *** YorikSar has quit IRC
2014-09-30T08:03:15  *** derekh has joined #openstack-infra
2014-09-30T08:03:49  *** boden has joined #openstack-infra
2014-09-30T08:04:10  *** YorikSar has joined #openstack-infra
2014-09-30T08:05:02  *** gokrokve has quit IRC
2014-09-30T08:07:59  *** ihrachyshka has joined #openstack-infra
2014-09-30T08:13:00  *** e0ne has quit IRC
2014-09-30T08:17:28  *** ociuhandu has quit IRC
2014-09-30T08:17:28  *** e0ne has joined #openstack-infra
2014-09-30T08:18:15  *** e0ne has quit IRC
2014-09-30T08:18:48  *** afazekas has joined #openstack-infra
2014-09-30T08:19:16  *** jgallard has joined #openstack-infra
2014-09-30T08:19:50  *** MaxV has joined #openstack-infra
2014-09-30T08:23:03  *** loki184 has joined #openstack-infra
2014-09-30T08:30:52  *** cdent has joined #openstack-infra
2014-09-30T08:34:02  *** amuller has joined #openstack-infra
2014-09-30T08:39:05  *** doude has joined #openstack-infra
2014-09-30T08:41:08  *** dizquierdo has joined #openstack-infra
2014-09-30T08:44:12  *** andreykurilin_ has quit IRC
2014-09-30T08:50:58  <openstackgerrit> Mate Lakat proposed a change to openstack-infra/project-config: XenServer: Add XenServer support  https://review.openstack.org/124730
2014-09-30T08:59:13  *** andreaf_ is now known as andreaf
2014-09-30T08:59:34  *** yfried is now known as yfried|afk
2014-09-30T08:59:38  *** gokrokve has joined #openstack-infra
2014-09-30T09:00:38  *** sdake_ has joined #openstack-infra
2014-09-30T09:04:53  *** gokrokve has quit IRC
2014-09-30T09:05:42  *** sdake_ has quit IRC
2014-09-30T09:14:25  *** e0ne has joined #openstack-infra
2014-09-30T09:14:39  *** ociuhandu has joined #openstack-infra
2014-09-30T09:15:08  *** rlandy has joined #openstack-infra
2014-09-30T09:17:13  *** mancdaz has joined #openstack-infra
2014-09-30T09:24:39  *** che-arne has joined #openstack-infra
2014-09-30T09:26:33  *** yfried|afk is now known as yfried
2014-09-30T09:30:27  *** e0ne has quit IRC
2014-09-30T09:33:24  *** alexpilotti has joined #openstack-infra
2014-09-30T09:34:18  *** Daisy has quit IRC
2014-09-30T09:34:49  *** praneshp has quit IRC
2014-09-30T09:40:54  *** liusheng has quit IRC
2014-09-30T09:43:21  *** e0ne has joined #openstack-infra
2014-09-30T09:49:15  *** salv-orlando has joined #openstack-infra
2014-09-30T09:52:22  <openstackgerrit> Sergey Skripnick proposed a change to openstack-infra/project-config: Add rally-fakevirt performance job  https://review.openstack.org/124996
2014-09-30T09:55:25  <sdague> jhesketh: up now
2014-09-30T09:58:21  *** koolhead17 has quit IRC
2014-09-30T09:59:36  *** gokrokve has joined #openstack-infra
2014-09-30T10:01:24  <sbadia> \o hi infra
2014-09-30T10:01:30  <sbadia> could I have a review on this two patchs ? ( https://review.openstack.org/#/c/124569/ for metadata.json on puppet-lint jobs, and https://review.openstack.org/#/c/124570/ for default jenkins builders for puppet-vswitch ) ?
2014-09-30T10:02:10  <sbadia> thanks in advance =)
2014-09-30T10:02:12  <openstackgerrit> Ricardo Carrillo Cruz proposed a change to openstack-infra/project-config: Add version-properties builder to macros.yaml  https://review.openstack.org/124365
2014-09-30T10:02:13  *** yfried_ has joined #openstack-infra
2014-09-30T10:03:52  *** gokrokve has quit IRC
2014-09-30T10:03:57  *** yfried has quit IRC
2014-09-30T10:08:55  *** _nadya_ has joined #openstack-infra
2014-09-30T10:18:02  *** yfried_ is now known as yfried|afk
2014-09-30T10:19:13  *** hashar has quit IRC
2014-09-30T10:20:37  *** sandywalsh has quit IRC
2014-09-30T10:22:38  *** yfried|afk is now known as yfried_
2014-09-30T10:22:45  *** sandywalsh has joined #openstack-infra
2014-09-30T10:23:43  *** jcoufal has quit IRC
2014-09-30T10:24:53  *** jcoufal has joined #openstack-infra
2014-09-30T10:30:17  *** pcm_ has joined #openstack-infra
2014-09-30T10:31:26  *** pcm_ has quit IRC
2014-09-30T10:32:06  *** pcm_ has joined #openstack-infra
2014-09-30T10:34:13  *** yfried_ has quit IRC
2014-09-30T10:34:41  *** pelix has joined #openstack-infra
2014-09-30T10:34:46  <openstackgerrit> Sean Dague proposed a change to openstack-infra/zuul: add support for getting status of individual changes  https://review.openstack.org/124390
2014-09-30T10:34:47  <openstackgerrit> Sean Dague proposed a change to openstack-infra/zuul: add support for filtering changes in zuul webapp  https://review.openstack.org/125002
2014-09-30T10:35:18  *** yamahata has quit IRC
2014-09-30T10:40:12  *** yfried has joined #openstack-infra
2014-09-30T10:46:16  *** MindfulMonk has quit IRC
2014-09-30T10:52:16  *** jgallard has quit IRC
2014-09-30T10:53:26  *** MindfulMonk has joined #openstack-infra
2014-09-30T10:54:36  *** habib__ has joined #openstack-infra
2014-09-30T10:57:40  *** ildikov_ has joined #openstack-infra
2014-09-30T10:57:47  *** MaxV has quit IRC
2014-09-30T10:58:15  *** MaxV has joined #openstack-infra
2014-09-30T10:59:36  *** gokrokve has joined #openstack-infra
2014-09-30T11:01:32  *** ildikov has quit IRC
2014-09-30T11:02:43  *** MaxV has quit IRC
2014-09-30T11:02:47  *** loki184 has quit IRC
2014-09-30T11:04:01  *** gokrokve has quit IRC
2014-09-30T11:04:19  *** yfried_ has joined #openstack-infra
2014-09-30T11:05:11  *** yfried__ has joined #openstack-infra
2014-09-30T11:05:31  *** MaxV has joined #openstack-infra
2014-09-30T11:05:36  *** yfried has quit IRC
2014-09-30T11:08:21  *** hashar has joined #openstack-infra
2014-09-30T11:09:01  *** dims has joined #openstack-infra
2014-09-30T11:09:17  *** yfried_ has quit IRC
2014-09-30T11:12:06  *** ildikov_ has quit IRC
2014-09-30T11:12:26  *** ildikov has joined #openstack-infra
2014-09-30T11:13:27  *** e0ne has quit IRC
2014-09-30T11:21:29  *** signed8bit has joined #openstack-infra
2014-09-30T11:22:14  *** zz_dimtruck is now known as dimtruck
2014-09-30T11:23:25  *** mikal has quit IRC
2014-09-30T11:23:25  *** loquacities has quit IRC
2014-09-30T11:28:39  *** yfried__ is now known as yfried|afk
2014-09-30T11:29:17  *** signed8bit has quit IRC
2014-09-30T11:31:15  *** jistr is now known as jistr|english
2014-09-30T11:33:43  <openstackgerrit> Ricardo Carrillo Cruz proposed a change to openstack-infra/project-config: The current maven jobs in maven-plugin-jobs work fine for simple projects, but it cannot work for multi-module projects where multiple artifacts are generated with their corresponding pom.xml files. Also, it is not possible to pass project-specific settin  https://review.openstack.org/125011
2014-09-30T11:33:45  *** mrda-vacation has quit IRC
2014-09-30T11:34:02  *** MaxV has quit IRC
2014-09-30T11:34:18  *** MaxV has joined #openstack-infra
2014-09-30T11:34:24  <openstackgerrit> Ricardo Carrillo Cruz proposed a change to openstack-infra/project-config: Add support for multi-module maven jobs  https://review.openstack.org/125011
2014-09-30T11:35:14  *** mikal has joined #openstack-infra
2014-09-30T11:36:28  <jhesketh> sdague: left some comments on your patch.. I was going to help re-roll but wanted to check on your thoughts re the json structure (my main concern)
2014-09-30T11:36:56  <sdague> jhesketh: so I respun
2014-09-30T11:37:00  <sdague> based on your comments
2014-09-30T11:37:11  <jhesketh> yep, just loading
2014-09-30T11:37:40  <sdague> mostly I'd like to not get hung up on filtering structure to land the individual status patch
2014-09-30T11:37:56  *** timrc-afk is now known as timrc
2014-09-30T11:38:01  <sdague> because the individual status patch, once in, means I can write it into gerrit ui later the same day
2014-09-30T11:40:06  <jhesketh> sdague: okay, sounds good to me
2014-09-30T11:40:06  <sdague> I think that makes patch 1 landable, and patch 2 something to discuss
2014-09-30T11:40:06  <jhesketh> sure
2014-09-30T11:40:06  <sdague> because in the gate queue case, what would you expect to return for project=openstack/nova ?
2014-09-30T11:40:28  *** sressot has quit IRC
2014-09-30T11:41:00  *** sandywalsh_ has joined #openstack-infra
2014-09-30T11:41:44  *** yolanda has quit IRC
2014-09-30T11:42:17  *** _nadya_ has quit IRC
2014-09-30T11:42:18  <jhesketh> sdague: what are your thoughts on having existing webapp tests into the new TestWebApp?
2014-09-30T11:42:34  <sdague> jhesketh: I'd be happy to migrate them over
2014-09-30T11:42:40  <sdague> I think it's a follow on patch though
2014-09-30T11:42:51  <jhesketh> yeah, I'm not worried about it
2014-09-30T11:43:03  <jhesketh> sdague: I was expecting it to return a json blob similar to how the javascript app filters things
2014-09-30T11:43:13  *** sandywalsh has quit IRC
2014-09-30T11:43:28  *** sressot has joined #openstack-infra
2014-09-30T11:43:29  <sdague> jhesketh: ok, except that means that if you filter gate by openstack/nova
2014-09-30T11:43:29  *** yolanda has joined #openstack-infra
2014-09-30T11:43:36  <sdague> you get the whole gate queue
2014-09-30T11:43:46  <sdague> which... isn't much filtering
2014-09-30T11:43:55  <jhesketh> oh, I see your point
2014-09-30T11:44:35  <jhesketh> sdague: well we wouldn't necessarily have to include the heads items (which is what I Thought the web app did, but testing it it appears to return the whole queue)
2014-09-30T11:45:26  *** kgiusti has joined #openstack-infra
2014-09-30T11:45:29  <sdague> yeh
2014-09-30T11:48:40  *** dhellmann has quit IRC
2014-09-30T11:48:44  *** yfried|afk is now known as yfried__
2014-09-30T11:49:18  *** jhesketh_ has joined #openstack-infra
2014-09-30T11:50:17  *** dhellmann has joined #openstack-infra
2014-09-30T11:50:48  *** isviridov is now known as isviridov_away
2014-09-30T11:51:04  *** jhesketh has quit IRC
2014-09-30T11:51:21  <ZZelle> adam_g, hi
2014-09-30T11:53:01  *** weshay has joined #openstack-infra
2014-09-30T11:54:01  *** tsg has joined #openstack-infra
2014-09-30T11:57:20  *** mbacchi has joined #openstack-infra
2014-09-30T11:58:00  *** jhesketh has joined #openstack-infra
2014-09-30T11:58:19  *** skeppste_ has joined #openstack-infra
2014-09-30T11:58:44  *** yfried__ is now known as yfried|afk
2014-09-30T11:58:47  <openstackgerrit> Julien Danjou proposed a change to openstack-dev/hacking: Add a check for old style class declarations  https://review.openstack.org/116846
2014-09-30T11:58:48  *** skeppste_ has quit IRC
2014-09-30T11:59:14  *** skeppste_ has joined #openstack-infra
2014-09-30T11:59:22  *** jhesketh_ has quit IRC
2014-09-30T11:59:32  *** baoli has joined #openstack-infra
2014-09-30T11:59:43  *** gokrokve has joined #openstack-infra
2014-09-30T12:00:02  *** jhesketh has quit IRC
2014-09-30T12:00:34  *** skeppste_ has quit IRC
2014-09-30T12:00:38  *** skeppst__ has joined #openstack-infra
2014-09-30T12:00:57  *** gokrokve has quit IRC
2014-09-30T12:01:06  *** jhesketh has joined #openstack-infra
2014-09-30T12:01:24  *** gokrokve has joined #openstack-infra
2014-09-30T12:01:48  *** skeppstedt has quit IRC
2014-09-30T12:01:55  <jhesketh> sdague: so I'm unsure on the filter thing.. maybe we need another opinion there?
2014-09-30T12:06:00  *** gus has quit IRC
2014-09-30T12:06:01  *** gokrokve has quit IRC
2014-09-30T12:06:17  *** tsg has quit IRC
2014-09-30T12:06:55  *** yfried|afk has quit IRC
2014-09-30T12:08:48  <sdague> jhesketh: yep, I'm fine with holding that for now
2014-09-30T12:09:02  <sdague> as long as we move forward on the single status case
2014-09-30T12:09:21  <sdague> maybe we need to know what the use case is
2014-09-30T12:10:12  *** KanagarajM2 has quit IRC
2014-09-30T12:11:14  <jhesketh> sounds good to me
2014-09-30T12:11:41  <jhesketh> sdague: looks like we were both working towards the same thing anyway... I actually had an overlay of zuul results onto gerrit from over 6 months back that kept getting pushed back for various reasons
2014-09-30T12:12:11  <sdague> yeh
2014-09-30T12:12:27  <sdague> so I think we can work this into the hideci.js code
2014-09-30T12:12:41  <sdague> because ideally it would live above that
2014-09-30T12:12:54  <sdague> honestly... I wouldn't replicate the whole test block from zuul
2014-09-30T12:13:17  <sdague> just a small table to know that changes are currently running
2014-09-30T12:17:28  *** yfried|afk has joined #openstack-infra
2014-09-30T12:18:36  *** dprince has joined #openstack-infra
2014-09-30T12:19:22  *** dkranz has joined #openstack-infra
2014-09-30T12:19:25  *** mmedvede has joined #openstack-infra
2014-09-30T12:19:32  *** mattoliverau has quit IRC
2014-09-30T12:19:44  *** zns has joined #openstack-infra
2014-09-30T12:19:47  *** e0ne has joined #openstack-infra
2014-09-30T12:22:41  *** zns has quit IRC
2014-09-30T12:23:27  *** yamahata has joined #openstack-infra
2014-09-30T12:24:26  *** bswartz has quit IRC
2014-09-30T12:25:12  *** aysyanne has joined #openstack-infra
2014-09-30T12:26:06  *** dizquierdo has quit IRC
2014-09-30T12:27:05  *** ihre has joined #openstack-infra
2014-09-30T12:28:02  *** dimtruck is now known as zz_dimtruck
2014-09-30T12:29:33  *** dims has quit IRC
2014-09-30T12:30:08  *** dims has joined #openstack-infra
2014-09-30T12:30:30  *** yaguang has quit IRC
2014-09-30T12:31:37  *** yfried|afk has quit IRC
2014-09-30T12:33:19  *** waterkinfe has joined #openstack-infra
2014-09-30T12:34:14  *** KanagarajM has joined #openstack-infra
2014-09-30T12:34:17  <jhesketh> sdague: yep, agreed
2014-09-30T12:34:36  *** waterkinfe has quit IRC
2014-09-30T12:35:01  *** unicell has quit IRC
2014-09-30T12:35:06  *** waterkinfe has joined #openstack-infra
2014-09-30T12:35:35  *** adalbas has joined #openstack-infra
2014-09-30T12:35:46  *** skeppst__ has quit IRC
2014-09-30T12:36:23  <sdague> addressing your comments in hideci.js now
2014-09-30T12:36:45  <sdague> I have timing numbers, ci_parse_results is not nearly as expensive as people imagine :)
2014-09-30T12:41:40  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: refactor of hideci for readability and modularity  https://review.openstack.org/124632
2014-09-30T12:41:51  <sdague> so on a short review page it's 5ms
2014-09-30T12:41:52  *** dizquierdo has joined #openstack-infra
2014-09-30T12:41:57  *** tsg has joined #openstack-infra
2014-09-30T12:42:06  <sdague> on this review - https://review.openstack.org/#/c/40467/
2014-09-30T12:42:13  <sdague> it was 85ms
2014-09-30T12:42:22  *** rdopieralski has left #openstack-infra
2014-09-30T12:42:25  <sdague> that has 103 change revisions
2014-09-30T12:42:33  <gilliard> sdague: about the code being called twice - it may be browser dependent, but it definitely happens to me with firefox.
2014-09-30T12:42:34  <sdague> which is the largest I've ever seen
2014-09-30T12:42:49  <sdague> gilliard: hmmmm
2014-09-30T12:42:53  <sdague> so how did it ever work before?
2014-09-30T12:43:06  <sdague> because the toggle would have gotten called twice
2014-09-30T12:43:16  <sdague> so everything would be displayed again
2014-09-30T12:44:22  <gilliard> 1st time, the style attribute changes, 2nd time one of the aria-* attributes has changed.  put a console.log in ci_page_loaded to see.
2014-09-30T12:48:02  <sdague> so... why do we have the mutation observer anyway?
2014-09-30T12:48:13  <openstackgerrit> A change was merged to openstack-infra/jenkins-job-builder: Add PMD publisher  https://review.openstack.org/118312
2014-09-30T12:48:22  *** mjturek has joined #openstack-infra
2014-09-30T12:48:27  *** zz_dimtruck is now known as dimtruck
2014-09-30T12:48:39  <gilliard> It fires (a lot) when anything on the page changes, I think.  In particular there, it is looking for the "waiting..." message to disappear.
2014-09-30T12:48:45  *** skeppstedt has joined #openstack-infra
2014-09-30T12:49:23  <sdague> oh... is this because .... gerrit is one big js bundle
2014-09-30T12:49:46  *** miqui has joined #openstack-infra
2014-09-30T12:49:50  <gilliard> nothing was toggled on page load.  It just decided whether or not to show the button which does the toggle when clicked.
2014-09-30T12:49:57  <sdague> gilliard: so, this is the way the code was previously
2014-09-30T12:50:04  <gilliard> agreed.
2014-09-30T12:50:27  <gilliard> Just pointing it out.  I was planning to put up a patch for it in the next few hours if you'd like.
2014-09-30T12:50:36  <sdague> if you have a fix for it, go for it :)
2014-09-30T12:50:37  <sdague> ok
2014-09-30T12:50:43  <gilliard> cool.
2014-09-30T12:50:47  <sdague> I think I addressed the rest of the comments
2014-09-30T12:51:02  <sdague> it's harder to test live now, because comments are cached
2014-09-30T12:51:02  *** rushiagr is now known as rushiagr_away
2014-09-30T12:51:30  *** unicell has joined #openstack-infra
2014-09-30T12:52:19  <sdague> actually, let me do one more function change, then it's testable better
2014-09-30T12:52:45  *** changbl has quit IRC
2014-09-30T12:53:40  <sdague> gilliard: I wonder....
2014-09-30T12:53:56  <sdague> is there reason you are getting double firing because you are redefining things later?
2014-09-30T12:54:22  <gilliard> I don't think so.
2014-09-30T12:54:28  *** _nadya_ has joined #openstack-infra
2014-09-30T12:54:31  <gilliard> I'll paste.o.o something...
2014-09-30T12:55:37  <openstackgerrit> Christian Berendt proposed a change to openstack-infra/devstack-gate: Use $((EXPRESSION)) instead of $[EXPRESSION]  https://review.openstack.org/125038
2014-09-30T12:55:42  *** JayJ has joined #openstack-infra
2014-09-30T12:56:31  *** jistr|english is now known as jistr
2014-09-30T12:57:11  <gilliard> http://paste.openstack.org/show/117111/
2014-09-30T12:57:51  <gilliard> style changes then aria-hidden changes.
2014-09-30T12:58:33  *** koolhead17 has joined #openstack-infra
2014-09-30T12:58:52  <gilliard> I don't know why we have to use this mutationObserver anyway, I assume that the JS GWT puts out is hostile enough to extension so we have to watch for side effects.  I'll investigate & put up another patch later.
2014-09-30T12:59:05  *** ildikov has quit IRC
2014-09-30T12:59:33  *** gokrokve has joined #openstack-infra
2014-09-30T12:59:35  *** bswartz has joined #openstack-infra
2014-09-30T12:59:46  *** ildikov has joined #openstack-infra
2014-09-30T13:01:33  *** k4n0 has quit IRC
2014-09-30T13:03:53  *** gokrokve has quit IRC
2014-09-30T13:04:25  *** ildikov has quit IRC
2014-09-30T13:04:28  *** cnesa15 has joined #openstack-infra
2014-09-30T13:05:10  *** ildikov has joined #openstack-infra
2014-09-30T13:06:13  *** isviridov_away is now known as isviridov
2014-09-30T13:06:30  *** homeless has joined #openstack-infra
2014-09-30T13:06:36  *** krtaylor has quit IRC
2014-09-30T13:06:56  *** ppai has joined #openstack-infra
2014-09-30T13:07:00  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: refactor of hideci for readability and modularity  https://review.openstack.org/124632
2014-09-30T13:07:12  <sdague> ok, so ... ^^^ should just fix it
2014-09-30T13:07:17  <sdague> by not using toggle on page load
2014-09-30T13:07:22  *** krtaylor has joined #openstack-infra
2014-09-30T13:07:27  <sdague> but actually forcing the hide
2014-09-30T13:07:38  <sdague> repurposing toggle was the wrong call anyway
2014-09-30T13:08:04  * gilliard looking
2014-09-30T13:08:26  <openstackgerrit> Sean Dague proposed a change to openstack-infra/config: refactor of hideci for readability and modularity  https://review.openstack.org/124632
2014-09-30T13:08:29  <sdague> oops, typo in function name
2014-09-30T13:08:34  <sdague> I used the old one that wasn't there
2014-09-30T13:08:54  <gilliard> I'm trying to think of a way to test that the caching of "comments" var works as intended.
2014-09-30T13:09:10  <sdague> yeh... me too
2014-09-30T13:09:19  <sdague> it should
2014-09-30T13:09:27  *** julim has joined #openstack-infra
2014-09-30T13:09:28  <sdague> it's closures
2014-09-30T13:09:43  <sdague> that being said, the caching is possibly completely overkill
2014-09-30T13:10:01  <sdague> on the average gerrit review we're talking about 20ms
2014-09-30T13:10:23  <sdague> the paint calls way outstrip that
2014-09-30T13:10:27  <gilliard> What I want is an http proxy where I can inject this file, so that the window.onload stuff works as if it were live.
2014-09-30T13:11:11  *** denis_makogon has joined #openstack-infra
2014-09-30T13:11:21  *** changbl has joined #openstack-infra
2014-09-30T13:11:34  *** _buzz has joined #openstack-infra
2014-09-30T13:11:41  <sdague> yeh
2014-09-30T13:12:11  <sdague> if you figure out how to do that, we should write up that testing procedure in the doc
2014-09-30T13:12:15  <sdague> in the repo somewhere
2014-09-30T13:13:15  <sdague> that being said, at a certain point, we probably just have to decide it's probably right, land it, then fix it if it isn't
2014-09-30T13:14:18  <openstackgerrit> yolanda.robla proposed a change to openstack-infra/storyboard: Disable login for users  https://review.openstack.org/112174
2014-09-30T13:15:18  <openstackgerrit> Alexander Kislitsky proposed a change to openstack-infra/project-config: Fuel-stats repo for Fuel  https://review.openstack.org/124773
2014-09-30T13:15:43  *** salv-orlando has quit IRC
2014-09-30T13:18:23  *** changbl has quit IRC
2014-09-30T13:18:37  *** dustins has joined #openstack-infra
2014-09-30T13:19:23  *** esker has joined #openstack-infra
2014-09-30T13:19:32  *** esker has quit IRC
2014-09-30T13:20:08  *** esker has joined #openstack-infra
2014-09-30T13:20:34  *** zns has joined #openstack-infra
2014-09-30T13:21:42  *** zns has quit IRC
2014-09-30T13:21:58  *** mriedem has joined #openstack-infra
2014-09-30T13:22:17  *** zns has joined #openstack-infra
2014-09-30T13:24:10  *** rushiagr_away is now known as rushiagr
2014-09-30T13:24:16  *** juzuluag has joined #openstack-infra
2014-09-30T13:25:25  *** eglynn-officeafk is now known as eglynn-office
2014-09-30T13:26:57  <openstackgerrit> yolanda.robla proposed a change to openstack-infra/storyboard: Disable login for users  https://review.openstack.org/112174
2014-09-30T13:29:20  *** dkliban_afk is now known as dkliban
2014-09-30T13:29:26  *** zz_jgrimm is now known as jgrimm
2014-09-30T13:29:41  *** vdo has joined #openstack-infra
2014-09-30T13:31:07  <openstackgerrit> yolanda.robla proposed a change to openstack-infra/storyboard: Disable login for users  https://review.openstack.org/112174
2014-09-30T13:33:06  *** doug-fish has joined #openstack-infra
2014-09-30T13:33:56  *** KanagarajM has quit IRC
2014-09-30T13:36:52  *** rushiagr is now known as rushiagr_away
2014-09-30T13:37:08  *** yfried|afk has joined #openstack-infra
2014-09-30T13:39:49  *** mfer has joined #openstack-infra
2014-09-30T13:40:20  <openstackgerrit> Denis M. proposed a change to openstack-infra/project-config: Added jobs for MongoDB and Percona datastores  https://review.openstack.org/125057
2014-09-30T13:40:40  *** skeppstedt has quit IRC
2014-09-30T13:41:06  *** skeppstedt has joined #openstack-infra
2014-09-30T13:43:27  *** jgallard has joined #openstack-infra
2014-09-30T13:44:02  *** sdake has quit IRC
2014-09-30T13:44:23  *** sdake has joined #openstack-infra
2014-09-30T13:45:12  *** skeppstedt has quit IRC
2014-09-30T13:45:50  <openstackgerrit> A change was merged to openstack-infra/jenkins-job-builder: Adding support for the Powershell plugin.  https://review.openstack.org/121142
2014-09-30T13:47:41  *** dimtruck is now known as zz_dimtruck
2014-09-30T13:49:15  *** radez_g0n3 is now known as radez
2014-09-30T13:51:10  *** otherwiseguy has joined #openstack-infra
2014-09-30T13:51:13  *** waterkinfe has quit IRC
2014-09-30T13:52:00  *** skeppstedt has joined #openstack-infra
2014-09-30T13:53:23  *** sdake_ has joined #openstack-infra
2014-09-30T13:53:59  *** vigneshvar has quit IRC
2014-09-30T13:54:08  *** dangers_away is now known as dangers
2014-09-30T13:54:55  *** markmcclain has joined #openstack-infra
2014-09-30T13:54:55  *** markmcclain has quit IRC
2014-09-30T13:55:12  *** dkranz has quit IRC
2014-09-30T13:59:12  *** nosnos_ has quit IRC
2014-09-30T13:59:48  *** nosnos has joined #openstack-infra
2014-09-30T13:59:51  *** gokrokve has joined #openstack-infra
2014-09-30T13:59:51  *** zaphod42 has quit IRC
2014-09-30T14:00:00  *** dustins has quit IRC
2014-09-30T14:00:13  *** wenlock has joined #openstack-infra
2014-09-30T14:01:21  *** sdake_ has quit IRC
2014-09-30T14:02:06  *** dustins has joined #openstack-infra
2014-09-30T14:02:17  *** dane_leblanc has joined #openstack-infra
2014-09-30T14:02:38  *** zz_gondoi is now known as gondoi
2014-09-30T14:03:03  *** bswartz has quit IRC
2014-09-30T14:03:39  *** linuxmohan has quit IRC
2014-09-30T14:04:13  *** nosnos has quit IRC
2014-09-30T14:04:22  *** kashyap has quit IRC
2014-09-30T14:04:28  *** gokrokve has quit IRC
2014-09-30T14:05:44  *** Sincler has joined #openstack-infra
2014-09-30T14:06:32  *** e0ne has quit IRC
2014-09-30T14:06:58  *** daya_k has quit IRC
2014-09-30T14:09:04  *** jergerber has joined #openstack-infra
2014-09-30T14:10:46  *** andreaf_ has joined #openstack-infra
2014-09-30T14:11:28  <openstackgerrit> A change was merged to openstack-infra/jenkins-job-builder: Flatten attribute for publish plugins  https://review.openstack.org/124081
2014-09-30T14:13:56  *** andreaf has quit IRC
2014-09-30T14:14:03  *** andreaf_ is now known as andreaf
2014-09-30T14:14:25  *** andreaf_ has joined #openstack-infra
2014-09-30T14:15:34  *** zz_dimtruck is now known as dimtruck
2014-09-30T14:16:27  *** tonytan4ever has joined #openstack-infra
2014-09-30T14:16:36  *** jergerber has quit IRC
2014-09-30T14:16:54  *** dmsimard_away is now known as dmsimard
2014-09-30T14:17:53  *** hdd has joined #openstack-infra
2014-09-30T14:18:18  *** chuckC has quit IRC
2014-09-30T14:18:57  *** BOKALDO has joined #openstack-infra
2014-09-30T14:19:20  *** rushiagr_away is now known as rushiagr
2014-09-30T14:21:33  *** pbelanyi_ is now known as pbelanyi
2014-09-30T14:22:25  <openstackgerrit> A change was merged to openstack-infra/jenkins-job-builder: ModuleRegistry now cache entry points group  https://review.openstack.org/123163
2014-09-30T14:22:50  <anteaya> AJaeger: the job that adds more layout checks for zuul/layout.yaml: https://review.openstack.org/#/c/124593/1 this patch has the script for the checks and adds it to tox, what is your plan for having it run in check or gate?
2014-09-30T14:23:42  *** ildikov_ has joined #openstack-infra
2014-09-30T14:23:44  *** ildikov has quit IRC
2014-09-30T14:24:29  <openstackgerrit> Sean Dague proposed a change to openstack-infra/elastic-recheck: also ignore icehouse partial grenade  https://review.openstack.org/125070
2014-09-30T14:24:58  *** alexpilotti has quit IRC
2014-09-30T14:26:10  *** BOKALDO has quit IRC
2014-09-30T14:26:40  *** andreaf has quit IRC
2014-09-30T14:27:20  *** ChuckC_ has quit IRC
2014-09-30T14:27:24  *** gokrokve has joined #openstack-infra
2014-09-30T14:27:27  *** bradjones has quit IRC
2014-09-30T14:28:42  *** xyang0 has joined #openstack-infra
2014-09-30T14:29:04  *** cnesa15 has quit IRC
2014-09-30T14:29:11  *** otherwiseguy has quit IRC
2014-09-30T14:29:52  *** e0ne has joined #openstack-infra
2014-09-30T14:30:41  *** gokrokve has quit IRC
2014-09-30T14:31:05  *** gokrokve has joined #openstack-infra
2014-09-30T14:31:12  *** eharney has joined #openstack-infra
2014-09-30T14:33:12  *** jcoufal has quit IRC
2014-09-30T14:33:37  *** datsun180b has joined #openstack-infra
2014-09-30T14:33:52  *** mestery has joined #openstack-infra
2014-09-30T14:34:12  <anteaya> BobBall: when you get a chance can we have a bit of a chat about: https://review.openstack.org/#/c/124730/3
2014-09-30T14:34:17  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: also ignore icehouse partial grenade  https://review.openstack.org/125070
2014-09-30T14:34:28  <BobBall> sure anteaya
2014-09-30T14:34:29  <anteaya> these scripts appear to be specific to xenserver
2014-09-30T14:34:31  <anteaya> thanks
2014-09-30T14:34:43  <BobBall> They are
2014-09-30T14:34:51  <anteaya> and we recently cleared out some code from master that was specific to hp and rackspace
2014-09-30T14:35:07  <anteaya> help me understand why these scripts beneifit everyone using openstack
2014-09-30T14:35:12  <anteaya> and should be in master
2014-09-30T14:35:46  *** emagana has joined #openstack-infra
2014-09-30T14:35:52  <BobBall> They only are useful for XenServer - we can host them elsewhere if needed.
2014-09-30T14:35:56  <mordred> anteaya: I went on the hp/rackspace rampage because those are vendors who should just be compatible with openstack
2014-09-30T14:36:23  *** krtaylor has quit IRC
2014-09-30T14:36:30  <mordred> anteaya: for open source software drivers, I think we _do_ want to have support for them in our tree
2014-09-30T14:36:35  <mordred> anteaya: similar to mysql vs. postgres
2014-09-30T14:36:37  <anteaya> mordred: any objection to bob's scripts?
2014-09-30T14:36:48  *** wenlock has quit IRC
2014-09-30T14:37:05  <mordred> not at all
2014-09-30T14:37:09  <anteaya> thank you
2014-09-30T14:37:15  <anteaya> that was what I needed
2014-09-30T14:37:19  <anteaya> thanks BobBall
2014-09-30T14:37:24  <BobBall> ok, great
2014-09-30T14:37:24  <mordred> I look forward to the day when we're as good at testing xenserver as we are with testing kvm
2014-09-30T14:37:28  *** krtaylor has joined #openstack-infra
2014-09-30T14:37:35  *** jcoufal has joined #openstack-infra
2014-09-30T14:37:35  <mordred> BobBall: btw - did you see that the dib-nodepool stuff landed?
2014-09-30T14:37:39  <BobBall> yes mordred
2014-09-30T14:37:54  <mordred> cool. I have no idea if that makes things harder, easier, or indifferent
2014-09-30T14:37:56  <BobBall> We've got a task in Q4 to look at moving to dib (well, not actually using DIB but a pre-built image)
2014-09-30T14:38:07  <mordred> ++
2014-09-30T14:38:23  <BobBall> In fact, not using DIB at all, but extending nodepool to just be able to upload an image to glance with no DIB actions
2014-09-30T14:38:29  <mordred> (strangely, it'll still probably use dib on our side - but the dib element will be VERY small)
2014-09-30T14:38:30  <mordred> oh
2014-09-30T14:38:30  <BobBall> (which it might be able to do ATM - not looked sufficiently)
2014-09-30T14:38:32  <mordred> gotcha
2014-09-30T14:38:37  *** garyh has joined #openstack-infra
2014-09-30T14:38:39  <mordred> no, it has not - but your way is better than my way
2014-09-30T14:38:51  <foobio> is xenserver actually 100% free software? i've used xen a bunch in the past, but never xenserver
2014-09-30T14:38:54  <BobBall> The XenServer image is a right pain at the best of times...
2014-09-30T14:38:56  <BobBall> yes foobio
2014-09-30T14:39:01  <BobBall> 100% free and open source
2014-09-30T14:39:07  <foobio> their "download for free" page requiring a login is a bit of a turn-off https://store.citrix.com/store/citrix/en_US/DisplayThreePgCheckoutAddressPaymentInfoPage/ThemeID.28169600
2014-09-30T14:39:09  <anteaya> BobBall: ah and that I didn't know
2014-09-30T14:39:14  <anteaya> so I learned something
2014-09-30T14:39:16  <BobBall> www.xenserver.org has _exactly_ the same builds as citrix.com
2014-09-30T14:39:19  <mordred> BobBall: you're still probably going to need dib I think
2014-09-30T14:39:23  *** bknudson has joined #openstack-infra
2014-09-30T14:39:31  <BobBall> don't sue that one foobio :)
2014-09-30T14:39:45  *** reed has joined #openstack-infra
2014-09-30T14:39:46  <foobio> heh. is that the trap for suckers with money to waste?
2014-09-30T14:39:54  <BobBall> Citrix want to make a difference between 'XenServer' and 'Citrix XenServer' (which is the thing you can buy support on)
2014-09-30T14:39:54  <mordred> BobBall: because we're using dib to do the key injection stuff and to do the pre-caching of all the stuff we pre-cache
2014-09-30T14:40:01  *** david-lyle has joined #openstack-infra
2014-09-30T14:40:06  <BobBall> I like that suggestion foobio ;)
2014-09-30T14:40:10  <mordred> BUT - I may be very wrong
2014-09-30T14:40:13  <mordred> I'm still caffinating
2014-09-30T14:40:33  <mordred> MySQL did the same thing back in the day
2014-09-30T14:40:34  <foobio> BobBall: aha. got it. i was indeed conflating "xenserver" with "citrix xenserver." thanks for the info!
2014-09-30T14:40:37  <mordred> may still do it
2014-09-30T14:40:53  <BobBall> mordred: Understood.  I hope we don't need to do that - it'll probably rule out DIB due to the convoluted architecture we have...
2014-09-30T14:40:58  <mordred> MySQL Enterprise was ... well ... absolutely indistinguishable on a binary level from MySQL Community
2014-09-30T14:41:33  <mordred> BobBall: I betcha lifeless will be happy to take that on as a challenge to solve if it is a problem :)
2014-09-30T14:41:33  *** _nadya_ has quit IRC
2014-09-30T14:41:34  <BobBall> Gotta love companies and the way they make money ;)
2014-09-30T14:42:09  *** andreaf has joined #openstack-infra
2014-09-30T14:42:11  <BobBall> Indeed - well, Mate will be looking at it in a few weeks
2014-09-30T14:42:18  <foobio> but anyway, so just to simplify for my limited cranial capacity... xenserver is essentially a custom linux distro tuned for running/managing xen hypervisors?
2014-09-30T14:42:19  *** pcrews has joined #openstack-infra
2014-09-30T14:42:33  <BobBall> Bingo foobio
2014-09-30T14:42:38  *** jedimike has joined #openstack-infra
2014-09-30T14:42:57  *** krtaylor has quit IRC
2014-09-30T14:42:57  *** openstackgerrit has quit IRC
2014-09-30T14:43:07  <sdague> mordred: oh, so dib is currently blocking stable/icehouse requirements fixes
2014-09-30T14:43:25  <sdague> mordred: if you want to noodle on why - https://review.openstack.org/#/c/124648/
2014-09-30T14:44:17  *** bradjones has joined #openstack-infra
2014-09-30T14:44:17  *** bradjones has quit IRC
2014-09-30T14:44:17  *** bradjones has joined #openstack-infra
2014-09-30T14:44:33  <mordred> sdague: I'd love to noodle on why
2014-09-30T14:44:42  *** krtaylor has joined #openstack-infra
2014-09-30T14:44:58  <sdague> zuul change to expose individual patch set status -  https://review.openstack.org/#/c/124390/ - with lots of tests :)
2014-09-30T14:45:23  <mordred> sdague: why in the wORLD would anything break on that change?
2014-09-30T14:45:47  <sdague> mordred: because dib is in projects.txt
2014-09-30T14:46:02  <sdague> and probably doesn't have a stable/icehouse branch
2014-09-30T14:46:25  *** Sincler has quit IRC
2014-09-30T14:46:34  <mordred> sdague: so this actually has very little to do with pytz
2014-09-30T14:46:37  <sdague> yep
2014-09-30T14:46:41  <sdague> it has to do with dib
2014-09-30T14:46:50  <mordred> somewhere we have an asymmetric gate on this
2014-09-30T14:46:54  <mordred> SpamapS: ^^ you awake?
2014-09-30T14:47:22  *** rdopieralski has joined #openstack-infra
2014-09-30T14:47:32  *** otherwiseguy has joined #openstack-infra
2014-09-30T14:47:51  <sdague> yeh, honestly, my first instinct is just remove dib from projects.txt
2014-09-30T14:47:58  *** krtaylor has quit IRC
2014-09-30T14:48:13  *** markmcclain has joined #openstack-infra
2014-09-30T14:48:18  <mordred> sdague: so, I'm guessing that what happened is that the change to lande dib-utils in master happened and worked all fine
2014-09-30T14:48:24  <sdague> yep
2014-09-30T14:48:28  <mordred> sdague: and that there have been no stable/icehouse changes since then
2014-09-30T14:48:52  <rdopieralski> hello, can I ask for adding the triple-o-core and horizon-core groups to the stackforge/tuskar-ui-extras-core group? https://review.openstack.org/#/admin/projects/stackforge/tuskar-ui-extras,access
2014-09-30T14:48:56  <mordred> you know - honestly, this isn't just a dib thing, it's anything that doesn't have a stable branch, like the clients
2014-09-30T14:49:01  <sdague> yep
2014-09-30T14:49:08  <sdague> the clients have a job for this though
2014-09-30T14:49:08  <rdopieralski> so that we can actually use that repository :)
2014-09-30T14:49:18  <mordred> we should probably run a stable branch job on master changes to requirements or something
2014-09-30T14:49:22  <mordred> sdague: do they?
2014-09-30T14:49:29  <sdague> at least for icehouse
2014-09-30T14:49:39  <sdague> I couldn't get the havana one to work, too much regression
2014-09-30T14:49:40  <sdague> but....
2014-09-30T14:49:46  <sdague> I actually think that's the wrong thing
2014-09-30T14:49:54  <mordred> whyfore?
2014-09-30T14:50:09  <sdague> I think we should just remove things like dib from projects.txt
2014-09-30T14:50:18  <mordred> and the clients as well?
2014-09-30T14:50:30  <sdague> I haven't decided on the clients yet
2014-09-30T14:50:32  <mordred> I mean, it's the same problem
2014-09-30T14:50:42  <mordred> either we can solve it and it applies across the board, or we can't
2014-09-30T14:50:53  <mordred> I see no difference between dib and python-novaclient
2014-09-30T14:51:02  *** mmagr has quit IRC
2014-09-30T14:51:03  <mordred> from a build system perspective
2014-09-30T14:51:44  *** thedodd has joined #openstack-infra
2014-09-30T14:51:49  *** wenlock has joined #openstack-infra
2014-09-30T14:51:51  <sdague> oh hey, power outage
2014-09-30T14:52:02  <mordred> whee
2014-09-30T14:52:04  <sdague> rebooted now, but I probably missed the last 2 minutes of conversation
2014-09-30T14:52:13  <mordred> sdague: since you left, I said:
2014-09-30T14:52:21  <mordred> 14:50:32          mordred | I mean, it's the same problem
2014-09-30T14:52:22  <mordred> 14:50:42          mordred | either we can solve it and it applies across the board, or we can't
2014-09-30T14:52:24  <mordred> 14:50:53          mordred | I see no difference between dib and python-novaclient
2014-09-30T14:52:26  <mordred> 14:51:03          mordred | from a build system perspective
2014-09-30T14:53:06  <sdague> so... this opens the giant meta debate
2014-09-30T14:53:29  <sdague> which projects have write authority for projects.txt
2014-09-30T14:53:35  <sdague> is it everything?
2014-09-30T14:53:44  <sdague> or is it the integrated release
2014-09-30T14:53:49  *** Sincler has joined #openstack-infra
2014-09-30T14:53:54  *** skeppstedt has quit IRC
2014-09-30T14:54:01  <sdague> and if it's everything, why are we doing this :)
2014-09-30T14:54:30  *** skeppstedt has joined #openstack-infra
2014-09-30T14:55:22  <foobio> sdague: whatcha mean write authority?
2014-09-30T14:55:35  <sdague> which projects can propose a requirement change
2014-09-30T14:55:44  <anteaya> rdopieralski: I think you need to get foobio's attention for that request
2014-09-30T14:55:59  <foobio> a change to the list of requirements, or a change to the list of projects on which the requirements list is enforced?
2014-09-30T14:56:03  *** rickerc has joined #openstack-infra
2014-09-30T14:56:57  *** krtaylor has joined #openstack-infra
2014-09-30T14:57:00  <foobio> we've so far been letting any project be in the projects.txt file if they want, but additions/changes to global-requirements.txt can only be performed for the explicit benefit of official openstack projects
2014-09-30T14:58:38  *** dkranz has joined #openstack-infra
2014-09-30T14:58:58  *** skeppstedt has quit IRC
2014-09-30T14:59:53  *** mfer has quit IRC
2014-09-30T15:00:18  <sdague> right
2014-09-30T15:00:23  *** todd_dsm has joined #openstack-infra
2014-09-30T15:00:32  <sdague> ok, so it looks like we actually still don't have the thing that we think we want
2014-09-30T15:00:34  *** mestery has quit IRC
2014-09-30T15:00:42  <sdague> I'm reading the current requirements check job
2014-09-30T15:00:55  <sdague> foobio: is there a way to know if a project has stable branch?
2014-09-30T15:01:06  <mordred> git branch -a | grep stable
2014-09-30T15:01:33  <rdopieralski> foobio: would you have a moment to add the triple-o and horizon -core and -release groups to the corresponding groups on https://review.openstack.org/#/admin/projects/stackforge/tuskar-ui-extras,access ?
2014-09-30T15:02:31  *** kmartin_away is now known as kmartin
2014-09-30T15:03:21  *** MaxV has quit IRC
2014-09-30T15:03:48  *** david-lyle has quit IRC
2014-09-30T15:04:00  *** daya_k has joined #openstack-infra
2014-09-30T15:04:07  *** MaxV has joined #openstack-infra
2014-09-30T15:04:26  <foobio> sdague: for p in `ssh -p 29418 review.openstack.org gerrit ls-projects | grep ^openstack | grep -v ^openstack/openstack$` ; do wget -qO/dev/null 'http://git.openstack.org/cgit/'$p'/tree/?h=stable/havana' && echo $p ; done
2014-09-30T15:04:29  *** MarkAtwood has joined #openstack-infra
2014-09-30T15:04:38  <foobio> rdopieralski: sure, just a sec
2014-09-30T15:04:43  *** AJaeger_ has joined #openstack-infra
2014-09-30T15:05:40  *** markmcclain has quit IRC
2014-09-30T15:05:47  <AJaeger_> anteaya: regarding https://review.openstack.org/#/c/124593 - good catch. i thought tox -e zuul would run it in the gate but that seems not to be the case.
2014-09-30T15:05:53  <AJaeger_> Let me enhance the test...
2014-09-30T15:06:04  *** dims has quit IRC
2014-09-30T15:06:08  <sdague> ok, I'm going to do a thing
2014-09-30T15:06:23  <sdague> and I think the fall out will be a bunch of people will want to leave g-r on their own
2014-09-30T15:06:34  <foobio> rdopieralski: done
2014-09-30T15:06:36  *** dims has joined #openstack-infra
2014-09-30T15:07:21  <foobio> sdague: that for loop was how i figured out which projects had a stable/havana branch (so i can delete them today)
2014-09-30T15:07:37  *** skeppstedt has joined #openstack-infra
2014-09-30T15:07:38  *** andreaf has quit IRC
2014-09-30T15:08:04  *** andreaf has joined #openstack-infra
2014-09-30T15:09:00  *** david-lyle has joined #openstack-infra
2014-09-30T15:10:20  <AJaeger_> foobio, anteaya: What about adding the test to  gate-project-config-layout? is there a specific reason that tox -e zuul does more than the layout gate?
2014-09-30T15:10:53  *** dims has quit IRC
2014-09-30T15:12:41  <rdopieralski> foobio: thank you very much!
2014-09-30T15:12:57  *** dustins has quit IRC
2014-09-30T15:14:02  <AJaeger_> foobio, seems somebody added me to project-config as core. Do you have any special requests or guidance for me?
2014-09-30T15:14:44  *** rdopieralski has left #openstack-infra
2014-09-30T15:15:44  *** gokrokve_ has joined #openstack-infra
2014-09-30T15:15:54  *** gokrokve_ has quit IRC
2014-09-30T15:16:07  *** gokrokve_ has joined #openstack-infra
2014-09-30T15:16:26  *** rwsu has joined #openstack-infra
2014-09-30T15:16:43  *** flaviof_zzz is now known as flaviof
2014-09-30T15:16:50  <mordred> sdague: why do we want people to leave g-r ?
2014-09-30T15:17:22  *** bswartz has joined #openstack-infra
2014-09-30T15:18:15  *** dustins has joined #openstack-infra
2014-09-30T15:18:42  *** changbl has joined #openstack-infra
2014-09-30T15:18:44  *** bswartz has quit IRC
2014-09-30T15:18:46  *** atiwari has joined #openstack-infra
2014-09-30T15:19:02  *** bswartz has joined #openstack-infra
2014-09-30T15:19:16  <foobio> AJaeger_: not sure why it was done that way. perhaps for simplifying the tox-driven job while keeping multiple checks running on one worker. couple perhaps be broken out into multiple new tox envs and then just call those from the zuul env currently there
2014-09-30T15:19:41  <foobio> AJaeger_: it was me who added you... http://lists.openstack.org/pipermail/openstack-dev/2014-September/047480.html
2014-09-30T15:19:45  *** gokrokve has quit IRC
2014-09-30T15:20:00  *** bswartz has quit IRC
2014-09-30T15:20:11  <foobio> AJaeger_: no specific advice, other than don't approve stuff unless you're sure it should be approved
2014-09-30T15:20:18  *** bswartz has joined #openstack-infra
2014-09-30T15:21:02  *** e0ne has quit IRC
2014-09-30T15:21:05  <AJaeger_> foobio: missed that email ;) thanks for welcoming us in!
2014-09-30T15:21:27  <foobio> sdague: anteaya: ^ in case you don't have a direct e-mail feed into your brain holes, don't want the sudden extra review options to take you by surprise
2014-09-30T15:21:28  *** e0ne has joined #openstack-infra
2014-09-30T15:21:52  <AJaeger_> foobio: so, let me +2 for now and let others approve ;)
2014-09-30T15:21:56  <sdague> oh hey, gerrit bot might want to put project config in here
2014-09-30T15:22:16  <AJaeger_> sdague: it should be in here already
2014-09-30T15:22:22  <foobio> sdague: great idea... did we miss that?
2014-09-30T15:22:35  <sdague> yep
2014-09-30T15:22:38  <foobio> sdague: i think openstackgerrit has simply gone on walkabout again
2014-09-30T15:22:44  *** ChuckC_ has joined #openstack-infra
2014-09-30T15:22:45  <sdague> oh, maybe
2014-09-30T15:22:47  <sdague> https://review.openstack.org/125095
2014-09-30T15:22:54  <sdague> mordred / foobio ^^^
2014-09-30T15:24:13  *** openstackgerrit has joined #openstack-infra
2014-09-30T15:24:31  <foobio> openstackgerrit has returned to us
2014-09-30T15:24:47  <sdague> \o/
2014-09-30T15:25:23  <rcarrillocruz> zaro: hi there, i pushed a new change for the multimodule maven jobs, as the JJB repo is now in project-config. It's currently WIP, as I'd like to do some more testing but I'd appreciate if you could have a look
2014-09-30T15:25:24  *** hdd has quit IRC
2014-09-30T15:25:25  *** salv-orlando has joined #openstack-infra
2014-09-30T15:25:33  <rcarrillocruz> it now uses curl, no maven for deploying
2014-09-30T15:25:38  <sdague> so, I think with 125095 we're going to get the enforcement that we all think we should have
2014-09-30T15:25:42  *** unicell has quit IRC
2014-09-30T15:25:52  *** chuckC has joined #openstack-infra
2014-09-30T15:25:55  <rcarrillocruz> https://review.openstack.org/#/c/125011/
2014-09-30T15:25:55  <sdague> and basically all master only projects will probably be requirements wedged
2014-09-30T15:26:32  <sdague> but... at least it will be the thing that people seem to want
2014-09-30T15:26:58  *** mrmartin has joined #openstack-infra
2014-09-30T15:27:38  *** jcoufal has quit IRC
2014-09-30T15:27:58  <mordred> sdague: yes. I agree with that patch
2014-09-30T15:28:15  <mordred> sdague: and I do agree that some stuff may be wedged, but that's the life of something that doesn't have stable branches
2014-09-30T15:30:38  *** mfer has joined #openstack-infra
2014-09-30T15:30:42  *** skeppstedt has quit IRC
2014-09-30T15:31:18  *** skeppstedt has joined #openstack-infra
2014-09-30T15:32:33  *** stevemar has joined #openstack-infra
2014-09-30T15:32:37  <superbee> sdague why not git branch -a in requirements for SUPPORTED_BRANCHES
2014-09-30T15:32:55  *** coolsvap|afk is now known as coolsvap
2014-09-30T15:32:57  <superbee> then we dont need to manually update multiple locations
2014-09-30T15:34:03  <sdague> my git branch -a includes   remotes/origin/stable/folsom
2014-09-30T15:34:03  <sdague>   remotes/origin/stable/grizzly
2014-09-30T15:34:03  <sdague>   remotes/origin/stable/havana
2014-09-30T15:34:03  <sdague>   remotes/origin/stable/icehouse
2014-09-30T15:34:08  <sdague> so... that's why
2014-09-30T15:34:15  *** shashankhegde has joined #openstack-infra
2014-09-30T15:34:27  <superbee> we can filter that
2014-09-30T15:34:40  <sdague> by what?
2014-09-30T15:34:47  <superbee> and do in our image builds for example
2014-09-30T15:34:47  *** MarkAtwood has quit IRC
2014-09-30T15:35:12  <sdague> right, but is that any more complicated than changing 1 tupple every 6 months?
2014-09-30T15:35:22  *** signed8bit has joined #openstack-infra
2014-09-30T15:35:37  *** skeppstedt has quit IRC
2014-09-30T15:35:41  *** afazekas has quit IRC
2014-09-30T15:35:42  <sdague> this has the nice impact of being very explicit
2014-09-30T15:36:53  <openstackgerrit> Denis M. proposed a change to openstack-infra/project-config: Added jobs for MongoDB and Percona datastores  https://review.openstack.org/125057
2014-09-30T15:36:56  <stevemar> anteaya, AJaeger sdague congrats y'all :)
2014-09-30T15:37:12  *** gyee has joined #openstack-infra
2014-09-30T15:37:26  *** krtaylor has quit IRC
2014-09-30T15:37:52  *** gokrokve_ has quit IRC
2014-09-30T15:38:26  *** gokrokve has joined #openstack-infra
2014-09-30T15:38:34  *** krtaylor has joined #openstack-infra
2014-09-30T15:39:15  <sdague> apparently stable/icehouse devstack has been code unlandable for a month :)
2014-09-30T15:39:21  *** gokrokve has quit IRC
2014-09-30T15:39:56  *** gokrokve has joined #openstack-infra
2014-09-30T15:40:41  *** Daisy has joined #openstack-infra
2014-09-30T15:41:14  *** todd_dsm has quit IRC
2014-09-30T15:42:32  *** ihrachyshka has quit IRC
2014-09-30T15:43:20  *** salv-orlando has quit IRC
2014-09-30T15:44:04  <pelix> zaro: wondering is it worth changing the tests to treat non-existing output candidates as empty strings? Would avoid adding a number of empty files for the duplicate jobs change
2014-09-30T15:44:23  *** gokrokve has quit IRC
2014-09-30T15:44:23  <AJaeger_> stevemar: thanks1
2014-09-30T15:44:30  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Use tox -e zuul for layout test  https://review.openstack.org/125101
2014-09-30T15:44:33  *** atuvenie has quit IRC
2014-09-30T15:45:36  <AJaeger_> anteaya: 125101 is the base for the gating on the alphabetized patch in https://review.openstack.org/124593
2014-09-30T15:46:14  *** jgrimm is now known as zz_jgrimm
2014-09-30T15:46:28  <superbee> sdague we have a lot of knobs to turn when adding new stable branches and one fewer should lead to fewer mistakes
2014-09-30T15:48:35  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Error on duplicate job names being found  https://review.openstack.org/56734
2014-09-30T15:49:05  *** VijayTripathi has joined #openstack-infra
2014-09-30T15:53:08  <sdague> so I just thought about the req thing again in the shower. I think my change is a mobius strip of terribleness
2014-09-30T15:53:19  <openstackgerrit> A change was merged to openstack-dev/hacking: Add a check for old style class declarations  https://review.openstack.org/116846
2014-09-30T15:53:26  <sdague> because here is the actual behavior we've never decided on
2014-09-30T15:53:34  <openstackgerrit> patrick-crews proposed a change to openstack-infra/elastic-recheck: Make function for logstash query encoding  https://review.openstack.org/122246
2014-09-30T15:53:42  *** zz_jgrimm is now known as jgrimm
2014-09-30T15:53:42  <sdague> stable/icehouse: foo>0.1
2014-09-30T15:53:48  <sdague> master: foo>0.2
2014-09-30T15:54:01  <sdague> what is a master only project supposed to do?
2014-09-30T15:54:24  <sdague> because if the answer is stable == master
2014-09-30T15:54:31  <sdague> than I don't understand why g-r has branches
2014-09-30T15:55:00  *** dizquierdo has quit IRC
2014-09-30T15:55:14  <sdague> but if the answer isn't that, then is it that master only branches should actually get oldest stable syncs instead of master syncs?
2014-09-30T15:55:23  <superbee> pip needs that dependency resolver
2014-09-30T15:55:38  <sdague> but that doesn't actually solve it either
2014-09-30T15:55:38  <anteaya> foobio stevemar thank you
2014-09-30T15:55:50  <sdague> because ... we do pip multiple times
2014-09-30T15:55:53  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Add more checks for zuul/layout.yaml  https://review.openstack.org/124593
2014-09-30T15:56:33  <superbee> sdague it would though. just like apt yells in those cases
2014-09-30T15:56:54  <sdague> superbee: no, because pip doesn't care about what you did before
2014-09-30T15:57:11  <superbee> but a pip dep resolver should/would
2014-09-30T15:57:12  <sdague> we're going to run pip 40 times
2014-09-30T15:57:30  <superbee> because the dep resolver must consider the world
2014-09-30T15:57:49  *** shashankhegde has quit IRC
2014-09-30T15:57:55  <superbee> however I am sure python would say the actual way to fix this is virtualenvs
2014-09-30T15:58:03  <sdague> so that would mean that some ubuntu package would have a pin on a thing
2014-09-30T15:58:08  *** emagana has quit IRC
2014-09-30T15:58:09  <anteaya> AJaeger_: sorry I was on the phone, just getting my head around what is happening in those patches
2014-09-30T15:58:14  <sdague> and we'd never be able to test again unless we built python from source?
2014-09-30T15:58:18  *** ashaeron has quit IRC
2014-09-30T15:58:40  <sdague> because there is a lot of the world that we don't control
2014-09-30T15:58:42  *** emagana has joined #openstack-infra
2014-09-30T15:58:43  <superbee> sdague or uninstall that thing via apt and install via pip
2014-09-30T15:58:49  *** yaguang has joined #openstack-infra
2014-09-30T15:58:58  <sdague> superbee: like some of the system level tools?
2014-09-30T15:59:05  <superbee> but ya virtualenvs are likely the official answer
2014-09-30T15:59:10  <superbee> sdague yup
2014-09-30T15:59:11  <AJaeger_> anteaya: no problem....
2014-09-30T15:59:23  <sdague> yeh... so anyway, I think we remain in terribleness on all of that
2014-09-30T15:59:26  <superbee> we do this with things like requests and cloud init iirc
2014-09-30T15:59:38  <sdague> we actually don't with requests
2014-09-30T15:59:48  <superbee> infra does
2014-09-30T16:00:05  *** markmcclain has joined #openstack-infra
2014-09-30T16:00:12  *** dims has joined #openstack-infra
2014-09-30T16:00:14  <anteaya> foobio: so timing the creation of new projects with the creation of images
2014-09-30T16:00:27  *** amotoki has joined #openstack-infra
2014-09-30T16:00:29  *** esker has quit IRC
2014-09-30T16:00:30  <superbee> system requests is used by a system lib but its too old so we update via pip
2014-09-30T16:00:44  <sdague> ok, on trusty nodes we don't
2014-09-30T16:00:46  <anteaya> so if we approve new projects, do you want us to check with you first to ensure it doesn't interfere with image creation?
2014-09-30T16:00:49  *** emagana_ has joined #openstack-infra
2014-09-30T16:01:05  <sdague> and there is something else deep in that seems to drag it in, that I haven't unwound yet
2014-09-30T16:01:08  <anteaya> since those two operations clash if I recall
2014-09-30T16:01:54  *** dims_ has joined #openstack-infra
2014-09-30T16:01:56  <superbee> sdague ya I think we do this on centos6 and precise
2014-09-30T16:01:58  *** emagana has quit IRC
2014-09-30T16:02:10  <anteaya> AJaeger_: can I test this patch on my local env? https://review.openstack.org/#/c/124593/2
2014-09-30T16:02:20  <superbee> anteaya they only clash if project creation fails
2014-09-30T16:02:32  <superbee> anteaya I wouldnt worry about it too much
2014-09-30T16:02:48  <anteaya> which happens randomly for undetermined reasons, yes?
2014-09-30T16:02:49  <AJaeger_> anteaya: yes, you should
2014-09-30T16:02:57  <anteaya> superbee: k, thanks
2014-09-30T16:03:03  <anteaya> AJaeger_: k, will attempt
2014-09-30T16:04:16  *** jgrimm is now known as zz_jgrimm
2014-09-30T16:04:26  <zaro> morning
2014-09-30T16:04:57  <superbee> sdague the problem with virtualenv per service is it likely wont be long before we break the distros
2014-09-30T16:05:08  <superbee> we could also stable branch everything
2014-09-30T16:05:32  <sdague> superbee: yeh... so I'm having a hard time caring a lot about that given that the distros aren't helping with the problem at all
2014-09-30T16:06:07  *** zaphod42 has joined #openstack-infra
2014-09-30T16:06:11  *** sabeen3 has joined #openstack-infra
2014-09-30T16:06:19  *** dims has quit IRC
2014-09-30T16:06:23  *** sabeen has quit IRC
2014-09-30T16:06:30  *** HeOS has quit IRC
2014-09-30T16:08:11  <AJaeger_> anteaya: i think we should first integrate dhellmann's patch and then go test 124593...
2014-09-30T16:08:17  *** tothanhcong has joined #openstack-infra
2014-09-30T16:08:43  *** gokrokve has joined #openstack-infra
2014-09-30T16:08:48  *** tothanhcong has quit IRC
2014-09-30T16:09:01  <AJaeger_> so, to untangle this, could somebody help reviewing and approving https://review.openstack.org/124759 and https://review.openstack.org/124517, please?
2014-09-30T16:09:23  *** tothanhcong has joined #openstack-infra
2014-09-30T16:10:31  <foobio> anteaya: adding new projects doesn't really break image creation unless the project addition itself breaks, or unless you get really lucky and it merges at just the wrong time
2014-09-30T16:10:51  <zaro> hashar: need help with 124885
2014-09-30T16:10:59  <anteaya> foobio: awesome
2014-09-30T16:11:00  *** yamahata has quit IRC
2014-09-30T16:11:06  *** eglynn-office is now known as eglynn-officeafk
2014-09-30T16:11:19  *** tothanhcong has quit IRC
2014-09-30T16:11:31  <anteaya> AJaeger_: yes, the order of the patches seems to be important here in order to tox to do its thing
2014-09-30T16:11:32  *** ildikov_ has quit IRC
2014-09-30T16:11:50  <anteaya> morning zaro
2014-09-30T16:12:01  *** zz_jgrimm is now known as jgrimm
2014-09-30T16:12:03  *** koolhead17 has quit IRC
2014-09-30T16:12:20  <anteaya> AJaeger_: did you want to merge dhellmann's patch first rather than work on the dependency dance?
2014-09-30T16:12:36  <zaro> pelix: hey, welcome back. jjb release this week.  is there something you really like to be included?
2014-09-30T16:12:56  <AJaeger_> anteaya: yes, let's get dhellmann's in (thanks sdague and superbee for reviews!) and then I'll sort it out.
2014-09-30T16:13:02  <AJaeger_> Let me add some WIPs to mine ;)
2014-09-30T16:13:14  <hashar> zaro: yeah I wasn't sure how to write the tests myself. I am in audio right now
2014-09-30T16:13:18  <foobio> anteaya: probably the bigger thing which causes interruptions is adding new channels to eavesdrop/meetbot since that can interrupt meeting logging and leave stale topics, but conveniently we didn't move that one into project-config since it's handled as an array in a puppet manifest
2014-09-30T16:13:18  *** congtothanh has joined #openstack-infra
2014-09-30T16:13:19  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Error on duplicate job names being found  https://review.openstack.org/56734
2014-09-30T16:13:23  *** yfried|afk has quit IRC
2014-09-30T16:13:36  *** gokrokve has quit IRC
2014-09-30T16:13:58  <pelix> zaro: initial python3 compatibility? Seems like should try and get in place?
2014-09-30T16:14:01  <superbee> Ajaeger_ dont forget the parent of 124759
2014-09-30T16:14:18  *** packet has joined #openstack-infra
2014-09-30T16:14:19  <anteaya> foobio: yay
2014-09-30T16:14:30  <openstackgerrit> A change was merged to openstack-infra/project-config: Do not run unit test jobs for oslo-specs  https://review.openstack.org/124517
2014-09-30T16:14:42  *** packet is now known as Guest55921
2014-09-30T16:15:59  <zaro> hashar: hmm, too bad msabram isn't around.
2014-09-30T16:16:26  <zaro> pelix: ok.  lets do it. which should i review?
2014-09-30T16:17:58  <AJaeger_> superbee: I mixed up the ID of parent of 124759 but you all sorted it out - thanks a lot!
2014-09-30T16:18:39  <hashar> zaro: I might have some free time tonight. Will play a bit with mock :]
2014-09-30T16:18:41  <anteaya> AJaeger_: I need to have some lunch, let's see what happens with merge check on your patch
2014-09-30T16:18:42  <pelix> zaro: just verifying after making the changes you recommended
2014-09-30T16:19:00  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Make JJB python 3 compatible  https://review.openstack.org/118703
2014-09-30T16:19:02  *** r-daneel has joined #openstack-infra
2014-09-30T16:19:29  <superbee> is ^ an unrevert?
2014-09-30T16:19:36  *** yfried|afk has joined #openstack-infra
2014-09-30T16:19:38  <superbee> did we sort out what broke?
2014-09-30T16:19:47  *** baoli has quit IRC
2014-09-30T16:19:52  *** congtothanh has quit IRC
2014-09-30T16:19:54  <openstackgerrit> A change was merged to openstack-infra/project-config: Remove oslotest cross-project unit test jobs  https://review.openstack.org/124758
2014-09-30T16:20:09  <openstackgerrit> A change was merged to openstack-infra/project-config: Fix up tests after repo reorganization  https://review.openstack.org/124759
2014-09-30T16:20:21  *** r-daneel has quit IRC
2014-09-30T16:21:03  *** MaxV has quit IRC
2014-09-30T16:21:07  *** IvanBerezovskiy has left #openstack-infra
2014-09-30T16:21:25  <superbee> sdague would probably be reasonable to have a discussion around venv per service. dstufft is certainly in favor and tripleo does it for sanity
2014-09-30T16:21:36  <sdague> yeh
2014-09-30T16:21:51  <sdague> maybe that should be the ML thread :)
2014-09-30T16:22:02  <superbee> ya probably
2014-09-30T16:22:12  <superbee> or even cross project summit session
2014-09-30T16:22:39  <mordred> superbee: why?
2014-09-30T16:22:45  <mordred> like, to solve which problem?
2014-09-30T16:23:00  <mordred> hang on - lemme read the whole scrollback
2014-09-30T16:23:12  <sdague> mordred: yeh, go back to mobius strip of terribleness
2014-09-30T16:23:44  *** Ryan_Lane has quit IRC
2014-09-30T16:24:15  *** bradjones has quit IRC
2014-09-30T16:24:16  <mordred> ok. so - before we unwind all of the things
2014-09-30T16:24:43  <mordred> the original question you posed was "sdague | what is a master only project supposed to do?"
2014-09-30T16:25:00  <zaro> anybody else concerned that our docs are not getting updated in rtfd.org?
2014-09-30T16:25:02  <mordred> and the idea is that a master only project is supposed to still work with stable releases
2014-09-30T16:25:05  <mordred> zaro: no
2014-09-30T16:25:10  *** Longgeek has quit IRC
2014-09-30T16:25:24  *** unicell has joined #openstack-infra
2014-09-30T16:25:33  <mordred> so regardless of how pip works or how virtualenvs or how g-r works
2014-09-30T16:25:47  <mordred> we need to verify that master of python-novaclient still works with stable/icehouse
2014-09-30T16:25:51  <zaro> ok.  should we continue to upload to rtfd then?
2014-09-30T16:26:11  *** bradjones has joined #openstack-infra
2014-09-30T16:26:11  *** bradjones has quit IRC
2014-09-30T16:26:11  *** bradjones has joined #openstack-infra
2014-09-30T16:26:23  <mordred> and since dib is a thing that is following the same model, we need to also check that master dib works in a stable/icehouse build
2014-09-30T16:26:41  *** shashankhegde has joined #openstack-infra
2014-09-30T16:26:41  <mordred> we can rework all of the enforcement mechanics all day long, but we do need to verify those things
2014-09-30T16:27:03  <zaro> i mean there's a doc-on-rtfd that tons of jobs are using, but it doesn't seem to work :(
2014-09-30T16:27:14  *** mrmartin has quit IRC
2014-09-30T16:27:32  <sdague> mordred: ok, so we do novaclient vs. stable/icehouse
2014-09-30T16:27:39  <mordred> off the cuff, I do not believe that venv-per-service has anything to do with the above positive or negative - it's a thing we might consider doing, and I do not think it will solve anything in this discussion
2014-09-30T16:28:08  <mordred> sdague: that's right
2014-09-30T16:28:08  *** r-daneel has joined #openstack-infra
2014-09-30T16:28:29  <mordred> and we don't actually co-gate dib with the integrated release, so we don't actually need to do a devstack test on it
2014-09-30T16:28:31  <foobio> zaro: i have doubts that's what's broken. rtfd is also supposed to update itself daily, independent of that hook
2014-09-30T16:28:43  *** jistr has quit IRC
2014-09-30T16:28:53  *** thedodd has quit IRC
2014-09-30T16:28:53  *** Guest55921 has quit IRC
2014-09-30T16:29:12  <foobio> zaro: if projects aren't getting their docs updated there at all, then that points to a shift in rtfd's model/configuration or else perhaps rtdf itself has broken
2014-09-30T16:29:22  <sdague> mordred: so in that case, why do we do a requirements check?
2014-09-30T16:29:34  <foobio> tfdr... some combination of letters anyway
2014-09-30T16:29:37  <mordred> but if the model holds for requirements from the client libs, then we should backport the dib-utils split to stable/icehouse g-r, and the porting of that patch should be enough to verify that installing master dib alongside icehouse does not break the world
2014-09-30T16:29:49  *** zns has quit IRC
2014-09-30T16:30:09  *** Guest68510 has quit IRC
2014-09-30T16:30:10  <mordred> sdague: we do the requirements check to make sure that the contents of the requirements files describe reality and work
2014-09-30T16:30:13  <sdague> so it seems like what we're actually saying
2014-09-30T16:30:27  <sdague> "we should test that dib can work in an openstack environment"
2014-09-30T16:30:29  <sdague> we don't do that
2014-09-30T16:30:33  *** mpaolino has quit IRC
2014-09-30T16:30:36  <mordred> Im not saying that
2014-09-30T16:30:40  <mordred> at all
2014-09-30T16:30:43  <sdague> ok
2014-09-30T16:31:00  *** zns has joined #openstack-infra
2014-09-30T16:31:38  <mordred> I'm saying that the addition of dib-utils to global-requirements, because dib is a master-only project, should have a corresponding change to add dib-utils to g-r:stable/icehouse. if that patch breaks something, then we should not land the corresponding one to master
2014-09-30T16:31:53  <mordred> we are not testing that right now, but that is the consequences of having master-only projects at all
2014-09-30T16:31:57  <mordred> and it holds for all of them
2014-09-30T16:32:04  <sdague> except, what's requiring dib-utils ?
2014-09-30T16:32:07  <mordred> dib
2014-09-30T16:32:14  <sdague> and what's requring that?
2014-09-30T16:32:23  <mordred> it's a top level thing
2014-09-30T16:32:27  *** AzherKhan has joined #openstack-infra
2014-09-30T16:32:30  <mordred> also, ironic
2014-09-30T16:32:34  <sdague> it's not an integrated release thing
2014-09-30T16:32:36  <mordred> the ironic devstack tests use dib
2014-09-30T16:32:55  <derekh> --help
2014-09-30T16:33:53  <foobio> derekh: unrecognized option '--help'
2014-09-30T16:34:00  <openstackgerrit> Joe Gordon proposed a change to openstack-infra/elastic-recheck: Don't show ER patches under open reviews  https://review.openstack.org/125117
2014-09-30T16:34:01  *** amcrn has joined #openstack-infra
2014-09-30T16:34:17  <derekh> -?
2014-09-30T16:34:33  <derekh> foobio: hmm, that didn't work either
2014-09-30T16:34:35  <foobio> Segmentation Fault: core dumped
2014-09-30T16:34:40  <sdague> so... this means that when evaluating whether we add a requirement to master, do we take into consideration the possibly disruptive impact on stable of adding new requirements?
2014-09-30T16:34:42  <derekh> ;-)
2014-09-30T16:34:57  *** koolhead17 has joined #openstack-infra
2014-09-30T16:35:02  <mordred> sdague: we have to if we're adding the new requirement because of a master-only project
2014-09-30T16:35:56  <mordred> integrated/not-integrated aside for a sec - it's the same thing with the recent splits of keystone middleware stuff
2014-09-30T16:36:10  <zaro> foobio: so i guess we would need help from rtfd maintainers to debug?  do you know who to ask?
2014-09-30T16:36:18  <sdague> so master only projects that aren't part of the integrated release, get to add requirements to openstack that people need to backport package
2014-09-30T16:36:37  <mordred> OR they don't
2014-09-30T16:36:37  <sdague> that's the part that has always seemed odd to me
2014-09-30T16:36:41  <mordred> it just needs to be considered
2014-09-30T16:36:54  <mordred> it's possible that the answer is "no, that would break stable"
2014-09-30T16:37:00  <mordred> in which case they can suck it
2014-09-30T16:37:16  <sdague> ok, so, how do we know if they need to suck it?
2014-09-30T16:37:33  <mordred> propose the backport of the patch to stable/icehouse and see if anything breaks
2014-09-30T16:37:43  <sdague> that means ... we actually want to check master against oldest stable req right?
2014-09-30T16:37:53  *** atuvenie has joined #openstack-infra
2014-09-30T16:38:10  <superbee> mordred venvs per project makes us care less about master foo working with icehouse bar because the coexist in venvs. its a bit of a heavyweighr solution yes and likely to cause distros pain
2014-09-30T16:38:14  *** baoli has joined #openstack-infra
2014-09-30T16:38:15  <mordred> I was just trying to think through the combinations and I'm not 100% sure there is a direct gate we can build
2014-09-30T16:38:42  <pleia2> good morning
2014-09-30T16:38:48  <mordred> superbee: that's right. and so far we've been considering the distros an important consumer
2014-09-30T16:38:56  <mordred> so I would not be willing to be party to that change without a TC discussion
2014-09-30T16:39:30  <sdague> mordred: yeh, especially with this idea that icehouse is getting an extra 6 months of support
2014-09-30T16:39:41  <sdague> we're going to be juggling 4 branches at once
2014-09-30T16:39:43  <superbee> was just going to mention that
2014-09-30T16:40:04  *** patrickeast has joined #openstack-infra
2014-09-30T16:40:07  <mordred> we could completely ditch g-r and move to a completely independent list per-service
2014-09-30T16:40:16  <mordred> but that's a pretty substantial change in thinking
2014-09-30T16:40:16  <sdague> if we had venvs
2014-09-30T16:40:19  <mordred> right
2014-09-30T16:40:21  <sdague> yep
2014-09-30T16:40:31  <mordred> I'm just saying - that's fairly massive. it may be the right choice
2014-09-30T16:40:36  <mordred> but it's fairly massive
2014-09-30T16:40:38  <sdague> sure
2014-09-30T16:40:40  <openstackgerrit> Sean Dague proposed a change to openstack-infra/project-config: enforce stable requirements  https://review.openstack.org/125095
2014-09-30T16:40:46  <mordred> it will also ABSOLUTELY screw the distros
2014-09-30T16:40:49  <sdague> ok, so that's conceptually the thing
2014-09-30T16:40:53  <mordred> almost immediately
2014-09-30T16:41:09  <foobio> it also means we're saying "this is how you cd openstack now if you're not using distro packages"
2014-09-30T16:41:11  <mordred> because we know how divergent we were in the projects per-convergence
2014-09-30T16:41:11  <superbee> yup
2014-09-30T16:41:19  <sdague> well, looking at how they patch the f* out of a lot of these python packages
2014-09-30T16:41:19  *** hdd has joined #openstack-infra
2014-09-30T16:41:21  * mordred is fine with that
2014-09-30T16:41:23  <mordred> btw
2014-09-30T16:41:26  <foobio> and the docs team is just going to love us if we do that
2014-09-30T16:41:41  <sdague> yeh, anyway, I have to go get food
2014-09-30T16:41:42  <mordred> as all of the friday discussions around current state of distros
2014-09-30T16:41:52  <mordred> but we can't just make that call here
2014-09-30T16:42:01  <sdague> mordred: right 100% agreed
2014-09-30T16:42:19  <foobio> summit session +=
2014-09-30T16:42:23  <sdague> I'm just trying to figure out if there is a sane way through this on the requirements side without that
2014-09-30T16:42:42  <superbee> the other alternative is stable branch everything
2014-09-30T16:42:42  <mordred> sdague: what's wrong, for now, with proposing a backport of dib-utils to stable/icehouse
2014-09-30T16:42:44  <sdague> which is why I'm challenging various things, hoping someone will just say "no silly, it works fine if yuo do A"
2014-09-30T16:42:48  *** hashar has quit IRC
2014-09-30T16:42:53  <mordred> doing that a few times by hand to see if patterns emerge
2014-09-30T16:43:01  <sdague> mordred: we do that all the time
2014-09-30T16:43:01  <mordred> and then trying to encapsulate what we learn in a suggestion?
2014-09-30T16:43:04  <foobio> sdague: pretty sure none of it works fine, ever
2014-09-30T16:43:20  <sdague> mordred: and it feels really weird every time we do to me
2014-09-30T16:43:23  <foobio> our choice is between a variety of different sorts of broken compromises
2014-09-30T16:43:30  <sdague> foobio: right
2014-09-30T16:43:33  <mordred> yah
2014-09-30T16:43:46  <mordred> remember we're trying to have our cake and eat it too all the time
2014-09-30T16:43:48  <sdague> ok, lunch
2014-09-30T16:43:54  <superbee> I think if we want to make long term support of releases a thing and support distros everything needs a stable branch
2014-09-30T16:44:14  <foobio> mmmcake
2014-09-30T16:44:16  <mordred> I think less things need stable branches, not more :)
2014-09-30T16:44:50  * mordred says screw the distros and screw stable branches - which, btw, is what the original plan was before the distros showed up and whinned in boston
2014-09-30T16:45:05  <superbee> then we shouldnt support things for 18 months post release
2014-09-30T16:45:09  *** lttrl has quit IRC
2014-09-30T16:45:29  <foobio> well, it's 15 months post release (final icehouse point release scheduled for july)
2014-09-30T16:45:45  *** _nadya_ has joined #openstack-infra
2014-09-30T16:45:47  <mordred> I keep getting told that people should get openstack from their vendors and not from us -that it's not our job to produce a product
2014-09-30T16:46:10  <mordred> if we accepted that and adopted linus' thinking, we'd stop supporting anything and let ubuntu and redhat and piston all sort it out
2014-09-30T16:46:10  *** Daisy has quit IRC
2014-09-30T16:46:41  *** Daisy has joined #openstack-infra
2014-09-30T16:46:43  <foobio> well, linus' model does have stable branches, fwiw
2014-09-30T16:46:46  <mordred> I would advocate ditching releases as well though and just going to a completely CD-oriented pipeline
2014-09-30T16:46:52  *** yfried|afk has quit IRC
2014-09-30T16:47:12  <SpamapS> mordred: awake now. Whats up?
2014-09-30T16:47:22  <mordred> SpamapS: dib screwed stable/icehouse
2014-09-30T16:47:35  <mordred> SpamapS: and it has caused us all to go all meta about releases
2014-09-30T16:47:39  *** doude has quit IRC
2014-09-30T16:47:50  <zaro> jhesketh: still working on this? https://review.openstack.org/#/c/107724/ ?
2014-09-30T16:47:55  <mordred> SpamapS: but - short version, dib added dib-utils in master g-r and so it doesn't work in stable/icehouse
2014-09-30T16:47:57  <annegentle> honestly mordred I'd be happy to drop the install guide like a hot potato
2014-09-30T16:48:12  <mordred> annegentle: I second that motion
2014-09-30T16:48:13  <SpamapS> mordred: because stable/icehouse tests using dib master?
2014-09-30T16:48:17  <annegentle> but board members approached me when I vented about it a few summits ago
2014-09-30T16:48:25  <mordred> SpamapS: that's right - because there is no stable/icehouse of dib
2014-09-30T16:48:34  <SpamapS> mordred: there are pypi releases...
2014-09-30T16:48:39  <foobio> annegentle: we've got all new board members now ;)
2014-09-30T16:48:41  <annegentle> but if the time is right after this release let's ditch
2014-09-30T16:48:41  <SpamapS> mordred: so... <= in requirements.txt ?
2014-09-30T16:48:43  <mordred> SpamapS: that is irrelevant
2014-09-30T16:48:43  <annegentle> heh
2014-09-30T16:48:44  <annegentle> nice
2014-09-30T16:48:58  <annegentle> I like our board! and the members that approached me were super supportive
2014-09-30T16:49:04  *** _nadya_ has quit IRC
2014-09-30T16:49:10  *** dims_ has quit IRC
2014-09-30T16:49:17  <mordred> SpamapS: I believe we use master of dib in devstack ... although I suppose you're suggesting that we just pip install dib?
2014-09-30T16:49:20  <mordred> sdague: ^^ ?
2014-09-30T16:49:22  <SpamapS> mordred: can't we just not pull things without stable branches via git?
2014-09-30T16:49:24  <annegentle> so that's all cool. but honestly, looking at the web stats, the most widely read one is ubuntu and that's cuz they don't have any other doc
2014-09-30T16:49:31  <foobio> well, we're also managing to sneak more and more tc members into board seats. it's only a matter of time until they become the majority voice ;)
2014-09-30T16:49:39  <annegentle> foobio: hee
2014-09-30T16:49:41  *** hashar has joined #openstack-infra
2014-09-30T16:49:45  *** dims has joined #openstack-infra
2014-09-30T16:49:45  <mordred> sdague: we may have a good specific suggestion here ....
2014-09-30T16:50:15  <mordred> annegentle: did any of those board members offer doc writers to help?
2014-09-30T16:50:24  <annegentle> mordred: yes they did
2014-09-30T16:50:29  <mordred> oh. ok then
2014-09-30T16:50:43  <annegentle> mordred: so yeah, money where mouth
2014-09-30T16:50:51  <mordred> if people are ponying up humans to work on a thing, I'm much more in support of supporting that thing
2014-09-30T16:50:59  *** thedodd has joined #openstack-infra
2014-09-30T16:51:01  <annegentle> mordred: oh I'm meeting with the Eucalyptus writing team this afternoon!
2014-09-30T16:51:09  *** otherwiseguy has quit IRC
2014-09-30T16:51:17  <annegentle> mordred: not that they want to work on install docs :)
2014-09-30T16:51:36  <annegentle> mordred: but it's cool to know those writers
2014-09-30T16:52:19  *** markmcclain has quit IRC
2014-09-30T16:52:25  *** MarkAtwood has joined #openstack-infra
2014-09-30T16:52:31  *** shashankhegde has quit IRC
2014-09-30T16:52:31  <mordred> annegentle: yah - I have a hunch we're all going to get to know them better ...
2014-09-30T16:52:36  *** tonytan4ever has quit IRC
2014-09-30T16:52:44  <anteaya> pleia2: how were penquins and wolverines?
2014-09-30T16:53:28  *** scottda has joined #openstack-infra
2014-09-30T16:53:41  *** sarob has joined #openstack-infra
2014-09-30T16:54:46  *** bhuvan has joined #openstack-infra
2014-09-30T16:54:58  *** bodepd_ has quit IRC
2014-09-30T16:54:58  <mordred> sdague, SpamapS: https://review.openstack.org/125121
2014-09-30T16:55:01  <mordred> like that?
2014-09-30T16:55:03  <superbee> ok I am finally on a real computer now
2014-09-30T16:55:11  *** mwagner_lap has quit IRC
2014-09-30T16:55:20  *** amuller_ has joined #openstack-infra
2014-09-30T16:55:42  *** _nadya_ has joined #openstack-infra
2014-09-30T16:55:51  <mordred> superbee: congratulations
2014-09-30T16:55:56  <pleia2> anteaya: they were a lot of fun
2014-09-30T16:56:12  *** laxity has quit IRC
2014-09-30T16:56:15  <anteaya> superbee: are you at your portland home, with furniture and a computer?
2014-09-30T16:56:20  <anteaya> pleia2: \o/
2014-09-30T16:56:42  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Error on duplicate job names being found  https://review.openstack.org/56734
2014-09-30T16:56:58  <superbee> anteaya: yup. sitting on couch with laptop. The desk in office still needs to be put cobbled together. I need more wireless antennas
2014-09-30T16:57:06  *** laxity has joined #openstack-infra
2014-09-30T16:57:45  *** amuller__ has joined #openstack-infra
2014-09-30T16:57:49  *** emagana_ has quit IRC
2014-09-30T16:57:58  * foobio imagines superbee wandering about with various wireless antennae strapped on
2014-09-30T16:58:22  *** ihrachyshka has joined #openstack-infra
2014-09-30T16:58:32  <anteaya> superbee: yay for furtiture, in a house/home
2014-09-30T16:58:39  *** amuller_ has quit IRC
2014-09-30T16:58:39  *** amuller has quit IRC
2014-09-30T16:58:41  *** bodepd has joined #openstack-infra
2014-09-30T16:58:46  *** derekh has quit IRC
2014-09-30T16:58:46  *** amuller_ has joined #openstack-infra
2014-09-30T16:58:50  *** otherwiseguy has joined #openstack-infra
2014-09-30T16:58:51  <anteaya> foobio: quite the visual there
2014-09-30T16:59:01  *** bodepd has quit IRC
2014-09-30T16:59:19  *** mwagner_lap has joined #openstack-infra
2014-09-30T16:59:21  *** marun has joined #openstack-infra
2014-09-30T16:59:39  *** hashar has quit IRC
2014-09-30T17:00:05  *** bodepd has joined #openstack-infra
2014-09-30T17:01:01  *** sandywalsh_ has quit IRC
2014-09-30T17:01:12  *** krtaylor has quit IRC
2014-09-30T17:01:17  *** esker has joined #openstack-infra
2014-09-30T17:01:35  *** armax has joined #openstack-infra
2014-09-30T17:02:02  *** zns has quit IRC
2014-09-30T17:02:24  *** _nadya_ has quit IRC
2014-09-30T17:02:53  *** amuller__ has quit IRC
2014-09-30T17:03:24  *** sandywalsh has joined #openstack-infra
2014-09-30T17:03:41  <anteaya> who is chairing today's infra meeting?
2014-09-30T17:03:54  <anteaya> I was going to tidy the agenda
2014-09-30T17:03:56  *** amuller_ is now known as amuller
2014-09-30T17:04:16  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Make JJB python 3 compatible  https://review.openstack.org/118703
2014-09-30T17:04:24  *** bhuvan_ has joined #openstack-infra
2014-09-30T17:04:47  <morgan_remote_> Is anything weird going on with gerrit? I seem to be stuck in a login loop. Might just be mobile browser but it was working last night.
2014-09-30T17:04:48  <foobio> anteaya: i am, and was about to go do that--i have a couple things i need to make sure i add anyway
2014-09-30T17:05:00  *** jedimike has quit IRC
2014-09-30T17:05:04  <superbee> morgan_remote_: not that I have seen
2014-09-30T17:05:49  <morgan_remote_> I login and it redirects me to ubuntuone, redirects to gerrit then to Ubuntu one and requires login again. Huh weird.
2014-09-30T17:05:55  <morgan_remote_> And does that endlessly.
2014-09-30T17:06:06  * superbee tries logging out and back in again
2014-09-30T17:06:38  <superbee> morgan_remote_: no problem here. could your browser be caching stuff oddly?
2014-09-30T17:06:39  *** markmcclain has joined #openstack-infra
2014-09-30T17:06:41  *** bhuvan has quit IRC
2014-09-30T17:07:18  <foobio> morgan_remote_: is your mobile browser an ubuntuphone?
2014-09-30T17:07:25  <morgan_remote_> No. iPhone
2014-09-30T17:07:27  *** atuvenie has quit IRC
2014-09-30T17:07:29  *** tonytan4ever has joined #openstack-infra
2014-09-30T17:07:36  <morgan_remote_> Will try clearing out cache etc
2014-09-30T17:08:08  *** Daisy has quit IRC
2014-09-30T17:08:18  *** arosen-home2 has joined #openstack-infra
2014-09-30T17:08:56  <SpamapS> mordred: left a comment
2014-09-30T17:09:22  <foobio> just figured it would be amusing if ubuntuphone had issues with ubuntu's openid
2014-09-30T17:09:23  *** thedodd has quit IRC
2014-09-30T17:09:36  <morgan_remote_> superbee: figured it out. 3rd party cookie blocking was turned on.
2014-09-30T17:09:56  *** gokrokve has joined #openstack-infra
2014-09-30T17:11:02  * superbee syncs project-config finally
2014-09-30T17:11:11  *** kgavini has joined #openstack-infra
2014-09-30T17:11:31  <anteaya> foobio: I will get out of your way and do something else
2014-09-30T17:11:35  * anteaya does something else
2014-09-30T17:12:42  *** emagana has joined #openstack-infra
2014-09-30T17:13:33  *** jgallard has quit IRC
2014-09-30T17:13:37  *** shashankhegde has joined #openstack-infra
2014-09-30T17:14:11  *** lttrl has joined #openstack-infra
2014-09-30T17:14:28  *** gokrokve has quit IRC
2014-09-30T17:14:44  *** esker has quit IRC
2014-09-30T17:15:59  *** bradjones has quit IRC
2014-09-30T17:16:33  *** MaxV has joined #openstack-infra
2014-09-30T17:16:39  * superbee adds dib to the agenda if it isn't already there
2014-09-30T17:16:51  *** gokrokve has joined #openstack-infra
2014-09-30T17:17:00  <openstackgerrit> A change was merged to openstack-infra/project-config: heat-dsvm-functional INSTALL_TESTONLY=1  https://review.openstack.org/124233
2014-09-30T17:17:01  *** mrmartin has joined #openstack-infra
2014-09-30T17:17:12  <superbee> oh good its still there udner priority efforts
2014-09-30T17:17:39  *** zns has joined #openstack-infra
2014-09-30T17:17:40  *** mmaglana has joined #openstack-infra
2014-09-30T17:18:18  *** harlowja_away is now known as harlowja
2014-09-30T17:20:20  <anteaya> AJaeger_: I think you can un-WIP this one now: https://review.openstack.org/#/c/125101/ I can get tox to work on my local environment
2014-09-30T17:20:27  <zaro> superbee: i don't think jjb compare-xml test is working anymore.  do you know if project-config is at a point where compare-xml should be working yet?
2014-09-30T17:20:51  <krotscheck> So, I have two reviews that undo-and-fix my CORS work from yesterday, https://review.openstack.org/#/c/124934/ and https://review.openstack.org/#/c/124936/ - anyone able to look at those for me? (The underlying issue is that the scp publisher does weird path things that break things)
2014-09-30T17:21:03  <superbee> zaro: I am not sure. anteaya and AJaeger_ were working on similar things earlier though. They may know
2014-09-30T17:22:47  *** amotoki has quit IRC
2014-09-30T17:23:13  *** praneshp has joined #openstack-infra
2014-09-30T17:23:18  <annegentle> sdague: around?
2014-09-30T17:23:30  <superbee> krotscheck: I dont claim to fully understand the gruntfile
2014-09-30T17:23:34  <anteaya> zaro: I think that tests on project-config either should be working now or we should be in the process of fixing what isn't working
2014-09-30T17:24:03  <anteaya> zaro: how do we go about fixing compare-xml to make it work? I don't know that job very well
2014-09-30T17:24:18  <superbee> krotscheck: but it seems simple enough
2014-09-30T17:24:33  <superbee> copy:draft vs copy:dist to put files in different places
2014-09-30T17:25:00  *** esker has joined #openstack-infra
2014-09-30T17:25:10  <krotscheck> superbee: Right, so the way grunt plugins work is that you can declare subcommands. So grunt copy:dist can be invoked, and grunt copy:draft can be invoked, and if you want to run both of them you can just call grunt copy.
2014-09-30T17:25:28  *** bhuvan_ has quit IRC
2014-09-30T17:25:46  <openstackgerrit> Darragh Bailey proposed a change to openstack-infra/jenkins-job-builder: Switch to new project-config repo  https://review.openstack.org/125124
2014-09-30T17:25:53  <pelix> seems that updating the scripts in jenkins-job-builder to use the new repo for the job configs was forgotten with the reorganization
2014-09-30T17:25:57  <krotscheck> superbee: Now that we have two distinct copy subcommands though, I have to be specific about which one is invoked during which stage of the build. So I only need copy:draft when build:draft is invoked.
2014-09-30T17:26:15  <krotscheck> superbee: That
2014-09-30T17:26:24  *** bhuvan has joined #openstack-infra
2014-09-30T17:26:25  <pelix> zaro: ^^ we probably want that change in before allowing anything else through just to make sure we aren't breaking anything obvious
2014-09-30T17:26:27  <krotscheck> superbee: That’s why I had to modify other invocations of “copy” to say “copy:dist"
2014-09-30T17:26:33  <superbee> krotscheck: gotcha. +2
2014-09-30T17:26:34  <krotscheck> superbee: And that’s basically it.
2014-09-30T17:26:44  <AJaeger_> zaro: are you running "tox -e zuul" locally?
2014-09-30T17:26:59  <krotscheck> superbee: Thanks :D
2014-09-30T17:27:10  <anteaya> pelix: what scripts were forgotten?
2014-09-30T17:27:11  <AJaeger_> zaro, anteaya: it should work now with current HEAD
2014-09-30T17:27:26  <anteaya> AJaeger_: the compare-xml job?
2014-09-30T17:27:32  <pelix> anteaya: yeap
2014-09-30T17:27:41  <pelix> the compare-xml script
2014-09-30T17:27:45  *** bradjones has joined #openstack-infra
2014-09-30T17:27:56  *** flaviof is now known as flaviof_zzz
2014-09-30T17:27:57  *** bradjones has quit IRC
2014-09-30T17:27:58  *** bradjones has joined #openstack-infra
2014-09-30T17:28:02  <superbee> foobio: https://review.openstack.org/#/c/119936/ would be a good one to get in if you have a chance to review it
2014-09-30T17:28:06  *** todd_dsm has joined #openstack-infra
2014-09-30T17:28:19  * AJaeger_ double checks compare-xml
2014-09-30T17:28:30  <anteaya> pelix: where was the compare-xml script
2014-09-30T17:28:41  *** sacharya has joined #openstack-infra
2014-09-30T17:28:43  <pelix> anteaya: in the JJB git repo
2014-09-30T17:28:47  <AJaeger_> anteaya: project-config/tools/run-compare-xml
2014-09-30T17:28:50  <pelix> tools/run-compare-xml.sh
2014-09-30T17:28:54  <anteaya> ah in tools
2014-09-30T17:28:56  <zaro> pelix: agreed, but i did run it manually with change 56734 and it looks good.
2014-09-30T17:29:03  <anteaya> I wasn't asked to move it
2014-09-30T17:29:07  <AJaeger_> pelix: in JJB?
2014-09-30T17:29:19  <anteaya> can folks talk in complete sentences please?
2014-09-30T17:29:25  <zaro> anteaya: https://review.openstack.org/#/c/104004
2014-09-30T17:29:29  <anteaya> I am having trouble following the point
2014-09-30T17:29:37  <zaro> anteaya: oops, i meant http://logs.openstack.org/34/56734/12/check/jenkins-job-builder-coverage/8689ed8/
2014-09-30T17:30:05  *** baoli has quit IRC
2014-09-30T17:30:18  <AJaeger_> zaro, I'm still confused - what is the relevance of the log?
2014-09-30T17:30:19  <superbee> (I am flushing project-config changes now)
2014-09-30T17:30:47  <anteaya> superbee: flushing them from what?
2014-09-30T17:31:00  <zaro> anteaya, AJaeger_ : sorry, wrong link again.  this one is what i really meant. http://logs.openstack.org/34/56734/12/check/jenkins-job-builder-compare-xml/1b97efb/
2014-09-30T17:31:03  <pelix> AJaeger: yes in jenkins-job-builder git repo. It's used by the jenkins-job-builder-compare-xml job to catch if any changes to JJB are going to cause problems with the existing openstack JJB configs, example of the problem http://logs.openstack.org/03/118703/4/check/jenkins-job-builder-compare-xml/4553e48/console.html
2014-09-30T17:31:14  <zaro> it's the compare-xml test.
2014-09-30T17:31:15  *** baoli has joined #openstack-infra
2014-09-30T17:31:26  <anteaya> pelix: so you are saying that a script that was never identifying to be moved into the project-config repo is not in the project-config repo
2014-09-30T17:31:27  <superbee> anteaya: flushing out changes that are ready to merge
2014-09-30T17:31:38  <anteaya> superbee: ah okay, thanks
2014-09-30T17:31:40  <superbee> anteaya: I am treating older +1s from our new core members as +2s and approving things
2014-09-30T17:31:43  *** ZZelle_ has joined #openstack-infra
2014-09-30T17:31:47  <anteaya> superbee: kk, thank you
2014-09-30T17:31:52  <AJaeger_> superbee: thanks!
2014-09-30T17:32:09  <pelix> anteaya: no, I'm saying it was referencing the old config repo to grab the yaml configs that were moved out into project-config and the script was never updated to point to the new repo.
2014-09-30T17:32:12  *** tonytan4ever has quit IRC
2014-09-30T17:32:18  *** che-arne has quit IRC
2014-09-30T17:32:22  <openstackgerrit> A change was merged to openstack-infra/config: Removes zuul/layout-dev.yaml  https://review.openstack.org/124898
2014-09-30T17:32:49  *** yfried|afk has joined #openstack-infra
2014-09-30T17:32:54  <pelix> Don't think the script should have been moved, just that it wasn't updated to take into account the changes that occurred.
2014-09-30T17:32:55  <anteaya> pelix: ah okay now I understand thank you, yes if the job points to the content which isnt' there, I can see it breaking
2014-09-30T17:33:05  *** AzherKhan has quit IRC
2014-09-30T17:33:12  *** Ryan_Lane has joined #openstack-infra
2014-09-30T17:33:16  <anteaya> pelix: yes, can we edit that to point to where the content is now then?
2014-09-30T17:33:26  *** AzherKhan has joined #openstack-infra
2014-09-30T17:33:33  <zaro> anteaya, AJaeger_ : the checkout is done in tools/run-compar.sh it needs to point to new project.
2014-09-30T17:33:44  <pelix> anteaya: see https://review.openstack.org/125124
2014-09-30T17:33:54  <zaro> anteaya, AJaeger_ : you guys want to fix? or i can do
2014-09-30T17:34:36  <openstackgerrit> A change was merged to openstack-infra/project-config: Run a shell script instead of tox for osc functional  https://review.openstack.org/124276
2014-09-30T17:34:47  <AJaeger_> pelix, zaro: There's both a run-compare in jjb and in project-config. I was thinking you talk about project-config but you meant the jjb one.
2014-09-30T17:34:51  <anteaya> pelix: +1, thank you
2014-09-30T17:35:16  <anteaya> zaro: looks like pelix just needs your review on 125124
2014-09-30T17:35:27  *** coolsvap is now known as coolsvap|afk
2014-09-30T17:35:34  <anteaya> pelix: is that accurate?
2014-09-30T17:35:45  <AJaeger_> superbee, foobio could you review https://review.openstack.org/#/c/125124/ to fix jjb gating, please?
2014-09-30T17:35:49  <pelix> yep, it appears to fix the job :)
2014-09-30T17:35:54  <anteaya> yay
2014-09-30T17:36:10  <openstackgerrit> A change was merged to openstack-infra/project-config: Run tripleo tests on horizon  https://review.openstack.org/124333
2014-09-30T17:36:14  * AJaeger_ is not confused anymore...
2014-09-30T17:36:20  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Group stackforge projects in layout.yaml  https://review.openstack.org/124589
2014-09-30T17:36:20  <superbee> AJaeger_: looking
2014-09-30T17:36:21  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Add more checks for zuul/layout.yaml  https://review.openstack.org/124593
2014-09-30T17:36:23  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Use tox -e zuul for layout test  https://review.openstack.org/125101
2014-09-30T17:36:49  * AJaeger_ was working on the three patches above - that also include run-compare ;9
2014-09-30T17:37:07  <zaro> pelix: ohh, you are a step ahead!
2014-09-30T17:37:23  *** yaguang has quit IRC
2014-09-30T17:39:16  <superbee> 125124 lgtm
2014-09-30T17:39:23  *** habib__ has quit IRC
2014-09-30T17:39:25  <superbee> I checked the test output too
2014-09-30T17:39:49  <AJaeger_> thanks, superbee
2014-09-30T17:40:26  *** mflobo_ has joined #openstack-infra
2014-09-30T17:40:34  *** linuxmohan has joined #openstack-infra
2014-09-30T17:41:30  <openstackgerrit> A change was merged to openstack-infra/project-config: Gate Gnocchi against py34-postgresql  https://review.openstack.org/124340
2014-09-30T17:41:49  *** VijayTripathi has quit IRC
2014-09-30T17:41:54  <SpamapS> mordred: note that diskimage-builder and tripleo have developed fairly sophisticated (but not complex) tooling to allow packages vs. git ... seems like devstack might need the same.
2014-09-30T17:41:56  *** emagana has quit IRC
2014-09-30T17:42:24  <mordred> SpamapS: that might be a nice patch to devstack ...
2014-09-30T17:42:33  *** emagana has joined #openstack-infra
2014-09-30T17:42:33  *** tonytan4ever has joined #openstack-infra
2014-09-30T17:42:50  <mordred> SpamapS: because I know that testing current pip python*client is desirable as is testing git
2014-09-30T17:42:55  <mordred> sdague: ^^ or?
2014-09-30T17:42:57  *** daya_k has quit IRC
2014-09-30T17:43:11  <openstackgerrit> A change was merged to openstack-infra/config: Trim jenkins::slave package installations further  https://review.openstack.org/119936
2014-09-30T17:43:15  *** _nadya_ has joined #openstack-infra
2014-09-30T17:43:15  <superbee> foobio: ty
2014-09-30T17:43:35  <SpamapS> mordred: we don't want to fall too far down the testing-matrix-all-the-things hole, but having at least the extreme edges of the matrix handled does seem a worthy goal.
2014-09-30T17:43:37  *** mflobo has quit IRC
2014-09-30T17:43:38  *** mflobo__ has joined #openstack-infra
2014-09-30T17:44:39  <mordred> SpamapS: well, if there is solid tooling, that seems like a good thing to have - whether we exercise that tooling in all possiblity permutations is orthogonal
2014-09-30T17:45:08  *** emagana_ has joined #openstack-infra
2014-09-30T17:45:25  *** emagana has quit IRC
2014-09-30T17:45:44  *** gokrokve has quit IRC
2014-09-30T17:46:09  *** mflobo_ has quit IRC
2014-09-30T17:46:18  *** gokrokve has joined #openstack-infra
2014-09-30T17:46:35  *** arosen-home2 has quit IRC
2014-09-30T17:46:41  *** arosen1 has joined #openstack-infra
2014-09-30T17:46:51  *** arosen1 has quit IRC
2014-09-30T17:47:06  *** arosen1 has joined #openstack-infra
2014-09-30T17:47:12  <pelix> zaro: ;)
2014-09-30T17:47:42  <zaro> AJaeger_: you pointed out something that still confuses me, why run-compare-xml.sh in both project-config and jjb.  i'm not sure one in project-config is used, might be opportunity to clean up?
2014-09-30T17:47:52  *** arosen1 has quit IRC
2014-09-30T17:47:53  <SpamapS> mordred: sure. I am thinking we should just basically turn your patch into an if on an environment variable or conf setting and keep that conf setting extremely coarse grained.. like    if [ -n $install_non_openstack_things_from_pip ] ; then ...
2014-09-30T17:48:05  *** arosen1 has joined #openstack-infra
2014-09-30T17:48:13  <SpamapS> non_integrated things might be a better term
2014-09-30T17:48:20  <AJaeger_> zaro: We run it in project-config to see what has changed from one commit to another. We're looking at changes in project-config
2014-09-30T17:48:34  *** linuxmohan has quit IRC
2014-09-30T17:48:36  <AJaeger_> zaro: it's run in jjb to check that there are no regressions with your patch to jjb
2014-09-30T17:48:36  *** sdake_ has joined #openstack-infra
2014-09-30T17:48:39  *** rushiagr is now known as rushiagr_away
2014-09-30T17:49:07  *** arosen1 has quit IRC
2014-09-30T17:49:13  *** gokrokve has quit IRC
2014-09-30T17:49:22  *** linuxmohan has joined #openstack-infra
2014-09-30T17:49:40  *** gokrokve has joined #openstack-infra
2014-09-30T17:51:15  *** Sukhdev has joined #openstack-infra
2014-09-30T17:51:27  *** hashar has joined #openstack-infra
2014-09-30T17:51:36  *** rushiagr_away is now known as rushiagr
2014-09-30T17:52:15  *** sabeen has joined #openstack-infra
2014-09-30T17:52:47  <zaro> AJaeger_: ahh looks like a new test that wasn't in config.
2014-09-30T17:53:00  <AJaeger_> zaro, it was in config as well...
2014-09-30T17:53:16  *** reed has quit IRC
2014-09-30T17:53:19  *** cnesa15 has joined #openstack-infra
2014-09-30T17:53:29  <openstackgerrit> A change was merged to openstack-infra/jenkins-job-builder: Switch to new project-config repo  https://review.openstack.org/125124
2014-09-30T17:53:32  *** reed has joined #openstack-infra
2014-09-30T17:53:39  <zaro> AJaeger_: was it named differently when in config?  i didn't see it.
2014-09-30T17:54:03  *** _nadya_ has quit IRC
2014-09-30T17:54:38  *** _nadya_ has joined #openstack-infra
2014-09-30T17:55:18  <zaro> superbee: i think you should take a look at this one, https://review.openstack.org/#/c/118703/
2014-09-30T17:55:47  *** pelix has quit IRC
2014-09-30T17:55:53  *** sabeen3 has quit IRC
2014-09-30T17:56:12  *** dangers is now known as dangers_away
2014-09-30T17:56:35  <AJaeger_> zaro: see https://review.openstack.org/#/c/114933/ - and toggle ci to see the job was there as well
2014-09-30T17:56:43  <AJaeger_> "config-compare-xml Jenkins XML output has changed. in 2m 56s (non-voting)"
2014-09-30T17:59:14  <zaro> AJaeger_: ohh, i see. i think it's actually only run in post pipeline.  i only see it in merged changes.
2014-09-30T17:59:36  <AJaeger_> 114933 was not merged
2014-09-30T17:59:36  *** todd_dsm has quit IRC
2014-09-30T18:00:55  *** arosen-home1 has joined #openstack-infra
2014-09-30T18:01:02  <superbee> zaro: it should be rechecked once the xml comparison job is fixed
2014-09-30T18:01:12  *** zaphod42_ has joined #openstack-infra
2014-09-30T18:01:16  <arosen-home1> How do i become part of an additional group in gerrit? For example congress-release https://github.com/openstack-infra/project-config/blob/master/gerrit/acls/stackforge/python-congressclient.config#L6
2014-09-30T18:01:28  <zaro> AJaeger_: then i'm confused.  i don't see it in any of the open config changes. what determines when it gets run?
2014-09-30T18:01:36  *** MarkAtwood has quit IRC
2014-09-30T18:02:08  <superbee> arosen-home1: two ways. if the group already has members they can add you. if there are no current members gerrit admins (basically infra core) can add the initial member
2014-09-30T18:02:57  *** MarkAtwood has joined #openstack-infra
2014-09-30T18:03:07  <AJaeger_> zaro: it's not run since project-config was split up - you only see it in jobs before the split like 114933
2014-09-30T18:03:36  *** johnthetubaguy is now known as zz_johnthetubagu
2014-09-30T18:04:07  <anteaya> pleia2: can you take a moment and help me understand this patch better? https://review.openstack.org/#/c/124569/1
2014-09-30T18:04:25  *** zaphod42 has quit IRC
2014-09-30T18:04:37  *** sarob has quit IRC
2014-09-30T18:04:55  <zaro> AJaeger_: ok. that clears it up. thanks.
2014-09-30T18:05:10  *** david-lyle is now known as david-lyle_afk
2014-09-30T18:05:15  <arosen-home1> superbee:  yea looks like the group doesn't exist yet :/.  Do i make the request through the infra-mailing list? Or i wonder if i should change the group to be congress-core ?
2014-09-30T18:05:15  *** hashar has quit IRC
2014-09-30T18:05:31  <superbee> congress-release exists
2014-09-30T18:05:31  * arosen-home1 which does exist. 
2014-09-30T18:05:39  <arosen-home1> superbee:  anyone a part of it?
2014-09-30T18:05:43  <superbee> and no we usually do not want to mix those two groups
2014-09-30T18:05:53  <superbee> arosen-home1: nope. Who should be the initial member? I can add that person
2014-09-30T18:05:53  *** IAX has joined #openstack-infra
2014-09-30T18:05:54  <pleia2> anteaya: sure
2014-09-30T18:06:03  <arosen-home1> Can you make me that person ?
2014-09-30T18:06:06  *** sdake_ has quit IRC
2014-09-30T18:06:14  <anteaya> pleia2: so basically it is using shell script to add a new conditional
2014-09-30T18:06:14  <arosen-home1> arosen is my launchpad id.
2014-09-30T18:06:16  <superbee> arosen-home1: sure
2014-09-30T18:06:19  <arosen-home1> superbee: thanks!
2014-09-30T18:06:40  *** todd_dsm has joined #openstack-infra
2014-09-30T18:06:41  <anteaya> pleia2: and then it filters on each conditional, taking a different action based on the filters
2014-09-30T18:06:48  <superbee> arosen-home1: done. note we like to keep the release groups small to avoid having lots of people that can push tags
2014-09-30T18:06:58  <superbee> arosen-home1: since mispushed tags can be a giant pain to clean up
2014-09-30T18:06:59  <arosen-home1> superbee:  makes sense.
2014-09-30T18:06:59  <anteaya> pleia2: and errors if the filters have no content
2014-09-30T18:07:02  <anteaya> pleia2: yes?
2014-09-30T18:07:20  *** rmcall has joined #openstack-infra
2014-09-30T18:07:38  *** otherwiseguy has quit IRC
2014-09-30T18:08:05  <anteaya> pleia2: and the action is the parsing of content to arrive at a name value for the MODULE variable
2014-09-30T18:08:14  *** _nadya_ has quit IRC
2014-09-30T18:08:25  <pleia2> anteaya: so it checks to see whether we're using Modulefie (deprecated, see deprecation warning at: https://docs.puppetlabs.com/puppet/latest/reference/modules_publishing.html) or metadata.json (yay!)
2014-09-30T18:08:34  *** gokrokve has quit IRC
2014-09-30T18:09:01  *** annegent_ has joined #openstack-infra
2014-09-30T18:09:05  <pleia2> but yes, as you describe is correct
2014-09-30T18:09:19  <anteaya> pleia2: great thanks
2014-09-30T18:09:32  *** gokrokve has joined #openstack-infra
2014-09-30T18:09:46  <sdague> mordred: ok, so that's a piece of things. However we also need to drop it from projects.txt after that, right?
2014-09-30T18:10:23  <anteaya> pleia2: +2, thanks for taking the time to explain that to me
2014-09-30T18:10:23  *** gokrokve has quit IRC
2014-09-30T18:10:43  <mordred> sdague: no, it can still participate in projects.txt after that and it should have no ill effects on our gate
2014-09-30T18:10:45  <pleia2> anteaya: sure thing, you mostly got it yourself though :)
2014-09-30T18:10:49  *** gokrokve has joined #openstack-infra
2014-09-30T18:11:04  <mordred> the problem is that it was in projects.txt AND we were processing its git repo, which means that projects.txt syncing was going on with it
2014-09-30T18:11:24  *** jlibosva has quit IRC
2014-09-30T18:11:31  <pleia2> anteaya: does also bring up the fact that we should switch to metadata.json at some point, but deprecated means we have some time ;)
2014-09-30T18:11:35  <anteaya> pleia2: having you here helped me
2014-09-30T18:11:37  <sdague> mordred: really?
2014-09-30T18:11:43  <sdague> I thought the problem was it was in projects.txt
2014-09-30T18:11:45  *** sdake_ has joined #openstack-infra
2014-09-30T18:11:51  <sdague> in stable/icehouse
2014-09-30T18:11:54  <anteaya> pleia2: ah the cushy pillow to fall back on
2014-09-30T18:12:00  <sdague> so the pbr try to install things script fails
2014-09-30T18:12:08  <mordred> sdague: that's only a problem if we are also processing its git repo in devstack
2014-09-30T18:12:14  *** _nadya_ has joined #openstack-infra
2014-09-30T18:12:22  *** amuller has quit IRC
2014-09-30T18:12:36  <mordred> sdague: there are tons of things in projects.txt taht we do not test or care about
2014-09-30T18:12:44  <mordred> sdague: dib was in a weird middle ground
2014-09-30T18:12:46  <mordred> is
2014-09-30T18:12:56  <mordred> sdague: where we install it from git as part of a normal devstack run
2014-09-30T18:13:05  <mordred> which we do not do with other things in projects.txt that we don't care about
2014-09-30T18:14:32  *** todd_dsm has quit IRC
2014-09-30T18:15:17  *** yolanda has quit IRC
2014-09-30T18:15:45  <sdague> mordred: yeh, but it does it by looping through /opt/stack/new right?
2014-09-30T18:16:03  <sdague> so it doesn't matter what devstack does if the repo is there in d-g
2014-09-30T18:16:03  *** emagana_ has quit IRC
2014-09-30T18:16:12  *** _nadya_ has quit IRC
2014-09-30T18:16:39  *** hashar has joined #openstack-infra
2014-09-30T18:16:42  *** emagana has joined #openstack-infra
2014-09-30T18:16:54  <mordred> sdague: right - but why would the repo be in /opt/stack/new ?
2014-09-30T18:17:23  *** HeOS has joined #openstack-infra
2014-09-30T18:17:25  <mordred> sdague: let me go look at code real quick
2014-09-30T18:17:28  *** gokrokve has quit IRC
2014-09-30T18:17:30  <sdague> because d-g puts it there
2014-09-30T18:17:42  <sdague> devstack doesn't clone in the gate
2014-09-30T18:17:50  *** emagana has quit IRC
2014-09-30T18:19:00  <mordred> sdague: there are _several_ stackforge projects that are in projects.txt that subscribe to changes and tie themselves to what's in g-r
2014-09-30T18:19:09  *** linuxmohan has quit IRC
2014-09-30T18:19:18  *** MarkAtwood has quit IRC
2014-09-30T18:19:22  *** emagana has joined #openstack-infra
2014-09-30T18:19:26  <sdague> mordred: yeh, and I think they can all break us this way
2014-09-30T18:19:42  <mordred> sdague: I disagree - and if they can, I think it's just a bug to fix
2014-09-30T18:19:43  <sdague> they just haven't yet
2014-09-30T18:20:24  <mordred> sdague: ok. it's like this. the problem is triggered by "setup_package_with_req_sync"
2014-09-30T18:20:34  <mordred> sdague: that is called when we call setup_install on a directory
2014-09-30T18:20:48  <mordred> we do not do that except for directories that we install from git as part of what we're doing
2014-09-30T18:21:02  <mordred> since ironic uses dib, the way we had it installing was via setup_install from its git repo
2014-09-30T18:21:10  <mordred> which meant we were reqs syncing it
2014-09-30T18:21:16  <mordred> if we install from pip, we will not req sync it
2014-09-30T18:21:31  <mordred> the other stackforge projects are not mentioned or installed from git as part of a normal intergrated run
2014-09-30T18:21:37  <mordred> so they will not trigger it
2014-09-30T18:21:45  *** funzo has quit IRC
2014-09-30T18:21:47  <sdague> ....
2014-09-30T18:22:20  <mordred> essentially, we are installing a tool using integrated gate mechanisms without it being part of teh integrated gate
2014-09-30T18:22:27  <mordred> we need to install it not using integrated gate mechanisms
2014-09-30T18:23:19  <sdague> ok
2014-09-30T18:24:02  <sdague> so your patch actually as to propose to devstack icehouse then, correct?
2014-09-30T18:24:09  *** doude has joined #openstack-infra
2014-09-30T18:24:21  <mordred> yah.
2014-09-30T18:24:22  *** arxcruz has quit IRC
2014-09-30T18:24:32  <mordred> although I think we should investigate the other suggestion SpamapS was making
2014-09-30T18:24:46  <mordred> of being able to enable via  flag installing from git
2014-09-30T18:24:58  <mordred> because that seems useful for devs
2014-09-30T18:25:15  <EmilienM> mordred: hey, I'm a potential mentor for OPW and I'm trying to clarify https://wiki.openstack.org/wiki/OutreachProgramForWomen/Ideas#Community - hogepodge told me there ls some potential work in Puppet to do for openstack-infra. First question, do you have a blueprint or something listing what need to be done? (i.e. ask.o.o, etc)
2014-09-30T18:25:27  <sdague> yeh... so that's probably part and parcel with the library proposal I have on the list
2014-09-30T18:25:36  <mordred> sdague: yup
2014-09-30T18:25:48  <foobio> EmilienM: we have a huge low-hanging-fruit one actually!
2014-09-30T18:25:48  <mordred> sdague: apparently tripleo have written the logic in shell already
2014-09-30T18:26:00  <bookwar> are there any docs/talks/slides explaining jenkins-job-builder parameters substitution? I mean at which point {smth} is substituted and what are the entry points and priorities for parameter values: project definition only, project + global defaults section, or project + global + job definition? I am trying to go through the sources but maybe there is a shortcut..
2014-09-30T18:26:04  <foobio> EmilienM: it's getting discussed at the infra team meeting in half an hour too
2014-09-30T18:26:07  <EmilienM> foobio: the program takes 3 months afik
2014-09-30T18:26:16  *** xyang0 has quit IRC
2014-09-30T18:26:32  <foobio> EmilienM: yeah, this can be chunked up as needed i think. nibalizer is currently getting stuff lined up for it
2014-09-30T18:26:42  <EmilienM> foobio: any pointer?
2014-09-30T18:26:44  <foobio> EmilienM: and then we need volunteers for refactoring chunks
2014-09-30T18:26:55  *** mmedvede has quit IRC
2014-09-30T18:27:03  <SpamapS> mordred: we just have "packages" or "source" for element/install.d .. it may not be consumable for this exact case.
2014-09-30T18:27:11  * SpamapS goes on errand
2014-09-30T18:27:33  <EmilienM> foobio: what I need first is to identify a user story, like they have in other projects (i.e. https://wiki.openstack.org/wiki/OutreachProgramForWomen/Ideas#Glance_-_Swift_ranged_uploads)
2014-09-30T18:27:36  *** IAX has quit IRC
2014-09-30T18:27:58  *** funzo has joined #openstack-infra
2014-09-30T18:28:00  *** IAX has joined #openstack-infra
2014-09-30T18:28:29  *** jp_at_hp has quit IRC
2014-09-30T18:28:36  *** ivar-lazzaro has joined #openstack-infra
2014-09-30T18:28:36  <foobio> EmilienM: http://specs.openstack.org/openstack-infra/infra-specs/specs/puppet-modules.html is the one which comes to mind
2014-09-30T18:28:49  <superbee> bookwar: http://ci.openstack.org/jenkins-job-builder/definition.html something like that?
2014-09-30T18:28:54  <EmilienM> foobio: this is awesome.
2014-09-30T18:28:57  *** ramashri has joined #openstack-infra
2014-09-30T18:29:10  <EmilienM> foobio: can I take it as example of an OPW internship?
2014-09-30T18:29:30  <mordred> EmilienM: absolutely
2014-09-30T18:29:37  *** emagana has quit IRC
2014-09-30T18:29:53  <EmilienM> mordred: cool, thx
2014-09-30T18:30:15  <sdague> SpamapS: direct git url might be handy, as there are a lot of tripleo repos, and I'm not familiar with them
2014-09-30T18:30:17  *** hashar has quit IRC
2014-09-30T18:30:38  *** _buzz has quit IRC
2014-09-30T18:30:53  <foobio> EmilienM: though of course we have lots of other things which would also be good possibilities for opw work, i think. doesn't have to be puppet-specific
2014-09-30T18:31:26  <openstackgerrit> A change was merged to openstack-infra/project-config: Fix indentation in rally-designate job config  https://review.openstack.org/124346
2014-09-30T18:31:44  <EmilienM> foobio: feel free to give me specs links
2014-09-30T18:33:44  <foobio> EmilienM: well, we have http://specs.openstack.org/openstack-infra/infra-specs/ approved and also https://review.openstack.org/#/q/status:open+project:openstack-infra/infra-specs,n,z proposed for consideration
2014-09-30T18:34:00  <nibalizer> EmilienM: I'd be happy to help with that
2014-09-30T18:34:06  <EmilienM> great!
2014-09-30T18:34:14  <foobio> EmilienM: but there's tons more which we could probably mine out of our bug list and turn into low-level specs as well, for better clarity
2014-09-30T18:35:31  *** hashar has joined #openstack-infra
2014-09-30T18:36:09  <superbee> sdague: foobio mordred any opposition to having the ironic sideways grenade job as a nonvoting check job on ironic, devstack, d-g, and grenade?
2014-09-30T18:36:18  <sdague> nope
2014-09-30T18:36:32  <EmilienM> foobio: I try to focus the internship on Puppet
2014-09-30T18:36:51  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Group stackforge projects in layout.yaml  https://review.openstack.org/124589
2014-09-30T18:36:52  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Add more checks for zuul/layout.yaml  https://review.openstack.org/124593
2014-09-30T18:36:54  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Use tox -e zuul for layout test  https://review.openstack.org/125101
2014-09-30T18:36:56  *** kgavini has quit IRC
2014-09-30T18:36:58  *** kgavini_ has joined #openstack-infra
2014-09-30T18:37:04  <SpamapS> sdague: https://git.openstack.org/cgit/openstack/diskimage-builder/tree/elements/base/extra-data.d/99-enable-install-types
2014-09-30T18:37:06  <foobio> superbee: no opposition from me
2014-09-30T18:37:15  <superbee> kk /me approves this change to make that a non voting job
2014-09-30T18:37:51  <openstackgerrit> A change was merged to openstack-infra/project-config: Stop using deprecated TESTR_FULL option  https://review.openstack.org/124404
2014-09-30T18:37:53  <nibalizer> EmilienM: yes, pulling out the modules, then maybe applying Modulesync to them, maybe writing tests, there is lots to do
2014-09-30T18:37:56  <SpamapS> sdague: of course, we have things split into individual executables, rather than bash functions, so as I say, it might not help
2014-09-30T18:38:06  <EmilienM> nibalizer: I like this one
2014-09-30T18:38:11  <openstackgerrit> A change was merged to openstack-infra/infra-specs: HP owns everything. I own nothing.  https://review.openstack.org/120188
2014-09-30T18:38:15  *** tonytan_brb has joined #openstack-infra
2014-09-30T18:38:19  *** tonytan4ever has quit IRC
2014-09-30T18:38:31  * SpamapS does need to disappear for a bit
2014-09-30T18:38:32  *** david-lyle_afk has quit IRC
2014-09-30T18:38:49  <AJaeger_> superbee, foobio, anteaya: Could you review my patch series soonish (starting at https://review.openstack.org/125101), please? I want to avoid more merge conflicts...
2014-09-30T18:39:19  <superbee> AJaeger_: sure
2014-09-30T18:39:59  *** cdent has quit IRC
2014-09-30T18:40:09  <superbee> AJaeger_: these should be self testing right?
2014-09-30T18:40:26  <openstackgerrit> A change was merged to openstack-infra/project-config: Move notifications for pycadf from oslo to keystone  https://review.openstack.org/124449
2014-09-30T18:40:30  <AJaeger_> superbee: the last patch - 124593   - is the test
2014-09-30T18:41:01  <AJaeger_> superbee: so far it only tests the ordering of stackforge projects. Let's do one step at a time ;9
2014-09-30T18:41:03  *** thedodd has joined #openstack-infra
2014-09-30T18:41:28  <anteaya> nibalizer: ha ha ha
2014-09-30T18:41:48  <anteaya> AJaeger_: looking
2014-09-30T18:42:00  <openstackgerrit> A change was merged to openstack-infra/project-config: Promote sideways ironic grenade tests to non-voting checks  https://review.openstack.org/124562
2014-09-30T18:42:07  *** IAX has quit IRC
2014-09-30T18:42:10  <AJaeger_> thanks, superbee and anteaya
2014-09-30T18:42:12  <nibalizer> anteaya: are you laughing because i implied we might write tests?
2014-09-30T18:42:35  *** mmedvede has joined #openstack-infra
2014-09-30T18:42:43  <AJaeger_> thanks, foobio as well
2014-09-30T18:42:45  *** AzherKhan has quit IRC
2014-09-30T18:43:05  *** khaazher has joined #openstack-infra
2014-09-30T18:43:23  *** khaazher has quit IRC
2014-09-30T18:43:43  *** khaazher has joined #openstack-infra
2014-09-30T18:43:52  *** khaazher has quit IRC
2014-09-30T18:43:53  <anteaya> nibalizer: no that you admit you own nothing
2014-09-30T18:44:01  <anteaya> nibalizer: your patch just merged in specs
2014-09-30T18:44:03  <anteaya> ha ha ha
2014-09-30T18:44:25  <foobio> anteaya: nibalizer: yeah, it seemed pointless to wait for a second +2 on that patch
2014-09-30T18:44:28  <anteaya> nibalizer: I love that you write test, might write tests or imply that you might write tests
2014-09-30T18:44:34  <anteaya> nibalizer: keep doing that
2014-09-30T18:45:12  <openstackgerrit> A change was merged to openstack-infra/project-config: Move python33 test for Keystone to experimental  https://review.openstack.org/124563
2014-09-30T18:45:23  *** VijayTripathi has joined #openstack-infra
2014-09-30T18:45:23  *** e0ne has quit IRC
2014-09-30T18:45:33  <anteaya> superbee: I'll wait for you on 125101
2014-09-30T18:45:38  <openstackgerrit> Matthew Treinish proposed a change to openstack-infra/subunit2sql: Add manifest file to include base alembic config  https://review.openstack.org/125151
2014-09-30T18:46:18  *** yolanda has joined #openstack-infra
2014-09-30T18:46:22  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove projects_alphabetized from tox.ini  https://review.openstack.org/122600
2014-09-30T18:46:27  *** VijayTripathi has quit IRC
2014-09-30T18:46:56  <openstackgerrit> Jeremy Stanley proposed a change to openstack-infra/project-config: Add more checks for zuul/layout.yaml  https://review.openstack.org/124593
2014-09-30T18:46:56  *** jgrimm is now known as zz_jgrimm
2014-09-30T18:47:06  <foobio> AJaeger_: corrected your commit message
2014-09-30T18:47:18  <AJaeger_> thanks, foobio
2014-09-30T18:47:20  *** MarkAtwood has joined #openstack-infra
2014-09-30T18:47:30  <sdague> SpamapS: yeh, this is probably different enough that it's not going to directly translate
2014-09-30T18:47:41  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove jjb from tox.ini  https://review.openstack.org/125152
2014-09-30T18:47:49  *** openstackgerrit has quit IRC
2014-09-30T18:48:40  *** openstackgerrit has joined #openstack-infra
2014-09-30T18:49:36  <openstackgerrit> A change was merged to openstack-infra/project-config: macros: Manage metadata.json file in puppet-lint jobs  https://review.openstack.org/124569
2014-09-30T18:49:42  *** berendt has quit IRC
2014-09-30T18:51:04  <superbee> AJaeger_: foobio: it looks like the merge template check is disabled
2014-09-30T18:51:17  <superbee> AJaeger_: foobio: should it be enabled? The commit message seems to imply that it is
2014-09-30T18:51:37  <AJaeger_> superbee: it's disabled because it fails
2014-09-30T18:51:53  <AJaeger_> we need to merge first https://review.openstack.org/124588
2014-09-30T18:52:29  <AJaeger_> sorry, I had a few too many loose ends coming together ;(
2014-09-30T18:52:40  <foobio> AJaeger_: don't apologize. great work
2014-09-30T18:53:19  *** hdd has quit IRC
2014-09-30T18:53:38  <AJaeger_> superbee: I suggest to move the patch series in and I enhance 124588 to enable the merge check there
2014-09-30T18:53:50  <arosen-home1> Hi, i started seeing this weird nova failure in my CI but i think it's related to configuration: http://paste.openstack.org/show/117243/ . One thing that looks odd is nova complains saying: Nova requires libvirt version 0.9.11 or greater.
2014-09-30T18:54:08  <arosen-home1> If i'm using devstack-gate and nodepool with a ubuntu14.04 image i figured i'd already have that no?
2014-09-30T18:54:23  *** zz_jgrimm is now known as jgrimm
2014-09-30T18:56:47  *** unicell has quit IRC
2014-09-30T18:56:57  <krotscheck> So, I want to contribute code that I wrote under the apache license to pecan, however pecan is licensed under BSD. What’s the appropriate approach there?
2014-09-30T18:57:08  <superbee> AJaeger_: sounds good
2014-09-30T18:57:27  <krotscheck> i.e. There’s a part of StoryBoard that would be awesome for anyone using Pecan.
2014-09-30T18:57:44  <foobio> krotscheck: they're compatible licenses, but pecan effectively becomes redistributed under the intersection of those licenses
2014-09-30T18:57:59  <superbee> or if you own the copyright on it then give it to pecan as bsd
2014-09-30T18:58:06  <krotscheck> Hrm.
2014-09-30T18:58:07  <superbee> (assuming you are ok with those license terms)
2014-09-30T18:58:11  <foobio> krotscheck: unless you can convince the copyright holder (probably your employer?) to relicense
2014-09-30T18:58:14  <anteaya> superbee: so do you want to +A those in the right order?
2014-09-30T18:58:17  <krotscheck> Well, _I_ don’t care.
2014-09-30T18:58:19  <foobio> yeah, what superbee sais
2014-09-30T18:58:19  <superbee> anteaya: yup
2014-09-30T18:58:21  <foobio> said
2014-09-30T18:58:21  <krotscheck> But HP probably does.
2014-09-30T18:58:23  <anteaya> superbee: thanks
2014-09-30T18:58:31  <AJaeger_> thanks, superbee !
2014-09-30T18:58:41  * krotscheck wanders off to see who to ask about that.
2014-09-30T18:58:44  <anteaya> nice job AJaeger_
2014-09-30T18:58:56  <superbee> krotscheck: lifeless
2014-09-30T18:58:57  <foobio> er, union of those licenses, which leaves the intersection of their allowances i guess
2014-09-30T18:59:47  <foobio> meetin' time, peoplez
2014-09-30T19:00:02  <pleia2> oh boy, time flies
2014-09-30T19:00:04  *** VijayTripathi has joined #openstack-infra
2014-09-30T19:00:20  <superbee> so soon
2014-09-30T19:01:52  *** bcourt has quit IRC
2014-09-30T19:02:07  *** andreykurilin_ has joined #openstack-infra
2014-09-30T19:02:16  *** hashar has quit IRC
2014-09-30T19:02:32  *** zaphod42_ has quit IRC
2014-09-30T19:02:39  <anteaya> superbee: yeah I think it will be a bit before lifeless is online much, so perhaps someone else might be good to find
2014-09-30T19:02:44  *** rushiagr is now known as rushiagr_away
2014-09-30T19:02:57  *** zaphod42 has joined #openstack-infra
2014-09-30T19:03:06  *** chuckC has quit IRC
2014-09-30T19:03:09  *** krtaylor has joined #openstack-infra
2014-09-30T19:03:16  *** ChuckC_ is now known as ChuckC
2014-09-30T19:03:17  <superbee> he is usually around this time of day
2014-09-30T19:03:44  *** chuckC_ has joined #openstack-infra
2014-09-30T19:04:13  *** praneshp has quit IRC
2014-09-30T19:04:23  *** gokrokve has joined #openstack-infra
2014-09-30T19:04:31  *** annegentle has quit IRC
2014-09-30T19:04:46  *** hashar has joined #openstack-infra
2014-09-30T19:05:37  *** mmedvede has quit IRC
2014-09-30T19:05:48  *** otherwiseguy has joined #openstack-infra
2014-09-30T19:06:34  *** praneshp has joined #openstack-infra
2014-09-30T19:06:53  <openstackgerrit> A change was merged to openstack-infra/project-config: Use tox -e zuul for layout test  https://review.openstack.org/125101
2014-09-30T19:07:51  *** mrmartin has quit IRC
2014-09-30T19:07:52  *** ramashri has quit IRC
2014-09-30T19:08:07  *** tonytan_brb has quit IRC
2014-09-30T19:08:11  *** praneshp has quit IRC
2014-09-30T19:08:57  *** rfolco has quit IRC
2014-09-30T19:09:57  <openstackgerrit> A change was merged to openstack-infra/project-config: Group stackforge projects in layout.yaml  https://review.openstack.org/124589
2014-09-30T19:10:44  *** jgrimm is now known as zz_jgrimm
2014-09-30T19:10:59  <stevemar> AJaeger, haha, sorry about the can of worms! haha
2014-09-30T19:13:10  <AJaeger_> stevemar: thanks a lot for fixing these!
2014-09-30T19:13:33  *** dane_leblanc has quit IRC
2014-09-30T19:15:20  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove projects_alphabetized from tox.ini  https://review.openstack.org/122600
2014-09-30T19:16:17  <openstackgerrit> A change was merged to openstack-infra/project-config: Add more checks for zuul/layout.yaml  https://review.openstack.org/124593
2014-09-30T19:16:18  *** thedodd has quit IRC
2014-09-30T19:16:31  <AJaeger_> superbee: stevemar's is a cleanup patch for the project-config split...
2014-09-30T19:17:01  *** lttrl has quit IRC
2014-09-30T19:17:32  *** bcourt has joined #openstack-infra
2014-09-30T19:17:46  *** mmedvede has joined #openstack-infra
2014-09-30T19:17:49  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove jjb from tox.ini  https://review.openstack.org/125152
2014-09-30T19:18:09  *** zz_jgrimm is now known as jgrimm
2014-09-30T19:18:25  <stevemar> AJaeger, why is there a tox env called 'upstream'
2014-09-30T19:18:30  <stevemar> this doesn't seem to do anything...
2014-09-30T19:19:25  <lifeless> superbee: ?
2014-09-30T19:19:33  *** dane_leblanc has joined #openstack-infra
2014-09-30T19:19:36  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove irc testenv from tox.ini  https://review.openstack.org/125164
2014-09-30T19:19:46  <superbee> lifeless: krotscheck had questions about licensing some storyboard apache2 licensed code as bsd udner pecan
2014-09-30T19:20:07  <krotscheck> lifeless: See hipchat
2014-09-30T19:20:29  <krotscheck> Or we can talk here.
2014-09-30T19:21:20  <krotscheck> lifeless: This piece in particular -> http://git.openstack.org/cgit/openstack-infra/storyboard/tree/storyboard/api/middleware/cors_middleware.py
2014-09-30T19:21:38  *** ildikov has joined #openstack-infra
2014-09-30T19:22:14  <foobio> stevemar: i thought that one was intended to test whether specified "upstream" git repos for new projects were cloneable
2014-09-30T19:23:05  <lifeless> where is pecans upstream ?
2014-09-30T19:23:08  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/config: Remove undefined upstream environment from tox.ini  https://review.openstack.org/125167
2014-09-30T19:23:13  <stevemar> foobio, my reasoning here ^
2014-09-30T19:23:18  <lifeless> krotscheck: I'm not signed into hipchat atm
2014-09-30T19:23:23  <lifeless> krotscheck: I can if needed
2014-09-30T19:23:34  <krotscheck> lifeless: I’ll paste.
2014-09-30T19:23:54  <stevemar> foobio, upstream and projects_alphabetized where combined into 'projects' some time ago
2014-09-30T19:23:55  <lifeless> krotscheck: that middleware looks eerily similar to r1chardj0n3s_afk's middleware
2014-09-30T19:23:58  <foobio> stevemar: oh, yep
2014-09-30T19:24:01  <stevemar> i don't know how that ever worked
2014-09-30T19:24:04  <lifeless> except that yours is raw WSGI
2014-09-30T19:24:05  <krotscheck> lifeless: Oh?
2014-09-30T19:24:14  <stevemar> foobio, but they are no longer needed, so let's kill it with fire
2014-09-30T19:24:41  <lifeless> krotscheck: https://review.openstack.org/#/c/120964/
2014-09-30T19:24:50  <foobio> stevemar: agreed
2014-09-30T19:24:52  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Add merge-check to pylockfile, test for merge-check  https://review.openstack.org/124588
2014-09-30T19:24:54  <krotscheck> Oh!
2014-09-30T19:24:55  <krotscheck> NEat!
2014-09-30T19:25:36  *** baoli has quit IRC
2014-09-30T19:25:45  *** melwitt has joined #openstack-infra
2014-09-30T19:25:51  <AJaeger_> superbee: 124588 enables the merge-check
2014-09-30T19:26:01  *** shashankhegde has quit IRC
2014-09-30T19:26:35  <lifeless> krotscheck: so to answer the question, contributing a patch or minor enhancement to bsd projects is I believe covered by the whitelist on 'does not need OSRB approval'
2014-09-30T19:26:40  *** david-lyle_afk has joined #openstack-infra
2014-09-30T19:26:42  *** rfolco has joined #openstack-infra
2014-09-30T19:26:51  *** kgavini_ has quit IRC
2014-09-30T19:26:52  *** david-lyle_afk is now known as david-lyle
2014-09-30T19:26:58  <lifeless> krotscheck: I'd need to sign into the VPN to check the exact thing - but have a look on the OSRB web site you should find the flow chart pretty easily
2014-09-30T19:27:10  <stevemar> sorry for all the patches AJaeger :\
2014-09-30T19:27:20  <openstackgerrit> A change was merged to openstack-infra/storyboard-webclient: Added draft build  https://review.openstack.org/124934
2014-09-30T19:27:29  <krotscheck> lifeless: Excellent. I’ll go look at that.
2014-09-30T19:27:31  <lifeless> krotscheck: if BSD isn't whitelisted then an OSRB proposal would be needed, but it would be trivial and actioned without issue
2014-09-30T19:27:49  <lifeless> krotscheck: (also we should propose whitelisting BSD if its not)
2014-09-30T19:27:58  <dougwig> anteaya: do you know if the brocade CI is supposed to be up right now?  (i think it should).  logs are 404.   https://review.openstack.org/#/c/123468/
2014-09-30T19:28:11  <krotscheck> lifeless: I agree. Once the meeting’s over I have to switch over to the vpn anyway, so I’ll do that.
2014-09-30T19:28:25  <AJaeger_> stevemar: one big patch would have worked as well ;) But great to have it cleaned up!
2014-09-30T19:28:34  <lifeless> krotscheck: that said, r1chardj0n3s_afk 's one looks like it will do what you need, and we can avoid having two of them L)
2014-09-30T19:28:39  <lifeless> s/L/:
2014-09-30T19:28:51  <anteaya> dougwig: I don't, can you check third-party-announce archives and tell me what the lastest says?
2014-09-30T19:28:51  <stevemar> AJaeger, clean is good!
2014-09-30T19:29:41  *** [HeOS] has joined #openstack-infra
2014-09-30T19:29:45  <krotscheck> lifeless: Correct. Though I do feel that it’s generic enough to be useful for pecan, not just pecan + oslo.
2014-09-30T19:30:07  <lifeless> sure
2014-09-30T19:30:10  *** baoli has joined #openstack-infra
2014-09-30T19:30:15  <lifeless> so is r1chardj0n3s_afk 's, modulo the use of oslo.config
2014-09-30T19:30:16  *** HeOS has quit IRC
2014-09-30T19:30:20  <krotscheck> lifeless: Though I think r1chardj0n3s_afk implementation is probably more thorough than mine.
2014-09-30T19:30:24  <lifeless> anyhow, I don't have a dog in the fight
2014-09-30T19:30:56  <dougwig> anteaya: looks like you disabled one of their ADX CI on 9/4 for the same reason.  this is their vyatta CI.
2014-09-30T19:31:05  <dougwig> nothing else in the archive.
2014-09-30T19:31:10  <anteaya> kk thanks for looking
2014-09-30T19:31:20  <anteaya> I appreciate it
2014-09-30T19:32:32  *** jergerber has joined #openstack-infra
2014-09-30T19:32:35  <openstackgerrit> Antoine Musso proposed a change to stackforge/python-jenkins: add get_version method  https://review.openstack.org/124885
2014-09-30T19:33:02  <anteaya> superbee: can you disable 10692 brocade-oss-service Brocade Vyatta CI DL-GRP-VYATTA-OSS@Brocade.com
2014-09-30T19:34:04  *** dprince has quit IRC
2014-09-30T19:35:12  *** tonytan4ever has joined #openstack-infra
2014-09-30T19:35:54  *** sdake_ has quit IRC
2014-09-30T19:38:42  *** _nadya_ has joined #openstack-infra
2014-09-30T19:38:51  <foobio> anteaya: i can get it
2014-09-30T19:39:01  <anteaya> foobio: thanks
2014-09-30T19:39:19  <foobio> anteaya: disabled 10692 just now
2014-09-30T19:39:27  <anteaya> thank you
2014-09-30T19:39:40  <anteaya> will compose an email to -announce after infra meeting
2014-09-30T19:40:24  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/project-config: Clean up bashate failures  https://review.openstack.org/124862
2014-09-30T19:41:31  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/config: Clean up bashate failures  https://review.openstack.org/118944
2014-09-30T19:41:55  *** ramashri has joined #openstack-infra
2014-09-30T19:42:22  <openstackgerrit> Andreas Jaeger proposed a change to openstack-infra/project-config: Remove github-org from projects.yaml  https://review.openstack.org/125169
2014-09-30T19:42:55  *** praneshp has joined #openstack-infra
2014-09-30T19:46:11  *** atiwari has quit IRC
2014-09-30T19:46:27  <krotscheck> In the interest of landing more storyboard things, I have this! https://review.openstack.org/#/c/124936/
2014-09-30T19:48:16  <bookwar> superbee: I was curious about how to pass variables into macros definition. i mean whether variables defined for a project are global or not. It seems they aren't. In this example http://fpaste.org/137904/21043561/ , without lines 13-14 it doesn't work.
2014-09-30T19:48:58  *** cdent has joined #openstack-infra
2014-09-30T19:49:31  <superbee> bookwar: ya they are not global
2014-09-30T19:50:42  *** e0ne has joined #openstack-infra
2014-09-30T19:51:03  *** zehicle_at_dell has joined #openstack-infra
2014-09-30T19:51:09  *** Sukhdev has quit IRC
2014-09-30T19:51:11  *** annegent_ has quit IRC
2014-09-30T19:51:52  <openstackgerrit> Steven Dake proposed a change to openstack-infra/project-config: Add Kolla Project  https://review.openstack.org/124453
2014-09-30T19:53:27  <anteaya> 3
2014-09-30T19:53:55  *** shashankhegde has joined #openstack-infra
2014-09-30T19:55:01  *** radez is now known as radez_g0n3
2014-09-30T19:56:34  *** zns has quit IRC
2014-09-30T19:58:04  *** thedodd has joined #openstack-infra
2014-09-30T19:58:21  *** changbl has quit IRC
2014-09-30T19:58:56  *** zns has joined #openstack-infra
2014-09-30T19:59:31  *** changbl has joined #openstack-infra
2014-09-30T20:00:23  <superbee> asselin: git clone https://git.openstack.org/openstack-infra/project-config then make changes?
2014-09-30T20:00:37  *** rlandy has quit IRC
2014-09-30T20:00:41  <superbee> so I have bad news on the dib front. we appear to have completely broken all image updates
2014-09-30T20:00:42  <sdague> foobio: do you have a review up for pulling all the havana jobs?
2014-09-30T20:00:46  <superbee> no images have been updated in a week :(
2014-09-30T20:00:50  *** sarob has joined #openstack-infra
2014-09-30T20:00:51  <jesusaurus> superbee: so maintain a fork?
2014-09-30T20:01:01  <superbee> jesusaurus: I mean thats what you are wanting to do...
2014-09-30T20:01:02  *** baoli has quit IRC
2014-09-30T20:01:10  <asselin> superbee, yeah, I'm thinking I'll mirror that repo locally, and create a branch with my stuff, and periodically merge in master.
2014-09-30T20:01:16  <superbee> you are literally saying "I want your stuff + my changes" (a fork)
2014-09-30T20:01:18  <AJaeger_> superbee, oops ;( is there no way to get notified about such failures?
2014-09-30T20:01:35  <superbee> AJaeger_: not today. I am trying to look into it, but other eyes would be helpful
2014-09-30T20:01:37  <superbee> mordred: foobio ^
2014-09-30T20:01:57  <asselin> superbee, ok 'fork'.
2014-09-30T20:02:03  <krtaylor> adalbas, ^^^
2014-09-30T20:02:22  *** mfer has quit IRC
2014-09-30T20:02:44  <pleia2> hogepodge: might be interested in the tail end of our meeting today, talked about 3rd party ci: http://eavesdrop.openstack.org/meetings/infra/2014/infra.2014-09-30-19.00.html
2014-09-30T20:02:50  *** annegentle has joined #openstack-infra
2014-09-30T20:03:45  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: add links to specific bugs  https://review.openstack.org/124921
2014-09-30T20:04:25  *** AJaeger_ has quit IRC
2014-09-30T20:04:26  <foobio> sdague: i think it already merged?
2014-09-30T20:04:29  <foobio> just a sec
2014-09-30T20:04:39  <sdague> I just had grenade-icehouse job run on tempest
2014-09-30T20:04:56  <openstackgerrit> A change was merged to openstack-infra/elastic-recheck: fix Launchpad link name  https://review.openstack.org/124928
2014-09-30T20:04:59  *** sarob has quit IRC
2014-09-30T20:05:27  *** baoli has joined #openstack-infra
2014-09-30T20:06:18  *** JayJ has quit IRC
2014-09-30T20:06:51  <asselin> anteaya, krtaylor I won't be around for next monday's 3rd party meeting, but I think superbee's answer makes sense. This is my plan: 'fork'. More specifically: " I'll mirror that repo locally, and create a branch with my stuff, and periodically merge in master."
2014-09-30T20:06:57  *** JayJ has joined #openstack-infra
2014-09-30T20:07:13  *** IAX has joined #openstack-infra
2014-09-30T20:07:23  <anteaya> asselin: thanks for letting us know your status and plans
2014-09-30T20:07:36  <anteaya> asselin: let us know how that workflow works for you
2014-09-30T20:07:45  <anteaya> asselin: and if you have any suggestions for how to improve it
2014-09-30T20:07:52  <anteaya> as well as documenting it
2014-09-30T20:08:32  <asselin> ok, sure. probaly won't get to it until Oct 15th though. Yes, if there's a recommended place to document it, let me know.
2014-09-30T20:08:55  <krtaylor> asselin, understood, we can bring it up Monday
2014-09-30T20:09:07  <asselin> thanks. going to lunch
2014-09-30T20:09:29  <krtaylor> anteaya, related, how about we discuss any possible third-party test system impact of system-config rename in Monday's third-party meeting?
2014-09-30T20:10:09  *** kgiusti has left #openstack-infra
2014-09-30T20:10:31  *** mfer has joined #openstack-infra
2014-09-30T20:10:32  *** marun has quit IRC
2014-09-30T20:10:53  *** cnesa15 has quit IRC
2014-09-30T20:12:32  <superbee> jesusaurus: asselin: in particular we wanted to separate the system configs from the project configs so that others doing ci similar to us can reconsume the system but have different project configs
2014-09-30T20:13:11  <anteaya> krtaylor: sure, I may or may not know
2014-09-30T20:13:27  <anteaya> krtaylor: since I don't run a third party ci
2014-09-30T20:13:38  <jesusaurus> superbee: yeah, it just wasnt clear to me if the intent was for project-config to be forked, mimicked, or thrown out the window by downstreams
2014-09-30T20:13:42  <anteaya> krtaylor: but I will share what I know, if I know anything
2014-09-30T20:13:49  *** stevemar has quit IRC
2014-09-30T20:13:57  *** ociuhandu has quit IRC
2014-09-30T20:13:59  *** shashankhegde has quit IRC
2014-09-30T20:14:15  <anteaya> jesusaurus: I think the format should be used but no necessarily the values
2014-09-30T20:14:20  <anteaya> s/no/not
2014-09-30T20:14:26  <jesusaurus> but which of those is best is probably dependent on the downstream and what they are trying to do
2014-09-30T20:14:31  <superbee> foobio: mordred http://paste.openstack.org/show/117261/ finally found the exception. I am working on a fix
2014-09-30T20:14:36  <superbee> jesusaurus: yup agreed
2014-09-30T20:15:02  <krtaylor> anteaya, well, I would expect that there wouldn't be as much impact for those systems that have already integrated or forked project-config
2014-09-30T20:15:25  <krtaylor> anteaya, mainly a heads-up I guess
2014-09-30T20:15:36  <krtaylor> anteaya, I'll add it to the agenda
2014-09-30T20:16:04  <anteaya> krtaylor: can't hurt
2014-09-30T20:16:17  <foobio> superbee: thanks. i'm in far too many conversations at once to pay attention to what that was about just now
2014-09-30T20:16:45  <foobio> oh, scrollback says image updates went stale. ick
2014-09-30T20:16:46  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/nodepool: Properly reference nodepool config in image update  https://review.openstack.org/125186
2014-09-30T20:16:57  <superbee> foobio: mordred ^ that should fix image updates
2014-09-30T20:17:19  <sdague> foobio: can you see if the ER bot is lost?
2014-09-30T20:17:30  <sdague> it should work now that ES is back
2014-09-30T20:17:54  *** IAX has quit IRC
2014-09-30T20:18:48  *** kgavini has joined #openstack-infra
2014-09-30T20:19:38  <foobio> sdague: the er bot was dead since august when someone changed how its challen list is configured. did that get fixed yet?
2014-09-30T20:19:50  <foobio> s/challen/channel/
2014-09-30T20:19:55  <sdague> foobio: oh... hmph
2014-09-30T20:20:05  *** Guest43089 has joined #openstack-infra
2014-09-30T20:20:22  <sdague> if you pastebin an error, I can fix post TC meeting
2014-09-30T20:20:30  *** annegent_ has joined #openstack-infra
2014-09-30T20:20:35  <foobio> sdague: k, i can do that post meeting
2014-09-30T20:20:36  *** Guest43089 is now known as annegentle_
2014-09-30T20:20:40  *** annegent_ has quit IRC
2014-09-30T20:21:02  *** annegentle has quit IRC
2014-09-30T20:21:02  *** homeless has quit IRC
2014-09-30T20:21:14  *** mordred is now known as jbooboo
2014-09-30T20:21:39  *** jbooboo is now known as mordred
2014-09-30T20:22:09  *** homeless has joined #openstack-infra
2014-09-30T20:23:40  <superbee> mordred: reviewing 125186 when you are done meeting would be great. also chown: invalid user: `jenkins:jenkins' is happening in my precise builds now. checking trusty real quick tpoo
2014-09-30T20:24:21  <mordred> superbee: sounds like jenkins user is not being added
2014-09-30T20:24:28  <superbee> mordred: ya, not sure why yet
2014-09-30T20:25:02  <arosen-home1> I'm trying to do a release of a python-client on pypi. I've added a tag 1.0.0a1 and pushed that to gerrit. Now, when i run: python setup.py sdist upload -r python-congressclient i get this: http://paste.openstack.org/show/117265/
2014-09-30T20:25:05  <arosen-home1> am i missing something more?
2014-09-30T20:25:26  *** _nadya_ has quit IRC
2014-09-30T20:25:35  <mordred> arosen-home1: we actually usually just have infra publish things to pypi for you when you push a tag
2014-09-30T20:25:39  *** marun has joined #openstack-infra
2014-09-30T20:26:00  <arosen-home1> mordred:  ah i have to add infra to my pypi package i registered i guess?
2014-09-30T20:26:03  <mordred> arosen-home1: I've never seen that error though
2014-09-30T20:26:09  <mordred> arosen-home1: openstackci is the account you want
2014-09-30T20:26:23  <superbee> also don't use setup.py for that stuff. iirc it does so via http not https. its super secure
2014-09-30T20:26:25  *** shashankhegde has joined #openstack-infra
2014-09-30T20:26:32  <superbee> we use that tool dstufft wrote to do it instead
2014-09-30T20:27:12  <arosen-home1> mordred:  i added openstackci as a owner role. Will the openstackci eventually retry to upload the package?
2014-09-30T20:27:14  *** koolhead17 has quit IRC
2014-09-30T20:27:24  *** ihrachyshka has quit IRC
2014-09-30T20:27:32  <superbee> arosen-home1: no, you need to correct jobs in zuul and its a one shot thing
2014-09-30T20:27:37  *** julim has quit IRC
2014-09-30T20:27:38  <superbee> if stuff fails we manually kick it
2014-09-30T20:28:01  <foobio> superbee: arosen-home1: "that tool dstufft wrote" is twine
2014-09-30T20:28:25  <superbee> ty I forgot the name
2014-09-30T20:28:53  *** kgavini__ has joined #openstack-infra
2014-09-30T20:29:25  *** kgavini__ has quit IRC
2014-09-30T20:30:39  <arosen-home1> is there a place i can look to see if this worked or failed?
2014-09-30T20:30:48  <arosen-home1> I guess if it failed I have to bug you guys?
2014-09-30T20:30:48  *** kgavini has quit IRC
2014-09-30T20:30:53  <foobio> arosen-home1: yeah, we have logs
2014-09-30T20:31:10  <arosen-home1> where would i see the logs for such a thing?
2014-09-30T20:31:13  <superbee> arosen-home1: I don't think you have the jobs
2014-09-30T20:31:28  <foobio> arosen-home1: logs.openstack.org will have a log for the git sha of the tyag itself (you can find it by running git show-ref tagnum)
2014-09-30T20:31:30  <superbee> https://git.openstack.org/cgit/openstack-infra/project-config/tree/zuul/layout.yaml#n4732 doesn't list pypy jobs
2014-09-30T20:31:52  <superbee> and ya what foobio said http://logs.openstack.org/firsttwoofthatsha1/sha1
2014-09-30T20:32:14  <foobio> it'll appear in a pre-release or release subdirectory there
2014-09-30T20:32:54  *** zns has quit IRC
2014-09-30T20:33:06  *** cdent has quit IRC
2014-09-30T20:33:15  <openstackgerrit> Aaron Rosen proposed a change to openstack-infra/project-config: Add publish-to-pypi job for python-congressclient  https://review.openstack.org/125189
2014-09-30T20:33:58  <arosen-home1> so once ^ merges will the pypi package be pushed ?
2014-09-30T20:34:26  <arosen-home1> or i guess the tag has to be done after this is setup.
2014-09-30T20:34:27  <foobio> arosen-home1: no, but a subsequent tag would cause the next version to be
2014-09-30T20:35:33  <arosen-home1> k, thanks again guys.
2014-09-30T20:35:33  *** datsun180b has quit IRC
2014-09-30T20:36:11  *** juzuluag has quit IRC
2014-09-30T20:37:35  *** stevemar has joined #openstack-infra
2014-09-30T20:37:47  *** koolhead17 has joined #openstack-infra
2014-09-30T20:39:05  <rfolco> superbee, my forked openstack_functions.py has params['OFFLINE_NODE_WHEN_COMPLETE'] = '1', jenkins says the slaves are offline, but nodepool says the slaves are ready... so the job finishes and slaves are not deleted by nodepool. I can't find any evidences in the logs... could you give some advice to point me to the right direction ?
2014-09-30T20:39:26  *** andreaf has quit IRC
2014-09-30T20:39:34  *** mmedvede has quit IRC
2014-09-30T20:39:49  *** boden has quit IRC
2014-09-30T20:39:53  *** sacharya has left #openstack-infra
2014-09-30T20:39:53  *** andreaf has joined #openstack-infra
2014-09-30T20:39:58  <superbee> rfolco: are you publishing jenkins zmq events to nodepool? you need those so that nodepool can know when to delete the nodes
2014-09-30T20:40:02  *** andreaf has quit IRC
2014-09-30T20:40:11  <superbee> you also need them for nodepool to know a node is used so I think that explains it if it is missing
2014-09-30T20:40:30  *** andreaf has joined #openstack-infra
2014-09-30T20:40:50  <rfolco> superbee, this one?
2014-09-30T20:40:50  <rfolco> Jenkins Event Publisher (via ZMQ PUB SUB)
2014-09-30T20:40:50  <rfolco> This plugin publishes Jenkins build events in JSON as a ZMQ Publisher.
2014-09-30T20:40:50  *** datsun180b has joined #openstack-infra
2014-09-30T20:40:54  <stevemar> foobio, err, question about test hooks for dsvm
2014-09-30T20:41:37  <stevemar> do post_test_hook functions get run *after* devstack is torn down?
2014-09-30T20:42:38  <superbee> rfolco: ya
2014-09-30T20:42:47  <rfolco> superbee, I'll make sure I have 0.0.3 and re-rest
2014-09-30T20:42:47  *** hashar has quit IRC
2014-09-30T20:42:51  <superbee> rfolco: nodepool needs that feed to know when to update the nodes
2014-09-30T20:42:53  *** bhuvan has quit IRC
2014-09-30T20:43:10  *** zns has joined #openstack-infra
2014-09-30T20:43:29  <foobio> stevemar: not sure. i'd need to read through the devstack-gate scripts (unless you beat me to it)
2014-09-30T20:43:41  <rfolco> superbee, perhaps some configs set at http://git.openstack.org/cgit/openstack-infra/config/tree/modules/openstack_project/manifests/jenkins.pp do not exist in my fork :( -- thanks for the pointers.
2014-09-30T20:43:41  *** hashar has joined #openstack-infra
2014-09-30T20:44:03  <stevemar> foobio, hmmmm on it now... https://github.com/anteaya/project-config/blob/4cbe40aa954b7ac6bcd12b98039bfc1ae6e3247e/modules/openstack_project/files/jenkins_job_builder/config/devstack-gate.yaml
2014-09-30T20:44:12  <stevemar> theres a pre, post, and just gate_hook
2014-09-30T20:45:20  *** ppai has left #openstack-infra
2014-09-30T20:47:18  *** rmcall has quit IRC
2014-09-30T20:48:04  *** sarob_away is now known as sarob
2014-09-30T20:48:41  *** akerr has joined #openstack-infra
2014-09-30T20:48:55  <jogo> superbee: when would tempest consume say nova unit tests?
2014-09-30T20:49:02  <openstackgerrit> Khai Do proposed a change to stackforge/python-jenkins: generate a code coverage html report  https://review.openstack.org/125194
2014-09-30T20:49:17  <superbee> jogo: if/when nova unittests expose code to test nova in a particular way
2014-09-30T20:49:17  <EmilienM> foobio: superbee: when you got 2 min, could you have a look at the new project accepted by TC ? 'tripleo-puppet-elements into OpenStack'  https://review.openstack.org/#/c/124560
2014-09-30T20:49:23  <superbee> jogo: in exactly the same way hacking does it
2014-09-30T20:49:32  <superbee> jogo: test code is consumable code.
2014-09-30T20:49:39  *** yamahata has joined #openstack-infra
2014-09-30T20:49:41  <jogo> superbee: I don't follow
2014-09-30T20:49:44  <jogo> what is the hacking example?
2014-09-30T20:49:51  <superbee> jogo: hacking consumes pep8's unittests
2014-09-30T20:50:02  <superbee> or is it flake8? one of them
2014-09-30T20:50:12  <jogo> hacking is a flake8 plugin
2014-09-30T20:50:18  <superbee> yes but hacking has tests
2014-09-30T20:50:24  <superbee> that specifically import another projects tests
2014-09-30T20:50:27  <superbee> to make use of them
2014-09-30T20:50:41  <jogo> superbee: it has a non-voting job that does that yes
2014-09-30T20:50:50  <superbee> jogo: it was voting last I saw
2014-09-30T20:51:12  <jogo> superbee: we must be thinking of different things
2014-09-30T20:51:36  <jogo> superbee: the case I envision is: I cleanup some nova unit tests. My patch only touches files in nova/tests/*
2014-09-30T20:51:55  <jogo> what does running a dsvm job do for that case?
2014-09-30T20:52:08  *** bhuvan has joined #openstack-infra
2014-09-30T20:52:15  <superbee> jogo: it makes sure that your changes to importable and consumable code do not break consumers of that code
2014-09-30T20:53:43  <jogo> superbee: nothing in dsvm should be consuming that code
2014-09-30T20:53:48  <akerr> Hi infra.  If anyone familiar with zuul pipeline layouts could take a look at my yaml it'd be really helpful.  We're deploying a gerrit/zuul/jenkins/nodepool code review/gate system internally to vet our cinder driver code before we push out to the community and I can't seem to get this pipeline to trigger properly.  I think it might have something to do with my "require" tags: http://paste.openstack.org/show/117267/   The idea is that this should
2014-09-30T20:53:48  <akerr>  trigger when someone Release+1 comments, if all the other required votes are present
2014-09-30T20:53:49  <superbee> jogo: maybe not today
2014-09-30T20:53:58  <jogo> today we don't explicitly state that, but we should state that IMHO
2014-09-30T20:54:09  <superbee> jogo: I disagree
2014-09-30T20:54:10  <jogo> nova/tests is NOT a stable API
2014-09-30T20:54:19  <jogo> and consume at your own risk
2014-09-30T20:54:20  <superbee> jogo: then it should not be in the nova namespace
2014-09-30T20:54:27  <superbee> jogo: it is packaged and included whenever you install nova
2014-09-30T20:54:33  <jogo> superbee: not all of nova namespace is a stable API
2014-09-30T20:54:36  <superbee> which is intentional
2014-09-30T20:54:40  *** oanufriev has quit IRC
2014-09-30T20:55:09  *** dimtruck is now known as zz_dimtruck
2014-09-30T20:55:15  <jogo> superbee: we have a lot of code in nova namespace that isn't considered a stable API
2014-09-30T20:55:34  <superbee> jogo: yes and its the massive problem that nova development is currently facing
2014-09-30T20:55:52  <superbee> you dont' have stable apis so everything must be in tree going through one group of people
2014-09-30T20:56:00  <jogo> superbee: that is hardly a related issue
2014-09-30T20:56:07  <jogo> yes they are both about APIs
2014-09-30T20:56:20  <foobio> sdague: here's the traceback from the recheck bot, when you have a moment to go over it http://paste.openstack.org/show/117268/ (though the traceback i saw a few weeks ago was a parsing issue with the channels list in the yaml file, so this may be yet new bitrot on top)
2014-09-30T20:56:37  <jogo> superbee: we will never have a case where we say all the things are stable APIs
2014-09-30T20:56:57  <jogo> in nova the only thing that is a true public API is the REST API toeay
2014-09-30T20:56:57  <superbee> jogo: thats fine. I am just trying to point otu that we explicitly do unittests this way for the reasons that hacking has for it
2014-09-30T20:56:59  <jogo> today
2014-09-30T20:57:08  <superbee> jogo: and to compeltely shutdown that usecase is a change in status quo
2014-09-30T20:57:12  *** oanufriev has joined #openstack-infra
2014-09-30T20:57:22  <jogo> superbee: I still don't see what hacking has to do with this
2014-09-30T20:57:32  <superbee> jogo: hacking consumes other projects unittests
2014-09-30T20:57:35  <jogo> superbee: its not a use case we should even allow
2014-09-30T20:57:41  <superbee> why not?
2014-09-30T20:57:43  <superbee> hacking does it
2014-09-30T20:57:45  <jogo> superbee: hacking just needs the code to be well python
2014-09-30T20:57:56  <superbee> and mordred has specifically fougth for this use case
2014-09-30T20:57:59  <superbee> unitests are useful code
2014-09-30T20:58:04  <superbee> make them consumeable
2014-09-30T20:58:07  <jogo> superbee:  sure unit tests are useful code
2014-09-30T20:58:12  <jogo> superbee: but they are not a stable API
2014-09-30T20:58:23  <jogo> we change them at will
2014-09-30T20:58:34  <superbee> jogo: the __init__.py has been pretty stable
2014-09-30T20:58:50  <superbee> jogo: and honestly has to be out of necessity so that the 10k tests in nova continue to work
2014-09-30T20:59:11  <superbee> or is it test.py in nova?
2014-09-30T20:59:17  <jogo> just because something hasn't changed much doesn't mean its a public stable API
2014-09-30T20:59:27  <mordred> jogo: more things need stable public apis
2014-09-30T20:59:38  <mordred> that we keep saying that we dont' have stable apis is lazy
2014-09-30T20:59:39  <superbee> jogo: no but in this case it is because it must be stable
2014-09-30T20:59:43  <superbee> otherwise you have 10k flaky tests
2014-09-30T20:59:44  <mordred> and it's time to do less of it, not more
2014-09-30T20:59:45  <jogo> mordred: but unit tests?
2014-09-30T20:59:50  <mordred> everything
2014-09-30T20:59:53  *** mfer has quit IRC
2014-09-30T20:59:54  <mordred> EVERYTHIN
2014-09-30T21:00:02  <mordred> people are building giant systems on top of this
2014-09-30T21:00:15  <mordred> for us to try to say we don't expect people to use our internal apis is bananas
2014-09-30T21:00:19  <jogo> mordred: if everything is a stable API we cannot change anything
2014-09-30T21:00:24  <mordred> sure we can
2014-09-30T21:00:26  <mordred> we just do it sensibly
2014-09-30T21:00:30  <superbee> mordred: going to bug yo uabout https://review.openstack.org/#/c/125186/1 again :)
2014-09-30T21:00:44  <jogo> mordred: we don't say that, we say this is not a public API it may change. but go for it
2014-09-30T21:00:55  *** hdd has joined #openstack-infra
2014-09-30T21:01:00  <mordred> jogo: we actively do much worse than that
2014-09-30T21:01:02  *** sarob is now known as sarob_away
2014-09-30T21:01:04  <krotscheck> Can a core take a look at this projects-config patch? It’s a minor tweak - https://review.openstack.org/#/c/124936/
2014-09-30T21:01:08  <jogo> mordred: sure
2014-09-30T21:01:15  <mordred> jogo: we regularly change interface definitions and the unittests that use them
2014-09-30T21:01:17  *** baoli has quit IRC
2014-09-30T21:01:24  <mordred> jogo: this broke ironic several times this cycle
2014-09-30T21:01:25  <jogo> mordred: all I am saying is that nova unit tests should not be deemed a public (and this stable) API
2014-09-30T21:01:29  <mordred> and it's just pure laziness
2014-09-30T21:01:33  <jogo> we can move around code at will in unit tests
2014-09-30T21:01:42  <mordred> jogo: I agree, actually, I don't think unit tests need to be a public api
2014-09-30T21:01:44  <mordred> BUT
2014-09-30T21:02:04  *** MarkAtwood has quit IRC
2014-09-30T21:02:06  <mordred> I do believe that making sure that a change to the unittets don't break the ability to consume the unittest SYSTEM is important
2014-09-30T21:02:08  <superbee> krotscheck: I would but I already have :)
2014-09-30T21:02:12  <jogo> mordred: well ironic was using an interface that was *not* public
2014-09-30T21:02:19  <krotscheck> superbee: Clone yourself!
2014-09-30T21:02:24  <mordred> jogo: that should embarrass a lot of people
2014-09-30T21:02:24  <superbee> krotscheck: if only
2014-09-30T21:02:26  <jogo> mordred: sure
2014-09-30T21:02:29  <mordred> since that's a CLEAR plugin point
2014-09-30T21:02:57  <jogo> mordred: we sadly have plugins to unstable APIs
2014-09-30T21:03:03  <jogo> why? I don't know
2014-09-30T21:03:08  <mordred> that should stop. right. now.
2014-09-30T21:03:11  <mordred> it's very easy to stop it
2014-09-30T21:03:13  <mordred> we just stop it
2014-09-30T21:03:17  <mordred> it's code
2014-09-30T21:03:19  <mordred> we can make choices
2014-09-30T21:03:26  <mordred> like not having unstable plugin apis
2014-09-30T21:03:32  <mordred> whatever it is now? stable
2014-09-30T21:03:33  <mordred> done
2014-09-30T21:03:46  <mordred> now be careful to only add things, etc.
2014-09-30T21:03:55  <jogo> mordred: I have to double check the entry points  etc. that we have
2014-09-30T21:03:57  <jogo> but we have a lot
2014-09-30T21:03:58  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-09-30T21:04:11  <mordred> yes. we do. we became production software a long time ago
2014-09-30T21:04:23  <mordred> those should all be considered defacto API contracts
2014-09-30T21:04:24  <r1chardj0n3s> krotscheck: are you around? I just woke up and saw your discussion about my CORS middleware with lifeless :)
2014-09-30T21:04:29  <sdague> all those things can be changed in a backwards compatible way, you just need to get into the mindset of it
2014-09-30T21:04:29  <jogo> mordred: so going back to the nova unit test and running tempest example
2014-09-30T21:04:34  <krotscheck> r1chardj0n3s: Nope. I am a turing machine.
2014-09-30T21:04:40  <r1chardj0n3s> krotscheck: cool
2014-09-30T21:04:41  * krotscheck actually means yes.
2014-09-30T21:04:54  <r1chardj0n3s> krotscheck: I don't discriminate :)
2014-09-30T21:04:57  <mordred> jogo: the only reason I'd personally fight to keep that
2014-09-30T21:05:01  <foobio> krotscheck: i have this halting problem i'd like your help with ;)
2014-09-30T21:05:16  <krotscheck> foobio: oh?
2014-09-30T21:05:27  <superbee> foobio++
2014-09-30T21:05:28  <mordred> jogo: is to catch places where someone does something stupid in a file that causes nova itself to not be runnable for $reason
2014-09-30T21:05:31  <foobio> krotscheck: http://en.wikipedia.org/wiki/Halting_problem
2014-09-30T21:05:37  <mordred> jogo: I'm fairly certain unittests themselves would catch that
2014-09-30T21:05:40  <krotscheck> foobio: How do you feel about having this halting problem i’d like your help with [/eliza]
2014-09-30T21:05:47  <mordred> jogo: however, I'm not sure we've got a great way to express that in zuul
2014-09-30T21:05:47  <foobio> heh
2014-09-30T21:05:54  <openstackgerrit> A change was merged to openstack-infra/project-config: Call build:draft instead of build for js-draft build  https://review.openstack.org/124936
2014-09-30T21:05:55  <mordred> jogo: nor do I really believe it'll gain us a ton
2014-09-30T21:06:02  <mordred> jogo: to warrant the development effort
2014-09-30T21:06:10  <superbee> jogo: mordred ya the benefits are minimal
2014-09-30T21:06:18  <r1chardj0n3s> krotscheck: just happy to answer questions if you have then. there is also the related spec for oslo kilo https://review.openstack.org/#/c/119485/
2014-09-30T21:06:18  <superbee> people don't even run pep8 before pusing code
2014-09-30T21:06:32  <superbee> so not running the harde rto run integration tests doesn't optimize anything
2014-09-30T21:06:53  <krotscheck> r1chardj0n3s: Looking.
2014-09-30T21:07:07  *** zz_dimtruck is now known as dimtruck
2014-09-30T21:07:12  <jogo> mordred: so your saying you want to keep the integration jobs around for unit test only changes for the case where breaking a unit test actually breaks nova
2014-09-30T21:07:15  <r1chardj0n3s> krotscheck: no idea whether it's even useful for your use-case as I don't know what that is ;)
2014-09-30T21:07:49  <mordred> jogo: yah. since we don't actually test nova's unittests with tempest, I doubt running them on those changes will catch many other things
2014-09-30T21:07:56  <sdague> jogo: so zuul doesn't support the kind of change logic you are proposing
2014-09-30T21:07:59  <krotscheck> r1chardj0n3s: My use case is CORS support on the api at storyboard.openstack.org, ergo yes, it’s useful.
2014-09-30T21:08:06  <mordred> and since we use discovery to look for tests, import errors should get caught
2014-09-30T21:08:08  <sdague> you can't not run tests because of the output of diff
2014-09-30T21:08:19  <r1chardj0n3s> krotscheck: ok, cool
2014-09-30T21:08:23  <krotscheck> r1chardj0n3s: And using oslo is definitely an option, though I might suggest that CORS is something that pecan can benefit from too :)
2014-09-30T21:08:25  <mordred> jogo: but my main concern is that it's not an easy fix
2014-09-30T21:08:27  *** otherwiseguy has quit IRC
2014-09-30T21:08:30  <mordred> jogo: because of what sdague is saying
2014-09-30T21:08:35  <sdague> I've actually spoken with jbooboo on that some
2014-09-30T21:08:38  <jogo> sdague: how much work wound it be to support something like that somewhere (maybe outside of zuul?)
2014-09-30T21:08:39  <r1chardj0n3s> krotscheck: pecan?
2014-09-30T21:08:45  <mordred> jogo: it has to be in zuul
2014-09-30T21:08:47  <sdague> jogo: you can't outside of zuul
2014-09-30T21:08:53  <krotscheck> r1chardj0n3s: Touche
2014-09-30T21:08:55  <jogo> sdague mordred: so that is a fair point, that it isn't a quick change
2014-09-30T21:09:01  <krotscheck> r1chardj0n3s: Because middleware intercepts before pecan.
2014-09-30T21:09:10  *** otherwiseguy has joined #openstack-infra
2014-09-30T21:09:17  * krotscheck will ponder this.
2014-09-30T21:09:19  * r1chardj0n3s is ignorant of pecan
2014-09-30T21:09:23  <sdague> jogo: it actually hits one of my hot button issues of people throwing around "we should just change this part of our process"
2014-09-30T21:09:28  <sdague> without understanding the tooling implication
2014-09-30T21:09:32  <superbee> sdague++
2014-09-30T21:09:32  *** mmedvede has joined #openstack-infra
2014-09-30T21:09:35  <krotscheck> r1chardj0n3s: is a path->object mapper for wsgi
2014-09-30T21:09:44  <mordred> krotscheck, r1chardj0n3s: dhellmann may have thoughts
2014-09-30T21:09:45  <superbee> sdague: we are very good at saying "X should just Y"
2014-09-30T21:09:46  <r1chardj0n3s> krotscheck: ok, thanks
2014-09-30T21:09:57  <HenryG> superbee: Do you have a minute? I have a question about modules/openstack_project/manifests/slave_db.pp
2014-09-30T21:10:02  <sdague> and not realizing that process without supporting tooling is just giant frustration, pain, and disillusionment
2014-09-30T21:10:02  <foobio> anyone who wants to make sweeping proposals is welcome to throw together a rough draft patch to our tooling to explain how they expect it should work
2014-09-30T21:10:15  <superbee> mordred: trusty seems broken too
2014-09-30T21:10:30  <krotscheck> dhellmann: Thoughts on CORS Middleware as a part of Oslo, Pecan, and/or other things?
2014-09-30T21:10:38  *** boden has joined #openstack-infra
2014-09-30T21:10:47  <jogo> I am uncomfortable with the logical extreme of this argument. That we shouldn't do X because our tooling today doesn't support it
2014-09-30T21:10:53  *** boden has quit IRC
2014-09-30T21:10:55  <ryanpetrello> from a maintainer of pecan standpoint, I'd prefer it *not* be in pecan
2014-09-30T21:10:56  <superbee> mordred: for dib building so might be related to config split. I am debugging
2014-09-30T21:10:58  <mordred> superbee: AWESOME
2014-09-30T21:11:16  <r1chardj0n3s> krotscheck, dhellmann: I would prefer that CORS be unencumbered
2014-09-30T21:11:19  <mordred> jogo: yah. agree
2014-09-30T21:11:20  <ryanpetrello> I tend to shy away from implementing things in pecan's core if I can help it; I try to keep the feature set as sparse as possible
2014-09-30T21:11:21  <superbee> jogo: thats not the argument
2014-09-30T21:11:24  <anteaya> HenryG: best to just ask the question
2014-09-30T21:11:25  *** boden has joined #openstack-infra
2014-09-30T21:11:29  <superbee> jogo: the argument is we haev a problem where we say lets just do X ifnra
2014-09-30T21:11:37  <superbee> jogo: and the expectation is it will just happen tomorrow
2014-09-30T21:11:44  <superbee> jogo: see libvirt testing discussion
2014-09-30T21:11:51  <r1chardj0n3s> krotscheck:, dhellmann: that is, it shouldn't require the deployer to have to worry about what pecan might be to use it
2014-09-30T21:11:52  *** boden has quit IRC
2014-09-30T21:11:57  *** aysyanne has quit IRC
2014-09-30T21:12:02  <dhellmann> krotscheck: putting CORS in pecan would make it only available to the projects using pecan, which isn't a lot of them yet
2014-09-30T21:12:03  <HenryG> anteaya: Yeah, I should know better by now :(
2014-09-30T21:12:05  <jogo> superbee: this is exactly why I am bringing this up here to see what the issues/implications etc are
2014-09-30T21:12:07  <krotscheck> r1chardj0n3s, dhellmann: Ditto with Oslo.
2014-09-30T21:12:08  <stevemar> foobio, ughhh, i don't think a lot of projects are doing functional tests properly :(
2014-09-30T21:12:09  <foobio> or more to the point, some suggestions which can be described simply at a high level very well may entail extremely complex implementations
2014-09-30T21:12:10  <anteaya> HenryG: :)
2014-09-30T21:12:11  *** boden has joined #openstack-infra
2014-09-30T21:12:22  <marun> sdague: then zuul is broken and needs to change
2014-09-30T21:12:26  <mordred> stevemar: I'm certain of that
2014-09-30T21:12:32  <mordred> marun: aroo?
2014-09-30T21:12:34  <marun> re: we can't limit the jobs run based on the diff
2014-09-30T21:12:38  <ryanpetrello> dhellmann: krotscheck: is there a way to accomplish the CORS from a strictly WSGI middleware approach (without something pecan-specific)
2014-09-30T21:12:40  <dhellmann> krotscheck, r1chardj0n3s, ryanpetrello : middleware seems like the right approach here
2014-09-30T21:12:43  <ryanpetrello> this would benefit the entire community
2014-09-30T21:12:43  <jogo> broken is a strong word
2014-09-30T21:12:45  *** boden has quit IRC
2014-09-30T21:12:49  <dhellmann> ryanpetrello: https://review.openstack.org/#/c/119485/6/specs/kilo/cors-middware.rst
2014-09-30T21:12:54  <marun> jogo: broken -> file a bug -> fix it
2014-09-30T21:12:54  <foobio> stevemar: perhaps. i thought many of them were doing it with an overridden gate_hook?
2014-09-30T21:13:06  *** boden has joined #openstack-infra
2014-09-30T21:13:13  <jogo> marun: you should file a zuul bug then :)
2014-09-30T21:13:14  <krotscheck> dhellmann, r1chardj0n3s: I agree that middleware’s the right approach. I’m questioning the oslo.config dependency.
2014-09-30T21:13:14  <mordred> marun: I believe "doesn't have that feature at the moment because we quite literally have not ever defined that as being a use case we want" might be more what you meant
2014-09-30T21:13:14  *** krtaylor has quit IRC
2014-09-30T21:13:15  <stevemar> foobio, some are, some aren't - i think only oslo is doing it correctly
2014-09-30T21:13:18  <mordred> it's not a bug
2014-09-30T21:13:23  <mordred> it's not a bug
2014-09-30T21:13:24  <mordred> it's not a bug
2014-09-30T21:13:28  *** boden has quit IRC
2014-09-30T21:13:29  <mordred> it's a very conscious choice
2014-09-30T21:13:35  <jogo> mordred: why?
2014-09-30T21:13:40  <HenryG> How do I apply modules/openstack_project/manifests/single_use_slave.pp to machines for the check-neutron-dsvm-functional job?
2014-09-30T21:13:40  <dhellmann> krotscheck: ah, ok, I misunderstood the question
2014-09-30T21:13:44  <mordred> because it's not a thing we've ever wanted to do
2014-09-30T21:13:45  <jogo> mordred: what was the conscious choice
2014-09-30T21:13:46  <marun> mordred: I think it's interesting to hear you say that it isn't a use case that has been considered
2014-09-30T21:13:46  <r1chardj0n3s> krotscheck: it has to be configured *somewhere* and it makes sense to me to not add a new configuration file just for CORS
2014-09-30T21:13:47  <mordred> and in fact
2014-09-30T21:13:48  <jogo> mordred: why?
2014-09-30T21:13:49  <mordred> most of the time
2014-09-30T21:13:52  <mordred> we want to NOT do it
2014-09-30T21:13:56  *** boden has joined #openstack-infra
2014-09-30T21:13:57  <marun> mordred: It's a huge waste of time for everyone
2014-09-30T21:13:58  <mordred> because doing it is an optimization
2014-09-30T21:13:59  *** sarob_away is now known as sarob
2014-09-30T21:14:02  <dhellmann> krotscheck: maybe we should talk about that on the spec review?
2014-09-30T21:14:07  <stevemar> foobio, a lot of projects are kicking off a project specific post_gate_hook, but it's running tests, which don't make sense... since devstack has been torn down
2014-09-30T21:14:10  <superbee> akerr: sorry too much stuff going on right now. have you compared it to the upstream pipeline?
2014-09-30T21:14:13  <r1chardj0n3s> dhellmann, krotscheck: that makes sense, yes
2014-09-30T21:14:14  <mordred> and so far, in the project, we have tended to solve optimizations not by running less tests
2014-09-30T21:14:21  <mordred> but by increasing our ability to run tests
2014-09-30T21:14:22  <mordred> so
2014-09-30T21:14:23  <krotscheck> r1chardj0n3s, dhellmann: Indeed. Off to gerrit!
2014-09-30T21:14:24  <mordred> in general
2014-09-30T21:14:31  *** boden has quit IRC
2014-09-30T21:14:33  * krotscheck rides off into the code review system.
2014-09-30T21:14:34  <mordred> a feature to limit what tests we run as a way to scale the system
2014-09-30T21:14:35  <marun> mordred: ...and we're pretty screwed as a resuult
2014-09-30T21:14:39  <mordred> is a completely different desgin
2014-09-30T21:14:43  <mordred> and one to not be taken lightly
2014-09-30T21:14:43  <HenryG> Darn. I mean, How do I apply modules/openstack_project/manifests/slave_db.pp to machines for the check-neutron-dsvm-functional job?
2014-09-30T21:14:44  <superbee> how are we screwed?
2014-09-30T21:14:45  <mordred> marun: no
2014-09-30T21:14:46  <jogo> mordred: aren't we at the scale where its time to do optimizations
2014-09-30T21:14:47  <marun> mordred: yes
2014-09-30T21:14:49  *** boden has joined #openstack-infra
2014-09-30T21:14:51  <mordred> we are screwed because people are writing shitty code
2014-09-30T21:14:53  <foobio> stevemar: some of them want devstack to configure things but not leave all the services running, i think
2014-09-30T21:14:55  <marun> mordred: pushing patches sucks so damn hard
2014-09-30T21:14:59  <mordred> and the code IS actually broken
2014-09-30T21:15:00  <akerr> superbee: let me compare them, thanks for the response
2014-09-30T21:15:06  <marun> mordred: having merge queues that are so damn long
2014-09-30T21:15:13  <mordred> so people should stop wanking with features and actually fix the damned bugs
2014-09-30T21:15:17  <superbee> akerr: we do very similar in the upstream gate pipeline so it would be a good one to compare to
2014-09-30T21:15:18  <marun> mordred: patch velocity only due to a lack of reviewer resources?
2014-09-30T21:15:24  *** boden has quit IRC
2014-09-30T21:15:27  <anteaya> HenryG: are you asking in the context of your third party ci environment?
2014-09-30T21:15:43  <marun> mordred: No, as much a result of the impossible task of trying to ensure overall openstack quality on .every.single.project.merge.proposal
2014-09-30T21:15:45  *** boden has joined #openstack-infra
2014-09-30T21:15:46  <foobio> patch velocity limited due to developers playing with pet features rather than fixing what's already broken in their projects
2014-09-30T21:16:02  <marun> foobio: sure
2014-09-30T21:16:08  *** boden has quit IRC
2014-09-30T21:16:09  <foobio> and also due to integrating projects which were not stable enough to actually be plugged into one another
2014-09-30T21:16:10  <mordred> marun: and you think quality woudl be better by increasing the number of less well tested patches we can land?
2014-09-30T21:16:12  <HenryG> anteaya: No. This is for the check-neutron-dsvm-functional community job.
2014-09-30T21:16:18  <marun> foobio: and that is as much due to openstack not requiring good testing
2014-09-30T21:16:24  *** mjturek has quit IRC
2014-09-30T21:16:27  <mordred> marun: or just that it would be easier for individual devs to land a patch?
2014-09-30T21:16:27  <marun> foobio: pretending we can bolt it on with tempest and the gate
2014-09-30T21:16:33  <foobio> absolutely
2014-09-30T21:16:34  *** boden has joined #openstack-infra
2014-09-30T21:16:35  <mordred> ++
2014-09-30T21:16:37  <anteaya> HenryG: do you have a patch in place that I can look at?
2014-09-30T21:16:47  <marun> mordred: I want to see dramatically increased requirements around in-tree project testing
2014-09-30T21:16:53  <mordred> marun: I do too
2014-09-30T21:16:56  <anteaya> HenryG: or in process?
2014-09-30T21:17:08  *** boden has quit IRC
2014-09-30T21:17:20  <openstackgerrit> A change was merged to openstack-infra/subunit2sql: Add manifest file to include base alembic config  https://review.openstack.org/125151
2014-09-30T21:17:21  <foobio> i think it was probably tractable to test it that way a while back, but we scaled past it being effective more quickly than anyone had an opportunity to implement more focused testing solutions
2014-09-30T21:17:26  <HenryG> anteaya: Not yet, I am trying to figure out how. Not very good at puppet so not sure where to start.
2014-09-30T21:17:30  <mordred> marun: I'm pushing back angrily because it would be a LOT of work to implement a "only test this patch when X changes" feature, and I'm pretty sure the amount of gain we'd get is nothing
2014-09-30T21:17:35  *** boden has joined #openstack-infra
2014-09-30T21:17:35  <marun> mordred: I want it to be harder to merge patches that aren't tested.   But I also hope that we can all recognize the futility of running so many integrated jobs in the hopes that it ensures quality.
2014-09-30T21:17:39  <marun> mordred: It doesn't.
2014-09-30T21:17:42  <mordred> compared to the potential for rampant abuse
2014-09-30T21:17:51  <marun> mordred: It increases developer friction with no real benefit
2014-09-30T21:17:53  <anteaya> HenryG: let's work on me understanding what you are doing, what are you trying to accomplish?
2014-09-30T21:17:54  *** boden has quit IRC
2014-09-30T21:17:59  <superbee> marun: so of that statement I am not so sure
2014-09-30T21:18:10  <anteaya> HenryG: keep in mind everyone else is engaged in another topic and I'm slow
2014-09-30T21:18:17  <mordred> marun: I disagree with "no real benefit"
2014-09-30T21:18:19  <marun> superbee: we are as likely to surface a race condition after a merge as before
2014-09-30T21:18:22  *** boden has joined #openstack-infra
2014-09-30T21:18:26  <superbee> marun: if we take neutron for example. Quality there is much better than it was for many reasons, including the extra integration testing we do against it
2014-09-30T21:18:32  <jogo> lets say each component of our system works 99% of the time. If we have 10 pieces to the system we get a success rate for the collective system of 90%
2014-09-30T21:18:34  <marun> superbee: really?
2014-09-30T21:18:35  <superbee> marun: we run double the tests and thankfully the whole suite now
2014-09-30T21:18:41  <HenryG> anteaya: Sure, the bug is https://bugs.launchpad.net/neutron/+bug/1372981
2014-09-30T21:18:42  <superbee> marun: yes neutron is double tempested
2014-09-30T21:18:43  <uvirtbot> Launchpad bug 1372981 in neutron "Neutron functional tests can't target both postgres and mysql in the same test run" [Medium,Confirmed]
2014-09-30T21:18:46  <superbee> marun: and it appears to have helped
2014-09-30T21:18:49  <marun> superbee: and that sucks balls
2014-09-30T21:18:49  <superbee> significantly
2014-09-30T21:18:51  *** boden has quit IRC
2014-09-30T21:18:55  *** bhuvan has quit IRC
2014-09-30T21:18:57  <anteaya> HenryG: thanks, that is a start
2014-09-30T21:19:01  <superbee> because in the last 6 months neutron has done what it has been trying to do for 2.5-3 years
2014-09-30T21:19:15  <marun> superbee: we now have twice as many chances to surface unrelated race conditions that block us from merging
2014-09-30T21:19:17  *** boden has joined #openstack-infra
2014-09-30T21:19:17  <anteaya> yay!!
2014-09-30T21:19:23  <mordred> marun: so what?
2014-09-30T21:19:26  <mordred> marun: so don't merge
2014-09-30T21:19:32  * anteaya throws a party at what superbee just said
2014-09-30T21:19:37  <foobio> marun: recall that not too long ago there was basically no integration testing of neutron at all. just a stub because nothing worked. the amount of testing it's under now compared to them is tremendous
2014-09-30T21:19:37  <mordred> so let's all stop wroking on new features and new vendor plugins
2014-09-30T21:19:37  <marun> superbee: I have a pretty good chance of surfacing that kind of condition with a tox.ini change that has zero functional implications
2014-09-30T21:19:40  <marun> this is progress?
2014-09-30T21:19:44  *** boden has quit IRC
2014-09-30T21:19:46  <mordred> and let's do nothing but work on race bugs
2014-09-30T21:19:54  <marun> mordred: fsck the race bugs
2014-09-30T21:19:56  <foobio> er, compared to then
2014-09-30T21:19:57  <marun> that's the symptom
2014-09-30T21:20:01  <HenryG> anteaya: One way to do it would be to patch devstack so it can install both DB backends.
2014-09-30T21:20:04  *** boden has joined #openstack-infra
2014-09-30T21:20:13  <jogo> mordred: if you can make that happen awesome
2014-09-30T21:20:18  <marun> let's write in-tree functional and integration tests that validate functionality for that service alone
2014-09-30T21:20:25  <mordred> marun: yes. let's
2014-09-30T21:20:27  <openstackgerrit> Steve Martinelli proposed a change to openstack-infra/project-config: Change OSC functional tests to gate_hook  https://review.openstack.org/125202
2014-09-30T21:20:27  <mordred> PLEASE
2014-09-30T21:20:32  *** boden has quit IRC
2014-09-30T21:20:37  <mordred> marun: but let's not turn off what little we have until we've actually done that
2014-09-30T21:20:38  <marun> let's cover off exceptional cases _before_ we try to add all the complexity of other services
2014-09-30T21:20:39  <HenryG> anteaya: But the unit-test jobs install both backends via the puppet script I referred to above.
2014-09-30T21:20:41  <mordred> because what we have may suck
2014-09-30T21:20:45  <stevemar> foobio, ^
2014-09-30T21:20:45  <mordred> but it's FAR better than nothing
2014-09-30T21:20:50  <marun> mordred: let's recognize the tradeoff involved too, though
2014-09-30T21:21:02  <HenryG> anteaya: So I would like to try the same for the functional job.
2014-09-30T21:21:05  *** boden has joined #openstack-infra
2014-09-30T21:21:10  <jogo> mordred: you should try writing a tempest patch
2014-09-30T21:21:12  <marun> mordred: MOOR TESTS BETTER is broken
2014-09-30T21:21:13  <anteaya> HenryG: it looks like from the bug report you would be best served by spending some time with mtreinish in -qa
2014-09-30T21:21:21  <marun> let's recognize that and find a good balance
2014-09-30T21:21:26  <mordred> marun: totally
2014-09-30T21:21:28  <mtreinish> anteaya: what did I do?
2014-09-30T21:21:30  *** boden has quit IRC
2014-09-30T21:21:37  <mordred> marun: all I'm saying is that we should not remove what we have until we have something new and better
2014-09-30T21:21:37  <anteaya> mtreinish: you are just awesome
2014-09-30T21:21:44  <anteaya> mtreinish: keep doing that
2014-09-30T21:21:52  *** boden has joined #openstack-infra
2014-09-30T21:21:52  <mordred> marun: because our current experience is that less tests == immediate breakage fail pain
2014-09-30T21:21:58  <marun> mordred: I'm saying we should take a hard look at the cost/benefit of what we have, and adjust
2014-09-30T21:22:08  <stevemar> foobio, thank you sirrrr
2014-09-30T21:22:10  <HenryG> mtreinish: It may be hard to read the backlog here :D
2014-09-30T21:22:16  <mordred> and that has been consistent every time something has failed positive over the last 2 years
2014-09-30T21:22:20  *** boden has quit IRC
2014-09-30T21:22:36  <marun> mordred: if the cost of running a given job has a potential payoff of catching a race/regression, great.
2014-09-30T21:22:37  <marun> mordred: run it
2014-09-30T21:22:37  *** IAX has joined #openstack-infra
2014-09-30T21:22:41  *** akerr has left #openstack-infra
2014-09-30T21:22:44  *** boden has joined #openstack-infra
2014-09-30T21:22:44  <mtreinish> anteaya: cool, wfm :)
2014-09-30T21:22:47  <marun> mordred: if there is a low chance that job has value - do not run it.
2014-09-30T21:22:53  <mtreinish> HenryG: heh yeah that's why I asked?
2014-09-30T21:22:54  <mordred> marun: this happens
2014-09-30T21:22:54  <marun> mordred: save the resources, and more importantly the developer time
2014-09-30T21:22:58  <mordred> marun: consistently
2014-09-30T21:23:14  <marun> mordred: I think we've conflated 2 things that should be independent
2014-09-30T21:23:18  *** boden has quit IRC
2014-09-30T21:23:24  <marun> mordred: One is keeping a given project tree stable
2014-09-30T21:23:24  <foobio> replace the current poorly-targeted tests with more focused testing? good. drop the current tests in hopes that better testing emerges before everything falls apart? _bad_
2014-09-30T21:23:31  <marun> mordred: The other is keeping openstack as a whole stable
2014-09-30T21:23:37  <marun> These are different things
2014-09-30T21:23:38  *** boden has joined #openstack-infra
2014-09-30T21:23:49  <mordred> marun: right now we do neither
2014-09-30T21:23:56  <mordred> well
2014-09-30T21:24:02  *** boden has quit IRC
2014-09-30T21:24:11  <marun> mordred: I'm saying, we need to consider these goals separately if we have any hope of achieving them
2014-09-30T21:24:14  <mordred> sure
2014-09-30T21:24:17  <marun> we're doing both, badly, right now
2014-09-30T21:24:20  <jogo> marun: ++
2014-09-30T21:24:21  <sdague> marun: so help
2014-09-30T21:24:30  *** boden has joined #openstack-infra
2014-09-30T21:24:32  <anteaya> boden check your client
2014-09-30T21:24:33  *** bhuvan has joined #openstack-infra
2014-09-30T21:24:34  <marun> sdague: that's always your refraing,
2014-09-30T21:24:34  <mordred> this is why I agree that we need functional tests
2014-09-30T21:24:38  <marun> sdague: refrain
2014-09-30T21:24:46  <mordred> marun: but why I believe that we need them FIRST
2014-09-30T21:24:49  <marun> sdague: Do you honestly think I'm not doing all I can to move this forward?
2014-09-30T21:24:57  *** boden has quit IRC
2014-09-30T21:25:09  <marun> sdague: I pushed for how many months to get agreement that we needed to move in a different direction
2014-09-30T21:25:11  <marun> ?
2014-09-30T21:25:12  <superbee> mordred: how do I break inside of a dib build?
2014-09-30T21:25:21  *** boden has joined #openstack-infra
2014-09-30T21:25:21  <mordred> superbee: no clue. SpamapS ^^ ?
2014-09-30T21:25:23  <marun> sdague: I hope you can trust at some point that I am working on this.
2014-09-30T21:25:24  <mordred> lifeless: ^^ ?
2014-09-30T21:25:41  *** homeless has quit IRC
2014-09-30T21:25:49  <mordred> marun: I know you're working on it - but please trust in the opposite direction too
2014-09-30T21:25:50  *** boden has quit IRC
2014-09-30T21:26:08  <mordred> marun: and know that when you start with "zuul is broken" the response might not be too immediately welcome
2014-09-30T21:26:15  <superbee> anteaya: can your propose the cahnge you suggested in 124254? ianw is out this week
2014-09-30T21:26:21  *** homeless has joined #openstack-infra
2014-09-30T21:26:25  *** boden has joined #openstack-infra
2014-09-30T21:26:26  <anteaya> superbee: /me looks
2014-09-30T21:26:28  <marun> mordred: it's qualified
2014-09-30T21:26:40  *** boden has quit IRC
2014-09-30T21:26:53  <marun> mordred: if zuul cannot dynamically determine the jobs to run based on a given patch, then a bug exists that needs to be fixed
2014-09-30T21:27:11  *** boden has joined #openstack-infra
2014-09-30T21:27:11  <marun> mordred: I think you know as well as I that saying something dramatic is sometimes done for the attention.
2014-09-30T21:27:17  <mordred> :)
2014-09-30T21:27:19  <mordred> what
2014-09-30T21:27:21  <mordred> I never do that
2014-09-30T21:27:25  *** tonytan4ever has quit IRC
2014-09-30T21:27:26  <marun> hah
2014-09-30T21:27:27  <anteaya> superbee: yep, going to go for a walk first then will propose
2014-09-30T21:27:38  <superbee> anteaya: ty
2014-09-30T21:27:42  *** boden has quit IRC
2014-09-30T21:27:44  <mordred> marun: thing is - as I mentioned above - that's a conscious design decision
2014-09-30T21:28:05  <sdague> marun: so the impact of that statement is basically people that do try to help with these things, like myself, decide it's completely not worth it because there is so much stone throwing from the outside
2014-09-30T21:28:07  *** boden has joined #openstack-infra
2014-09-30T21:28:10  <mordred> marun: and although I do think that the conversation about whether or not it's a useful design or whether we need a new one is a good discussion
2014-09-30T21:28:12  <sdague> so if that's your intent, you win
2014-09-30T21:28:24  *** boden has quit IRC
2014-09-30T21:28:28  <marun> Ok
2014-09-30T21:28:37  <marun> Let's air some dirty laundry then
2014-09-30T21:28:49  *** bcourt has quit IRC
2014-09-30T21:28:51  *** _buzz has joined #openstack-infra
2014-09-30T21:28:51  <marun> and sdague, you can call it 'stone-throwing' all you want, but I think honesty is important
2014-09-30T21:28:57  *** boden has joined #openstack-infra
2014-09-30T21:29:16  <superbee> mordred: foobio: for some reason pupept isn't finding openstack_project::single_use_slave in the dib builds, but it should be in the modulepath. so next step for me is to set up a breakpoint and figure it out
2014-09-30T21:29:25  *** boden has quit IRC
2014-09-30T21:29:28  <marun> I think infra is overloaded to the point that developer productivity doesn't really rate in the priority list
2014-09-30T21:29:29  <mordred> superbee: oh wow. that's amazing
2014-09-30T21:29:39  <mordred> marun: I disagree very strongly
2014-09-30T21:29:47  <mordred> developer producitivy is super important
2014-09-30T21:29:48  *** boden has joined #openstack-infra
2014-09-30T21:29:49  <marun> mordred: how much code do you push?
2014-09-30T21:29:55  *** doude has quit IRC
2014-09-30T21:29:56  <mordred> marun: a GIANT amount
2014-09-30T21:29:57  <foobio> i think it can be implemented if we really want it. but i also question the effective gain... how many changes touch only non-code? and are those even changes worthy of prioritizing if the code itself is so broken it's painful to test?
2014-09-30T21:30:00  <marun> mordred: how many hours do you waste waiting on gate queues?
2014-09-30T21:30:05  <marun> mordred: on rechecks?
2014-09-30T21:30:17  <marun> mordred: Do you think this is acceptable?
2014-09-30T21:30:18  *** boden has quit IRC
2014-09-30T21:30:19  <mordred> marun: I don't wait on gate queues - I tend to have at least 100 different tasks in my queue at any point in time
2014-09-30T21:30:31  <marun> mordred: Or that contributes to developer productivity?
2014-09-30T21:30:37  <superbee> mordred: foobio actually I think its a bug in the build image script. I think I can sort this
2014-09-30T21:30:39  <foobio> same here. i parallelize my work and pick up whatever's ready for a next step as opportunity allows
2014-09-30T21:30:40  *** boden has joined #openstack-infra
2014-09-30T21:30:42  <marun> mordred: So you've optimized your workflow to account for how broken our infrastructure is
2014-09-30T21:30:44  <marun> mordred: good for you
2014-09-30T21:30:46  *** dhellmann is now known as dhellmann_
2014-09-30T21:30:46  <mordred> marun: wow
2014-09-30T21:30:48  <mordred> no
2014-09-30T21:30:51  <marun> mordred: not everyone has that luxury
2014-09-30T21:30:53  <mordred> our infrastructure is NOT broken
2014-09-30T21:30:57  <lifeless> superbee: mordred: Read the manual
2014-09-30T21:31:00  <marun> mordred: that's a statement of opinion
2014-09-30T21:31:02  <mordred> it does exactly what we ask it to very well
2014-09-30T21:31:04  <superbee> lifeless: :P I figured that was coming
2014-09-30T21:31:05  <mordred> marun: openstack is broken
2014-09-30T21:31:09  *** boden has quit IRC
2014-09-30T21:31:11  <mordred> our infrastructure shows that quite regularly
2014-09-30T21:31:11  <marun> mordred: it is broken from the perspective of developer productivity
2014-09-30T21:31:21  <lifeless> superbee: search for debug in README
2014-09-30T21:31:21  <marun> mordred: we've optimized to try to keep openstack stable
2014-09-30T21:31:21  <mordred> then I disagree with what you find productive
2014-09-30T21:31:31  *** boden has joined #openstack-infra
2014-09-30T21:31:35  <mordred> because "landing patches" is not necessarily productive
2014-09-30T21:31:38  <foobio> our infrastructure will actually run jobs which are sanely written extremely well. the projects the code is coming from are full of bugs we're successfully identifying
2014-09-30T21:31:39  <mordred> "fixing openstack" is
2014-09-30T21:31:40  <marun> mordred: to the detriment of developer productivity
2014-09-30T21:31:44  <mordred> nope
2014-09-30T21:31:45  <superbee> lifeless: ty
2014-09-30T21:31:46  <mordred> not productive
2014-09-30T21:31:51  <marun> mordred: there is no open discussion of the tradeoffs involved
2014-09-30T21:31:58  <lifeless> superbee: or break should hit it too :)
2014-09-30T21:32:02  *** boden has quit IRC
2014-09-30T21:32:03  <mordred> you're assuming that mean time to land patch should be minimized
2014-09-30T21:32:04  <marun> mordred: so zuul is DESIGNED to avoid dynamic discovery of the jobs to run
2014-09-30T21:32:05  <mordred> I disagree
2014-09-30T21:32:10  *** VijayTripathi has quit IRC
2014-09-30T21:32:21  *** boden has joined #openstack-infra
2014-09-30T21:32:22  *** e0ne has quit IRC
2014-09-30T21:32:28  <mordred> marun: zuul is designed to solve the problems we actually have, which is keeping up with the aggregate project velocity
2014-09-30T21:32:33  <marun> mordred: and that indicates to me - and nothing you're saying is contradicting this view - that developer productivity is not considered important
2014-09-30T21:32:34  <mordred> which is MASSIVE
2014-09-30T21:32:36  <foobio> if developers on some projects would rather stick their collective heads in the sand and pretend it's okay to be completely broken, then i question the reason for even testing those projects (or including them in openstack)
2014-09-30T21:32:50  <mordred> marun: I still disagree with yoru definition of productive
2014-09-30T21:32:53  *** boden has quit IRC
2014-09-30T21:32:54  <krotscheck> Random fun thing: When clicking on gate-storyboard-webclient-js-draft in gerrit you now get a fully functional client. (caveat - small bug in login that I’m fixing)
2014-09-30T21:33:07  <mordred> marun: when the project in question is not broken, things run well
2014-09-30T21:33:09  <marun> mordred: do you honestly think that your opinion is canonical here?
2014-09-30T21:33:11  <krotscheck> Example: https://review.openstack.org/#/c/104004/
2014-09-30T21:33:12  <mordred> it's not my job to fix all the problem
2014-09-30T21:33:16  <mordred> marun: no, I do not
2014-09-30T21:33:18  *** boden has joined #openstack-infra
2014-09-30T21:33:21  <marun> mordred: that I'm a lone voice, and that I'm uninformed?
2014-09-30T21:33:29  <marun> I get that we need to converge on stability
2014-09-30T21:33:44  <mordred> marun: I think taht you are representing a well known viewpoint that it's currently hard for developers to land a patch
2014-09-30T21:33:45  *** boden has quit IRC
2014-09-30T21:33:47  <marun> and that we are hamstrung in the absence of effective project-specific functional testing
2014-09-30T21:33:59  <mordred> I agree with that
2014-09-30T21:34:00  * krotscheck pokes himself to speed things up a bit....
2014-09-30T21:34:05  *** bcourt has joined #openstack-infra
2014-09-30T21:34:07  *** boden has joined #openstack-infra
2014-09-30T21:34:12  <mordred> we need much more of that and we need it to be much better
2014-09-30T21:34:23  <foobio> also, zuul does make dynamic determination on what jobs to run and when. very dynamic decisions. it just doesn't have the necessary dynamism right now to vault your "fix all teh typoz" change through without running unit tests
2014-09-30T21:34:32  <marun> But nowhere do I hear any suggestion that we can tune the amount of integration testing to the benefit derived
2014-09-30T21:34:34  *** e0ne has joined #openstack-infra
2014-09-30T21:34:36  <mordred> but you just described a failure in the projects, not in the automation of them
2014-09-30T21:34:41  *** boden has quit IRC
2014-09-30T21:34:51  <mordred> it is completely in the power of the projects to add good functional tests
2014-09-30T21:34:55  <marun> our current infra is an accident
2014-09-30T21:35:01  *** boden has joined #openstack-infra
2014-09-30T21:35:02  <mordred> no. it is most certainly not
2014-09-30T21:35:06  <mordred> and it is completely in our power to consistenlty run those tests
2014-09-30T21:35:14  <marun> more than 2 years ago everyone realized that openstack was broken
2014-09-30T21:35:20  <jogo> at the current scale of the integrated gate, I don't think we can ever get to the point where dsvm-tempest works 100% of the time
2014-09-30T21:35:33  *** boden has quit IRC
2014-09-30T21:35:36  <marun> gating began, first on devstack exercises
2014-09-30T21:35:39  <mordred> nope
2014-09-30T21:35:43  <marun> rather than fixing the problem - the projects were poorly tested
2014-09-30T21:35:44  <mordred> that is factually inaccrate
2014-09-30T21:35:46  <marun> we tried to bolt on quality
2014-09-30T21:35:55  <marun> that much is _not_ factually inaccurate
2014-09-30T21:35:56  *** boden has joined #openstack-infra
2014-09-30T21:35:58  <mordred> the project started with gating from literally commit one
2014-09-30T21:36:01  <marun> we've tried to bolt on quality for 2+ years
2014-09-30T21:36:03  <mordred> and has always had it
2014-09-30T21:36:07  <marun> and it doesn't work
2014-09-30T21:36:07  <superbee> anteaya: note 124254 needs an update too, I will push that as soon as I can test it
2014-09-30T21:36:09  <marun> we get that now
2014-09-30T21:36:09  <mordred> so we've been gating on tests for 4 years
2014-09-30T21:36:19  *** boden has quit IRC
2014-09-30T21:36:39  <marun> mordred: I play fast and loose with my dates because I've forgotten how long I've been here I guess.
2014-09-30T21:36:49  *** boden has joined #openstack-infra
2014-09-30T21:36:53  <mordred> marun: you are describing the advent of devstack
2014-09-30T21:37:00  <mordred> before that, openstack was uninstallable
2014-09-30T21:37:06  <lifeless> still is:P
2014-09-30T21:37:11  <marun> lifeless++
2014-09-30T21:37:13  <foobio> zing!
2014-09-30T21:37:19  *** boden has quit IRC
2014-09-30T21:37:19  <mordred> and the devs would occasionally say "look, here is some puppet"
2014-09-30T21:37:23  <mordred> but it wouldn't work
2014-09-30T21:37:25  <lifeless> still do :P
2014-09-30T21:37:34  * lifeless isn't being helpful
2014-09-30T21:37:37  * lifeless goes
2014-09-30T21:37:43  *** boden has joined #openstack-infra
2014-09-30T21:38:05  *** boden has quit IRC
2014-09-30T21:38:12  *** e0ne has quit IRC
2014-09-30T21:38:29  *** boden has joined #openstack-infra
2014-09-30T21:39:03  <mordred> marun: listen, we're in the weeds - I VERY MUCH agree and support the idea of much better targetted functional testing
2014-09-30T21:39:04  *** boden has quit IRC
2014-09-30T21:39:11  <mordred> marun: I think we'll die without it
2014-09-30T21:39:19  <mordred> marun: and we probably should have had it quite a while ago
2014-09-30T21:39:31  *** boden has joined #openstack-infra
2014-09-30T21:39:39  *** andreaf has quit IRC
2014-09-30T21:39:54  <superbee> anteaya: so lets hold off on that second change for now
2014-09-30T21:39:57  *** boden has quit IRC
2014-09-30T21:40:09  <mwhudson> oh yes
2014-09-30T21:40:14  *** andreaf has joined #openstack-infra
2014-09-30T21:40:16  <foobio> (and for that matter, most projects could use some unit tests which are actually unit tests)
2014-09-30T21:40:17  *** boden has joined #openstack-infra
2014-09-30T21:40:22  <mwhudson> so last week i came in here and asked "how do i run tempest like gate does"
2014-09-30T21:40:35  <mwhudson> and apparently this week, the answer is different? :)
2014-09-30T21:40:42  <superbee> mwhudson: no?
2014-09-30T21:40:47  *** boden has quit IRC
2014-09-30T21:40:49  <marun> mordred: I think we agree on a lot of this stuff.
2014-09-30T21:40:52  <mwhudson> superbee: something about moving to dib?
2014-09-30T21:41:10  *** boden has joined #openstack-infra
2014-09-30T21:41:15  <superbee> mwhudson: yes, and we have been planning the move for at least half a year. But it isn't quite there yet and the old way continues to work
2014-09-30T21:41:27  <foobio> mwhudson: our providers finally started running openstack! (well, started providing glance)
2014-09-30T21:41:32  <marun> mordred: I think there are 2 areas we can improve in advance of our future functional test utopia.
2014-09-30T21:41:44  *** boden has quit IRC
2014-09-30T21:42:01  <marun> mordred: The first one is to allow dynamic determination of jobs to run.
2014-09-30T21:42:03  *** boden has joined #openstack-infra
2014-09-30T21:42:14  <mwhudson> superbee: ah ok
2014-09-30T21:42:26  <foobio> mwhudson: the current mechanism nodepool uses was, as much as anything, invented to work around teh fact that we couldn't upload our own server images into cloud providers
2014-09-30T21:42:28  *** boden has quit IRC
2014-09-30T21:42:37  <marun> mordred: The cost of running unnecessary integration jobs (i.e. on test-only changes) is not justified.
2014-09-30T21:42:37  <mwhudson> foobio: ah
2014-09-30T21:42:56  *** boden has joined #openstack-infra
2014-09-30T21:42:57  *** andreykurilin_ has quit IRC
2014-09-30T21:43:06  <mordred> marun: I understand and respect that position. I disagree with your premise that dynamic determination of jobs to run will help things for developers
2014-09-30T21:43:06  <foobio> mwhudson: now that we can, that opens us up to be able to build an image locally and then push it to all providers/regions, so massive performance gain
2014-09-30T21:43:15  *** eharney has quit IRC
2014-09-30T21:43:17  <mordred> marun: I actually believe that it will make their experience worse
2014-09-30T21:43:18  <marun> mordred: Why?
2014-09-30T21:43:22  <mwhudson> foobio: are you building such images yet?
2014-09-30T21:43:27  <mordred> marun: beacuse we do not have the functional tests yet
2014-09-30T21:43:31  *** boden has quit IRC
2014-09-30T21:43:33  *** pcm_ has quit IRC
2014-09-30T21:43:37  <foobio> mwhudson: and will also make it possible for other parties (devs, third-party testing operators, et cetera) to consume/reuse the images we're building nightly
2014-09-30T21:43:40  <marun> mordred: Hold on, we're not talking about the same thing.
2014-09-30T21:43:44  <mordred> marun: so my confidence that targetted running will not lead to an increase in race bugs is low
2014-09-30T21:43:48  *** boden has joined #openstack-infra
2014-09-30T21:43:53  <mwhudson> foobio: right
2014-09-30T21:43:55  <marun> mordred: This has zero to do with race bugs.
2014-09-30T21:43:57  <mordred> marun: ah! excellent! I love it when that happens
2014-09-30T21:44:08  <mordred> marun: when you say targetted running, what do you mean?
2014-09-30T21:44:14  *** boden has quit IRC
2014-09-30T21:44:16  <foobio> mwhudson: we are building images now, yes, and have nodes which can boot from them and run experimental jobs successfully
2014-09-30T21:44:17  <mwhudson> foobio: well ultimately i care about 3rd party testing on arm64 so i guess i'll have to make my own images
2014-09-30T21:44:18  <mwhudson> but that's ok
2014-09-30T21:44:34  <marun> mordred: If I am making a change to the test tree (verifiably non-functional), the integration jobs should not run.
2014-09-30T21:44:49  *** boden has joined #openstack-infra
2014-09-30T21:44:57  *** hashar has quit IRC
2014-09-30T21:44:59  <foobio> mwhudson: right, there may still be gains there as well, though we haven't really pondered how to do cross-architecture nodepool... however if you have an arm-based nodepool server
2014-09-30T21:45:04  <superbee> marun: how do you verify that though?
2014-09-30T21:45:13  <superbee> marun: today the answer is your run the tests
2014-09-30T21:45:16  *** boden has quit IRC
2014-09-30T21:45:16  <mwhudson> i'd also like to just run the tests myself on intel and see no failures, because i haven't managed that yet
2014-09-30T21:45:22  <superbee> marun: asserting in zuul config that it won't isn't quite the same
2014-09-30T21:45:29  <marun> superbee: look at the patch, if the changes are only to neutron/tests, don't run integration jobs
2014-09-30T21:45:38  *** boden has joined #openstack-infra
2014-09-30T21:45:42  <mordred> marun: right. but the generalized feature you're describing is "run tests less"
2014-09-30T21:45:44  <marun> superbee: it has to be dynamic.  I know this isn't supported yet.
2014-09-30T21:45:46  <superbee> marun: so my argument earlier with jogo is that that is completely insufficient
2014-09-30T21:45:47  *** markmcclain has quit IRC
2014-09-30T21:45:48  <marun> mordred: no
2014-09-30T21:45:53  <marun> mordred: it's being smart about what we run
2014-09-30T21:46:01  <superbee> at least with the assumptions we have today about our tests
2014-09-30T21:46:02  <mordred> marun: in order to smartly run less tets
2014-09-30T21:46:06  <marun> mordred: you're hearing 'run tests less' betrays your bias towards 'all test runs have value'
2014-09-30T21:46:06  <superbee> they are part of consumable code
2014-09-30T21:46:09  *** boden has quit IRC
2014-09-30T21:46:10  <marun> and they dont
2014-09-30T21:46:15  <mordred> marun: no, I do _not_ have that bias
2014-09-30T21:46:16  <superbee> and it is completely fair game for nova to import its tests or tempest to import nova's tests
2014-09-30T21:46:26  <marun> superbee: Uh, what?
2014-09-30T21:46:28  *** boden has joined #openstack-infra
2014-09-30T21:46:31  <foobio> marun: so... you say this isn't about race conditions... yet... why do you care if the infra systems run a job guaranteed to pass because you're not modifying files affecting it?
2014-09-30T21:46:39  <superbee> marun: its python... you can do this. there are reasons to do this
2014-09-30T21:46:43  <marun> superbee: Why in _hell_ would that be allowable?
2014-09-30T21:46:57  <superbee> marun: because there may be useful code in one project's tests that another wants to consume
2014-09-30T21:47:00  *** boden has quit IRC
2014-09-30T21:47:00  <marun> superbee: the code in question that does that s*** should break.
2014-09-30T21:47:01  <superbee> see hacking
2014-09-30T21:47:03  <lifeless> ironic needed to do that for instance
2014-09-30T21:47:04  <mordred> marun: maybe you're ceilometer and you want to check that doing your thing doesn't cause nova to regress
2014-09-30T21:47:09  <lifeless> with the nova driver
2014-09-30T21:47:21  *** boden has joined #openstack-infra
2014-09-30T21:47:22  <mordred> marun: maybe you're ironic and need to check that your nova driver didn't break the existing nova unittests
2014-09-30T21:47:22  *** bswartz has quit IRC
2014-09-30T21:47:23  <marun> mordred: ffs
2014-09-30T21:47:29  <marun> that's not a public api
2014-09-30T21:47:38  <mordred> marun: and that's a lazy developer sentiment
2014-09-30T21:47:39  <marun> if someone is using something that isn't for public consumption, fsck them!
2014-09-30T21:47:50  <mordred> like the plugin interface?
2014-09-30T21:47:52  <lifeless> so the public aspect has merit as an argument
2014-09-30T21:47:52  *** boden has quit IRC
2014-09-30T21:48:01  <marun> we define api's for a reason
2014-09-30T21:48:06  <mordred> like the plugin interface?
2014-09-30T21:48:06  <foobio> good thing most of our projects aren't actually for public consumption, as it turns out
2014-09-30T21:48:08  <marun> if someone uses something private - buyer beware
2014-09-30T21:48:09  <lifeless> but right now the test suites are not annotated as private
2014-09-30T21:48:09  <r1chardj0n3s> thanks for the CORS spec review krotscheck, and your configuration point is valid. One way to solve the problem would be to require API authors to include the CORS middleware and configure it (apart from the allowed origins, of course). But that's a big mess...
2014-09-30T21:48:10  <mordred> like the plugin interface?
2014-09-30T21:48:17  <marun> lifeless: so let's change that
2014-09-30T21:48:18  *** boden has joined #openstack-infra
2014-09-30T21:48:25  <jogo> superbee: no it is not fair game for tempest to import nova's unit tests unless we agree on a stable API to dotaht
2014-09-30T21:48:27  *** dustins has quit IRC
2014-09-30T21:48:29  <marun> mordred: we need to stabilize a public api
2014-09-30T21:48:39  <marun> mordred: that's a battle we'll be fighting in neutron in kilo
2014-09-30T21:48:45  *** boden has quit IRC
2014-09-30T21:48:47  <marun> mordred: tests are arguably different, though
2014-09-30T21:48:49  <mordred> marun: we need to admit that it's possible that anything in any of our projects has a contract in any way shape or form
2014-09-30T21:48:55  <marun> mordred: we get to decide that, anyway
2014-09-30T21:49:06  *** boden has joined #openstack-infra
2014-09-30T21:49:08  <jogo> superbee: hacking is not an example that helps your point as hacking has *no* co-gating
2014-09-30T21:49:11  <marun> mordred: allowing something, because, that costs us, is the very definition of stupid
2014-09-30T21:49:13  <krotscheck> r1chardj0n3s: Is that really a big mess?
2014-09-30T21:49:18  <superbee> jogo: but hackign does this with pep8
2014-09-30T21:49:27  <jogo> superbee: link?
2014-09-30T21:49:28  <superbee> mordred: ^ did it not and didn't you yell at pep8 for breaking this?
2014-09-30T21:49:37  <mordred> ok - two things
2014-09-30T21:49:40  <r1chardj0n3s> krotscheck: it would require getting *all* the projects to agree to having the middleware included, which I think could be troublesome :)
2014-09-30T21:49:42  *** boden has quit IRC
2014-09-30T21:49:48  <mordred> A) I do not believe unit tests are a public API
2014-09-30T21:49:57  <mordred> and I am not going to pretend that I do
2014-09-30T21:50:06  *** boden has joined #openstack-infra
2014-09-30T21:50:09  <jogo> superbee: flake8 had some issues but they weren't hacking related and no co-gating was needed
2014-09-30T21:50:19  <superbee> jogo: you can't cogate with them
2014-09-30T21:50:23  *** flaviof_zzz is now known as flaviof
2014-09-30T21:50:25  <mordred> B) I argue that unit tests should ship because sometimes someone MIGHT want to do what marun mentioned is a buyer beware activity and reuse them
2014-09-30T21:50:32  <superbee> jogo: but you do consume their tests as a reconsumable thing
2014-09-30T21:50:34  *** boden has quit IRC
2014-09-30T21:50:34  <mordred> I do not think that we need to be concerned about that activity
2014-09-30T21:50:39  <r1chardj0n3s> krotscheck: having said that, it would be much nicer than requiring deployers to do it for every api
2014-09-30T21:50:44  <marun> mordred: in _production_ code?
2014-09-30T21:50:46  <mordred> other than allowing someone to make that decision if it makes sense for them
2014-09-30T21:50:47  <jogo> superbee: oh that was something mordred did I think
2014-09-30T21:50:48  <marun> mordred: wth
2014-09-30T21:50:54  <mordred> marun: I'm talking about test suites
2014-09-30T21:50:54  <jogo> superbee: I have to double check if we still do that
2014-09-30T21:50:54  *** boden has joined #openstack-infra
2014-09-30T21:50:56  *** mriedem has quit IRC
2014-09-30T21:51:04  <marun> mordred: if a given project is going to pick things up, the responsibility is for them to find the problem
2014-09-30T21:51:08  <mordred> and devs who may want to do something with them in their own test suites
2014-09-30T21:51:10  <mordred> yes
2014-09-30T21:51:12  <mordred> I agree
2014-09-30T21:51:14  <mordred> yikes
2014-09-30T21:51:24  <mordred> superbee is representing me as beieving something I do not beieve
2014-09-30T21:51:24  *** boden has quit IRC
2014-09-30T21:51:26  <mordred> believe
2014-09-30T21:51:36  <superbee> mordred: sorry. However I think this is a perfectly valid use case
2014-09-30T21:51:44  <marun> superbee: really
2014-09-30T21:51:46  <marun> ?
2014-09-30T21:51:46  *** boden has joined #openstack-infra
2014-09-30T21:51:48  <superbee> mordred: particularly since the tests must be internally consistent
2014-09-30T21:51:51  <marun> superbee: why in heck?
2014-09-30T21:51:57  <superbee> marun: because of the hacking thing
2014-09-30T21:52:00  <superbee> and the ironic thing
2014-09-30T21:52:01  <mordred> I am now going to walk away from the laptop
2014-09-30T21:52:06  <superbee> your tests are reconsumable
2014-09-30T21:52:14  <superbee> unless you say don't reconsume this in a pythonic way
2014-09-30T21:52:14  <jogo> superbee: so the hacking thing. I think i know what it is now
2014-09-30T21:52:16  <marun> superbee: that makes absolutely zero sense. I challenge you to find any developer on an openstack project that supports that position
2014-09-30T21:52:19  *** boden has quit IRC
2014-09-30T21:52:26  <superbee> marun: I think the ironic devs might
2014-09-30T21:52:28  <marun> superbee: and once you've identified them, I'll personally tar and feather them!
2014-09-30T21:52:30  <jogo> superbee: mordred wanted to use some code from pep8 that wasn't shipped since it was in there unit tests
2014-09-30T21:52:32  <superbee> because nova has burned them so hard
2014-09-30T21:52:37  *** boden has joined #openstack-infra
2014-09-30T21:52:52  <marun> superbee: isn't that there problem?  they do something dumb, they get burned.
2014-09-30T21:52:59  <superbee> marun: no, it isn't
2014-09-30T21:53:03  <marun> superbee: changing the rules so they don't get burned, not a great tradeoff
2014-09-30T21:53:04  <superbee> nova didn't say this is a private interface
2014-09-30T21:53:08  <superbee> import nova.tests
2014-09-30T21:53:10  <superbee> its a thing
2014-09-30T21:53:12  *** boden has quit IRC
2014-09-30T21:53:15  <superbee> they are not marked private
2014-09-30T21:53:25  <jogo> superbee: everything in nova is private unless we say so
2014-09-30T21:53:25  <marun> superbee: it's common-fing sense, sorry
2014-09-30T21:53:30  <superbee> if you want to assert this stance then do it properly
2014-09-30T21:53:33  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2014-09-30T21:53:33  <superbee> jogo: no no no no
2014-09-30T21:53:34  *** boden has joined #openstack-infra
2014-09-30T21:53:37  <superbee> jogo: that is really bad python then
2014-09-30T21:53:44  <jogo> superbee: private as in private API
2014-09-30T21:53:48  <jogo> as in not stable
2014-09-30T21:54:03  *** boden has quit IRC
2014-09-30T21:54:17  <jogo> superbee: go to the nova room and ask there
2014-09-30T21:54:18  <marun> superbee: on what planet does a project guarantee to clients that their _test suite_ is consumable and won't change in backwards-incompatible ways
2014-09-30T21:54:24  *** boden has joined #openstack-infra
2014-09-30T21:54:32  <jogo> or I can just get dansmith in here
2014-09-30T21:54:36  <jogo> dansmith: ^
2014-09-30T21:54:40  <superbee> jogo: marun I understand what you are saying..
2014-09-30T21:54:50  <superbee> what I am saying is that you should be a bit more explicit about it if that is the stance
2014-09-30T21:54:50  *** zns has quit IRC
2014-09-30T21:54:51  <marun> superbee: I consume tempest in the neutron poc, but I know they are going to break me at some point.
2014-09-30T21:54:57  *** boden has quit IRC
2014-09-30T21:54:59  <superbee> from python's perspective you have done nothing to say don't do this
2014-09-30T21:55:06  <dansmith> um, what?
2014-09-30T21:55:08  <marun> python lets you do anything
2014-09-30T21:55:17  *** boden has joined #openstack-infra
2014-09-30T21:55:20  <jogo> dansmith: re: unit tests and stable whatnots
2014-09-30T21:55:24  *** bradjones has quit IRC
2014-09-30T21:55:24  <jogo> in backscroll
2014-09-30T21:55:27  *** sarob is now known as sarob_away
2014-09-30T21:55:30  <foobio> python also lets you identify private interfaces, and what isn't private is treated (by python) as public
2014-09-30T21:55:34  <marun> superbee: we rely on convention and commonsense to limit what we can do to a sane subset of what's possible
2014-09-30T21:55:48  <marun> superbee: it's the only way to work productively in a group
2014-09-30T21:55:49  *** boden has quit IRC
2014-09-30T21:55:50  <lifeless> I am quite sure the developer population consider the tests private
2014-09-30T21:56:01  <lifeless> but as already said and agreed on they aren't annotated explicitly that way
2014-09-30T21:56:12  *** boden has joined #openstack-infra
2014-09-30T21:56:17  <marun> (because we're not using c++)
2014-09-30T21:56:26  <superbee> marun: you can move tests to the top level dir
2014-09-30T21:56:41  <marun> I mean, is the argument that the ironic guys were in the right by trying to reuse nova's test suite and not expecting to be broken?
2014-09-30T21:56:44  *** boden has quit IRC
2014-09-30T21:56:50  <marun> Really?
2014-09-30T21:56:55  <dansmith> the question is whether or not nova.tests.* is a stable interface?
2014-09-30T21:56:57  <foobio> and there is some questionably legitimate use case when a project which is a plugin to another project wants to unit test the parent project with its code in place, that it may want to reuse those tests
2014-09-30T21:57:00  <superbee> dansmith: no
2014-09-30T21:57:07  *** boden has joined #openstack-infra
2014-09-30T21:57:08  <superbee> dansmith: the question is should they be reconsumable in a sane way
2014-09-30T21:57:13  <marun> And that it sets a precedent that we have to run the integrated jobs on every test change in case this happens again???
2014-09-30T21:57:15  <superbee> dansmith: that may mean some bits are private others are stable
2014-09-30T21:57:26  <superbee> and not just nova
2014-09-30T21:57:35  *** boden has quit IRC
2014-09-30T21:57:43  <dansmith> superbee: just to be clear, you mean someone other than nova importing nova.tests.something and using it?
2014-09-30T21:57:53  <superbee> dansmith: yes, or nova itself within nova
2014-09-30T21:58:00  *** boden has joined #openstack-infra
2014-09-30T21:58:03  <jogo> superbee: but if it doesn't have a '_' in the method name then it should be stable and public?
2014-09-30T21:58:08  <dansmith> well, those are two totally different things, right?
2014-09-30T21:58:16  <superbee> dansmith: not from the integration testing perspective
2014-09-30T21:58:30  *** boden has quit IRC
2014-09-30T21:58:35  <dansmith> I mean, nothing in nova imports anything from nova.tests, other than test code
2014-09-30T21:58:39  <superbee> dansmith: if nova imports nova.tests you still want to test it in an integration scenario to make sure that public nova behavior isn't broken. Similar to something else importing it
2014-09-30T21:58:46  <superbee> dansmith: sure, but it can...
2014-09-30T21:58:50  *** boden has joined #openstack-infra
2014-09-30T21:58:53  <dansmith> superbee: it better not
2014-09-30T21:58:59  <superbee> there is nothing preventing it
2014-09-30T21:59:07  <superbee> is what I am saying. we have presented the tests in a reconsumable format
2014-09-30T21:59:12  <jogo> dansmith: we can add a hacking rule to enforce that
2014-09-30T21:59:17  <dansmith> jogo: yeah
2014-09-30T21:59:20  <marun> superbee: and for that reason we need to run integrated jobs on every commit?
2014-09-30T21:59:22  * jogo does that
2014-09-30T21:59:22  *** boden has quit IRC
2014-09-30T21:59:28  *** jaypipes has quit IRC
2014-09-30T21:59:31  <superbee> marun: yes it is one way of catching it
2014-09-30T21:59:34  <dansmith> superbee: I don't think I agree with the assertion that just because it's a module it's intended to be consumable
2014-09-30T21:59:39  <marun> superbee: are you considering the cost of that?
2014-09-30T21:59:41  *** boden has joined #openstack-infra
2014-09-30T21:59:42  *** sarob_away is now known as sarob
2014-09-30T21:59:45  <superbee> marun: we do it today
2014-09-30T21:59:51  <marun> superbee: and it's f'ing stupid
2014-09-30T21:59:52  <superbee> marun: so yes, and teh cost isn't that insane
2014-09-30T21:59:58  <marun> superbee: for you maybe
2014-09-30T21:59:58  <superbee> we still merge a ton of code
2014-09-30T22:00:14  *** boden has quit IRC
2014-09-30T22:00:21  <superbee> foobio: mordred I have sorted precise image builds
2014-09-30T22:00:31  <marun> superbee: you are not feeling the pain, clearly
2014-09-30T22:00:31  <foobio> i think it was just being used as an example of "you can't assume a change to unit test code won't impact other code sharing the same git repository, or other projects with which that software interacts"
2014-09-30T22:00:32  <superbee> it is a bug in ianw's 124254 patch. pushing an update
2014-09-30T22:00:37  *** boden has joined #openstack-infra
2014-09-30T22:00:40  <marun> foobio: and it's a stupid example
2014-09-30T22:00:52  <marun> foobio: we avoid those problems by forbidding people from reusing the damn test suite
2014-09-30T22:01:01  <marun> foobio: a small price to pay for dramatically less gate cost / patch
2014-09-30T22:01:02  *** boden has quit IRC
2014-09-30T22:01:07  <marun> foobio: that's what I mean by tradeoffs
2014-09-30T22:01:15  <superbee> marun: then please forbid them from doing that
2014-09-30T22:01:17  <marun> assuming that something is good without considering the costs -> not sustainable
2014-09-30T22:01:22  <marun> superbee: gladly!
2014-09-30T22:01:22  <superbee> marun: but the current stance has been to not do that
2014-09-30T22:01:29  <marun> superbee: so let's agree to that
2014-09-30T22:01:33  <superbee> and sorry if I misunderstood mordred on that front
2014-09-30T22:01:35  *** boden has joined #openstack-infra
2014-09-30T22:01:37  <dansmith> superbee: what do you want us to do? yell at people? or put some technical block in place?
2014-09-30T22:01:47  <marun> superbee: I will make sure that nobody reuses the tests outside of the test tree
2014-09-30T22:01:51  <superbee> dansmith: a technical block
2014-09-30T22:01:55  *** boden has quit IRC
2014-09-30T22:01:55  <foobio> i would instead argue at a higher level that the perceived benefits from being able to avoid running integration test jobs for a project on changes to the fraction of its code which is not run-time functional is minimal
2014-09-30T22:01:57  <superbee> dansmith: all you have to do is move tests to top level dir
2014-09-30T22:02:01  <superbee> dansmith: but mordred is opposed to that
2014-09-30T22:02:19  <marun> superbee: And we can ensure update zuul to support dynamic job discovery so we don't run integrated jobs unnecessarily.
2014-09-30T22:02:20  *** boden has joined #openstack-infra
2014-09-30T22:02:29  <marun> foobio: and you're wrong
2014-09-30T22:02:32  *** ociuhandu has joined #openstack-infra
2014-09-30T22:02:33  <dansmith> is there a real problem here, or are we just arguing?
2014-09-30T22:02:37  <lifeless> superbee: no please don't suggeset top level tests dirs
2014-09-30T22:02:37  <marun> foobio: you're not trying to merge those patches
2014-09-30T22:02:38  *** changbl has quit IRC
2014-09-30T22:02:39  <marun> foobio: I am
2014-09-30T22:02:41  <superbee> lifeless: ok
2014-09-30T22:02:42  <dansmith> sorry if I missed it earlier in the scrollback
2014-09-30T22:02:47  <lifeless> superbee: that messes with testr and global unique test ids
2014-09-30T22:02:55  *** boden has quit IRC
2014-09-30T22:02:55  <marun> foobio: The cost is real to me and everyone else trying to revise the massively terrible neutron test suite
2014-09-30T22:02:57  <superbee> lifeless: can you or mordred explain where not top level dirs is useful outside of reconsumable tests
2014-09-30T22:02:59  <lifeless> superbee: we just went through the massive exercise to fix that most everwhere.
2014-09-30T22:03:07  <lifeless> superbee: reporting on aggregated tests
2014-09-30T22:03:08  <superbee> lifeless: I thoguht we were fixing it for the hacking reasons
2014-09-30T22:03:11  *** boden has joined #openstack-infra
2014-09-30T22:03:12  <foobio> at best, it will encourage more/faster contributions from people writing in-tree (but not in-line) documentation, or writing unit tests
2014-09-30T22:03:21  <marun> foobio: good!
2014-09-30T22:03:25  <lifeless> superbee: I don't know all the reasons. I know the reason I care about :)
2014-09-30T22:03:29  <superbee> lifeless: rgr
2014-09-30T22:03:32  <marun> foobio: easier/faster test contribution?
2014-09-30T22:03:38  <marun> foobio: where is the problem?
2014-09-30T22:03:45  <marun> foobio: we still have reviewer oversight.  the tests still run
2014-09-30T22:03:46  *** boden has quit IRC
2014-09-30T22:03:46  *** bhuvan has quit IRC
2014-09-30T22:03:47  *** weshay has quit IRC
2014-09-30T22:03:55  <superbee> marun we have merged 17.5k commits to openstack since october of last year
2014-09-30T22:03:58  <marun> foobio: there is a real benefit here, whether you are personally affected or not
2014-09-30T22:04:03  <marun> superbee: at what cost?
2014-09-30T22:04:08  *** boden has joined #openstack-infra
2014-09-30T22:04:17  <superbee> marun: I am not sure what you are using "cost" to measure here
2014-09-30T22:04:21  <marun> superbee: you can pull numbers all you want, but merging code in openstack SUCKS
2014-09-30T22:04:23  <superbee> marun: but I thought it was that code cannot merge
2014-09-30T22:04:26  <marun> superbee: developer productivity
2014-09-30T22:04:36  *** boden has quit IRC
2014-09-30T22:04:38  <superbee> marun: merging 17.5k commits in one year is not productive?
2014-09-30T22:04:39  <foobio> marun: i thought the current pain point was that the projects were broken and needed more people fixing those bugs in them? we'd effectively go to (rather a lot of) effort to make things easier for devs who aren't contributing to fixing that pain
2014-09-30T22:04:41  <marun> superbee: being roadblocked repeatedly by long gate queues
2014-09-30T22:04:56  *** boden has joined #openstack-infra
2014-09-30T22:05:12  <marun> foobio: we can't fix bugs particularly fast if a) we have limited gate resources and b) those gate resources are not being applied as effectively as they could be
2014-09-30T22:05:21  <marun> foobio: this is part of the problem, too
2014-09-30T22:05:24  <marun> it's multifaceted
2014-09-30T22:05:25  *** boden has quit IRC
2014-09-30T22:05:49  *** boden has joined #openstack-infra
2014-09-30T22:05:59  <foobio> marun: yes, there are at least 10x as many facets to the problem as you're seeing from your perspective too, and we are already up to our eyeballs trying to solve them
2014-09-30T22:06:15  *** salv-orlando has joined #openstack-infra
2014-09-30T22:06:16  *** boden has quit IRC
2014-09-30T22:06:27  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/project-config: Port build-image.sh from old config repo  https://review.openstack.org/124254
2014-09-30T22:06:37  *** bhuvan has joined #openstack-infra
2014-09-30T22:06:41  <superbee> anteaya: ^ is the fix that 124254 needed. you should be good to remove those files from the other repo
2014-09-30T22:06:43  <foobio> so forgive me if i don't see avoiding running unit tests on non-code changes as a particularly high priority feature
2014-09-30T22:06:45  *** boden has joined #openstack-infra
2014-09-30T22:07:06  <marun> foobio: So you think it's ok to ignore my complaints because *you* don't think they are important.
2014-09-30T22:07:07  <marun> great
2014-09-30T22:07:09  <foobio> i don't disagree that there could be some gain
2014-09-30T22:07:11  <stevemar> can I get one more review on https://review.openstack.org/#/c/125202/ i'm eager to get some test code in
2014-09-30T22:07:12  * marun gives up
2014-09-30T22:07:18  *** boden has quit IRC
2014-09-30T22:07:35  *** boden has joined #openstack-infra
2014-09-30T22:07:58  <foobio> marun: i will personally attempt to prioritize it appropriately along with everything else which i also know could possibly help
2014-09-30T22:08:08  <marun> foobio: I'm not asking for you to do work
2014-09-30T22:08:11  *** boden has quit IRC
2014-09-30T22:08:19  <foobio> and alongside the higher priority things which i know are currently broken
2014-09-30T22:08:29  *** boden has joined #openstack-infra
2014-09-30T22:08:41  <marun> foobio: I'm asking for some appreciation that developer productivity matters and the impact of the current gate structure may not be the best tradeoff for openstack.
2014-09-30T22:08:50  *** bknudson has quit IRC
2014-09-30T22:08:52  <marun> foobio: where we go from there is entirely a separate issue
2014-09-30T22:09:03  *** boden has quit IRC
2014-09-30T22:09:15  *** krtaylor has joined #openstack-infra
2014-09-30T22:09:21  *** boden has joined #openstack-infra
2014-09-30T22:09:30  <foobio> marun: if you think for even a moment that we, as a group, are not taking the efficiency of our community development as the absolute top priority, we may as well all give up and leave
2014-09-30T22:09:47  <foobio> because honestly, we're all failing if that's the case
2014-09-30T22:09:54  *** mbacchi has quit IRC
2014-09-30T22:09:55  *** boden has quit IRC
2014-09-30T22:10:09  <marun> foobio: I think it's on both sides
2014-09-30T22:10:16  *** boden has joined #openstack-infra
2014-09-30T22:10:20  <marun> foobio: I recognize that infra is working impossibly hard to do an impossible job
2014-09-30T22:10:30  <foobio> i can't actually remember one thing i've worked on which isn't specifically focused on smoothing and improving throughput for the development of openstack
2014-09-30T22:10:39  <marun> foobio: I do think, though, that there is an insufficient appreciation for developer concerns.
2014-09-30T22:10:41  <superbee> foobio: re https://review.openstack.org/#/c/125186/ any opposition to self approving? was hoping mordred would weigh in but its a simple change
2014-09-30T22:10:46  *** boden has quit IRC
2014-09-30T22:10:52  *** mattoliverau has joined #openstack-infra
2014-09-30T22:11:01  <foobio> marun: i too am a developer
2014-09-30T22:11:03  <marun> foobio: And talking about this stuff here is an attempt to chart a different course in the future.
2014-09-30T22:11:10  *** boden has joined #openstack-infra
2014-09-30T22:11:11  <marun> foobio: let's be clear
2014-09-30T22:11:28  <marun> foobio: do you work on critical-path features on a core openstack project?
2014-09-30T22:11:33  *** boden has quit IRC
2014-09-30T22:11:50  *** david-lyle_ has joined #openstack-infra
2014-09-30T22:11:55  <foobio> marun: aside from fixing bugs in them sometimes, no
2014-09-30T22:11:58  *** david-lyle has quit IRC
2014-09-30T22:12:00  *** boden has joined #openstack-infra
2014-09-30T22:12:08  <dstufft> foobio: wrt to your post about getting rid of external things in openstack - https://www.reddit.com/r/Python/comments/2hvi5m/looking_for_the_cdecimal_module_and_bytereeforg/ (cdecimal author is one of the main people against mandating things uploaded to PyPI)
2014-09-30T22:12:10  <dstufft> :||
2014-09-30T22:12:12  <marun> foobio: I'm not questioning your technical capabilities.  I'm saying the pain I'm seeing people facing in projects like neutron is crazy.
2014-09-30T22:12:15  <foobio> and assuming you don't consider security support critical-path
2014-09-30T22:12:25  *** boden has quit IRC
2014-09-30T22:12:49  *** david-lyle has joined #openstack-infra
2014-09-30T22:12:50  *** mattoliverau has quit IRC
2014-09-30T22:12:56  *** boden has joined #openstack-infra
2014-09-30T22:12:59  <marun> foobio: that is absolutely critical-path
2014-09-30T22:13:01  *** thedodd has quit IRC
2014-09-30T22:13:07  <foobio> and trust me, when we've got embargoes security fixes with advisory publication deadlines and can't get them merged because of bugs in openstack and poorly written tests, i'm very much aware of that pain
2014-09-30T22:13:07  <marun> foobio: but presumably you can fast-track stuff that is so important
2014-09-30T22:13:24  <marun> foobio: but for those whose constant pain is trying to get things through the gate?
2014-09-30T22:13:24  *** boden has quit IRC
2014-09-30T22:13:27  <marun> foobio: something has to give
2014-09-30T22:13:38  <foobio> only to a point. we still won't merge security fixes if we can't get them to pass tests
2014-09-30T22:13:39  <marun> foobio: I want things to be better.  I want to help.
2014-09-30T22:13:47  *** boden has joined #openstack-infra
2014-09-30T22:13:55  *** mattoliverau has joined #openstack-infra
2014-09-30T22:14:10  *** boden has quit IRC
2014-09-30T22:14:15  <foobio> me too
2014-09-30T22:14:15  *** david_lyle__ has joined #openstack-infra
2014-09-30T22:14:28  <openstackgerrit> A change was merged to openstack-infra/nodepool: Properly reference nodepool config in image update  https://review.openstack.org/125186
2014-09-30T22:14:32  <mordred> me too - even when I get unreasonably ragey
2014-09-30T22:14:43  *** boden has joined #openstack-infra
2014-09-30T22:14:55  <superbee> foobio: thank you for approving
2014-09-30T22:15:00  <foobio> dstufft: too fun
2014-09-30T22:15:14  *** boden has quit IRC
2014-09-30T22:15:25  <foobio> dstufft: we probably shouldn't be using cdecimal
2014-09-30T22:15:32  *** boden has joined #openstack-infra
2014-09-30T22:15:56  *** boden has quit IRC
2014-09-30T22:16:24  *** david-lyle_ has quit IRC
2014-09-30T22:16:25  <foobio> dstufft: and looks like we're not ;)
2014-09-30T22:16:25  <mordred> dstufft: I completely do not grok the people who are oppoised to pypi upload
2014-09-30T22:16:28  *** boden has joined #openstack-infra
2014-09-30T22:16:46  <dstufft> mordred: especially when the thing they don't want to upload is BSD licensed? ;)
2014-09-30T22:16:53  *** boden has quit IRC
2014-09-30T22:17:02  *** yamahata has quit IRC
2014-09-30T22:17:15  <dstufft> Normally one of the excuses is that PyPI's ToS are too onerous
2014-09-30T22:17:20  *** david-lyle has quit IRC
2014-09-30T22:17:21  <foobio> dstufft: i mainly wanted to point out to the detractors who claim the developer community will abandon pypi if it dictates sane release standards that there are also parts of the python community who could be driven away if it doesn't
2014-09-30T22:17:22  *** boden has joined #openstack-infra
2014-09-30T22:17:31  *** yamahata has joined #openstack-infra
2014-09-30T22:17:35  *** rmcall has joined #openstack-infra
2014-09-30T22:17:43  *** boden has quit IRC
2014-09-30T22:17:53  <foobio> dstufft: and that perhaps the loss of one of those two groups would be less detrimental than the loss of the other
2014-09-30T22:17:55  <dstufft> because they require you grant us an unlimited royality free <insert legal crap> license to redistribute forever and for anyone who uses PyPI to redistribute forrever
2014-09-30T22:18:15  *** dmsimard is now known as dmsimard_away
2014-09-30T22:18:16  *** boden has joined #openstack-infra
2014-09-30T22:18:36  <mordred> egads. no. anything but that
2014-09-30T22:18:44  *** boden has quit IRC
2014-09-30T22:18:56  <dstufft> (notably there is no legal requirement that anyone be allowed to _use_ what you upload to PyPI, or modify it, only distribute)
2014-09-30T22:19:23  <dstufft> the legal clause is entirely "make sure you can't sue the PSF and you can't sue mirror operators"
2014-09-30T22:19:43  <foobio> so they'd like to somehow be able to retroactively revoke the abiliaty for anyone to redistribute things uploaded to pypi? that's a little pathological
2014-09-30T22:19:52  <dstufft> foobio: funny thing, PyPI is growing in use
2014-09-30T22:19:54  <dstufft> foobio: yes
2014-09-30T22:19:57  <dstufft> they want to do that
2014-09-30T22:20:00  *** boden has joined #openstack-infra
2014-09-30T22:20:08  * foobio tries to figure out how that would even work
2014-09-30T22:20:12  *** david_lyle__ has quit IRC
2014-09-30T22:20:13  <dstufft> plus one of the people against it is in germany and he releases crypto stuff
2014-09-30T22:20:15  <superbee> foobio: thoughts on restarting nodepool shortly?
2014-09-30T22:20:22  <dstufft> and he thinks the export laws in the US still matter
2014-09-30T22:20:24  <foobio> superbee: we can restart it now
2014-09-30T22:20:31  *** boden has quit IRC
2014-09-30T22:20:34  <superbee> foobio: I can do it /me double checks new code is installed
2014-09-30T22:20:37  *** dims_ has joined #openstack-infra
2014-09-30T22:20:53  <superbee> it appears to be installed
2014-09-30T22:20:56  *** boden has joined #openstack-infra
2014-09-30T22:20:59  <superbee> foobio: no hope in a gracefull restart ya?
2014-09-30T22:21:08  <foobio> stop it and then start it
2014-09-30T22:21:12  <superbee> kk /me does this
2014-09-30T22:21:15  *** boden has quit IRC
2014-09-30T22:21:15  <foobio> it will stop cleanly and quickly
2014-09-30T22:21:19  <foobio> in my experience
2014-09-30T22:21:24  <dstufft> foobio: this is what the total downloads per week looks like on PyPI since Jan 2014 http://d.stufft.io/image/1f0j0k2u1r0Q
2014-09-30T22:21:29  <foobio> restart seems to hang for reasons i've not had time to debug
2014-09-30T22:21:30  <dstufft> foobio: I think that we're doing *something* right
2014-09-30T22:21:33  <superbee> done
2014-09-30T22:21:41  <jhesketh> Morning
2014-09-30T22:21:42  *** boden has joined #openstack-infra
2014-09-30T22:21:54  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2014-09-30T22:22:03  <superbee> I think I will wait for tomorrow and the subsequent image builds before changing hpcloud* over to the dib devstack trusty image
2014-09-30T22:22:04  <zaro> jhesketh: morning
2014-09-30T22:22:17  *** boden has quit IRC
2014-09-30T22:22:26  <foobio> dstufft: yep, i just hate seeing people try to stand in the way of progress because they're afraid of change
2014-09-30T22:22:36  *** boden has joined #openstack-infra
2014-09-30T22:22:43  *** dims_ has quit IRC
2014-09-30T22:23:01  *** boden has quit IRC
2014-09-30T22:23:05  <superbee> marun: so going back to productivity. The measure you would like to see used is number of rechecks or time to merge post approval?
2014-09-30T22:23:09  <zaro> jhesketh: are you still working on this one? https://review.openstack.org/#/c/107724/
2014-09-30T22:23:17  *** dkehnm has quit IRC
2014-09-30T22:23:17  *** gondoi is now known as zz_gondoi
2014-09-30T22:23:19  *** dims_ has joined #openstack-infra
2014-09-30T22:23:20  <superbee> marun: trying to understand what in particular you are finding problematic
2014-09-30T22:23:22  <marun> superbee: amount of time to merge
2014-09-30T22:23:27  *** boden has joined #openstack-infra
2014-09-30T22:23:27  <foobio> because some devs might stop using pypi if you tell them they can't reuse version numbers for new package uploads
2014-09-30T22:23:29  *** hdd has quit IRC
2014-09-30T22:23:29  <superbee> marun: in total since proposed?
2014-09-30T22:23:37  *** jd__ has quit IRC
2014-09-30T22:23:38  *** dmsimard_away is now known as dmsimard
2014-09-30T22:23:41  <marun> superbee: no, since approved
2014-09-30T22:23:44  <superbee> kk
2014-09-30T22:23:53  *** dims has quit IRC
2014-09-30T22:23:55  <superbee> jogo: did you run numbers like that for nova at some point? was it compiled anywhere?
2014-09-30T22:23:56  <jogo> marun: that is measurable
2014-09-30T22:24:02  <superbee> jogo: curious if you have ways to collect that already
2014-09-30T22:24:05  *** boden has quit IRC
2014-09-30T22:24:06  <jogo> marun: I didn't do that part of the tseting
2014-09-30T22:24:17  <marun> superbee: assuming we can approve before the check has come back and that the gate won't start until it comes back
2014-09-30T22:24:23  *** boden has joined #openstack-infra
2014-09-30T22:24:32  <superbee> marun: you can
2014-09-30T22:24:39  <jogo> but I can share my scripts in github so you can add time to merge since first approval
2014-09-30T22:24:42  <marun> superbee: isn't that disabled during peak times?
2014-09-30T22:24:45  *** jd__ has joined #openstack-infra
2014-09-30T22:24:47  <superbee> marun: no
2014-09-30T22:24:56  <jhesketh> zaro: yep, still keen for it to merge. I'll take a look at it today
2014-09-30T22:24:57  *** boden has quit IRC
2014-09-30T22:24:58  <superbee> marun: you always need a +1
2014-09-30T22:25:10  <superbee> marun: but you can approve before you have that +1 and it will go into the gate after the +1 from jenkins arrives
2014-09-30T22:25:14  <marun> superbee: I seem to remember being warned not to approve until a check passed around FF
2014-09-30T22:25:14  *** boden has joined #openstack-infra
2014-09-30T22:25:22  <jhesketh> (I didn't realise there were comments)
2014-09-30T22:25:31  <marun> superbee: am I misremembering?
2014-09-30T22:25:33  <superbee> marun: I think that was last cycle before we implemented the clean check requirements
2014-09-30T22:25:40  *** boden has quit IRC
2014-09-30T22:25:44  <jogo> superbee: so this is one big area of miscommunication: what the current gate behaviors are
2014-09-30T22:26:00  <marun> superbee: I swear I recall being told that had been turned off during FF for some reason
2014-09-30T22:26:08  *** boden has joined #openstack-infra
2014-09-30T22:26:11  <superbee> marun: we can check git logs but pretty sure it wasn't
2014-09-30T22:26:26  <marun> superbee: arg.  the whole neutron team was behaving like it was
2014-09-30T22:26:27  <marun> :/
2014-09-30T22:26:40  <marun> we were holding off on approval until the check approval came in
2014-09-30T22:26:41  *** boden has quit IRC
2014-09-30T22:26:43  <superbee> jogo: I think part of the problem there is that the number of devs that understand gating is small
2014-09-30T22:26:59  *** boden has joined #openstack-infra
2014-09-30T22:27:03  <superbee> jogo: so when we try to communicate behaviors it creates more confusion (granted tis a thing that should be solved)
2014-09-30T22:27:16  <marun> sdague: Do you remember anything about the clean check requirements being relaxed around FF for some reason
2014-09-30T22:27:18  <marun> ?
2014-09-30T22:27:28  <superbee> marun: they were relaxed but not removed
2014-09-30T22:27:34  *** boden has quit IRC
2014-09-30T22:27:42  <marun> superbee: what does 'relaxed' imply?
2014-09-30T22:27:51  <sdague> marun: freshness checks were removed
2014-09-30T22:27:52  *** boden has joined #openstack-infra
2014-09-30T22:27:55  <superbee> marun: we stopped running the <24 hour old +1 requirement
2014-09-30T22:28:01  <superbee> marun: whcih is different than requiring clean check
2014-09-30T22:28:07  <jogo> superbee: agreed, a doc that we can point folks to would be useful
2014-09-30T22:28:09  <marun> sdague: ah, ok.  and I guess we were being careful around that
2014-09-30T22:28:11  <sdague> which I did explain in an email, and no one understood what it meant
2014-09-30T22:28:19  *** boden has quit IRC
2014-09-30T22:28:21  <marun> sdague: I'd just forgotten
2014-09-30T22:28:21  <sdague> jogo: seriously, a doc will not help
2014-09-30T22:28:26  <superbee> jogo: ^ that is what I am talking about
2014-09-30T22:28:28  <superbee> gating is complex
2014-09-30T22:28:33  <superbee> and most devs don't understand the simple case
2014-09-30T22:28:43  <superbee> I have even had people ask why you would bother testing code before it merges...
2014-09-30T22:28:50  *** boden has joined #openstack-infra
2014-09-30T22:28:54  <marun> superbee: Well, it works for google...
2014-09-30T22:29:01  <foobio> superbee: it's a reasonable question. many (most?) projects don't
2014-09-30T22:29:01  * marun stops trolling
2014-09-30T22:29:11  *** boden has quit IRC
2014-09-30T22:29:16  <superbee> marun: iirc google does gating on some projects
2014-09-30T22:29:25  <jogo> sdague: making the current set of gate rules etc hard to discover isn't helping
2014-09-30T22:29:28  <marun> superbee: they always run lots of tests
2014-09-30T22:29:30  *** flaviof is now known as flaviof_zzz
2014-09-30T22:29:30  <superbee> didn't google go to jbooboo at linux con and say hey we do that
2014-09-30T22:29:38  *** boden has joined #openstack-infra
2014-09-30T22:29:52  <marun> superbee: but they have more than one path to stability
2014-09-30T22:30:04  *** boden has quit IRC
2014-09-30T22:30:16  <superbee> foobio: I think the fact that many projects don't is independent of "testing your code before merging it is a good thing"
2014-09-30T22:30:23  <marun> superbee: pre- and post-merge have their place
2014-09-30T22:30:28  <superbee> marun: agreed
2014-09-30T22:30:33  *** boden has joined #openstack-infra
2014-09-30T22:30:39  <marun> superbee: it's questionable that our attempts to catch everything pre-merge are worth the cost
2014-09-30T22:30:58  <marun> superbee: a 2-pronged approach might also be viable
2014-09-30T22:30:59  *** boden has quit IRC
2014-09-30T22:31:05  <superbee> marun: we have argued for 2 pronged...
2014-09-30T22:31:18  <marun> superbee: but we need better per-project testing of course :/
2014-09-30T22:31:24  <superbee> marun: one of the things we want to happen is to stop testing postgres and cells and all these funky combos on every change
2014-09-30T22:31:25  *** boden has joined #openstack-infra
2014-09-30T22:31:29  <marun> superbee++
2014-09-30T22:31:34  *** praneshp has quit IRC
2014-09-30T22:31:34  <superbee> and shift that to more of a post workflow
2014-09-30T22:31:44  *** ZZelle_ has quit IRC
2014-09-30T22:31:51  <superbee> so that interested parties have the data they need to keep those features working without impacting the stability of common setups
2014-09-30T22:31:56  *** boden has quit IRC
2014-09-30T22:32:15  <superbee> but that hasn't seemed to have moved very far since the idea happened
2014-09-30T22:32:19  *** boden has joined #openstack-infra
2014-09-30T22:32:53  *** boden has quit IRC
2014-09-30T22:33:12  *** boden has joined #openstack-infra
2014-09-30T22:33:20  <marun> superbee: how about those jobs are moved out of the integrated gate?
2014-09-30T22:33:29  <superbee> marun: thats basically what would happen
2014-09-30T22:33:29  <jogo> superbee: speaking of post merge tests. what is the progress on that?
2014-09-30T22:33:41  *** boden has quit IRC
2014-09-30T22:33:46  <superbee> jogo: I dno't think anyone has started working on it. we probably need bigger buy in
2014-09-30T22:33:54  <marun> superbee: and then the interested parties can devote resources to making post-merge happen
2014-09-30T22:33:56  <superbee> before we tell postgres and cells we are changing their workflow :)
2014-09-30T22:34:04  *** boden has joined #openstack-infra
2014-09-30T22:34:05  <marun> superbee: right now they have no incentive - they already have what they want
2014-09-30T22:34:10  <superbee> marun: right
2014-09-30T22:34:29  *** boden has quit IRC
2014-09-30T22:34:31  <superbee> sdague: you started that proposal, did it die early?
2014-09-30T22:34:42  <superbee> sdague: maybe we should pick that thread up again and say look we are doing this early in kilo
2014-09-30T22:34:44  <sdague> I started it
2014-09-30T22:35:00  <jogo> what kind of buy in is needed?
2014-09-30T22:35:00  *** boden has joined #openstack-infra
2014-09-30T22:35:11  <superbee> jogo: we should probably make sure that ptls are on board
2014-09-30T22:35:14  <sdague> jogo: no buy in needed, just workers
2014-09-30T22:35:16  <jogo> I think I can get nova-core to agree we want that
2014-09-30T22:35:23  <jogo> sdague: ahh thats what I thought
2014-09-30T22:35:25  <superbee> sdague: that works for me too :)
2014-09-30T22:35:28  *** boden has quit IRC
2014-09-30T22:35:34  <sdague> honestly, there is a ton of work that needs to happen for it
2014-09-30T22:35:43  <superbee> sdague: ya its not a simple change
2014-09-30T22:35:44  <sdague> and, I'll be honest, I got burnt out on it
2014-09-30T22:35:50  *** boden has joined #openstack-infra
2014-09-30T22:35:56  <jogo> sdague: yeah in germany the list of steps was pretty big
2014-09-30T22:36:14  *** jgrimm is now known as zz_jgrimm
2014-09-30T22:36:17  *** boden has quit IRC
2014-09-30T22:36:17  *** homeless has quit IRC
2014-09-30T22:36:25  *** praneshp has joined #openstack-infra
2014-09-30T22:36:36  <sdague> because the other thing is, when you spend time looking at gate issues a lot, what you actually want to do is remove +2 authority from all the core teams
2014-09-30T22:36:47  *** boden has joined #openstack-infra
2014-09-30T22:36:53  <marun> sdague: I can imagine that sentiment
2014-09-30T22:37:09  <foobio> the rate at which we merge new bugs seems to be at least proportional to the rate at which we merge anything
2014-09-30T22:37:14  *** boden has quit IRC
2014-09-30T22:37:15  <marun> sdague: I see stuff merge in Neutron that shouldn't, all the time.  :/
2014-09-30T22:37:23  <sdague> especially when you have critical bugs that no one looks at
2014-09-30T22:37:30  <sdague> that are ruining the gate for everyone
2014-09-30T22:37:32  *** homeless has joined #openstack-infra
2014-09-30T22:37:34  <sdague> and no one cares
2014-09-30T22:37:38  *** boden has joined #openstack-infra
2014-09-30T22:37:44  <sdague> see... -meeting from an hour ago
2014-09-30T22:37:59  <superbee> marun: so the 2 pronged approach may be a good first step on reducing that friction. Then as the functional test suites become more robust (and actually exist) we can revisit the stop running tempest a lot question
2014-09-30T22:38:00  *** boden has quit IRC
2014-09-30T22:38:09  <foobio> and it's amusing/sad to look at timelines of varying levels of our breakage, to see that as soon as we fix enough bugs to make it faster for project to land new changes, they merge in new bugs more quickly to get back to the same pain threshold
2014-09-30T22:38:30  *** boden has joined #openstack-infra
2014-09-30T22:38:51  <marun> foobio, sdague: there is little incentive for people to write better quality features when they aren't directly responsible for fixing bugs. :/
2014-09-30T22:39:02  *** boden has quit IRC
2014-09-30T22:39:15  <foobio> marun: that was the philosophy behind pre-merge testing, but it doesn't account for nondeterministic bugs
2014-09-30T22:39:23  *** boden has joined #openstack-infra
2014-09-30T22:39:44  <marun> The only way around this from my perspective is providing sufficient test infrastructure in-project and then mandating that all project-specific testing be present pre-merge
2014-09-30T22:39:46  *** david-lyle has joined #openstack-infra
2014-09-30T22:39:56  *** boden has quit IRC
2014-09-30T22:39:58  *** _buzz has quit IRC
2014-09-30T22:40:05  <sdague> right, and it definitely didn't account for developer behavior of not giving a crap about the project they work on and running 'recheck' 10 times to land their feature because their project manager wanted it in this release
2014-09-30T22:40:10  <marun> We're making progress, slowly, on this in neutron.  At least functional tests are possible.
2014-09-30T22:40:12  *** boden has joined #openstack-infra
2014-09-30T22:40:41  *** boden has quit IRC
2014-09-30T22:41:07  *** boden has joined #openstack-infra
2014-09-30T22:41:17  *** ryanpetrello has quit IRC
2014-09-30T22:41:41  *** boden has quit IRC
2014-09-30T22:41:57  *** tsg has quit IRC
2014-09-30T22:41:58  *** david-lyle_ has joined #openstack-infra
2014-09-30T22:42:00  *** boden has joined #openstack-infra
2014-09-30T22:42:04  <marun> sdague, foobio, superbee: Are most gate-blocking bugs race conditions?
2014-09-30T22:42:24  <superbee> marun: not always, but often yes
2014-09-30T22:42:34  *** boden has quit IRC
2014-09-30T22:42:41  *** datsun180b has quit IRC
2014-09-30T22:43:01  *** boden has joined #openstack-infra
2014-09-30T22:43:10  <superbee> a non race condition that was making the gate run really slowly had to do with keystone performance under a single eventlet working process
2014-09-30T22:43:18  <superbee> it wasn't quite blocking but added 30 minutes to test run time
2014-09-30T22:43:27  <superbee> and no one noticed until I said hey guys whats going on here...
2014-09-30T22:43:28  *** boden has quit IRC
2014-09-30T22:43:29  <marun> superbee: So, bugs that slipped through despite all the integrated jobs...
2014-09-30T22:43:38  <foobio> the longer-lived ones are race conditions and/or other similar nondeterministic bugs in openstack or in the way tests are written
2014-09-30T22:43:41  <marun> superbee: yikes
2014-09-30T22:43:50  *** boden has joined #openstack-infra
2014-09-30T22:44:00  *** armax has quit IRC
2014-09-30T22:44:04  <superbee> marun: sort of. in many cases the issues were caught at least one in check or gate
2014-09-30T22:44:14  <superbee> marun: then they get rechecked until they merge
2014-09-30T22:44:20  *** boden has quit IRC
2014-09-30T22:44:23  <superbee> marun: we have seen that happen on a few of these bugs
2014-09-30T22:44:35  *** david-lyle has quit IRC
2014-09-30T22:44:36  <foobio> there are also plenty of "gate-breaking" bugs which are due to external causes (dependency changes, incidents at service providers impacting our ci systems, et cetera) but those tend to get identified and addressed fare more quickly
2014-09-30T22:44:40  *** boden has joined #openstack-infra
2014-09-30T22:44:58  <sdague> marun: ... if only I'd given a talk on this subject ... ;)
2014-09-30T22:45:07  *** boden has quit IRC
2014-09-30T22:45:16  <marun> sdague: I'm wondering - if our biggest problem is race conditions that slip through despite our best efforts.
2014-09-30T22:45:34  <sdague> marun: yes, because statistics are against you
2014-09-30T22:45:36  *** boden has joined #openstack-infra
2014-09-30T22:45:36  *** hdd has joined #openstack-infra
2014-09-30T22:45:37  <foobio> and, irony of ironies, many of the longer-lived sources of failures in providers is *actually* nondeterministic bugs in openstack
2014-09-30T22:45:59  <superbee> ya we have seen manifestations of git bugs in our providers more than once
2014-09-30T22:46:00  <sdague> given a complex system, if a failure were to happen 10% of the time
2014-09-30T22:46:02  <superbee> s/git/gate/
2014-09-30T22:46:06  *** boden has quit IRC
2014-09-30T22:46:18  <foobio> things like loss of connectivity from workers to git mirrors, pypi mirrors, et cetera... actually openstack bugs impacting our providers
2014-09-30T22:46:21  *** yamahata has quit IRC
2014-09-30T22:46:27  *** boden has joined #openstack-infra
2014-09-30T22:46:40  <marun> foobio: yikes
2014-09-30T22:46:57  *** dane_leblanc has quit IRC
2014-09-30T22:46:59  *** beecee has joined #openstack-infra
2014-09-30T22:46:59  *** boden has quit IRC
2014-09-30T22:47:04  <foobio> bugs which have slipped through testing, and yes, sometimes bugs where we already have failure log signatures and nobody's had time to run down the underlying causes
2014-09-30T22:47:10  <marun> that implies, though, that the integrated gate serves more to slow down merging of new patches (new bugs) more than anything
2014-09-30T22:47:22  *** boden has joined #openstack-infra
2014-09-30T22:47:32  <marun> Since a good proportion of the problems have nothing to do with the patches at all
2014-09-30T22:47:43  *** boden has quit IRC
2014-09-30T22:47:48  *** ryanpetrello has joined #openstack-infra
2014-09-30T22:47:48  <foobio> well, i'd wager that if we weren't doing the current base level of testing, providers wouldn't be using this at all
2014-09-30T22:47:51  <marun> And race conditions are as likely to slip through as anything
2014-09-30T22:48:02  <marun> foobio: I'm not suggesting that testing isn't required
2014-09-30T22:48:12  *** boden has joined #openstack-infra
2014-09-30T22:48:27  <foobio> race conditions and similar nondeterministic bugs are what slip through, yes, as well as bugs in code which isn't covered by tests of course
2014-09-30T22:48:36  <marun> foobio: sure.
2014-09-30T22:48:37  *** boden has quit IRC
2014-09-30T22:48:59  <superbee> marun: except that in many cases the patches that introduce the race actually failed tests at least once
2014-09-30T22:49:04  *** boden has joined #openstack-infra
2014-09-30T22:49:06  <superbee> because the net is wide
2014-09-30T22:49:08  <marun> foobio: it would seem, though, that we could accomplish a similar result by artificially limiting the merge rate and running a crapload of integrated job post-merge
2014-09-30T22:49:12  <marun> I'm not saying that's a good idea
2014-09-30T22:49:18  <marun> only that the result would effectively be the same
2014-09-30T22:49:31  *** boden has quit IRC
2014-09-30T22:50:00  *** boden has joined #openstack-infra
2014-09-30T22:50:13  <sdague> marun: there are definitely lots of incremental ways to make this better
2014-09-30T22:50:22  <sdague> but they mostly need people to work on them
2014-09-30T22:50:25  <marun> superbee: it can be hard for the average developer to discern a difference between a transient, infra bug, an unrelated race condition, or a failure they themselves are causing
2014-09-30T22:50:26  *** boden has quit IRC
2014-09-30T22:50:27  <marun> :/
2014-09-30T22:50:51  <superbee> marun: I would say that is true for a chunk of them, but most peopel seem to completely ignore test results
2014-09-30T22:50:55  *** boden has joined #openstack-infra
2014-09-30T22:51:07  *** JayJ has quit IRC
2014-09-30T22:51:09  <sdague> marun: I agree that debugging openstack is hard
2014-09-30T22:51:11  <sdague> we should fix that
2014-09-30T22:51:23  *** boden has quit IRC
2014-09-30T22:51:42  * marun waves his magic wand
2014-09-30T22:51:43  <superbee> I know I am guilty of only looking at the SUCCESS v FAILURE reported back to gerrit
2014-09-30T22:51:45  <marun> tada!
2014-09-30T22:51:48  *** boden has joined #openstack-infra
2014-09-30T22:52:14  <sdague> honestly, I think there is value in your idea about limitted testing support in zuul, honestly, I'd like it for docs/ trees (that's where I originally brought up the idea)
2014-09-30T22:52:16  *** boden has quit IRC
2014-09-30T22:52:27  <sdague> but ... someone needs to hack on it
2014-09-30T22:52:36  *** boden has joined #openstack-infra
2014-09-30T22:53:01  <sdague> so if you think it's a top fix to dev productivity, raise your hand and dive in, and I'm sure people will point you in the right direction
2014-09-30T22:53:02  *** boden has quit IRC
2014-09-30T22:53:07  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Add devstack-precise-dib image to nodepool  https://review.openstack.org/125220
2014-09-30T22:53:21  *** baoli has joined #openstack-infra
2014-09-30T22:53:30  *** boden has joined #openstack-infra
2014-09-30T22:53:35  <marun> sdague: will do
2014-09-30T22:53:39  <marun> sdague: I
2014-09-30T22:53:39  <foobio> i would argue (and have) that troubleshooting integration test failures is basically the same as if you were a one-person operations team at a service provider troubleshooting your cloud falling over
2014-09-30T22:53:58  <foobio> the range of possible ways it can go wrong is basically the same
2014-09-30T22:53:58  *** boden has quit IRC
2014-09-30T22:54:05  <marun> foobio: Can I assume that this is a bad thing?
2014-09-30T22:54:14  <marun> foobio: or is it necessary complexity?
2014-09-30T22:54:16  <sdague> well, we don't make it easy for people
2014-09-30T22:54:25  *** boden has joined #openstack-infra
2014-09-30T22:54:28  <sdague> seriously, staring at neutron logs for the last 2 hrs here
2014-09-30T22:54:34  <sdague> we do not make it easy for people
2014-09-30T22:54:44  <marun> sdague: arguably our lack of project-focused tests is at fault here
2014-09-30T22:54:51  <foobio> i think it's necessary complexity, but i also think we as openstack are in a better position to make those bugs more shallow than $random_operator
2014-09-30T22:54:54  <marun> sdague: most issues should not be debugged in an integrated env
2014-09-30T22:54:56  *** boden has quit IRC
2014-09-30T22:55:12  <marun> or rather, should be able to be debugged in isolation
2014-09-30T22:55:17  *** boden has joined #openstack-infra
2014-09-30T22:55:47  <sdague> marun: so I only partially agree
2014-09-30T22:55:47  *** boden has quit IRC
2014-09-30T22:55:56  <marun> sdague: me too :)
2014-09-30T22:56:05  <sdague> if things go wrong, the system should be giving you enough info to figure it out
2014-09-30T22:56:08  *** boden has joined #openstack-infra
2014-09-30T22:56:11  <sdague> especially when we are running at DEBUG
2014-09-30T22:56:14  <marun> sdague: I kind of agree
2014-09-30T22:56:22  <foobio> some issues yes. some issues only surface under integration because they're bugs in how the projects interact with one another
2014-09-30T22:56:35  <marun> sdague: but working at too high a level by choice seems unwise
2014-09-30T22:56:45  *** boden has quit IRC
2014-09-30T22:56:50  <marun> sdague: if we're developers, we can choose the level we want to work at
2014-09-30T22:56:54  <sdague> sure
2014-09-30T22:56:57  <foobio> defining and testing those interfaces would make a huge difference there, but we're a very long way from that being feasible from what i've seen
2014-09-30T22:57:06  <marun> sdague: operators, though, we have to cover that demographic too.  no question
2014-09-30T22:57:06  <sdague> but we also need to make a system that operators have any hope of debugging
2014-09-30T22:57:12  *** boden has joined #openstack-infra
2014-09-30T22:57:18  <sdague> the gate is basically "lets play operator"
2014-09-30T22:57:29  *** koolhead17 has quit IRC
2014-09-30T22:57:37  *** boden has quit IRC
2014-09-30T22:57:39  *** andreaf has quit IRC
2014-09-30T22:57:46  <marun> sdague: that being the case, I don't think that every single patch should be triggering the 'operator' switch
2014-09-30T22:57:55  *** boden has joined #openstack-infra
2014-09-30T22:57:59  *** stevemar has quit IRC
2014-09-30T22:58:05  *** andreaf has joined #openstack-infra
2014-09-30T22:58:12  <marun> sdague: there is pain in the 'converge towards stability post-merge' approach
2014-09-30T22:58:12  *** jergerber has quit IRC
2014-09-30T22:58:15  <marun> sdague: no question
2014-09-30T22:58:23  *** boden has quit IRC
2014-09-30T22:58:38  <marun> sdague: but gating everyone on the weakest member is as bad an idea in software as it is in chains
2014-09-30T22:58:50  *** boden has joined #openstack-infra
2014-09-30T22:59:12  *** boden has quit IRC
2014-09-30T22:59:31  <marun> reliable distributed software attempts to limit failure domains
2014-09-30T22:59:33  *** koolhead17 has joined #openstack-infra
2014-09-30T22:59:33  *** koolhead17 has quit IRC
2014-09-30T22:59:35  <sdague> well, under that assumption, we'd just delete neutron as a project
2014-09-30T22:59:37  <marun> our gate process conflates them
2014-09-30T22:59:42  *** boden has joined #openstack-infra
2014-09-30T22:59:44  <marun> sdague: I wouldn't argue :)
2014-09-30T22:59:50  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: URL Util now maps full install path.  https://review.openstack.org/125222
2014-09-30T23:00:14  *** boden has quit IRC
2014-09-30T23:00:34  *** boden has joined #openstack-infra
2014-09-30T23:00:41  <marun> sdague, superbee, foobio, mordred: I have to run.  Thank you for the constructive conversation, as always.
2014-09-30T23:00:54  *** AndroUser2 has joined #openstack-infra
2014-09-30T23:00:57  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard-webclient: Subscription  https://review.openstack.org/104004
2014-09-30T23:00:59  *** boden has quit IRC
2014-09-30T23:01:00  <marun> and for bearing with me
2014-09-30T23:01:01  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Switch hpcloud devstack-trusty to dib image  https://review.openstack.org/125223
2014-09-30T23:01:03  <openstackgerrit> Clark Boylan proposed a change to openstack-infra/config: Put devstack-trusty-dib image in rax  https://review.openstack.org/125224
2014-09-30T23:01:21  <superbee> foobio: ^ I don't think I am ready to merge those yet. I want to see image updates working again tomorrow first
2014-09-30T23:01:32  <superbee> foobio: but that gievs you an idea of what I am thinking for the continung dibification of stuff
2014-09-30T23:01:33  *** boden has joined #openstack-infra
2014-09-30T23:01:58  *** boden has quit IRC
2014-09-30T23:02:22  *** boden has joined #openstack-infra
2014-09-30T23:02:34  *** david-lyle_ has quit IRC
2014-09-30T23:02:50  *** boden has quit IRC
2014-09-30T23:03:12  *** boden has joined #openstack-infra
2014-09-30T23:03:37  *** boden has quit IRC
2014-09-30T23:03:41  *** esker has quit IRC
2014-09-30T23:04:06  *** boden has joined #openstack-infra
2014-09-30T23:04:07  *** koolhead17 has joined #openstack-infra
2014-09-30T23:04:11  *** weshay has joined #openstack-infra
2014-09-30T23:04:20  *** dkranz has quit IRC
2014-09-30T23:04:25  *** koolhead17 has quit IRC
2014-09-30T23:04:30  *** boden has quit IRC
2014-09-30T23:04:48  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/nodepool: Reset the client object before creating the image  https://review.openstack.org/74943
2014-09-30T23:04:59  *** boden has joined #openstack-infra
2014-09-30T23:05:25  *** boden has quit IRC
2014-09-30T23:05:33  *** marun has quit IRC
2014-09-30T23:05:47  <superbee> sdague: foobio: so I wonder if debugging the gate being so much like what happens in ops trenches is partially to blame for devs not debugging as much as we like?
2014-09-30T23:05:52  *** boden has joined #openstack-infra
2014-09-30T23:05:57  <superbee> I think its the proper way to do things so that we feel the pain of operators
2014-09-30T23:06:09  <superbee> but it could explain part of the "hardness" of it
2014-09-30T23:06:16  <superbee> ops is different
2014-09-30T23:06:26  *** boden has quit IRC
2014-09-30T23:06:47  *** boden has joined #openstack-infra
2014-09-30T23:07:09  *** boden has quit IRC
2014-09-30T23:07:32  <superbee> debugging large systems without running an attached debugger is very much an ops thing
2014-09-30T23:07:33  <krotscheck> Can I get a sanity confirmation of something? Go to this review, click on ‘gate-storyboard-webclient-js-draft’, and try to log in?
2014-09-30T23:07:36  <krotscheck> https://review.openstack.org/#/c/125222/
2014-09-30T23:07:38  *** boden has joined #openstack-infra
2014-09-30T23:07:54  <superbee> devs want to have stuff in as narrow a focus as possible with debugger attached
2014-09-30T23:08:01  <superbee> krotscheck: so I need to start logged out?
2014-09-30T23:08:05  *** boden has quit IRC
2014-09-30T23:08:19  <superbee> oh wait
2014-09-30T23:08:25  <superbee> you want me to login to the thing linked gotcha
2014-09-30T23:08:31  *** boden has joined #openstack-infra
2014-09-30T23:08:36  <krotscheck> superbee: RIght
2014-09-30T23:08:48  <krotscheck> superbee: Looks like it still can’t post because of a CORS header issue, but I can fix that...
2014-09-30T23:09:00  <superbee> it let me in
2014-09-30T23:09:03  <jogo> superbee: I do think that if all OpenStack devs had to deploy OpenStack from scratch (re: no devstack packages and such are OK) and debug an install, things would be better
2014-09-30T23:09:05  *** boden has quit IRC
2014-09-30T23:09:14  <krotscheck> superbee: AWESOME
2014-09-30T23:09:23  *** boden has joined #openstack-infra
2014-09-30T23:09:51  *** boden has quit IRC
2014-09-30T23:09:54  <superbee> jogo: well I think it may just be that as individuals withd ifferent skill sets we thinkdifferentl
2014-09-30T23:10:13  <superbee> jogo: I don't tend to have problems jumping in and doing hands off debugging based on logs and such ebcause I do lots of ops
2014-09-30T23:10:17  <superbee> jogo: its the way we do things
2014-09-30T23:10:17  *** boden has joined #openstack-infra
2014-09-30T23:10:35  <superbee> but if your background is always being attached to a debugger and needing to debug based on live events doing it the other way can be hard
2014-09-30T23:10:42  *** boden has quit IRC
2014-09-30T23:10:42  *** baoli has quit IRC
2014-09-30T23:10:48  <mtreinish> jogo: I've done it, it wasn't too bad for me, only took me about a week...
2014-09-30T23:11:00  <superbee> mtreinish: jogo: I did it in an afternoon with diablo...
2014-09-30T23:11:02  <mordred> I add print('dammit') in a lot
2014-09-30T23:11:11  *** boden has joined #openstack-infra
2014-09-30T23:11:28  <mordred> it's not super scientific
2014-09-30T23:11:28  *** sarob is now known as sarob_away
2014-09-30T23:11:31  <jogo> mtreinish: how recent was that?
2014-09-30T23:11:32  <superbee> annegentle_'s install guide was great :)
2014-09-30T23:11:35  <jogo> mtreinish: that it took a week
2014-09-30T23:11:42  <mtreinish> jogo: the week before I left IBM
2014-09-30T23:11:45  *** boden has quit IRC
2014-09-30T23:11:51  *** weshay is now known as weshay_afk
2014-09-30T23:11:54  <jogo> mtreinish: wow,  so fairly recently
2014-09-30T23:12:02  *** MaxV has quit IRC
2014-09-30T23:12:06  <superbee> and having functional tests where you can attach directly to those live events will help significantly
2014-09-30T23:12:10  *** boden has joined #openstack-infra
2014-09-30T23:12:13  <openstackgerrit> Michael Krotscheck proposed a change to openstack-infra/storyboard: Added Content-Type header to CORS  https://review.openstack.org/125227
2014-09-30T23:12:18  <superbee> or at least I think that is what my theory is becoming
2014-09-30T23:12:33  *** atiwari has joined #openstack-infra
2014-09-30T23:12:33  *** boden has quit IRC
2014-09-30T23:12:35  <mtreinish> superbee: well I did it for a rack and a half
2014-09-30T23:12:37  <superbee> because that is an env that devs are comfortable in. But we shouldn't forget indirect debugging because operators everywhere deal with our tools that way
2014-09-30T23:12:44  *** sarob_away is now known as sarob
2014-09-30T23:12:44  <superbee> mtreinish: ah, I only did a one node install
2014-09-30T23:12:58  *** boden has joined #openstack-infra
2014-09-30T23:13:06  <mtreinish> jogo: I didn't say I did a good job though :) a bunch of things were horribly misconfigured
2014-09-30T23:13:10  <mtreinish> but it worked...
2014-09-30T23:13:15  <jogo> mtreinish: haha
2014-09-30T23:13:18  *** achanda has joined #openstack-infra
2014-09-30T23:13:20  *** boden has quit IRC
2014-09-30T23:13:31  <jogo> mtreinish: if it took the PTL of QA a week to just get it working ....
2014-09-30T23:13:34  *** dims_ has quit IRC
2014-09-30T23:13:42  <jogo> that is not good
2014-09-30T23:13:47  *** boden has joined #openstack-infra
2014-09-30T23:14:05  <mtreinish> jogo: oh and flatdhcp n-net I had enough sense to avoid trying neutron
2014-09-30T23:14:15  <jogo> mtreinish: haha wise
2014-09-30T23:14:20  <superbee> jogo: it isn't but honestly it takes that long to install a vmware cluster of a rack and a half. stuff is complex
2014-09-30T23:14:23  *** boden has quit IRC
2014-09-30T23:14:27  *** AndroUser2 has quit IRC
2014-09-30T23:14:49  *** boden has joined #openstack-infra
2014-09-30T23:14:57  <jogo> superbee: hmm I didn't realize vmware takes that long as well
2014-09-30T23:15:04  *** IAX has quit IRC
2014-09-30T23:15:07  <mordred> superbee: I wonder how long a rack of infra would take
2014-09-30T23:15:16  *** boden has quit IRC
2014-09-30T23:15:19  <superbee> jogo: people like to say it doesn't take that long, but when I did it a few years back it took ages
2014-09-30T23:15:26  <superbee> jogo: networking is a big hang up there too
2014-09-30T23:15:31  *** armax has joined #openstack-infra
2014-09-30T23:15:35  *** boden has joined #openstack-infra
2014-09-30T23:15:35  <jogo> superbee: but I do think the act of having more developers feel the operator/usability pain is a good thing
2014-09-30T23:15:37  <superbee> mordred: lifeless did it in what a week?
2014-09-30T23:15:39  <jogo> one way or onother
2014-09-30T23:16:00  *** stevemar has joined #openstack-infra
2014-09-30T23:16:00  *** boden has quit IRC
2014-09-30T23:16:25  <mtreinish> superbee: yeah networking was my issue too. Luckily that was a replacement setup so I had learned all the tough lessons already
2014-09-30T23:16:31  *** boden has joined #openstack-infra
2014-09-30T23:16:48  <mtreinish> it took me a month to work through some of that the first time (with only 4 nodes)
2014-09-30T23:16:55  *** boden has quit IRC
2014-09-30T23:16:57  *** baoli has joined #openstack-infra
2014-09-30T23:17:07  *** loquacities has joined #openstack-infra
2014-09-30T23:17:25  *** boden has joined #openstack-infra
2014-09-30T23:17:46  *** boden has quit IRC
2014-09-30T23:17:49  <superbee> tl;dr networking is hard
2014-09-30T23:18:12  <superbee> which is one of the reasons I like jbooboo's philosophy of computers should just talk to each other :)
2014-09-30T23:18:13  *** boden has joined #openstack-infra
2014-09-30T23:18:30  <superbee> it reduces a lot of complexity when you say that proxies and intermediate firewalls should diaf
2014-09-30T23:18:42  *** boden has quit IRC
2014-09-30T23:19:07  *** boden has joined #openstack-infra
2014-09-30T23:19:39  *** boden has quit IRC
2014-09-30T23:20:01  *** boden has joined #openstack-infra
2014-09-30T23:20:12  *** armax has quit IRC
2014-09-30T23:20:33  *** boden has quit IRC
2014-09-30T23:20:41  *** armax has joined #openstack-infra
2014-09-30T23:20:54  *** boden has joined #openstack-infra
2014-09-30T23:20:54  *** dkranz has joined #openstack-infra
2014-09-30T23:21:18  *** boden has quit IRC
2014-09-30T23:21:25  <foobio> superbee: jogo: as a point of reference, vce was (presumably still is) a large vmware integrator. they used an orchestration tool from emc, the name of which escapes me, to install vmware starting from bare metal, more or less turn-key... deploying several racks took on the order of a couple days of the orchestration software chugging nonstop
2014-09-30T23:21:47  *** boden has joined #openstack-infra
2014-09-30T23:22:11  *** boden has quit IRC
2014-09-30T23:22:43  *** boden has joined #openstack-infra
2014-09-30T23:22:49  *** sarob is now known as sarob_away
2014-09-30T23:22:51  <superbee> foobio: we did dense blade chassis at a slower rate mostly manually
2014-09-30T23:22:57  *** bswartz has joined #openstack-infra
2014-09-30T23:23:02  <superbee> because automation didn't exist for various things in the stack
2014-09-30T23:23:03  *** MarkAtwood has joined #openstack-infra
2014-09-30T23:23:10  *** boden has quit IRC
2014-09-30T23:23:33  *** boden has joined #openstack-infra
2014-09-30T23:23:34  <jhesketh> superbee: if you have time, I need some help debugging zuul swift stuff
2014-09-30T23:23:37  <foobio> right. point being, fully automated, days to install a few racks. human intervention would obviously have multiplied that several times over
2014-09-30T23:23:39  <superbee> jhesketh: sure
2014-09-30T23:23:57  <superbee> jhesketh: I am mostly done with dib for the day
2014-09-30T23:23:57  *** boden has quit IRC
2014-09-30T23:24:05  <jhesketh> superbee: awesome, thanks :-)
2014-09-30T23:24:14  <jhesketh> superbee: basically Jenkins isn't getting the correct swift values
2014-09-30T23:24:24  <jhesketh> ie it hasn't got any env vars
2014-09-30T23:24:32  *** boden has joined #openstack-infra
2014-09-30T23:24:32  <foobio> i am mostly done for the day, with the usual feeling of having accomplished none of the things i set out to get done. there's always tomorrow!
2014-09-30T23:24:34  <jhesketh> superbee: are you able to see how swift is configured in zuul.conf?
2014-09-30T23:24:43  <superbee> jhesketh: is this happening with every job?
2014-09-30T23:24:55  <jhesketh> superbee: as far as I can tell, yes
2014-09-30T23:24:56  <superbee> jhesketh: I can check zuul.conf now
2014-09-30T23:24:58  *** boden has quit IRC
2014-09-30T23:25:20  *** boden has joined #openstack-infra
2014-09-30T23:25:42  *** boden has quit IRC
2014-09-30T23:25:59  *** _nadya_ has joined #openstack-infra
2014-09-30T23:26:09  *** boden has joined #openstack-infra
2014-09-30T23:26:39  *** boden has quit IRC
2014-09-30T23:27:01  *** boden has joined #openstack-infra
2014-09-30T23:27:11  <lifeless> superbee: did what in a week?
2014-09-30T23:27:17  *** sarob_away is now known as sarob
2014-09-30T23:27:29  <superbee> lifeless: deployed a set of openstack infra in not infra
2014-09-30T23:27:30  *** boden has quit IRC
2014-09-30T23:27:36  <superbee> for that talk you ran through the things
2014-09-30T23:27:48  <superbee> jhesketh: I don't see anyting amiss there
2014-09-30T23:27:53  *** boden has joined #openstack-infra
2014-09-30T23:27:58  <lifeless> superbee: are you referring to tripleo-ci ? or the testing-cabal deploy of zuul* ?
2014-09-30T23:28:07  <superbee> lifeless: testing cabal
2014-09-30T23:28:28  *** boden has quit IRC
2014-09-30T23:28:30  <openstackgerrit> K Jonathan Harker proposed a change to openstack-infra/nodepool: Reset the client object before creating the image  https://review.openstack.org/74943
2014-09-30T23:28:32  <lifeless> a week of evenings got me most of the way yeah
2014-09-30T23:28:42  <lifeless> superbee: what is a 'rack of infra' though
2014-09-30T23:28:47  *** boden has joined #openstack-infra
2014-09-30T23:28:53  <lifeless> superbee: are you suggesting an infra testing infra deployment?
2014-09-30T23:29:15  <superbee> lifeless: more just a rack somewhere that runs infra services
2014-09-30T23:29:16  *** boden has quit IRC
2014-09-30T23:29:21  <superbee> that rack may be virtual I guess
2014-09-30T23:29:42  *** boden has joined #openstack-infra
2014-09-30T23:30:23  *** _nadya_ has quit IRC
2014-09-30T23:30:23  *** boden has quit IRC
2014-09-30T23:30:34  *** boden has joined #openstack-infra
2014-09-30T23:31:04  <superbee> jhesketh: have an example jenkins job link?
2014-09-30T23:31:05  *** boden has quit IRC
2014-09-30T23:31:23  <jhesketh> superbee: https://jenkins01.openstack.org/job/gate-project-config-layout/14/injectedEnvVars/?
2014-09-30T23:31:25  *** boden has joined #openstack-infra
2014-09-30T23:31:35  <jhesketh> superbee: actually I think we aren't setting up swift correctly in the layout file... let me check
2014-09-30T23:31:49  <superbee> oh that could be
2014-09-30T23:31:55  *** boden has quit IRC
2014-09-30T23:32:18  *** boden has joined #openstack-infra
2014-09-30T23:32:27  <jhesketh> superbee: yeah, that appears to be it.. I'll shoot through a fix
2014-09-30T23:32:41  <superbee> jhesketh: kk
2014-09-30T23:32:47  *** boden has quit IRC
2014-09-30T23:33:12  *** boden has joined #openstack-infra
2014-09-30T23:33:49  *** dmsimard is now known as dmsimard_away
2014-09-30T23:33:49  *** boden has quit IRC
2014-09-30T23:33:57  *** zz_jgrimm is now known as jgrimm
2014-09-30T23:34:08  *** boden has joined #openstack-infra
2014-09-30T23:34:28  *** camunoz has joined #openstack-infra
2014-09-30T23:34:33  *** boden has quit IRC
2014-09-30T23:34:40  *** otter768 has joined #openstack-infra
2014-09-30T23:35:01  *** boden has joined #openstack-infra
2014-09-30T23:35:26  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/project-config: Enable the swift logs env vars for all jobs  https://review.openstack.org/125232
2014-09-30T23:35:26  *** boden has quit IRC
2014-09-30T23:35:32  <jhesketh> superbee: ^
2014-09-30T23:35:56  *** stevemar has quit IRC
2014-09-30T23:36:11  <anteaya> superbee: thanks
2014-09-30T23:36:39  *** mriedem has joined #openstack-infra
2014-09-30T23:36:47  *** boden has joined #openstack-infra
2014-09-30T23:37:16  <superbee> jhesketh: I think you need to update your local version of layout.yaml then repropose? that diff is huge
2014-09-30T23:37:17  *** boden has quit IRC
2014-09-30T23:37:26  <superbee> jhesketh: and undoes AJaeger's changes from ealier fi I am reading correctly
2014-09-30T23:37:35  *** dmellado has joined #openstack-infra
2014-09-30T23:37:36  *** boden has joined #openstack-infra
2014-09-30T23:37:37  <jhesketh> hmm, probably a git fail sorry
2014-09-30T23:37:45  <superbee> np :)
2014-09-30T23:38:33  *** boden_ has joined #openstack-infra
2014-09-30T23:38:33  *** boden has quit IRC
2014-09-30T23:38:47  <openstackgerrit> Joshua Hesketh proposed a change to openstack-infra/project-config: Enable the swift logs env vars for all jobs  https://review.openstack.org/125232
2014-09-30T23:38:57  <jhesketh> superbee: okay, try that
2014-09-30T23:39:09  *** boden_ has quit IRC
2014-09-30T23:39:23  *** boden has joined #openstack-infra
2014-09-30T23:40:15  *** boden_ has joined #openstack-infra
2014-09-30T23:40:15  *** boden has quit IRC
2014-09-30T23:40:36  <superbee> jhesketh: muc better. is there an existing swift: section that can be removed?
2014-09-30T23:40:53  *** boden_ has quit IRC
2014-09-30T23:41:08  <jhesketh> superbee: oh yeah, on the experimental job... but I'll shoot through another patch to remove all of that job when we no longer want it
2014-09-30T23:41:09  *** boden has joined #openstack-infra
2014-09-30T23:41:25  <superbee> jhesketh: sounds good
2014-09-30T23:41:28  *** gus has joined #openstack-infra
2014-09-30T23:41:46  *** boden has quit IRC
2014-09-30T23:42:03  *** boden has joined #openstack-infra
2014-09-30T23:42:20  <sdague> superbee: how do you feel about - https://review.openstack.org/#/c/124390/ ?
2014-09-30T23:42:31  *** boden has quit IRC
2014-09-30T23:42:49  <sdague> jhesketh: also, I fixed the hideci issues I believe - https://review.openstack.org/#/c/124632/
2014-09-30T23:42:50  <superbee> sdague: reading the commit message  Ithink that is a good idea
2014-09-30T23:42:54  <sdague> that would be nice to get out there
2014-09-30T23:42:55  *** MaxV has joined #openstack-infra
2014-09-30T23:42:55  <superbee> let me review it properly
2014-09-30T23:42:59  *** boden has joined #openstack-infra
2014-09-30T23:43:12  <lifeless> superbee: isn't that what you have today?
2014-09-30T23:43:14  <jhesketh> sdague: cool, I was just reading through it :-)
2014-09-30T23:43:18  <lifeless> superbee: is the idea to get away from cloud providers?
2014-09-30T23:43:28  *** boden has quit IRC
2014-09-30T23:43:35  <superbee> lifeless: no no, I think mordred was just wondering since we were talking about how long it takes to install openstack
2014-09-30T23:43:39  <superbee> or isntall a vmware cluster
2014-09-30T23:43:48  *** boden has joined #openstack-infra
2014-09-30T23:43:52  <lifeless> superbee: cause, you have an infra infra account on the tripleo clouds
2014-09-30T23:43:53  <lifeless> ah
2014-09-30T23:44:01  <lifeless> so yeah, depends heavily on what trunk is like
2014-09-30T23:44:12  <lifeless> right now for instance we're two months into hp2 and its still not up
2014-09-30T23:44:17  *** boden has quit IRC
2014-09-30T23:44:44  *** boden has joined #openstack-infra
2014-09-30T23:44:51  *** Sincler has quit IRC
2014-09-30T23:45:10  *** boden has quit IRC
2014-09-30T23:45:37  *** boden has joined #openstack-infra
2014-09-30T23:46:29  *** boden_ has joined #openstack-infra
2014-09-30T23:46:29  *** boden has quit IRC
2014-09-30T23:46:40  *** andreaf has quit IRC
2014-09-30T23:46:44  *** JayJ has joined #openstack-infra
2014-09-30T23:46:55  *** boden_ has quit IRC
2014-09-30T23:47:05  *** andreaf has joined #openstack-infra
2014-09-30T23:47:19  *** JayJ has joined #openstack-infra
2014-09-30T23:47:21  *** boden has joined #openstack-infra
2014-09-30T23:47:38  *** MaxV has quit IRC
2014-09-30T23:47:50  *** boden has quit IRC
2014-09-30T23:48:13  *** boden has joined #openstack-infra
2014-09-30T23:48:41  *** boden has quit IRC
2014-09-30T23:49:06  *** boden has joined #openstack-infra
2014-09-30T23:49:53  *** ivar-laz_ has joined #openstack-infra
2014-09-30T23:49:53  *** boden has quit IRC
2014-09-30T23:50:00  *** boden has joined #openstack-infra
2014-09-30T23:50:23  *** ivar-laz_ has quit IRC
2014-09-30T23:50:29  *** boden has quit IRC
2014-09-30T23:50:31  <jhesketh> sdague: reviewed.. I think there's a bug with the way you're loading the comments
2014-09-30T23:50:52  *** boden has joined #openstack-infra
2014-09-30T23:50:58  *** ivar-laz_ has joined #openstack-infra
2014-09-30T23:51:03  *** ivar-lazzaro has quit IRC
2014-09-30T23:51:04  <sdague> mtreinish: https://review.openstack.org/#/q/status:open+project:openstack-dev/devstack+branch:stable/icehouse+topic:no_screen,n,z
2014-09-30T23:51:12  <sdague> those are the devstack patches I need
2014-09-30T23:51:23  *** boden has quit IRC
2014-09-30T23:51:38  *** ivar-laz_ has quit IRC
2014-09-30T23:51:45  *** boden has joined #openstack-infra
2014-09-30T23:51:55  <openstackgerrit> A change was merged to openstack-infra/project-config: Enable the swift logs env vars for all jobs  https://review.openstack.org/125232
2014-09-30T23:52:12  <foobio> jhesketh: if that ^ breaks the world, i won't be around to help debug ;)
2014-09-30T23:52:12  *** boden has quit IRC
2014-09-30T23:52:28  <superbee> foobio: way to put us in the hot seat :P
2014-09-30T23:52:29  <mtreinish> sdague: ok, I'll take a look
2014-09-30T23:52:31  *** ivar-lazzaro has joined #openstack-infra
2014-09-30T23:52:37  *** boden has joined #openstack-infra
2014-09-30T23:52:40  <foobio> superbee: you can always revert!
2014-09-30T23:53:18  <superbee> indeed
2014-09-30T23:53:18  *** boden has quit IRC
2014-09-30T23:53:31  <superbee> sdague: do you want to fix the whitespace thing?
2014-09-30T23:53:32  *** boden has joined #openstack-infra
2014-09-30T23:53:33  <jhesketh> foobio: heh, I can never help debug when I merge stuff
2014-09-30T23:53:35  <superbee> in that zuul change?
2014-09-30T23:53:35  <jhesketh> makes it scary
2014-09-30T23:53:46  <superbee> also not sure how comfortable I am merging zuul chagnes without jbooboo around that are not bug fixes
2014-09-30T23:53:50  <superbee> but that change seems reasonable
2014-09-30T23:54:07  <foobio> it was a zuul configuration change
2014-09-30T23:54:09  *** boden has quit IRC
2014-09-30T23:54:13  <foobio> so seemed fair game
2014-09-30T23:54:25  *** MarkAtwood has quit IRC
2014-09-30T23:54:25  <superbee> foobio: that one is fine
2014-09-30T23:54:28  *** boden has joined #openstack-infra
2014-09-30T23:54:33  <superbee> I am talking about https://review.openstack.org/#/c/124390/4
2014-09-30T23:54:53  <foobio> oh, heh no
2014-09-30T23:54:54  *** boden has quit IRC
2014-09-30T23:55:15  *** boden has joined #openstack-infra
2014-09-30T23:55:18  <foobio> though i do need to re-review that one
2014-09-30T23:55:21  <superbee> sdague: particularly since we seem to not be doing the thing that jbooboo suggested?
2014-09-30T23:56:12  *** boden_ has joined #openstack-infra
2014-09-30T23:56:13  *** boden has quit IRC
2014-09-30T23:56:38  *** boden_ has quit IRC
2014-09-30T23:57:06  *** boden has joined #openstack-infra
2014-09-30T23:57:24  <sdague> superbee: so I thought we were doing it
2014-09-30T23:57:30  <mtreinish> sdague: do those test files get run anywhere?
2014-09-30T23:57:31  *** baoli has quit IRC
2014-09-30T23:57:33  <superbee> sdague: it?
2014-09-30T23:57:37  *** boden has quit IRC
2014-09-30T23:57:50  <sdague> mtreinish: honestly, I don't know
2014-09-30T23:57:56  *** chuckC_ has quit IRC
2014-09-30T23:57:56  *** boden has joined #openstack-infra
2014-09-30T23:58:09  *** ivar-laz_ has joined #openstack-infra
2014-09-30T23:58:34  *** boden has quit IRC
2014-09-30T23:58:36  <superbee> sdague: "I like the cache approach used here, but I think we should consider the query-string and filtering options in Joshuas change. See more detailed comments there." is the jbooboo comment i refer to
2014-09-30T23:58:49  *** boden has joined #openstack-infra
2014-09-30T23:58:49  <superbee> or am I misreading what a query-string is in this case?
2014-09-30T23:58:52  * superbee digs more
2014-09-30T23:59:02  <sdague> superbee: so I think that's patch #2
2014-09-30T23:59:23  *** boden has quit IRC
2014-09-30T23:59:33  <sdague> jhesketh: yep, you are correct, that's what I get for listening to people about optimizing :)
2014-09-30T23:59:37  <superbee> sdague: the project filter is missing in yours
2014-09-30T23:59:43  *** boden has joined #openstack-infra
