2015-02-10T00:00:06  <mordred> which is where these get built
2015-02-10T00:00:08  <marun> quantumfly: I'm afraid the refactored testr artifact processing has uncovered an assumption that testr and subunit are installed system-wide.
2015-02-10T00:00:13  <quantumfly> mordred: no it was exploding locally too
2015-02-10T00:00:17  <mordred> quantumfly: yeah?
2015-02-10T00:00:20  <quantumfly> mordred: so this is some progress if not all the progress
2015-02-10T00:00:26  <mordred> quantumfly, SpamapS woot!
2015-02-10T00:00:30  <quantumfly> mordred: the mysql on nodepool will be an issue too
2015-02-10T00:00:43  <SpamapS> the answer there is to -hlocalhost isn't it?
2015-02-10T00:00:44  <marun> quantumfly: since the neutron functional job only installs in a venv, this assumption is violated and the test artifacts aren't saved.
2015-02-10T00:00:48  <SpamapS> just make sure the socket is used.
2015-02-10T00:00:53  <quantumfly> mordred: SpamapS the thing to check is boot off that image and see that the openstack_citest or whatever the user name is user is on the server
2015-02-10T00:00:57  <mordred> SpamapS: probably
2015-02-10T00:01:07  <quantumfly> SpamapS: mordred if you can convince puppet-mysql to do that
2015-02-10T00:01:27  <quantumfly> marun: doesn't it know to run out of a vnev?
2015-02-10T00:01:41  *** bswartz has joined #openstack-infra
2015-02-10T00:01:44  <marun> quantumfly: devstack-gate doesn't, but I could fix that
2015-02-10T00:01:52  *** bknudson has joined #openstack-infra
2015-02-10T00:02:48  <SpamapS> /dev/loop0p1             9.0G  4.8G  3.8G  56% /tmp/image.mHQiUpcS/mnt
2015-02-10T00:02:50  <SpamapS> rather large image
2015-02-10T00:02:56  <marun> quantumfly: there is currently no concept of 'venv' in d-g, though.
2015-02-10T00:02:58  <mordred> SpamapS: yes
2015-02-10T00:03:01  <mordred> it's a very large image
2015-02-10T00:03:14  <mordred> SpamapS: it contains a cache of everyhting you might ever need in any gate job
2015-02-10T00:03:26  <marun> quantumfly: Can you think of another way to fix that than adding YACV (yet another configuration variable) to point to it?
2015-02-10T00:03:31  *** melwitt has quit IRC
2015-02-10T00:03:32  <SpamapS> solid HDD light for the last 4 minutes
2015-02-10T00:03:46  <SpamapS> mordred: cacheallthethings.qcow2
2015-02-10T00:03:49  <quantumfly> marun: I am trying to figure out how it worked for tempest first
2015-02-10T00:03:55  <quantumfly> marun: my guess is do something like what tempest did
2015-02-10T00:04:02  *** dimssum__ has joined #openstack-infra
2015-02-10T00:04:02  *** dimssum__ is now known as dimsum__
2015-02-10T00:04:07  <marun> quantumfly: tempest relies on testr and subunit being installed system-wide
2015-02-10T00:04:26  <quantumfly> oh I see
2015-02-10T00:04:36  <marun> https://github.com/openstack-infra/devstack-gate/blob/master/functions.sh#L536
2015-02-10T00:04:39  *** dimsum__ has quit IRC
2015-02-10T00:04:46  <marun> https://github.com/openstack-infra/devstack-gate/blob/master/functions.sh#L532
2015-02-10T00:05:03  <openstackgerrit> Merged openstack-infra/zuul: Check liveness of changes before removing  https://review.openstack.org/153813
2015-02-10T00:05:18  <marun> quantumfly: so, would you prefer that d-g can be informed of which venv to use?
2015-02-10T00:05:19  <quantumfly> marun: and devstack must install them for us when tempest is used but not during your tests?
2015-02-10T00:05:28  <marun> quantumfly: or just install testr/subunit automatically?
2015-02-10T00:05:31  <marun> quantumfly: correct
2015-02-10T00:05:37  <quantumfly> marun: no I think likely the best thing to do is just install testr globally since that is what tempest expects
2015-02-10T00:05:53  <marun> quantumfly: ok, I'll submit a patch shortly.
2015-02-10T00:05:56  <marun> quantumfly: danke
2015-02-10T00:06:16  *** lnxnut_ has quit IRC
2015-02-10T00:06:28  *** gyee has quit IRC
2015-02-10T00:07:30  *** markvoelker has quit IRC
2015-02-10T00:07:39  <mordred> quantumfly: what was the thing you wanted me to review?
2015-02-10T00:07:45  *** Sukhdev has joined #openstack-infra
2015-02-10T00:07:52  <quantumfly> mordred: 154188 its the "simple" fix for spec_helper
2015-02-10T00:07:53  <mordred> 154188?
2015-02-10T00:07:55  <mordred> yah
2015-02-10T00:07:57  <mordred> looking
2015-02-10T00:07:59  *** chlong has joined #openstack-infra
2015-02-10T00:08:13  *** nelsnelson has joined #openstack-infra
2015-02-10T00:08:13  *** lnxnut_ has joined #openstack-infra
2015-02-10T00:08:46  <mordred> quantumfly: +#
2015-02-10T00:08:48  <mordred> quantumfly: +3
2015-02-10T00:08:52  <quantumfly> mordred: thanks
2015-02-10T00:09:03  * mordred is at his favorite part of the process now- uploading the image
2015-02-10T00:09:29  *** crc32 has quit IRC
2015-02-10T00:10:57  <dougwig> hi infra.  stackforge/octavia was rolling along until last week, when things won't merge anymore. is there something wrong with the project config for that?  example review: https://review.openstack.org/#/c/149789/
2015-02-10T00:11:58  <openstackgerrit> Richard Jones proposed openstack-infra/infra-specs: Add initial draft of bower spec  https://review.openstack.org/154297
2015-02-10T00:12:05  <r1chardj0n3s> mordred: ^^
2015-02-10T00:12:09  <mordred> oh my
2015-02-10T00:12:15  <r1chardj0n3s> ;)
2015-02-10T00:12:17  *** lnxnut_ has quit IRC
2015-02-10T00:12:53  *** r-daneel has quit IRC
2015-02-10T00:13:04  <jbooboo> dougwig: 149789 depends on 151496 which is WIP
2015-02-10T00:13:43  <dougwig> d'oh, i totally missed that.  thanks.
2015-02-10T00:13:50  * dougwig gets more coffee.
2015-02-10T00:14:01  <jbooboo> np.  just call me 'zuul'
2015-02-10T00:14:10  *** dims__ has joined #openstack-infra
2015-02-10T00:14:14  <openstackgerrit> Merged openstack-infra/project-config: Fix rspec installs during image builds  https://review.openstack.org/154188
2015-02-10T00:14:59  *** gyee has joined #openstack-infra
2015-02-10T00:15:31  *** carl_baldwin has quit IRC
2015-02-10T00:15:38  <mordred> O M G could someone at rackspace please update the SSL certs??? the python warning is driving me batty
2015-02-10T00:16:08  <mordred> jroll: you fixed the config-drive thing - next task - fix all the SSL certs
2015-02-10T00:16:17  * mordred hands jroll a fluffy sea otter
2015-02-10T00:18:04  <openstackgerrit> Maru Newby proposed openstack-infra/devstack-gate: Install testr system-wide for artifact processing  https://review.openstack.org/154299
2015-02-10T00:18:14  <marun> quantumfly: ^^
2015-02-10T00:18:15  <jhesketh> mordred: re r1chardj0n3s's bower.js stuff, I've been talking to him about it and in my opinion AFS for a shared cache is overkill. I think we should start with the simpler implementation (as outlined in the spec) and go from there
2015-02-10T00:18:38  <jhesketh> mordred: if the failure rate at that point turns out to be worse than we'd like, we can look at building more complicated solutions
2015-02-10T00:19:32  *** salv-orlando has quit IRC
2015-02-10T00:20:07  <SpamapS> mordred: working now?
2015-02-10T00:20:08  <mordred> jhesketh: I do like the general idea of starting with things that are smaller
2015-02-10T00:20:10  *** salv-orlando has joined #openstack-infra
2015-02-10T00:20:22  <mordred> SpamapS: dunno - still polling on glance task-show
2015-02-10T00:21:47  <openstackgerrit> Clark Boylan proposed openstack-infra/puppet-project_config: Provide way to specify repo ref  https://review.openstack.org/154300
2015-02-10T00:22:30  <mordred> oh - quantumfly is doing it
2015-02-10T00:22:43  <jbooboo> r1chardj0n3s: thanks!  i've left you some feedback
2015-02-10T00:22:43  <quantumfly> mordred: ya I figured I would
2015-02-10T00:22:48  <mordred> quantumfly: woot
2015-02-10T00:22:48  <quantumfly> mordred: working on the second half now
2015-02-10T00:23:47  <jbooboo> quantumfly: aha! i see what you are doing!  what problems is that solving?
2015-02-10T00:23:56  <mordred> jbooboo: race condition
2015-02-10T00:24:01  <jbooboo> mordred: that much i got
2015-02-10T00:24:08  <mordred> jbooboo: because the git pull is happening on each host
2015-02-10T00:24:10  <jbooboo> mordred: what is the race breaking?
2015-02-10T00:24:11  <quantumfly> jbooboo: earlier today I merged a change to add a project
2015-02-10T00:24:23  <jbooboo> quantumfly: is this causing the empty git.o.o repos?
2015-02-10T00:24:27  <quantumfly> jbooboo: puppet ran on gitXX with project_config prior to that merge and review.o.o ran after
2015-02-10T00:24:27  <mordred> yah
2015-02-10T00:24:29  <quantumfly> jbooboo: yes
2015-02-10T00:24:33  *** salv-orlando has quit IRC
2015-02-10T00:24:36  <jbooboo> awesome!
2015-02-10T00:24:59  <quantumfly> so next step is to have ansible check what HEAD is at the beginning of puppet_run_all then feed that specific ref to all the puppet runs
2015-02-10T00:24:59  <mordred> so we really want the orchestration end to be the one that knows "hey, all y'all - how bout you pull ref X"
2015-02-10T00:25:10  <jbooboo> teamwork!
2015-02-10T00:25:31  <mordred> SpamapS: I'm booting a server ... let's see what breaks this time!
2015-02-10T00:26:53  <jroll> mordred: I've tried, I promise :x
2015-02-10T00:27:10  <jogo> quantumfly: \o/ thanks
2015-02-10T00:27:19  <r1chardj0n3s> cheers jbooboo!
2015-02-10T00:27:27  * r1chardj0n3s AFKs for a bit now
2015-02-10T00:27:34  * mordred hands jroll a box of fluffy sea otters
2015-02-10T00:27:36  *** salv-orlando has joined #openstack-infra
2015-02-10T00:27:36  <jhesketh> jbooboo: I've responded to your cache query on r1chardj0n3s's spec. Richard will need to check what I've said is true, but I think it's in line with his thinking
2015-02-10T00:27:38  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2015-02-10T00:27:40  <quantumfly> mordred: except I have to figure out how to pass an env var from env calling ansible into the env ansible runs commands in
2015-02-10T00:28:36  <mordred> quantumfly: it's possible we want to extend our puppet module
2015-02-10T00:28:40  <mordred> hangon
2015-02-10T00:28:43  <mordred> way too much overload
2015-02-10T00:28:52  <openstackgerrit> Merged openstack-infra/zuul: Avoid leaking dynamic change queues  https://review.openstack.org/153814
2015-02-10T00:29:14  *** sabeen has quit IRC
2015-02-10T00:29:27  <mordred> quantumfly: it's possible we might want to extend our ansible module that calls puppet with a facility to pass in arbitrary key-value things to pass to the puppet invocation
2015-02-10T00:30:19  *** tmcpeak has joined #openstack-infra
2015-02-10T00:32:35  *** tmcpeak has quit IRC
2015-02-10T00:32:51  <jbooboo> jhesketh, r1chardj0n3s_afk: thanks.  i've responded to your responses.  :)
2015-02-10T00:33:03  <quantumfly> mordred: `git ls-remote --heads https://git.openstack.org/openstack-infra/project-config master | cut -f 1` is the magic to run to get the ref
2015-02-10T00:33:24  <quantumfly> don't need the --heads even
2015-02-10T00:35:44  *** sarob has quit IRC
2015-02-10T00:35:47  *** ashleighfarnham has quit IRC
2015-02-10T00:36:24  *** ZZelle has quit IRC
2015-02-10T00:37:27  *** signed8bit is now known as signed8bit_ZZZzz
2015-02-10T00:38:54  *** dangers is now known as dangers_away
2015-02-10T00:39:19  <quantumfly> mordred: I think I may have it
2015-02-10T00:39:25  <mordred> woohoo!
2015-02-10T00:39:27  <quantumfly> mordred: http://docs.ansible.com/faq.html#how-do-i-access-shell-environment-variables
2015-02-10T00:39:50  <jhesketh> jbooboo: and more responses to your responses :-)
2015-02-10T00:39:58  <jhesketh> *to my responses
2015-02-10T00:41:03  <mordred> SpamapS, quantumfly, jbooboo: BOOM! I have networking
2015-02-10T00:42:06  *** yamamoto has joined #openstack-infra
2015-02-10T00:42:18  <mordred> ok. so - I have booted ubuntu on rax
2015-02-10T00:42:31  <mordred> I need to verify that centos/systemd work ...
2015-02-10T00:42:40  <mordred> and I need to verify that this all works as expected on HP
2015-02-10T00:42:54  <mordred> but I think we're close to this task being done-ish
2015-02-10T00:42:57  *** Ng has joined #openstack-infra
2015-02-10T00:43:57  <openstackgerrit> Maru Newby proposed openstack-infra/zuul: Add support for a skip-if filter on jobs  https://review.openstack.org/146762
2015-02-10T00:44:04  <quantumfly> mordred: how are roles and tasks different?
2015-02-10T00:44:15  <mordred> quantumfly: a role is a named collection of tasks
2015-02-10T00:44:24  <quantumfly> mordred: and if I attach environemnt to a role should I expect that to work properly see http://docs.ansible.com/playbooks_environment.html
2015-02-10T00:44:43  <openstackgerrit> Merged openstack-infra/zuul: Add ignore-dependencies option  https://review.openstack.org/154274
2015-02-10T00:45:11  <marun> jhesketh: I've added back test_model at your request ^^
2015-02-10T00:45:28  <jhesketh> marun: shiny :-)
2015-02-10T00:45:36  <mordred> quantumfly: no - I think you'd still  need the task to consume it too
2015-02-10T00:45:56  <foobio> nikhil_k: i've added you to https://launchpad.net/~glance-coresec now and set you as an administrator for it. please adjust the membership on that group to reflect glance core reviewers who should be engaged in confirming/debunking embargoed glance security bugs and vetting the non-public patches attached to them
2015-02-10T00:46:45  <quantumfly> mordred: so fwiw this is the clunkiest bit of ansible
2015-02-10T00:46:59  <quantumfly> mordred: you have to do far too much plumbing for something as simple as make this env var appear over there happen
2015-02-10T00:47:01  <jbooboo> jhesketh: i've responded, but that's about the max length conversation i can have in a review
2015-02-10T00:47:04  <mordred> quantumfly: yes, I agree
2015-02-10T00:47:15  <mordred> I think we need to re-convene on how we unclunky it
2015-02-10T00:47:44  <marun> jbooboo: Your approval would be much appreciated on https://review.openstack.org/#/c/146762/  No changes other than adding test_model.py back at jhesketh's request.
2015-02-10T00:47:45  *** Guest46399 has quit IRC
2015-02-10T00:47:46  <jbooboo> jhesketh, r1chardj0n3s_afk: i have two points that i'm very firm on: (1) we can not require that packages be published to github, and (2) we can not require that the gate access github for tests
2015-02-10T00:47:54  <mordred> quantumfly: I was mostly waiting to make it betterer until we'd gotten angry at it so that the conversation would be fuller
2015-02-10T00:48:15  <mordred> jhesketh, r1chardj0n3s_afk: I concur with jbooboo on those two points
2015-02-10T00:48:30  <marun> jhesketh: thank you!
2015-02-10T00:48:36  * mordred dinners
2015-02-10T00:48:37  <jhesketh> jbooboo: I thought we rebuilt the nodepool images nightly?
2015-02-10T00:49:06  <jbooboo> jhesketh: we _attempt_ to do so nightly
2015-02-10T00:49:12  <jbooboo> jhesketh: they often fail for weeks on end
2015-02-10T00:49:20  <nikhil_k> foobio: awesome, thanks!
2015-02-10T00:49:27  <jbooboo> jhesketh: because things like github failing, or some puppet thing breaking, or any number of things going wrong
2015-02-10T00:49:35  <r1chardj0n3s_afk> jbooboo: bower supports many schemes that no-one uses...
2015-02-10T00:49:41  <jhesketh> jbooboo: okay, noted
2015-02-10T00:49:48  <jhesketh> fair enough, you've convinced me :-)
2015-02-10T00:49:49  <jbooboo> jhesketh: as i mentioned (and was discussed in scrollback), our current images are more than 170 hours old
2015-02-10T00:49:57  *** sarob has joined #openstack-infra
2015-02-10T00:50:11  * jhesketh fails to keep up with scrollback
2015-02-10T00:50:35  <r1chardj0n3s_afk> jbooboo: we cab look into supporting other git repos, but I'm not sure even the bower tool itself does (it doesn't implement all of its own spec ;)
2015-02-10T00:50:53  <r1chardj0n3s_afk> jbooboo: I will investigate though
2015-02-10T00:51:18  <marun> sdague: regarding https://review.openstack.org/#/c/153365/, am I just confused as to the utility of grep/egrep?
2015-02-10T00:51:20  <jbooboo> r1chardj0n3s_afk: thanks.  if that's the case, that's kind of terrible (the spec seems halfway sensible)
2015-02-10T00:52:16  <foobio> sounds like the spec was wishful thinking. rfc it and they will come
2015-02-10T00:54:39  <openstackgerrit> Clark Boylan proposed openstack-infra/puppet-ansible: Pass PUPPET_CONFIG_REF through to the puppet run  https://review.openstack.org/154304
2015-02-10T00:56:06  <openstackgerrit> Clark Boylan proposed openstack-infra/system-config: Set PROJECT_CONFIG_REF for ansible  https://review.openstack.org/154305
2015-02-10T00:56:21  <quantumfly> mordred: ^ that is probably all wrong, feel free to update as necessary
2015-02-10T00:56:55  *** Longgeek has joined #openstack-infra
2015-02-10T00:57:01  *** MarkAtwood has quit IRC
2015-02-10T01:01:39  *** ildikov has quit IRC
2015-02-10T01:04:37  <openstackgerrit> Clark Boylan proposed openstack-infra/puppet-ansible: Pass PROJECT_CONFIG_REF through to the puppet run  https://review.openstack.org/154304
2015-02-10T01:06:58  *** shashankhegde has quit IRC
2015-02-10T01:07:18  *** zhiwei has joined #openstack-infra
2015-02-10T01:07:23  <jogo> quantumfly: very excited about aiopcpu patches landing, thanks
2015-02-10T01:08:25  <quantumfly> jogo: hopefully they get in ;)
2015-02-10T01:12:32  *** hdd has quit IRC
2015-02-10T01:14:19  *** gokrokve has quit IRC
2015-02-10T01:15:14  *** Longgeek has quit IRC
2015-02-10T01:15:18  *** ildikov has joined #openstack-infra
2015-02-10T01:16:45  *** achanda has quit IRC
2015-02-10T01:18:17  *** zz_dimtruck is now known as dimtruck
2015-02-10T01:21:18  *** ddieterly has joined #openstack-infra
2015-02-10T01:22:44  *** gokrokve has joined #openstack-infra
2015-02-10T01:25:07  *** tmcpeak has joined #openstack-infra
2015-02-10T01:27:38  *** otter768 has joined #openstack-infra
2015-02-10T01:27:48  <openstackgerrit> Merged openstack-infra/elastic-recheck: Add query for ironic bug 1418833  https://review.openstack.org/154272
2015-02-10T01:27:50  <openstack> bug 1418833 in Ironic "check-tempest-dsvm-ironic-agent_ssh fails due to ConfigDriveWriteError" [Critical,Fix committed] https://launchpad.net/bugs/1418833 - Assigned to Jay Faulkner (jason-oldos)
2015-02-10T01:28:22  *** marun has quit IRC
2015-02-10T01:29:28  <jhesketh> jbooboo: btw, did you see my change for zuul to disable a pipeline after too many consecutive failures?
2015-02-10T01:30:17  *** woodster_ has quit IRC
2015-02-10T01:31:50  *** tiswanso has quit IRC
2015-02-10T01:32:12  *** ChuckC_ has quit IRC
2015-02-10T01:32:18  *** tiswanso has joined #openstack-infra
2015-02-10T01:32:38  *** ChuckC_ has joined #openstack-infra
2015-02-10T01:32:58  *** ChuckC_ is now known as ChuckC
2015-02-10T01:33:09  *** signed8bit_ZZZzz is now known as signed8bit
2015-02-10T01:33:13  *** otter768 has quit IRC
2015-02-10T01:35:46  *** ChuckC has quit IRC
2015-02-10T01:36:30  *** ChuckC has joined #openstack-infra
2015-02-10T01:38:03  *** hdd has joined #openstack-infra
2015-02-10T01:38:57  *** shashankhegde has joined #openstack-infra
2015-02-10T01:39:25  *** Sukhdev has quit IRC
2015-02-10T01:43:21  *** ddieterl_ has joined #openstack-infra
2015-02-10T01:43:41  *** ddieterly has quit IRC
2015-02-10T01:47:17  <openstackgerrit> Darragh Bailey proposed stackforge/python-jenkins: Provider helper classes for plugin data management  https://review.openstack.org/154316
2015-02-10T01:50:16  <dstufft> Does Openstack rely on apt-get installed python at all in debstack or the CI or anything?
2015-02-10T01:50:30  <sdake> how many physical machines compose the jenkins gate?
2015-02-10T01:52:51  <jbooboo> jhesketh: i think i saw it briefly but haven't reviewed it yet.  seems useful even if we don't end up wanting to use it upstream
2015-02-10T01:53:21  <jbooboo> sdake: around 1000 virtual machines on public cloud providers.  no idea how much that translates to physically.
2015-02-10T01:53:39  <jhesketh> jbooboo: cool. It's mostly targeted at 3rd parties. Even if upstream infra (ie 1st parties) breaks terribly I suspect we want to keep voting
2015-02-10T01:53:44  <sdake> jbooboo cool thanks
2015-02-10T01:53:46  <quantumfly> dstufft yes all python installations are from system packages
2015-02-10T01:53:56  <jbooboo> sdake: (plus some physical hardware in use by tripleo, but that probably wasn't your question)
2015-02-10T01:53:56  <quantumfly> dstufft we dont custom python
2015-02-10T01:54:06  <sdake> say I want to run docker in the gate
2015-02-10T01:54:06  <dstufft> quantumfly: er, I meant python-pip sorry
2015-02-10T01:54:09  <sdake> would that be possible?
2015-02-10T01:54:17  *** gokrokve has quit IRC
2015-02-10T01:54:32  <jbooboo> sdake: are you asking in reference to a particular project?
2015-02-10T01:54:38  <quantumfly> yes its already done by the ipa image builds
2015-02-10T01:54:41  <sdake> what I'd like to do is run docker with some specific arguments (could be in a shell script) and then run tempest after
2015-02-10T01:54:48  <quantumfly> dstufft no thats all get pip now iirc
2015-02-10T01:54:52  <sdake> sweet got a pointer to how they did it?
2015-02-10T01:54:56  <sdake> (github link?)
2015-02-10T01:55:14  <sdake> jbooboo for kolla
2015-02-10T01:55:16  <dstufft> quantumfly: ok, then you won't be affected by the patch that Ubuntu landed into vivid ~5 hours ago
2015-02-10T01:55:26  <sdake> I want to add functional pre-commit testing
2015-02-10T01:55:28  *** ChuckC_ has joined #openstack-infra
2015-02-10T01:55:36  <jhesketh> jbooboo: however my initial implementation was to simply set a cut-off on the window. That is, once the window falls below X we stop voting. This solution turns out not to work because of the way independant pipelines have a change queue for each project change. What do you think about just counting failures at a pipeline level? Or possibly a more complicated solution of having a pipeline wide window
2015-02-10T01:56:03  <jbooboo> sdake: basically you have root on those machines so you can do whatever in the tests :)
2015-02-10T01:56:11  <sdake> sweet
2015-02-10T01:56:24  <sdake> what starts the test?  some specific command?
2015-02-10T01:56:38  *** bhuvan has quit IRC
2015-02-10T01:57:07  <sdake> liek I know there is a job pep8 which runs testr pep8 iirc
2015-02-10T01:57:12  <quantumfly> sdake https://git.openstack.org/cgit/openstack-infra/project-config/tree/jenkins/jobs/ironic-python-agent-jobs.yaml
2015-02-10T01:57:16  <sdake> but how could I get a specific shell script ran?
2015-02-10T01:58:16  <sdake> jbooboo line 10 is from the python-agent repo?
2015-02-10T01:58:37  *** ChuckC has quit IRC
2015-02-10T01:58:46  <jbooboo> sdake: yep
2015-02-10T01:58:54  <sdake> and that returns 0 if the test cases pass?
2015-02-10T01:59:12  <jbooboo> sdake: yep
2015-02-10T01:59:12  *** dmorita has quit IRC
2015-02-10T01:59:16  <sdake> am I permitted to create jobs for non-integrated projects (i.e. stackforge project)
2015-02-10T01:59:32  <jbooboo> sdake: sure thing.  stick 'em in their own file (kolla.yaml)
2015-02-10T02:00:44  <jbooboo> jhesketh: oops, our changes are colliding (since i just added that for crd).  so we could do those, or instead of dynamically creating them, we could statically create one for each project and then work out how to get the correct one for the 'live' change that is being enqueued
2015-02-10T02:00:56  <sdake> jbooboo I hate to sound like a noob, but I dont totally understand the structure of that file - do you have a link to appropraite documentation?
2015-02-10T02:01:18  <jbooboo> jhesketh: but that still may not be what you want because then each project would have to independently hit the min
2015-02-10T02:01:45  <jhesketh> yeah I saw something fly by for crd, but it was already merged so I haven't read the code yet
2015-02-10T02:01:49  <jbooboo> jhesketh: so probably something on the pipeline is what you want.
2015-02-10T02:02:05  <jhesketh> certainly I think on the pipeline is easier to do
2015-02-10T02:02:07  <jbooboo> jhesketh: i did write it in december :)
2015-02-10T02:02:22  <jhesketh> oh, I must have missed one of the changes to review then
2015-02-10T02:02:24  <sdake> jbooboo is there a fedora 21 node tyep?
2015-02-10T02:02:26  *** ChuckC has joined #openstack-infra
2015-02-10T02:02:28  * jhesketh tries to stay on top of zuul changes
2015-02-10T02:02:29  *** tmcpeak has quit IRC
2015-02-10T02:02:44  *** rwsu is now known as rwsu-afk
2015-02-10T02:02:57  <jbooboo> sdake: http://docs.openstack.org/infra/manual/drivers.html#running-jobs-with-zuul
2015-02-10T02:03:03  <jhesketh> jbooboo: to rephrase the question, can you see an easy way, or a useful case, for having a pipeline window?
2015-02-10T02:04:08  *** nelsnelson has quit IRC
2015-02-10T02:04:22  *** ChuckC_ has quit IRC
2015-02-10T02:04:37  *** nelsnelson has joined #openstack-infra
2015-02-10T02:04:57  <jbooboo> jhesketh: i feel like the main reason to do so is for this, and given that, it's worth considering an alternate implementation.
2015-02-10T02:05:40  <jhesketh> I guess I was asking if there was another reason to do it. But otherwise I agree
2015-02-10T02:05:46  *** shashankhegde has quit IRC
2015-02-10T02:05:53  <jbooboo> sdake: i believe there is.  note that fedora nodes come and go faster than other node types because of their support period.  you may need to keep your scripts up to date as that changes.
2015-02-10T02:06:08  <jhesketh> jbooboo: thanks, I should be able to roll something this afternoon :-)
2015-02-10T02:06:18  *** stevemar has quit IRC
2015-02-10T02:06:27  <sdake> I see- reason I ask is I need a newer version of docker then is in 14.04
2015-02-10T02:06:30  <jbooboo> sdake: (i'm not sure what the overlap or notification is going to look like, but in general, i don't expect it to be long)
2015-02-10T02:06:45  *** stevemar has joined #openstack-infra
2015-02-10T02:06:52  <sdake> and I don't know how to package for ubuntu
2015-02-10T02:07:09  <jbooboo> sdake: it's fine to use, just making sure you understand that they are a bit more 'best-effort' as far as the support period goes.
2015-02-10T02:07:18  <sdake> understood
2015-02-10T02:07:29  <sdake> I'll try ubuntu then if I can figure out how to package a new version of docker
2015-02-10T02:07:39  <sdake> I assume we can install stuff from the network with the gate?
2015-02-10T02:08:14  <jbooboo> sdake: for a stackforge project, yeah, you should be able to add a ppa and install that way.
2015-02-10T02:08:23  <jbooboo> (we wouldn't do that for an openstack project for policy reasons)
2015-02-10T02:09:02  <sdake> ya, this is more proof of concept prototype work, Im sure the new version of ubuntu will have the proper version of docker
2015-02-10T02:09:15  <sdake> by the time we are done, ubuntu should have the proper version
2015-02-10T02:10:19  <quantumfly> sdake we stick to ubuntu lts for the most part fwiw
2015-02-10T02:10:38  <quantumfly> ubuntu intermediate releases are only supported for 9 months
2015-02-10T02:10:52  <sdake> I can work with that, I just need to find an ubuntu packager in the short term :)
2015-02-10T02:12:41  *** Longgeek has joined #openstack-infra
2015-02-10T02:13:15  <sdake> jbooboo is it possible for a test case to consume multiple machines?
2015-02-10T02:13:24  <sdake> vms rather
2015-02-10T02:15:54  *** salv-orlando has quit IRC
2015-02-10T02:18:25  <jbooboo> sdake: yes, but it's pretty difficult and we're still just getting started with openstack.  i'd recommend against it for now.
2015-02-10T02:18:43  *** spzala has quit IRC
2015-02-10T02:18:47  <sdake> bummer so single node only
2015-02-10T02:18:57  <jbooboo> you can do a lot with a node :)
2015-02-10T02:19:03  *** masayukig has quit IRC
2015-02-10T02:19:15  <sdake> I want to test HA which requires 3 nodes
2015-02-10T02:19:19  *** masayukig has joined #openstack-infra
2015-02-10T02:19:52  <sdake> specifically i have a rabbitmq container
2015-02-10T02:19:57  <sdake> and I want to run it on 3 nodes and run test cases against it
2015-02-10T02:20:15  <jbooboo> sdake: can you run 3x on one node?  then shoot one of them to test ha?
2015-02-10T02:20:29  <sdake> I'm asking around atm about that exact question
2015-02-10T02:22:52  *** nelsnelson has quit IRC
2015-02-10T02:23:15  *** woodster_ has joined #openstack-infra
2015-02-10T02:23:21  *** dims__ has quit IRC
2015-02-10T02:23:49  <sdake> still asking :)
2015-02-10T02:26:28  <mordred> quantumfly: I'll take a look at those when I wake up
2015-02-10T02:26:42  *** lnxnut has joined #openstack-infra
2015-02-10T02:27:59  *** gokrokve has joined #openstack-infra
2015-02-10T02:32:45  *** sdake has left #openstack-infra
2015-02-10T02:32:48  *** sdake has joined #openstack-infra
2015-02-10T02:35:22  *** bhunter71 has quit IRC
2015-02-10T02:37:08  *** Longgeek has quit IRC
2015-02-10T02:38:36  <sdake> jbooboo last Q then I'll leave you alone :)  is it possible to do nested virt - in other words could I start 3 vms from within 1 vm to run the test case?
2015-02-10T02:38:38  *** gyee has quit IRC
2015-02-10T02:39:13  *** rfolco has joined #openstack-infra
2015-02-10T02:39:33  *** lnxnut has quit IRC
2015-02-10T02:39:55  <jbooboo> sdake: possible, but it's so slow as to be unusable (we tried with devstack)
2015-02-10T02:40:00  *** lnxnut has joined #openstack-infra
2015-02-10T02:40:24  <sdake> container launch for me is much tidier then devstack
2015-02-10T02:40:29  <jbooboo> sdake: so the nested virt is suitable for running something like cirros (which is what the devstack jobs do), but not real workloads nested
2015-02-10T02:40:31  <sdake> devstack takes 20 minutes on my high end hardwware
2015-02-10T02:40:48  <sdake> so I couldn't do a docker pull docker run in a nested virt then
2015-02-10T02:41:11  <mordred> our cloud providers do not support accelerated passthrough
2015-02-10T02:41:16  <mordred> so nested virt is legit nested
2015-02-10T02:41:23  <mordred> and not usuable speed-wise
2015-02-10T02:44:32  *** Liu_xinguo has joined #openstack-infra
2015-02-10T02:45:46  *** rackertom has joined #openstack-infra
2015-02-10T02:47:56  *** markvoelker has joined #openstack-infra
2015-02-10T02:49:15  *** gokrokve_ has joined #openstack-infra
2015-02-10T02:49:25  *** yamahata has quit IRC
2015-02-10T02:50:31  *** unicell has quit IRC
2015-02-10T02:50:32  *** gokrokve_ has quit IRC
2015-02-10T02:50:59  *** wuhg has joined #openstack-infra
2015-02-10T02:51:09  *** gokrokve_ has joined #openstack-infra
2015-02-10T02:51:51  *** cinerama has quit IRC
2015-02-10T02:52:19  *** gokrokve has quit IRC
2015-02-10T02:54:35  *** tqtran has quit IRC
2015-02-10T02:54:39  <openstackgerrit> Merged openstack-infra/devstack-gate: Separate public and flat interfaces for multinode  https://review.openstack.org/153093
2015-02-10T02:54:51  *** cinerama has joined #openstack-infra
2015-02-10T02:54:53  <openstackgerrit> Merged openstack-infra/devstack-gate: Diagram the nova net multinode network setup  https://review.openstack.org/153672
2015-02-10T02:55:00  <openstackgerrit> Merged openstack-infra/devstack-gate: Enable nova multi host on aiopcpu tests  https://review.openstack.org/131604
2015-02-10T02:55:07  <openstackgerrit> Merged openstack-infra/devstack-gate: Enable nova-api-metadata for multi host nova-network  https://review.openstack.org/136179
2015-02-10T02:55:54  <sdake> thanks jbooboo I'm off
2015-02-10T02:55:59  <sdake> you rock as usual :)
2015-02-10T02:56:35  <sdake> mordred cool thanks, I guess I'll nix that idea of nested virt then
2015-02-10T03:01:49  *** otter768 has joined #openstack-infra
2015-02-10T03:03:03  *** sdake has quit IRC
2015-02-10T03:03:31  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2015-02-10T03:03:32  *** dims__ has joined #openstack-infra
2015-02-10T03:07:08  *** dims__ has quit IRC
2015-02-10T03:07:44  *** dims__ has joined #openstack-infra
2015-02-10T03:07:50  *** dimtruck is now known as zz_dimtruck
2015-02-10T03:08:50  *** ddieterl_ has quit IRC
2015-02-10T03:09:22  *** ddieterly has joined #openstack-infra
2015-02-10T03:09:47  *** ddieterly has quit IRC
2015-02-10T03:09:52  <mordred> sdague: it would be cool if it worked ...
2015-02-10T03:10:13  *** ddieterly has joined #openstack-infra
2015-02-10T03:10:19  *** jerryz has joined #openstack-infra
2015-02-10T03:11:31  *** tqtran has joined #openstack-infra
2015-02-10T03:12:09  <quantumfly> so if using containeds anyway why not test it that way
2015-02-10T03:12:27  <quantumfly> should even be testable running 3 daemons without any virt
2015-02-10T03:12:39  <quantumfly> also protip rabbitmq ha recovery is bonghits
2015-02-10T03:13:19  <quantumfly> any messages on the losing partition go poof into the ether
2015-02-10T03:14:12  *** jyuso has quit IRC
2015-02-10T03:14:39  *** ddieterly has quit IRC
2015-02-10T03:15:02  <mordred> quantumfly: from what I can tell, rabbitmq ha is not ha by any definitions I've ever had of that term
2015-02-10T03:15:12  <quantumfly> yes pretty much
2015-02-10T03:15:14  *** jyuso1 has joined #openstack-infra
2015-02-10T03:15:27  <quantumfly> it just detects partitions and one side loses badly
2015-02-10T03:15:50  <mordred> well, that's better than not detecting partitions
2015-02-10T03:15:51  <openstackgerrit> Steve Baker proposed openstack-infra/project-config: check-heat-dsvm-functional-mysql raise timeout  https://review.openstack.org/154325
2015-02-10T03:15:59  <jhesketh> quantumfly: so... next steps for swift logs. Should we switch over some more jobs?
2015-02-10T03:16:06  * mordred loves swift logs
2015-02-10T03:16:16  <quantumfly> jhesketh maybe? also possibly concurrent uploads
2015-02-10T03:16:30  *** salv-orlando has joined #openstack-infra
2015-02-10T03:16:34  <jhesketh> quantumfly: I was thinking about that.. we are already uploading 10 files at a time as it turns out
2015-02-10T03:16:37  <quantumfly> but I am pretty confident in it actually working at this point that more jobs sounds good
2015-02-10T03:16:39  <jhesketh> due to the way the formpost works
2015-02-10T03:16:50  <quantumfly> oh thats probably good enough
2015-02-10T03:17:05  <jhesketh> maybe we need another way of looking into the high processing times
2015-02-10T03:17:13  <jhesketh> eg making sure it's actually a bandwidth issue and not something else?
2015-02-10T03:17:45  *** lnxnut has quit IRC
2015-02-10T03:17:55  <quantumfly> possibly
2015-02-10T03:21:22  *** salv-orlando has quit IRC
2015-02-10T03:22:19  *** boris-42 has quit IRC
2015-02-10T03:22:35  <jhesketh> quantumfly: maybe the upload script should print out what it is doing so we can get the timestamps in the jenkins logs (we'll never see them in the actual swift logs as the uploading all happens after the console is fetched)
2015-02-10T03:22:41  *** spzala has joined #openstack-infra
2015-02-10T03:22:55  <quantumfly> jhesketh that seems reasonable
2015-02-10T03:23:18  *** baoli has quit IRC
2015-02-10T03:23:23  <jhesketh> okay, gimme a sec :-)
2015-02-10T03:25:18  *** gokrokve_ has quit IRC
2015-02-10T03:28:59  <openstackgerrit> Joshua Hesketh proposed openstack-infra/project-config: Add extra information to zuul swift uploading  https://review.openstack.org/154326
2015-02-10T03:29:04  <jhesketh> quantumfly: ^ pretty crude but should give us an idea of what's slow
2015-02-10T03:29:04  *** david-lyle is now known as david-lyle_afk
2015-02-10T03:29:31  *** lnxnut has joined #openstack-infra
2015-02-10T03:29:32  *** baoli has joined #openstack-infra
2015-02-10T03:29:40  *** BharatK has joined #openstack-infra
2015-02-10T03:30:26  *** nelsnelson has joined #openstack-infra
2015-02-10T03:30:28  *** dmsimard_away is now known as dmsimard
2015-02-10T03:32:54  *** dmsimard is now known as dmsimard_away
2015-02-10T03:34:15  *** ayoung is now known as ayoung_sleep
2015-02-10T03:34:47  *** amrith is now known as _amrith_
2015-02-10T03:35:01  *** nelsnelson has quit IRC
2015-02-10T03:35:52  *** salv-orlando has joined #openstack-infra
2015-02-10T03:36:32  *** ashleighfarnham has joined #openstack-infra
2015-02-10T03:37:25  *** Longgeek has joined #openstack-infra
2015-02-10T03:37:48  *** salv-orlando has quit IRC
2015-02-10T03:40:47  *** ashleighfarnham has quit IRC
2015-02-10T03:42:43  *** gokrokve has joined #openstack-infra
2015-02-10T03:44:17  *** salv-orlando has joined #openstack-infra
2015-02-10T03:44:49  *** unicell has joined #openstack-infra
2015-02-10T03:45:41  *** _amrith_ is now known as amrith
2015-02-10T03:45:48  *** achanda has joined #openstack-infra
2015-02-10T03:46:04  *** Ryan_Lane has quit IRC
2015-02-10T03:46:28  *** koolhead17 has joined #openstack-infra
2015-02-10T03:47:20  *** dims_ has joined #openstack-infra
2015-02-10T03:49:37  *** dims__ has quit IRC
2015-02-10T03:50:27  *** hdd has quit IRC
2015-02-10T03:51:39  <greghaynes> quantumfly: thers settings for what rmq does when partitions happen
2015-02-10T03:51:47  <greghaynes> quantumfly: really where you lose data is when things rejoin the cluster
2015-02-10T03:52:02  <greghaynes> whoever is the joiner just drops all its data on the floor, which may or may not be an issue
2015-02-10T03:52:23  <quantumfly> ya there are manual options but iirc even they drop data on the floor
2015-02-10T03:52:52  <greghaynes> yep. You can set it to require quorum to accept a message, which is kind of the best you can get in terms of HA
2015-02-10T03:53:04  <greghaynes> its not totally reliable even so though
2015-02-10T03:54:10  <greghaynes> quantumfly: We had a lot of input on the tripleo rmq ha configs btw, if youre looking for reference
2015-02-10T03:54:31  <quantumfly> greghaynes: nah, I was just commenting on sdake's interest in testing rabbitmq ha
2015-02-10T03:55:00  <quantumfly> the big thing being one node should be sufficient you just need 3 daemons
2015-02-10T03:55:15  <greghaynes> ah yep
2015-02-10T03:55:50  *** tqtran has quit IRC
2015-02-10T03:58:16  *** carl_baldwin has joined #openstack-infra
2015-02-10T03:58:21  *** tmcpeak has joined #openstack-infra
2015-02-10T03:58:33  <greghaynes> running a build using the openstack-repos element really makes me want to parellelize source-repositories...
2015-02-10T03:59:10  <mordred> greghaynes: I think we'd like you if you did
2015-02-10T04:00:05  *** salv-orlando has quit IRC
2015-02-10T04:00:32  *** yamahata has joined #openstack-infra
2015-02-10T04:00:33  *** tmcpeak has quit IRC
2015-02-10T04:00:34  <quantumfly> greghaynes: its not that bad, though you have liekly never built a snapshot image so don't have that to compare against
2015-02-10T04:00:41  *** vigneshvar has joined #openstack-infra
2015-02-10T04:00:44  <greghaynes> quantumfly: yea, im spoiled
2015-02-10T04:00:53  <greghaynes> i was building images in a couple mins
2015-02-10T04:02:59  *** sdake has joined #openstack-infra
2015-02-10T04:04:26  <quantumfly> greghaynes: for me the longest step with a relatively up to date cache is the file copy
2015-02-10T04:04:39  <quantumfly> greghaynes: it is why I hate the file copy and wish dib would mount the image and chroot on top of it
2015-02-10T04:04:54  <openstackgerrit> Merged openstack-infra/nodepool: Fix nodepool --version  https://review.openstack.org/145930
2015-02-10T04:05:06  <quantumfly> (I understand the tmpfs case but you can switch based on tmpfs I just haven't had the time to actually change dib to do that yet)
2015-02-10T04:05:15  <greghaynes> I had big plans at one point to use lvm and be able to lvm snapshot a base image and chroot into it
2015-02-10T04:05:53  <quantumfly> greghaynes: we spend all this time extracting a qcow2 image into a tarball, exploding the tarball, chrooting into that, mounting a filesystem, then copying everything from the chroot into that
2015-02-10T04:05:54  *** salv-orlando has joined #openstack-infra
2015-02-10T04:06:10  <quantumfly> greghaynes: when all we need to do is take the source qcow2, mount a copy, and write into it, done
2015-02-10T04:06:39  <quantumfly> greghaynes: also if we did that precise could build centos7 images
2015-02-10T04:07:00  *** achanda has quit IRC
2015-02-10T04:07:02  <greghaynes> I thought you either had to nbd or convert to !qcow2 to edit it?
2015-02-10T04:07:03  *** mriedem has quit IRC
2015-02-10T04:07:57  <quantumfly> maybe? oh especially since you want raw to convert to other outputs
2015-02-10T04:08:10  <quantumfly> but the copying of files at the end should be avoidable at lesat
2015-02-10T04:08:17  <greghaynes> yea, thats the other problem, but you could in theory optimize the same in and out format case
2015-02-10T04:08:32  <greghaynes> sure, and really we should at a minimum be able to make a source cache
2015-02-10T04:08:40  *** achanda has joined #openstack-infra
2015-02-10T04:08:41  <quantumfly> but ya looks like nbd is required
2015-02-10T04:08:43  <greghaynes> where we dont rexplode the tarball unless the source file isnt in the cache
2015-02-10T04:09:06  <greghaynes> er, dont reconvert
2015-02-10T04:09:43  <quantumfly> mordred: did SpamapS say if he had to change anything to make mysql work or if he checked the resulting image?
2015-02-10T04:10:24  *** ddieterly has joined #openstack-infra
2015-02-10T04:10:25  *** baoli has quit IRC
2015-02-10T04:11:03  <greghaynes> IIRC he ran into the missing versionedobjects repo issue when he was trying out the in_chroot setting
2015-02-10T04:11:36  <quantumfly> then I fixed it and I thought he said he got mysql working
2015-02-10T04:12:05  <greghaynes> o
2015-02-10T04:12:34  *** salv-orlando has quit IRC
2015-02-10T04:12:49  <quantumfly> well "fixed" the proper race killing fix is in progress
2015-02-10T04:14:39  *** salv-orlando has joined #openstack-infra
2015-02-10T04:14:53  *** Longgeek has quit IRC
2015-02-10T04:15:04  *** ddieterly has quit IRC
2015-02-10T04:18:51  *** salv-orl_ has joined #openstack-infra
2015-02-10T04:19:05  *** salv-orlando has quit IRC
2015-02-10T04:22:35  *** tiswanso has quit IRC
2015-02-10T04:23:05  *** salv-orl_ has quit IRC
2015-02-10T04:23:38  *** mtanino has quit IRC
2015-02-10T04:26:22  <mordred> quantumfly: I do not know if he's booted the image
2015-02-10T04:27:13  *** salv-orlando has joined #openstack-infra
2015-02-10T04:27:16  *** spzala has quit IRC
2015-02-10T04:32:21  *** dims_ has quit IRC
2015-02-10T04:33:33  *** salv-orlando has quit IRC
2015-02-10T04:34:02  *** jdg is now known as jgriffith
2015-02-10T04:34:25  *** harlowja is now known as harlowja_away
2015-02-10T04:34:31  *** jgriffith is now known as Guest3282
2015-02-10T04:35:13  *** vigneshvar has quit IRC
2015-02-10T04:36:39  *** Guest3282 is now known as jgriffith
2015-02-10T04:43:33  *** dumbhead has left #openstack-infra
2015-02-10T04:48:51  *** Sukhdev has joined #openstack-infra
2015-02-10T04:49:25  <openstackgerrit> greghaynes proposed openstack-infra/project-config: set -x in cache-testrepository install  https://review.openstack.org/154337
2015-02-10T04:50:37  *** lnxnut has quit IRC
2015-02-10T04:51:22  *** lnxnut has joined #openstack-infra
2015-02-10T04:52:16  *** coolsvap_ is now known as coolsvap
2015-02-10T04:53:50  *** otter768 has quit IRC
2015-02-10T04:56:13  *** lnxnut has quit IRC
2015-02-10T04:56:22  *** gokrokve_ has joined #openstack-infra
2015-02-10T04:59:15  *** gokrokve has quit IRC
2015-02-10T05:00:42  *** gokrokve_ has quit IRC
2015-02-10T05:04:04  *** unicell1 has joined #openstack-infra
2015-02-10T05:04:53  *** unicell has quit IRC
2015-02-10T05:09:19  *** wuhg has quit IRC
2015-02-10T05:09:59  *** garyh has quit IRC
2015-02-10T05:11:36  *** ddieterly has joined #openstack-infra
2015-02-10T05:15:20  *** nikil89_ has joined #openstack-infra
2015-02-10T05:16:05  *** ddieterly has quit IRC
2015-02-10T05:18:25  *** nikil89_ is now known as naggappan
2015-02-10T05:19:30  *** ivar-laz_ has joined #openstack-infra
2015-02-10T05:19:40  *** achanda has quit IRC
2015-02-10T05:21:10  *** salv-orlando has joined #openstack-infra
2015-02-10T05:21:31  *** lnxnut has joined #openstack-infra
2015-02-10T05:22:37  *** ivar-lazzaro has quit IRC
2015-02-10T05:25:44  *** harlowja_at_home has joined #openstack-infra
2015-02-10T05:27:44  *** salv-orlando has quit IRC
2015-02-10T05:29:39  <openstackgerrit> Richard Jones proposed openstack-infra/infra-specs: Enable bower for managing Horizon components  https://review.openstack.org/154297
2015-02-10T05:37:13  *** abhirc has quit IRC
2015-02-10T05:38:52  *** lnxnut has quit IRC
2015-02-10T05:40:06  *** daneyon has quit IRC
2015-02-10T05:41:17  *** BharatK has quit IRC
2015-02-10T05:41:24  *** garyh has joined #openstack-infra
2015-02-10T05:42:05  *** unicell has joined #openstack-infra
2015-02-10T05:42:49  *** salv-orlando has joined #openstack-infra
2015-02-10T05:43:37  *** unicell1 has quit IRC
2015-02-10T05:45:14  *** salv-orlando has quit IRC
2015-02-10T05:45:17  *** camunoz has quit IRC
2015-02-10T05:45:26  *** hdd has joined #openstack-infra
2015-02-10T05:46:18  *** carl_baldwin has quit IRC
2015-02-10T05:47:02  *** zz_dimtruck is now known as dimtruck
2015-02-10T05:49:07  *** ildikov has quit IRC
2015-02-10T05:50:00  *** oomichi has quit IRC
2015-02-10T05:51:32  *** harlowja_at_home has quit IRC
2015-02-10T05:53:18  *** mrmartin has joined #openstack-infra
2015-02-10T05:53:39  *** enikanorov_ has joined #openstack-infra
2015-02-10T05:55:55  *** salv-orlando has joined #openstack-infra
2015-02-10T05:58:07  *** BharatK has joined #openstack-infra
2015-02-10T06:00:30  *** salv-orlando has quit IRC
2015-02-10T06:01:22  *** harlowja_away has quit IRC
2015-02-10T06:09:05  *** jyuso1 has quit IRC
2015-02-10T06:09:29  *** jyuso1 has joined #openstack-infra
2015-02-10T06:09:43  *** mrmartin has quit IRC
2015-02-10T06:10:36  *** Ryan_Lane has joined #openstack-infra
2015-02-10T06:12:22  *** ddieterly has joined #openstack-infra
2015-02-10T06:17:21  *** ddieterly has quit IRC
2015-02-10T06:18:02  *** salv-orlando has joined #openstack-infra
2015-02-10T06:20:58  *** achanda has joined #openstack-infra
2015-02-10T06:21:57  *** salv-orlando has quit IRC
2015-02-10T06:22:13  *** r1chardj0n3s is now known as r1chardj0n3s_afk
2015-02-10T06:22:46  *** ivar-laz_ has quit IRC
2015-02-10T06:25:16  *** imcsk8 has quit IRC
2015-02-10T06:25:29  *** imcsk8 has joined #openstack-infra
2015-02-10T06:26:41  *** ashleighfarnham has joined #openstack-infra
2015-02-10T06:29:22  *** signed8bit has quit IRC
2015-02-10T06:29:42  <openstackgerrit> YAMAMOTO Takashi proposed openstack/requirements: Add ryu>=3.18  https://review.openstack.org/154354
2015-02-10T06:34:36  *** camunoz has joined #openstack-infra
2015-02-10T06:35:33  *** Ryan_Lane has quit IRC
2015-02-10T06:37:01  *** unicell has quit IRC
2015-02-10T06:37:13  *** unicell has joined #openstack-infra
2015-02-10T06:37:29  <openstackgerrit> Steve Martinelli proposed openstack/requirements: Add oslo.policy to global requirements  https://review.openstack.org/148629
2015-02-10T06:44:28  *** hdd has quit IRC
2015-02-10T06:44:31  *** ildikov has joined #openstack-infra
2015-02-10T06:46:03  *** Sukhdev has quit IRC
2015-02-10T06:46:05  <openstackgerrit> Joshua Hesketh proposed openstack-infra/infra-specs: Enable bower for managing Horizon components  https://review.openstack.org/154297
2015-02-10T06:46:46  *** vigneshvar has joined #openstack-infra
2015-02-10T06:49:37  *** yamahata has quit IRC
2015-02-10T06:49:54  <openstackgerrit> Steve Martinelli proposed openstack/requirements: Add oslo.policy to global requirements  https://review.openstack.org/148629
2015-02-10T06:50:03  *** mrunge has joined #openstack-infra
2015-02-10T06:50:42  *** abhi1892 has joined #openstack-infra
2015-02-10T06:51:35  *** lnxnut has joined #openstack-infra
2015-02-10T06:52:31  *** shashankhegde has joined #openstack-infra
2015-02-10T06:54:47  *** otter768 has joined #openstack-infra
2015-02-10T06:56:25  *** salv-orlando has joined #openstack-infra
2015-02-10T06:56:49  *** lnxnut has quit IRC
2015-02-10T06:58:47  *** salv-orlando has quit IRC
2015-02-10T06:59:11  *** otter768 has quit IRC
2015-02-10T06:59:13  *** abhi1892 has quit IRC
2015-02-10T06:59:28  *** camunoz is now known as camunoz_gone
2015-02-10T07:02:28  *** achanda has quit IRC
2015-02-10T07:03:51  *** Ryan_Lane has joined #openstack-infra
2015-02-10T07:04:06  *** Ryan_Lane has quit IRC
2015-02-10T07:07:31  *** achanda has joined #openstack-infra
2015-02-10T07:08:04  *** scheuran has joined #openstack-infra
2015-02-10T07:09:24  *** salv-orlando has joined #openstack-infra
2015-02-10T07:10:12  *** ashleighfarnham has quit IRC
2015-02-10T07:13:09  *** ddieterly has joined #openstack-infra
2015-02-10T07:15:42  *** Longgeek has joined #openstack-infra
2015-02-10T07:16:13  *** salv-orlando has quit IRC
2015-02-10T07:16:50  *** Longgeek has quit IRC
2015-02-10T07:17:34  *** ddieterly has quit IRC
2015-02-10T07:29:08  *** sdake has quit IRC
2015-02-10T07:32:37  *** doude has joined #openstack-infra
2015-02-10T07:32:40  *** avozza is now known as zz_avozza
2015-02-10T07:32:53  *** HeOS has quit IRC
2015-02-10T07:33:15  *** dims__ has joined #openstack-infra
2015-02-10T07:33:25  *** achanda has quit IRC
2015-02-10T07:33:50  *** markvoelker has quit IRC
2015-02-10T07:34:24  *** markvoelker has joined #openstack-infra
2015-02-10T07:36:18  *** armax has quit IRC
2015-02-10T07:37:30  *** dims__ has quit IRC
2015-02-10T07:38:48  *** markvoelker has quit IRC
2015-02-10T07:39:00  *** achanda has joined #openstack-infra
2015-02-10T07:42:03  *** jyuso1 has quit IRC
2015-02-10T07:43:40  *** yfried_ is now known as yfried|afk
2015-02-10T07:44:55  *** jyuso1 has joined #openstack-infra
2015-02-10T07:45:56  *** belmoreira has joined #openstack-infra
2015-02-10T07:47:14  *** Ryan_Lane has joined #openstack-infra
2015-02-10T07:48:15  *** yfried|afk is now known as yfried_
2015-02-10T07:48:35  *** achanda has quit IRC
2015-02-10T07:50:09  *** sputnik13 has joined #openstack-infra
2015-02-10T07:51:12  <sputnik13> are there instances where tempest failure is an anomaly and just rerunning it makes it succeed?
2015-02-10T07:51:12  *** unicell has quit IRC
2015-02-10T07:51:55  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for disabling bad pipelines  https://review.openstack.org/154367
2015-02-10T07:52:25  *** lnxnut has joined #openstack-infra
2015-02-10T07:52:27  *** unicell has joined #openstack-infra
2015-02-10T07:52:58  <jhesketh> sputnik13: yes, a lot of these can be categorised by bugs that elastic-recheck is tracking
2015-02-10T07:53:12  <jhesketh> if you get a comment from elastic-recheck it probably means you hit a known race condition
2015-02-10T07:53:43  <sputnik13> mmm, where would I see such a thing?
2015-02-10T07:53:45  <sputnik13> https://review.openstack.org/#/c/152357/
2015-02-10T07:53:51  <sputnik13> sorry, I'm still relatively new
2015-02-10T07:54:42  <sputnik13> I can't see anything in the failure log that makes me think it's the code that I checked in as the unit tests for it work, and it's not a terribly complicated piece of code
2015-02-10T07:54:52  *** chlong has quit IRC
2015-02-10T07:55:10  <sputnik13> is there an easy way to force a re-run of the tests, short of submitting a new patch?
2015-02-10T07:56:30  *** mrunge_ has joined #openstack-infra
2015-02-10T07:57:25  *** lnxnut has quit IRC
2015-02-10T07:57:34  *** mrunge has quit IRC
2015-02-10T07:58:03  *** jcoufal has joined #openstack-infra
2015-02-10T08:00:03  <jhesketh> sputnik13: elastic-recheck is a bot that will leave a comment on your patch with the first line being 'recheck'
2015-02-10T08:00:19  <jhesketh> anybody leaving a comment with the first line being 'recheck' will actually re-run the tests (to answer your second question)
2015-02-10T08:00:37  <jhesketh> so you'd see the bot in the comments section, but I'm guessing since you haven't it's not a tracked bug
2015-02-10T08:00:59  <jhesketh>  a recheck (by leaving a comment yourself) is probably a good next step if you don't think the failure is due to your code
2015-02-10T08:02:43  <jhesketh> sputnik13: somehow that test segfaulted with no seemingly useful info!
2015-02-10T08:03:01  <jhesketh> curious t o see if it happens again
2015-02-10T08:03:42  <sputnik13> jhesketh: me too...  do I have to essentially submit a new patch?
2015-02-10T08:03:44  *** frobware_ has joined #openstack-infra
2015-02-10T08:03:52  *** fifieldt has joined #openstack-infra
2015-02-10T08:04:01  <jhesketh> sputnik13: nope, just leave a comment with nothing more than the text 'recheck'
2015-02-10T08:04:31  <jhesketh> then you'll see it appear on http://status.openstack.org/zuul/ (you can use the filter to filter by your change number 152357)
2015-02-10T08:04:50  <sputnik13> oh, neat
2015-02-10T08:04:52  <sputnik13> thank you
2015-02-10T08:04:55  *** markvoelker has joined #openstack-infra
2015-02-10T08:07:17  <jhesketh> no worries :-)
2015-02-10T08:07:24  *** yamamoto has quit IRC
2015-02-10T08:08:08  *** mrmartin has joined #openstack-infra
2015-02-10T08:08:26  <jhesketh> sputnik13: jobs a re-running. The job that failed previously is coming through here https://jenkins06.openstack.org/job/gate-tempest-dsvm-neutron-src-oslo.utils/29/console
2015-02-10T08:09:19  <sputnik13> oh that's nice
2015-02-10T08:09:43  *** markvoelker has quit IRC
2015-02-10T08:11:26  *** shashankhegde has quit IRC
2015-02-10T08:13:54  *** ddieterly has joined #openstack-infra
2015-02-10T08:13:54  *** stevemar has quit IRC
2015-02-10T08:14:44  *** Longgeek has joined #openstack-infra
2015-02-10T08:16:23  *** luqas has joined #openstack-infra
2015-02-10T08:17:26  *** dtantsur|afk is now known as dtantsur
2015-02-10T08:18:14  *** ddieterly has quit IRC
2015-02-10T08:19:26  <ttx> jbooboo: +1
2015-02-10T08:20:18  *** woodster_ has quit IRC
2015-02-10T08:22:46  *** mpaolino has joined #openstack-infra
2015-02-10T08:23:38  *** oomichi_ has joined #openstack-infra
2015-02-10T08:23:59  *** sc68cal has quit IRC
2015-02-10T08:24:17  *** frobware_ has quit IRC
2015-02-10T08:24:53  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Reorder settled check in tests  https://review.openstack.org/153799
2015-02-10T08:25:54  *** zz_avozza is now known as avozza
2015-02-10T08:26:02  *** arxcruz has joined #openstack-infra
2015-02-10T08:28:18  <openstackgerrit> Merged openstack-infra/project-config: Updates Kolla Project Description  https://review.openstack.org/154261
2015-02-10T08:29:30  <jhesketh> jbooboo: just been catching up on all your zuul changes that went in over the weekend, nice stuff!
2015-02-10T08:30:15  <jhesketh> jbooboo: I think we need to restart zuul on the server to get https://review.openstack.org/#/c/153801/3 to reload the webrpc stuff. At the moment http://zuul.openstack.org/ is showing all grey dots because the json feed doesn't have the new 'live' attribute
2015-02-10T08:30:37  *** sc68cal has joined #openstack-infra
2015-02-10T08:31:01  *** jgallard__ has joined #openstack-infra
2015-02-10T08:32:29  *** achuprin_ has quit IRC
2015-02-10T08:33:33  <openstackgerrit> Merged openstack-infra/zuul: Reorder settled check in tests  https://review.openstack.org/153799
2015-02-10T08:37:28  *** yamamoto has joined #openstack-infra
2015-02-10T08:38:07  *** yamamoto has quit IRC
2015-02-10T08:41:42  <openstackgerrit> David Pursehouse proposed openstack-infra/jenkins-job-builder: Add support to customize trigger-builds block thresholds  https://review.openstack.org/154379
2015-02-10T08:43:12  *** e0ne has joined #openstack-infra
2015-02-10T08:43:41  *** andreykurilin_ has joined #openstack-infra
2015-02-10T08:43:52  *** gokrokve has joined #openstack-infra
2015-02-10T08:44:08  *** jlibosva has joined #openstack-infra
2015-02-10T08:45:23  *** achuprin_ has joined #openstack-infra
2015-02-10T08:45:25  *** Ryan_Lane has quit IRC
2015-02-10T08:47:49  *** jistr has joined #openstack-infra
2015-02-10T08:48:34  *** MaxV has joined #openstack-infra
2015-02-10T08:52:08  *** afazekas has joined #openstack-infra
2015-02-10T08:54:56  *** gokrokve has quit IRC
2015-02-10T08:55:30  *** gokrokve has joined #openstack-infra
2015-02-10T08:55:41  *** otter768 has joined #openstack-infra
2015-02-10T08:57:17  *** jcoufal_ has joined #openstack-infra
2015-02-10T08:59:43  *** HeOS has joined #openstack-infra
2015-02-10T09:00:09  *** jcoufal has quit IRC
2015-02-10T09:00:14  *** gokrokve has quit IRC
2015-02-10T09:00:18  *** otter768 has quit IRC
2015-02-10T09:01:05  *** doude has quit IRC
2015-02-10T09:02:52  *** jpich has joined #openstack-infra
2015-02-10T09:03:03  *** markus_z has joined #openstack-infra
2015-02-10T09:05:45  *** markvoelker has joined #openstack-infra
2015-02-10T09:07:11  *** mrunge_ has quit IRC
2015-02-10T09:09:58  *** sarob has quit IRC
2015-02-10T09:10:37  *** markvoelker has quit IRC
2015-02-10T09:11:06  *** Guest82511 has joined #openstack-infra
2015-02-10T09:11:24  *** mrunge has joined #openstack-infra
2015-02-10T09:11:40  <openstackgerrit> Andrey Pavlov proposed openstack/requirements: Add botocore to requirements  https://review.openstack.org/154386
2015-02-10T09:13:11  *** vigneshvar has quit IRC
2015-02-10T09:14:41  *** ddieterly has joined #openstack-infra
2015-02-10T09:17:06  *** derekh has joined #openstack-infra
2015-02-10T09:17:07  *** hashar has joined #openstack-infra
2015-02-10T09:17:30  *** sputnik13 has quit IRC
2015-02-10T09:18:52  *** ddieterly has quit IRC
2015-02-10T09:21:15  *** vigneshvar has joined #openstack-infra
2015-02-10T09:24:59  *** e0ne is now known as e0ne_
2015-02-10T09:27:45  *** jcoufal_ has quit IRC
2015-02-10T09:28:30  *** salv-orlando has joined #openstack-infra
2015-02-10T09:32:42  *** koolhead17 has quit IRC
2015-02-10T09:33:52  *** dizquierdo has joined #openstack-infra
2015-02-10T09:35:03  *** e0ne_ has quit IRC
2015-02-10T09:36:59  *** salv-orlando has quit IRC
2015-02-10T09:40:49  *** salv-orlando has joined #openstack-infra
2015-02-10T09:41:02  *** andreykurilin_ has quit IRC
2015-02-10T09:41:31  *** hichihara has quit IRC
2015-02-10T09:47:13  *** salv-orlando has quit IRC
2015-02-10T09:48:11  *** ihrachyshka has joined #openstack-infra
2015-02-10T09:52:42  *** e0ne has joined #openstack-infra
2015-02-10T09:56:11  <ihrachyshka> jogo, hey
2015-02-10T09:56:21  <openstackgerrit> YAMAMOTO Takashi proposed openstack/requirements: README.rst: Fix a typo  https://review.openstack.org/154394
2015-02-10T09:57:23  *** ssam2 has joined #openstack-infra
2015-02-10T10:02:23  *** salv-orlando has joined #openstack-infra
2015-02-10T10:04:11  *** salv-orlando has quit IRC
2015-02-10T10:06:08  <openstackgerrit> Mehdi Abaakouk proposed openstack-infra/project-config: gnocchi: install the git repo  https://review.openstack.org/154398
2015-02-10T10:06:47  *** markvoelker has joined #openstack-infra
2015-02-10T10:07:47  *** bradjones has quit IRC
2015-02-10T10:09:24  *** rlandy has joined #openstack-infra
2015-02-10T10:09:45  <sileht> Hi, any idea why http://pypi.iad.openstack.org/simple/python-qpid-proton/ is not up2date, 0.8 exists in pypi.python.org: https://pypi.python.org/pypi/python-qpid-proton/0.8-0
2015-02-10T10:10:24  *** sarob has joined #openstack-infra
2015-02-10T10:10:37  *** bradjones has joined #openstack-infra
2015-02-10T10:10:47  *** ghostpl has joined #openstack-infra
2015-02-10T10:11:25  *** yamahata has joined #openstack-infra
2015-02-10T10:11:29  *** markvoelker has quit IRC
2015-02-10T10:12:46  *** salv-orlando has joined #openstack-infra
2015-02-10T10:12:53  *** BobBall_AWOL is now known as BobBall
2015-02-10T10:15:02  *** jcoufal has joined #openstack-infra
2015-02-10T10:15:27  *** ddieterly has joined #openstack-infra
2015-02-10T10:16:05  *** sarob has quit IRC
2015-02-10T10:20:13  *** ddieterly has quit IRC
2015-02-10T10:21:20  <openstackgerrit> Ricardo Carrillo Cruz proposed openstack-infra/storyboard: Fix notifications tests docstrings referencing map_resource method  https://review.openstack.org/154402
2015-02-10T10:22:08  *** jp_at_hp has joined #openstack-infra
2015-02-10T10:28:16  *** salv-orlando has quit IRC
2015-02-10T10:29:01  *** boris-42 has joined #openstack-infra
2015-02-10T10:29:51  *** pelix has joined #openstack-infra
2015-02-10T10:31:32  *** yamahata has quit IRC
2015-02-10T10:31:52  *** zhiwei has quit IRC
2015-02-10T10:37:30  *** Longgeek has quit IRC
2015-02-10T10:38:50  *** Guest82511 has quit IRC
2015-02-10T10:39:28  *** ldnunes has joined #openstack-infra
2015-02-10T10:44:59  *** cdent has joined #openstack-infra
2015-02-10T10:45:39  *** Longgeek has joined #openstack-infra
2015-02-10T10:47:08  *** andreaf_ has quit IRC
2015-02-10T10:55:04  *** yfried_ is now known as yfried|afk
2015-02-10T10:56:27  *** yfried|afk is now known as yfried_
2015-02-10T10:56:32  *** otter768 has joined #openstack-infra
2015-02-10T10:58:18  <ihrachyshka> chmouel, dtroyer, ianw, sdague, we need to push the following devstack patches to merge to start fixing stable gates: https://review.openstack.org/#/c/154252/ , https://review.openstack.org/#/c/154217/
2015-02-10T10:58:28  <openstackgerrit> Igor Belikov proposed openstack-infra/jenkins-job-builder: Add 'last-completed' to copyartifact 'which-build' values  https://review.openstack.org/154418
2015-02-10T10:58:42  *** dprince has joined #openstack-infra
2015-02-10T10:59:10  *** koolhead17 has joined #openstack-infra
2015-02-10T11:01:10  *** otter768 has quit IRC
2015-02-10T11:05:11  *** doude has joined #openstack-infra
2015-02-10T11:07:17  *** bradjones has quit IRC
2015-02-10T11:07:44  *** markvoelker has joined #openstack-infra
2015-02-10T11:07:48  *** salv-orlando has joined #openstack-infra
2015-02-10T11:09:01  *** bradjones has joined #openstack-infra
2015-02-10T11:10:16  *** salv-orlando has quit IRC
2015-02-10T11:11:59  *** sarob has joined #openstack-infra
2015-02-10T11:12:26  *** markvoelker has quit IRC
2015-02-10T11:16:12  *** ddieterly has joined #openstack-infra
2015-02-10T11:16:38  *** sarob has quit IRC
2015-02-10T11:16:46  <openstackgerrit> Mateusz Matuszkowiak proposed openstack-infra/project-config: Add Fuel Elastic Search/Kibana plugin  https://review.openstack.org/154422
2015-02-10T11:20:31  *** ddieterly has quit IRC
2015-02-10T11:20:37  *** salv-orlando has joined #openstack-infra
2015-02-10T11:21:21  *** EmilienM|afk is now known as EmilienM
2015-02-10T11:21:50  *** doude has quit IRC
2015-02-10T11:22:41  *** yfried_ is now known as yfried|afk
2015-02-10T11:22:50  *** yfried|afk is now known as yfried_
2015-02-10T11:23:22  *** ihrachyshka has quit IRC
2015-02-10T11:23:40  *** ihrachyshka has joined #openstack-infra
2015-02-10T11:23:46  *** dims__ has joined #openstack-infra
2015-02-10T11:24:52  *** salv-orlando has quit IRC
2015-02-10T11:27:44  *** aysyd has joined #openstack-infra
2015-02-10T11:30:33  *** jkt has quit IRC
2015-02-10T11:30:59  *** jkt has joined #openstack-infra
2015-02-10T11:31:13  *** mrmartin has quit IRC
2015-02-10T11:37:51  <openstackgerrit> Antoine Musso proposed openstack-infra/zuul: Merger: ensure_cloned() now looks for '.git'  https://review.openstack.org/123437
2015-02-10T11:43:01  *** jgallard__ has quit IRC
2015-02-10T11:44:48  *** pc_m has joined #openstack-infra
2015-02-10T11:45:00  <openstackgerrit> Antoine Musso proposed openstack-infra/zuul: Merger: ensure_cloned() now looks for '.git'  https://review.openstack.org/123437
2015-02-10T11:45:39  *** _nadya_ has joined #openstack-infra
2015-02-10T11:48:55  *** salv-orlando has joined #openstack-infra
2015-02-10T11:54:45  *** hashar has quit IRC
2015-02-10T11:57:41  *** claudiub_ has joined #openstack-infra
2015-02-10T11:59:50  *** chlong has joined #openstack-infra
2015-02-10T12:03:41  *** dimtruck is now known as zz_dimtruck
2015-02-10T12:08:05  *** e0ne is now known as e0ne_
2015-02-10T12:08:29  *** _nadya_ has quit IRC
2015-02-10T12:08:49  *** markvoelker has joined #openstack-infra
2015-02-10T12:10:14  *** avozza is now known as zz_avozza
2015-02-10T12:11:17  *** _nadya_ has joined #openstack-infra
2015-02-10T12:12:56  *** sarob has joined #openstack-infra
2015-02-10T12:13:38  *** markvoelker has quit IRC
2015-02-10T12:13:55  *** Longgeek has quit IRC
2015-02-10T12:16:57  *** ddieterly has joined #openstack-infra
2015-02-10T12:17:47  *** sarob has quit IRC
2015-02-10T12:18:37  *** e0ne_ has quit IRC
2015-02-10T12:21:27  *** ddieterly has quit IRC
2015-02-10T12:22:25  *** miqui has quit IRC
2015-02-10T12:22:40  *** dprince has quit IRC
2015-02-10T12:24:12  *** mpaolino has quit IRC
2015-02-10T12:24:12  *** belmoreira has quit IRC
2015-02-10T12:25:30  <openstackgerrit> Ilia Meerovich proposed openstack-infra/jenkins-job-builder: BugFix: pollscm trigger docs & unittests  https://review.openstack.org/147555
2015-02-10T12:29:31  *** changbl has quit IRC
2015-02-10T12:29:53  *** dizquierdo has quit IRC
2015-02-10T12:33:23  *** tmcpeak has joined #openstack-infra
2015-02-10T12:33:55  *** zz_dimtruck is now known as dimtruck
2015-02-10T12:35:12  *** yfried_ is now known as yfried|afk
2015-02-10T12:38:01  *** yfried|afk is now known as yfried_
2015-02-10T12:42:06  *** oomichi_ has quit IRC
2015-02-10T12:43:26  *** dimtruck is now known as zz_dimtruck
2015-02-10T12:45:02  *** dprince has joined #openstack-infra
2015-02-10T12:48:09  *** koolhead17 has quit IRC
2015-02-10T12:51:39  *** ilyashakhat has quit IRC
2015-02-10T12:51:47  <openstackgerrit> Mehdi Abaakouk proposed openstack-infra/project-config: gnocchi: install the git repo  https://review.openstack.org/154398
2015-02-10T12:52:00  *** weshay has joined #openstack-infra
2015-02-10T12:53:33  *** lnxnut has joined #openstack-infra
2015-02-10T12:53:56  <openstackgerrit> Mateusz Matuszkowiak proposed openstack-infra/project-config: Add Fuel Elastic Search/Kibana plugin  https://review.openstack.org/154422
2015-02-10T12:55:53  *** radez_g0n3 is now known as radez
2015-02-10T12:57:15  *** denis_makogon has quit IRC
2015-02-10T12:57:25  *** otter768 has joined #openstack-infra
2015-02-10T12:58:05  *** lnxnut has quit IRC
2015-02-10T12:59:57  *** ildikov has quit IRC
2015-02-10T13:00:45  *** hashar has joined #openstack-infra
2015-02-10T13:02:04  *** otter768 has quit IRC
2015-02-10T13:05:33  *** zz_avozza is now known as avozza
2015-02-10T13:05:46  *** markvoelker has joined #openstack-infra
2015-02-10T13:10:04  *** ilyashakhat has joined #openstack-infra
2015-02-10T13:14:09  *** sarob has joined #openstack-infra
2015-02-10T13:15:26  *** ildikov has joined #openstack-infra
2015-02-10T13:17:46  *** ddieterly has joined #openstack-infra
2015-02-10T13:18:04  *** doude has joined #openstack-infra
2015-02-10T13:18:43  *** sarob has quit IRC
2015-02-10T13:19:51  *** bhunter71 has joined #openstack-infra
2015-02-10T13:20:41  *** BharatK has quit IRC
2015-02-10T13:21:15  *** skolekonov has joined #openstack-infra
2015-02-10T13:22:19  *** ddieterly has quit IRC
2015-02-10T13:22:38  *** bswartz has quit IRC
2015-02-10T13:23:33  *** _nadya_ has quit IRC
2015-02-10T13:24:10  *** Guest82511 has joined #openstack-infra
2015-02-10T13:24:28  *** spzala has joined #openstack-infra
2015-02-10T13:25:07  *** e0ne has joined #openstack-infra
2015-02-10T13:26:37  *** ZZelle has joined #openstack-infra
2015-02-10T13:26:42  *** mpaolino has joined #openstack-infra
2015-02-10T13:36:28  *** woodster_ has joined #openstack-infra
2015-02-10T13:38:10  <foobio> sileht: what you _should_ be asking is why https://pypi.python.org/pypi/python-qpid-proton/0.8-0 doesn't have a files section and why the corresponding version is also not present at https://pypi.python.org/simple/python-qpid-proton/
2015-02-10T13:38:54  <openstackgerrit> Merged openstack-infra/storyboard: Fix exception in stories db api  https://review.openstack.org/153968
2015-02-10T13:39:10  <sileht> foobio, oh ok, I will see with the maintainer, thanks
2015-02-10T13:39:41  <dhellmann> quantumfly (and others): thanks for fixing up the oslo.versionedobjects repo yesterday
2015-02-10T13:40:27  *** bradjones has quit IRC
2015-02-10T13:40:54  *** ihrachyshka has quit IRC
2015-02-10T13:41:31  *** bknudson has quit IRC
2015-02-10T13:41:32  *** vigneshvar has quit IRC
2015-02-10T13:42:08  *** mfink_ has joined #openstack-infra
2015-02-10T13:42:44  *** ihrachyshka has joined #openstack-infra
2015-02-10T13:42:57  *** salv-orlando has quit IRC
2015-02-10T13:44:01  *** _nadya_ has joined #openstack-infra
2015-02-10T13:47:24  *** armax has joined #openstack-infra
2015-02-10T13:47:49  <mordred> foobio: my god - what the heck version number is 0.8-0?
2015-02-10T13:49:04  <foobio> mordred: not one of mine ;)
2015-02-10T13:49:35  <openstackgerrit> Ihar Hrachyshka proposed openstack-infra/system-config: Collect #openstack-stable logs  https://review.openstack.org/154474
2015-02-10T13:50:21  <foobio> mordred: their previous version is 0.7-0 so this seems consistent (for them anyway) but maybe it predates pep 440 enforcement for uploads and so their latest upload failed?
2015-02-10T13:50:38  <pc_m> quantumfly: foobio: ping
2015-02-10T13:50:50  <foobio> mordred: yeah, 0.7-0 was uploaded back in july
2015-02-10T13:52:49  <foobio> sileht: mordred: yeah and https://pypi.python.org/pypi/python-qpid-proton/0.8-0/json just has an empty list for the new release key in the releases dict, so clearly something is very wrong there
2015-02-10T13:53:00  <foobio> dstufft: ^ if you're awake already
2015-02-10T13:53:19  <foobio> pc_m: what else broke?
2015-02-10T13:53:24  <pc_m> foobio: I had VPN repo functional tests working in experimental queue, and then made them non-voting in check queue with https://review.openstack.org/#/c/152602/
2015-02-10T13:53:46  *** carl_baldwin has joined #openstack-infra
2015-02-10T13:54:01  <sileht> foobio, I have ping kgiusti about that too
2015-02-10T13:54:10  <pc_m> foobio: However, recent reviews don't seem to be showing the check-neutron-vpnaas-dsvm-functional running
2015-02-10T13:54:20  <pc_m> foobio: Any idea what may be wrong?
2015-02-10T13:54:25  <mordred> foobio: every day brings me new joy
2015-02-10T13:55:06  *** dmsimard_away is now known as dmsimard
2015-02-10T13:55:55  <foobio> pc_m: have an example openstack/neutron-vpnaas change where you would have expected to see it appear?
2015-02-10T13:56:37  <pc_m> foobio: Here's one that was updated 2/7 (two days after the merge) https://review.openstack.org/145005
2015-02-10T13:57:14  <pc_m> foobio: patch set 12
2015-02-10T13:57:41  *** marun has joined #openstack-infra
2015-02-10T13:58:06  *** emagana has joined #openstack-infra
2015-02-10T13:58:58  *** radez is now known as radez_g0n3
2015-02-10T13:59:15  *** nicodemos has joined #openstack-infra
2015-02-10T13:59:19  *** yamahata has joined #openstack-infra
2015-02-10T14:00:19  *** mrmartin has joined #openstack-infra
2015-02-10T14:00:50  *** bknudson has joined #openstack-infra
2015-02-10T14:01:18  <dstufft> foobio: I'm aware now!
2015-02-10T14:01:20  <dstufft> awake*
2015-02-10T14:01:30  *** salv-orlando has joined #openstack-infra
2015-02-10T14:02:08  *** mwagner_lap has quit IRC
2015-02-10T14:02:44  *** fifieldt has quit IRC
2015-02-10T14:02:49  <foobio> pc_m: blame dougwig. looks like he undid your change, probably in a rebase accident, via https://review.openstack.org/153373
2015-02-10T14:03:04  <foobio> dstufft: well, that make one of us
2015-02-10T14:03:13  * foobio still hasn't grabbed coffee yet
2015-02-10T14:03:24  <dstufft> foobio: well physically awake anyways ;) not mentally
2015-02-10T14:03:27  <foobio> new rule: coffee first then irc
2015-02-10T14:04:00  <mordred> foobio: my usual route is "start water boiling for coffee, pick up laptop and start reading scrollback, pour coffee in mug, start typing"
2015-02-10T14:04:13  <pc_m> foobio: Thanks! I was going nuts... Do I push a new review to restore?
2015-02-10T14:04:29  <foobio> pc_m: yeah you'll need a new change to fix that
2015-02-10T14:05:12  <pc_m> foobio: Also, I think I'm seeing pylint failures in VPN now... need to check... wondering if the change broke that too.
2015-02-10T14:05:15  <dstufft> https://pypi.python.org/pypi/python-qpid-proton/0.8-0 doesn't seem to be have had any files uploaded to PyPI
2015-02-10T14:05:18  <dstufft> that
2015-02-10T14:05:24  <dstufft> that's why the file list is empty
2015-02-10T14:05:29  <dstufft> not a pypi bug, just the maintainer didn't upload
2015-02-10T14:05:41  *** bcourt has joined #openstack-infra
2015-02-10T14:05:58  *** avozza is now known as zz_avozza
2015-02-10T14:06:52  *** annegentle has joined #openstack-infra
2015-02-10T14:06:56  *** bswartz has joined #openstack-infra
2015-02-10T14:07:13  *** elliottk_ has joined #openstack-infra
2015-02-10T14:07:23  *** david-lyle_afk is now known as david-lyle
2015-02-10T14:07:27  <pc_m> foobio: Actually, looks like pylint failed for FW, I did a recheck and it passed.
2015-02-10T14:07:36  *** elliottk has quit IRC
2015-02-10T14:08:16  <foobio> dstufft: thanks. sileht is asking the maintainer for details
2015-02-10T14:08:28  <anteaya> pc_m: FW?
2015-02-10T14:08:32  <anteaya> firewall
2015-02-10T14:08:38  <anteaya> forced water
2015-02-10T14:08:46  <mordred> foobio: testing centos dib image on rax now
2015-02-10T14:08:56  *** zz_avozza is now known as avozza
2015-02-10T14:08:56  <anteaya> functional wawa
2015-02-10T14:09:03  <mordred> foobio: please cross your fingers - if this one fails I'll have to debug systemd ...
2015-02-10T14:09:46  *** elliottk_ has left #openstack-infra
2015-02-10T14:09:50  *** mjturek1 has joined #openstack-infra
2015-02-10T14:09:58  <foobio> pc_m: not sure, though it looked like dougwig's change added those jobs for the first time, so possibly it was already broken
2015-02-10T14:10:04  *** elliottk_ has joined #openstack-infra
2015-02-10T14:10:20  *** reed has joined #openstack-infra
2015-02-10T14:10:40  <foobio> anteaya: presumably firewall (neutron-fwaas specifically since we were previously speaking in context of the neutron-vpnaas project)
2015-02-10T14:10:58  *** elliottk has joined #openstack-infra
2015-02-10T14:11:09  <anteaya> okay, surprisingly my first guess has backing
2015-02-10T14:11:22  <anteaya> I was hoping for functional wawa
2015-02-10T14:11:30  <anteaya> it just rolls off the tongue
2015-02-10T14:11:49  *** mestery has quit IRC
2015-02-10T14:12:25  <foobio> mordred: yeah, i've recently been forced to learn all sorts of things i didn't want to know about systemd, since i chose to accept the new default in debian/jessie
2015-02-10T14:14:08  *** elliottk_ has left #openstack-infra
2015-02-10T14:15:02  *** sarob has joined #openstack-infra
2015-02-10T14:15:08  *** GheRivero has quit IRC
2015-02-10T14:17:34  <anteaya> wznoinsk: hello
2015-02-10T14:17:37  *** lnxnut has joined #openstack-infra
2015-02-10T14:17:43  *** GheRivero has joined #openstack-infra
2015-02-10T14:17:52  <anteaya> wznoinsk: turns out you are the intel nfv ci rep I have been looking for
2015-02-10T14:18:50  <openstackgerrit> Paul Michali proposed openstack-infra/project-config: Restore lost changes to neutron-vpnaas  https://review.openstack.org/154487
2015-02-10T14:19:33  *** sarob has quit IRC
2015-02-10T14:19:42  <pc_m> foobio: can you and others review ^^^
2015-02-10T14:21:19  *** dustins has joined #openstack-infra
2015-02-10T14:22:19  *** dmsimard is now known as dmsimard_away
2015-02-10T14:22:22  *** lnxnut has quit IRC
2015-02-10T14:23:38  *** radez_g0n3 is now known as radez
2015-02-10T14:23:52  *** amotoki has joined #openstack-infra
2015-02-10T14:25:24  *** mriedem has joined #openstack-infra
2015-02-10T14:27:17  <hashar> hey guys :-]
2015-02-10T14:27:18  <sdague> foobio: https://review.openstack.org/#/c/154398 - I'd like to encourage the external plugin migrations, so if you could take a look at that
2015-02-10T14:27:43  <hashar> is anyone familiar with nodepool here?  I am wondering why it needs to maintain a database connection for each node :/
2015-02-10T14:28:36  <mordred> hashar: that seems like a lot of database connections...
2015-02-10T14:28:47  <anteaya> jaypipes: so I'm told wznoinsk is the intel nfv ci rep, just found that out. He has been attending meetings so should be around if you have questions. I know you were looking for the intel nfv rep as well
2015-02-10T14:28:58  <hashar> mordred: taken from http://ci.openstack.org/nodepool/installation.html#database
2015-02-10T14:29:12  <hashar> " When adding or deleting nodes, Nodepool will hold open a database connection for each node. "
2015-02-10T14:29:20  <hashar> seems that is just when creating and deleting them :-]
2015-02-10T14:29:34  <mordred> hrm. yes - I can verify this to be the case in our nodepool
2015-02-10T14:29:35  <openstackgerrit> Merged openstack-infra/project-config: Remove stable-compat jobs from pycadf  https://review.openstack.org/154268
2015-02-10T14:30:38  <jaypipes> anteaya: ty much!
2015-02-10T14:30:51  <mordred> hashar: I'd have to wait for jbooboo for a why
2015-02-10T14:30:54  <anteaya> jaypipes: np, keep me informed if you could
2015-02-10T14:31:10  <kgiusti> foobio: sileht: pong - seems I've caused you guys quite a bit of grief - sorry.  What can I do to help?
2015-02-10T14:31:15  <jaypipes> anteaya: will do.
2015-02-10T14:31:19  <anteaya> jaypipes: thanks
2015-02-10T14:31:37  <hashar> mordred: I guess I can survive; will probably start with 50 VM or 100 connections which is not unreasonable :-]
2015-02-10T14:31:43  <sileht> kgiusti, the 0.8-0 file is missing on pypi
2015-02-10T14:31:44  <wznoinsk> hi anteaya, nfv ci is in my timeline for this/next week not yet started
2015-02-10T14:31:56  <anteaya> wznoinsk: ah okay
2015-02-10T14:32:00  <sileht> kgiusti, the entry have been created but the file is missing
2015-02-10T14:32:07  <anteaya> wznoinsk: jaypipes here he is
2015-02-10T14:32:16  <anteaya> wznoinsk: so here is some background
2015-02-10T14:32:36  <anteaya> wznoinsk: at paris summit I agreed to work with whoever adrian sent me for nfv testing
2015-02-10T14:32:39  <openstackgerrit> Merged openstack-infra/project-config: Add docs jobs for diskimage-builder  https://review.openstack.org/153810
2015-02-10T14:32:41  <kgiusti> sileht: ah, so much for "learn by doing" - I obviously screwed something up there.
2015-02-10T14:32:53  <anteaya> wznoinsk: so then I was given the names of some folks in china, who are great people
2015-02-10T14:33:08  *** ddieterly has joined #openstack-infra
2015-02-10T14:33:17  <anteaya> wznoinsk: but as it turns out they aren't working on nfv testing, they are working on the inital foundation pci and sr-iov
2015-02-10T14:33:37  <kgiusti> sileht: I'm on the package management page now - it shows both 0.8-0 and 0.7-0 in the release list.
2015-02-10T14:33:42  <anteaya> wznoinsk: my understanding is pci is being tested and they are working on sr-iov
2015-02-10T14:33:54  <wznoinsk> yes, things has shifted here a bit but the nfv ci is coming very soon
2015-02-10T14:33:54  <kgiusti> sileht: is the package bad? or just not visible to you?
2015-02-10T14:34:07  <wznoinsk> yes, Yongli is SRIOV CI
2015-02-10T14:34:09  <anteaya> wznoinsk: however that doesn't help us as we had initiall asked for nfv, which is what I had agreed to support
2015-02-10T14:34:18  <anteaya> wznoinsk: right and they are doing great work
2015-02-10T14:34:19  <sileht> kgiusti, 0.7 have a file attached to the package but not 0.8
2015-02-10T14:34:40  <anteaya> wznoinsk: and jaypipes who is with nova, who wants to know the status of testing nfv is also interested
2015-02-10T14:35:02  <anteaya> wznoinsk: so intel has been doing some great work and is very diligent and that is good
2015-02-10T14:35:19  <anteaya> wznoinsk: but my initial agreement was to support nfv testing
2015-02-10T14:35:29  <anteaya> so I need to see some work happening on nfv testing
2015-02-10T14:35:40  <wznoinsk> I'm just finishing on our other Networking CI which started to comment last night, NFV to come next
2015-02-10T14:35:44  <anteaya> have a presented my position accurately
2015-02-10T14:35:53  <anteaya> wznoinsk: here is the thing
2015-02-10T14:36:04  <anteaya> I have put a lot of work in to helping intel ci reps
2015-02-10T14:36:19  <anteaya> including being up in the middle of the night for meetings that suit them
2015-02-10T14:36:29  <anteaya> I need to see some of what I said I would be getting
2015-02-10T14:36:41  <anteaya> I have been working hard for months
2015-02-10T14:36:43  *** abhirc has joined #openstack-infra
2015-02-10T14:36:43  *** baoli has joined #openstack-infra
2015-02-10T14:36:45  <anteaya> since paris summit
2015-02-10T14:37:14  <anteaya> I need to feel that that dedication is understood apprcicated respected valued and will turn into the results we asked for in the first place
2015-02-10T14:37:34  <anteaya> which is nfv testing
2015-02-10T14:38:21  <sileht> kgiusti, perhaps you just have to reuploaded the version
2015-02-10T14:38:52  <anteaya> wznoinsk: so if things shifted around a bit and nfv got a back burner, perhaps they need to shift back
2015-02-10T14:39:12  <anteaya> wznoinsk: since I had hoped by this time we would at least have some sort of prototype
2015-02-10T14:39:13  <wznoinsk> Adrian mentioned your dedication and support many times, I believe getting the CI working will not be a hard to accomplish task, is there any priority you'd like to see on top of it? any particular functions tested etc?
2015-02-10T14:39:28  <anteaya> I would like to hear it is a priority for you
2015-02-10T14:39:38  <anteaya> you think it will not be a hard to accomplish task
2015-02-10T14:39:41  <anteaya> I disagree
2015-02-10T14:39:46  <anteaya> noone else is doing it
2015-02-10T14:39:54  <anteaya> and it is entirely new territory
2015-02-10T14:40:10  <anteaya> so I would like to feel someone besides me and nova addresses it with a sense of urgency
2015-02-10T14:40:20  <wznoinsk> I mean from an infrastructure point of view (to get the CI working), what tests we want to run inside and how to solve them that's a neverending story
2015-02-10T14:40:31  <anteaya> well it sure is now
2015-02-10T14:40:37  <anteaya> since it isn't even started
2015-02-10T14:40:43  <anteaya> so let's start shall we?
2015-02-10T14:41:05  *** baoli has quit IRC
2015-02-10T14:41:21  <wznoinsk> sure
2015-02-10T14:41:25  <anteaya> wznoinsk: great
2015-02-10T14:41:41  *** baoli has joined #openstack-infra
2015-02-10T14:41:45  <anteaya> jaypipes: do let me know when you have time to discuss initial testing steps with wznoinsk
2015-02-10T14:41:55  <anteaya> or point me to the channel log after the discussion
2015-02-10T14:42:07  <anteaya> wznoinsk: please co-ordinate with jaypipes
2015-02-10T14:42:26  <anteaya> I'd like to see you had an initial discussion by next week
2015-02-10T14:42:32  <anteaya> at the very least
2015-02-10T14:42:34  <kgiusti> sileht: probably, but I'd like to know what I did wrong in the first place - this is my first pypi package, and it's obvious I don't know what I'm doing :(
2015-02-10T14:43:06  *** pradk has joined #openstack-infra
2015-02-10T14:43:08  *** sabeen1 has joined #openstack-infra
2015-02-10T14:43:20  *** dims__ has quit IRC
2015-02-10T14:43:28  <jaypipes> anteaya: will try my best.
2015-02-10T14:43:32  *** amrith is now known as _amrith_
2015-02-10T14:43:33  <anteaya> jaypipes: thank you
2015-02-10T14:43:58  *** dims__ has joined #openstack-infra
2015-02-10T14:43:59  *** dims__ has quit IRC
2015-02-10T14:44:08  <mordred> kgiusti: the release has been registered, but there are no files there
2015-02-10T14:44:10  <sileht> kgiusti, I'm not familiar with pypi too, I just known that openstack-infra use https://pypi.python.org/pypi/twine
2015-02-10T14:44:12  <wznoinsk> jaypipes: I need to synch up with Adrian on latest discussion about nfv ci here but we can start talking already, what you're upto exactly?
2015-02-10T14:44:13  <kgiusti> sileht: I can't even be sure the setup.py is correct - the version #'s aren't right
2015-02-10T14:44:21  *** pradk has quit IRC
2015-02-10T14:44:29  *** joesavak has joined #openstack-infra
2015-02-10T14:44:33  *** dims__ has joined #openstack-infra
2015-02-10T14:44:41  <mordred> kgiusti: when you did the upload, did you run "python setup.py upload" or did you run "python setup.py sdist upload" (the first form will happily upload 0 files for you)
2015-02-10T14:45:03  <kgiusti> mordred: I did the second - 'sdist upload'
2015-02-10T14:45:12  <anteaya> wznoinsk: do share the channel log in your chat with adrian: http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2015-02-10.log
2015-02-10T14:45:17  <mordred> kgiusti: hrm. weird
2015-02-10T14:45:20  *** esmute has quit IRC
2015-02-10T14:45:42  <kgiusti> mordred: or at least that's the way I remember it.  But I can't remember what I had for breakfast this morning, so...
2015-02-10T14:45:59  *** radez is now known as radez_g0n3
2015-02-10T14:46:26  <mordred> :)
2015-02-10T14:46:26  *** juice has quit IRC
2015-02-10T14:46:28  <mordred> me either
2015-02-10T14:46:30  <mordred> and I'm still having it :)
2015-02-10T14:46:32  <kgiusti> mordred: let me try that again.  But before I do, do you know how I can increment the '-0' portion of the version #?
2015-02-10T14:47:00  <mordred> you can upload by hand here: https://pypi.python.org/pypi?:action=files&name=python-qpid-proton&version=0.8-0
2015-02-10T14:47:10  <mordred> kgiusti: where is your source code and I'll take a look?
2015-02-10T14:47:16  <kgiusti> "Hi, my name's Kenneth, and I'm a C programmer."
2015-02-10T14:47:25  <mordred> hehe
2015-02-10T14:47:54  *** esmute has joined #openstack-infra
2015-02-10T14:48:01  <mordred> kgiusti: before we started openstack, I was hacking on the internals of a database in C++ with jaypipes - I hear you :)
2015-02-10T14:48:25  *** juice has joined #openstack-infra
2015-02-10T14:49:05  *** amitgandhinz has joined #openstack-infra
2015-02-10T14:49:06  *** tiswanso has joined #openstack-infra
2015-02-10T14:49:15  <kgiusti> mordred: be careful of jaypipes - I heard he owns a pug.  Pug owners aren't quite normal.
2015-02-10T14:49:28  <jaypipes> I have 3 pugs actually :)
2015-02-10T14:49:28  <kgiusti> mordred: https://github.com/apache/qpid-proton/blob/0.8/proton-c/bindings/python/setup.py.in
2015-02-10T14:49:49  <kgiusti> jaypipes: you have me beat - I only have 2.  Primary and backup.
2015-02-10T14:50:00  <jaypipes> :)
2015-02-10T14:50:18  <anteaya> jaypipes also has a pug stroller
2015-02-10T14:50:26  <anteaya> that still kills me
2015-02-10T14:50:34  <foobio> sdague: no concerns with that job cloning something from github which it could just as easily pull from our git mirror?
2015-02-10T14:50:34  <jaypipes> haters! :)
2015-02-10T14:50:53  <anteaya> it makes me laugh every time
2015-02-10T14:50:54  <kgiusti> jaypipes: pug stroller: +1!
2015-02-10T14:51:32  <foobio> sdague: or does the plugin layer have sufficient smarts to clone from the local copy on the worker (in which case it's just fetching updates from github, so not quite as bad)?
2015-02-10T14:51:38  <mordred> kgiusti: so - you want to set: https://github.com/apache/qpid-proton/blob/0.8/proton-c/bindings/python/setup.py.in#L28 if you want to bump the final version ... however, first let me make another suggestion (and I'll follow up with a PR if you want)
2015-02-10T14:52:03  <mordred> kgiusti: which is to change the - here https://github.com/apache/qpid-proton/blob/0.8/proton-c/bindings/python/setup.py.in#L93 to a .
2015-02-10T14:52:21  <mordred> kgiusti: at which point your versions will be compatible with normal python version semantics
2015-02-10T14:53:06  <mordred> kgiusti: happy to send a patch - but it's a one-character change, so I don't know if it's worth me doing it
2015-02-10T14:53:32  <sdague> foobio: by adding to PROJECTS it will get updated by zuul
2015-02-10T14:54:00  <kgiusti> mordred: man I owe you one big $(BEVERAGE) of Vancouver's finest.
2015-02-10T14:54:01  *** koolhead17 has joined #openstack-infra
2015-02-10T14:54:24  <foobio> sdague: cool, i'll read the source for details on exactly what 'enable_plugin gnocchi https://github.com/stackforge/gnocchi
2015-02-10T14:54:26  <mordred> kgiusti: mmm. I like $(BEVERAGE) !
2015-02-10T14:54:27  <foobio> masterenable_plugin gnocchi https://github.com/stackforge/gnocchi
2015-02-10T14:54:29  <foobio> master' does
2015-02-10T14:54:42  <foobio> gah, my paste has gone off the rails
2015-02-10T14:54:58  <kgiusti> mordred: thought so (just a lucky guess) :)
2015-02-10T14:55:34  <sdague> foobio: ERROR_ON_CLONE is still true the gate runs, so I think it's actually fine
2015-02-10T14:56:31  <foobio> sdague: interesting... so the second parameter to enable_plugin is basically a no-op in this case (and could be replaced with garbage)?
2015-02-10T14:56:34  *** yfried_ is now known as yfried|afk
2015-02-10T14:58:21  *** otter768 has joined #openstack-infra
2015-02-10T14:59:03  <foobio> sdague: aha, yep. it's just adding to the GITREPO array which ends up being unused in our ci
2015-02-10T14:59:36  <sdague> foobio: yeh
2015-02-10T14:59:42  <foobio> still would be nice to avoid future cargo cultists thinking this parameter is doing something real in the job
2015-02-10T14:59:51  *** jgallard__ has joined #openstack-infra
2015-02-10T14:59:58  <sdague> so in the ec2 job definition I expressed that fact with a comment
2015-02-10T15:00:22  *** r-daneel has joined #openstack-infra
2015-02-10T15:00:42  <sdague> once we've got a few more of these out there, I'm going to write a more complete guide
2015-02-10T15:02:27  *** e0ne is now known as e0ne_
2015-02-10T15:02:44  *** otter768 has quit IRC
2015-02-10T15:03:00  *** sabeen2 has joined #openstack-infra
2015-02-10T15:03:22  <foobio> would something like UNUSED_ARGUMENT in place of the url work fine with devstack?
2015-02-10T15:04:37  *** sabeen1 has quit IRC
2015-02-10T15:04:48  *** esmute has quit IRC
2015-02-10T15:04:57  <openstackgerrit> Merged openstack-infra/project-config: Add devstack-plugin-sheepdog project into stackforge  https://review.openstack.org/154199
2015-02-10T15:05:08  *** radez_g0n3 is now known as radez
2015-02-10T15:05:16  <openstackgerrit> Merged openstack-infra/project-config: Add puppet tripleo check tests  https://review.openstack.org/154152
2015-02-10T15:05:48  *** BadCub has quit IRC
2015-02-10T15:05:53  *** vipul has quit IRC
2015-02-10T15:05:54  *** radez is now known as radez_g0n3
2015-02-10T15:06:55  *** mwagner_lap has joined #openstack-infra
2015-02-10T15:06:55  *** esmute has joined #openstack-infra
2015-02-10T15:07:00  *** BadCub has joined #openstack-infra
2015-02-10T15:07:07  *** vipul has joined #openstack-infra
2015-02-10T15:07:16  *** e0ne_ is now known as e0ne
2015-02-10T15:07:42  *** yfried|afk is now known as yfried_
2015-02-10T15:07:45  <anteaya> so neutron is discussing creating a neutron lib to address tagging issues with the *aas repos
2015-02-10T15:07:50  <openstackgerrit> Matt Riedemann proposed openstack-infra/elastic-recheck: Add query for cells volume exercise bug 1420322  https://review.openstack.org/154508
2015-02-10T15:07:52  <openstack> bug 1420322 in OpenStack Compute (nova) "gate-devstack-dsvm-cells fails in volumes exercise with "Server ex-vol-inst not deleted"" [Medium,Triaged] https://launchpad.net/bugs/1420322
2015-02-10T15:08:03  <anteaya> if anyone wants to join -neutron and offer an opinion
2015-02-10T15:08:16  *** dangers_away is now known as dangers
2015-02-10T15:09:11  <openstackgerrit> Merged openstack-infra/project-config: move from macro install-chefdk to chef-bootstrap  https://review.openstack.org/154207
2015-02-10T15:09:17  *** emagana has quit IRC
2015-02-10T15:09:19  <openstackgerrit> Merged openstack-infra/project-config: Exporting PROJECTS variable for glusterfs job  https://review.openstack.org/154227
2015-02-10T15:09:25  <openstackgerrit> Merged openstack-infra/project-config: set -x in cache-testrepository install  https://review.openstack.org/154337
2015-02-10T15:09:53  *** emagana has joined #openstack-infra
2015-02-10T15:10:06  *** nelsnelson has joined #openstack-infra
2015-02-10T15:10:23  *** zz_jgrimm is now known as jgrimm
2015-02-10T15:11:27  *** thedodd has joined #openstack-infra
2015-02-10T15:11:57  *** nelsnelson has quit IRC
2015-02-10T15:13:51  <sileht> foobio, for your comment here: https://review.openstack.org/#/c/154398/2/jenkins/jobs/gnocchi.yaml, if I use 'enable_plugin gnocchi /opt/git/stackforge/gnocchi' like the glusterfs plugin does, it's OK ?
2015-02-10T15:14:48  *** Longgeek has joined #openstack-infra
2015-02-10T15:14:48  <foobio> sileht: yeah, that looks like it should be just fine
2015-02-10T15:15:05  <sileht> foobio, thanks
2015-02-10T15:15:06  <openstackgerrit> Mehdi Abaakouk proposed openstack-infra/project-config: gnocchi: install the git repo  https://review.openstack.org/154398
2015-02-10T15:15:12  *** dmsimard_away is now known as dmsimard
2015-02-10T15:15:13  *** emagana has quit IRC
2015-02-10T15:15:19  <foobio> sileht: alternatively i think we can put something there to make it more obvious it's not referenced at all by the job, but probably not as critical for now
2015-02-10T15:16:02  *** Longgeek has quit IRC
2015-02-10T15:16:10  *** sarob has joined #openstack-infra
2015-02-10T15:16:24  <foobio> sileht: the enable_plugin function just expects something in that parameter, but the array it's added to shouldn't actually be getting values passed to git calls so will never be validated
2015-02-10T15:16:38  <openstackgerrit> Merged openstack-infra/project-config: Zuul: Ignore dependencies in merge-check  https://review.openstack.org/154278
2015-02-10T15:17:29  <jbooboo> i will restart zuul now for that ^
2015-02-10T15:17:30  *** coolsvap is now known as coolsvap_
2015-02-10T15:18:02  *** nelsnelson has joined #openstack-infra
2015-02-10T15:18:29  *** cnesa has joined #openstack-infra
2015-02-10T15:18:37  <foobio> cool, thanks
2015-02-10T15:19:39  <jbooboo> foobio: can you look at 154232?
2015-02-10T15:19:45  <foobio> that'll also address jhesketh's comments about all the grey dots on the zuul.openstack.org sitye
2015-02-10T15:20:13  <foobio> the restart will i mean, not 154232
2015-02-10T15:20:34  *** sigmavirus24_awa is now known as sigmavirus24
2015-02-10T15:20:48  *** sarob has quit IRC
2015-02-10T15:20:51  <jbooboo> ya
2015-02-10T15:21:19  *** gokrokve has joined #openstack-infra
2015-02-10T15:22:17  <jbooboo> also, anyone have any depends-on: changes handy?
2015-02-10T15:22:27  <foobio> i have some i think. looking
2015-02-10T15:22:55  *** juice has quit IRC
2015-02-10T15:23:06  <vponomaryov> Hello. Does anybody know is there requirement to support SQLite in OpenStack projects?
2015-02-10T15:23:34  <anteaya> vponomaryov: not that I am aware
2015-02-10T15:23:34  <foobio> hrm, maybe not any of mine now... looks like the ones they depend on have merged
2015-02-10T15:23:37  *** esmute has quit IRC
2015-02-10T15:23:52  <anteaya> vponomaryov: the db of choice is mysql to the best of my knowledge
2015-02-10T15:24:21  *** NobodyCam has quit IRC
2015-02-10T15:24:27  *** BadCub has quit IRC
2015-02-10T15:24:49  *** vipul has quit IRC
2015-02-10T15:24:50  *** jesusaurus has quit IRC
2015-02-10T15:25:10  <foobio> vponomaryov: sqlite support has mostly been to provide an easy test target so that devs don't need to install a database daemon (though i agree that's a poor excuse for a proper mock)
2015-02-10T15:25:55  *** jedimike has joined #openstack-infra
2015-02-10T15:25:57  *** esmute has joined #openstack-infra
2015-02-10T15:26:06  *** NobodyCam has joined #openstack-infra
2015-02-10T15:26:12  <anteaya> the middle of the night meetings followed by the every other week early morning neutron meeting is not my favourite combination
2015-02-10T15:26:23  <anteaya> I'm going to see if I can get some more sleep
2015-02-10T15:26:27  *** juice has joined #openstack-infra
2015-02-10T15:26:28  *** BadCub has joined #openstack-infra
2015-02-10T15:27:07  *** vipul has joined #openstack-infra
2015-02-10T15:27:22  <openstackgerrit> Bharat Kumar Kobagana proposed openstack-infra/project-config: Minimizing the plugin specific configuration in job definition  https://review.openstack.org/154518
2015-02-10T15:27:33  <foobio> gerrit message searches don't do well with depends-on
2015-02-10T15:27:40  <vponomaryov> foobio, anteya: thanks
2015-02-10T15:27:52  *** jesusaurus has joined #openstack-infra
2015-02-10T15:28:02  <jbooboo> foobio: yeah, i was afraid of that (that's going to make finding reverse dependencies difficult)
2015-02-10T15:28:41  <jbooboo> i'll cook up something synthetic
2015-02-10T15:29:04  <foobio> jbooboo: aha! https://review.openstack.org/140043 looks like a great test
2015-02-10T15:29:32  <foobio> jbooboo: it has two depends-on headers, one of which references an abandoned change. not sure what that might break ;)
2015-02-10T15:29:55  <jbooboo> foobio: the second references a change in the same repo, which is unecessary
2015-02-10T15:29:58  *** lnxnut has joined #openstack-infra
2015-02-10T15:29:59  *** lnxnut has quit IRC
2015-02-10T15:30:01  <foobio> ahh, yep
2015-02-10T15:30:05  <jbooboo> (but should still work as long as it does not create a cycle
2015-02-10T15:30:10  <foobio> also there's a semi-circular dep
2015-02-10T15:30:17  * mordred throws angry bulls at everyone around
2015-02-10T15:30:23  <jbooboo> foobio: how?
2015-02-10T15:30:24  * mordred throws angry bulls at self
2015-02-10T15:30:24  *** timcline has joined #openstack-infra
2015-02-10T15:30:27  *** ghostpl has quit IRC
2015-02-10T15:30:45  *** carl_baldwin has quit IRC
2015-02-10T15:30:46  *** lnxnut has joined #openstack-infra
2015-02-10T15:30:57  <mordred> sigh. I just spent 2 hours trying to troubleshoot why the systemd stuff wasn't working - and the real problem was that I'd run the wrong image buidl script and had not actually included it in the image at all
2015-02-10T15:31:25  *** wenlock has joined #openstack-infra
2015-02-10T15:31:32  <foobio> jbooboo: 140043 depends on (abandoned)151910 and 151912, then 151912 depends on (abandoned)151910 too
2015-02-10T15:31:33  *** koolhead17 has quit IRC
2015-02-10T15:31:40  <foobio> so maybe not circular, just redundant
2015-02-10T15:32:04  <foobio> mordred: you should totally blame lennart for that
2015-02-10T15:32:11  <mordred> foobio: it's clearly his fault
2015-02-10T15:32:13  <foobio> it's the fashionable choice, after all
2015-02-10T15:32:34  <sdague> mordred: wait... you actually concluded that systemd was not the source of some problem you had? ;)
2015-02-10T15:32:36  *** tmcpeak has quit IRC
2015-02-10T15:32:40  <mordred> sdague: right?
2015-02-10T15:33:01  <mordred> sdague: I'm as shocked as the next person
2015-02-10T15:33:06  *** koolhead17 has joined #openstack-infra
2015-02-10T15:33:11  <jbooboo> foobio: i'll wait a few mins for a bare-precise to register, then recheck it
2015-02-10T15:33:23  <mordred> also - if this does work - I will quickly need to say that the systemd answer to this problem is much clearer than the upstart answer was
2015-02-10T15:33:39  <mordred> although both are bonghits amounts of worse than sysvinit woudl be to solve the exact same problem
2015-02-10T15:34:05  *** dustins_ has joined #openstack-infra
2015-02-10T15:34:19  *** andreykurilin_ has joined #openstack-infra
2015-02-10T15:34:38  <jbooboo> when i quit firefox, it spends a couple of minutes in iowait.  :(
2015-02-10T15:34:43  *** zz_dimtruck is now known as dimtruck
2015-02-10T15:34:45  <foobio> jbooboo: 144167 and 152508 would make good (and somewhat more typical) examples
2015-02-10T15:34:57  *** achanda has joined #openstack-infra
2015-02-10T15:35:08  <foobio> jbooboo: one has a single dep, one has two deps one of which is merged and the other is not
2015-02-10T15:35:58  <jbooboo> foobio: ah 152508 may actually change test results based on it!
2015-02-10T15:36:09  <foobio> indeed
2015-02-10T15:36:26  *** tsg has joined #openstack-infra
2015-02-10T15:37:23  *** dustins has quit IRC
2015-02-10T15:39:01  <quantumfly> you all are awake far too early in the morning
2015-02-10T15:39:10  <quantumfly> mordred how was my ansible stuff?
2015-02-10T15:39:18  <openstackgerrit> Maru Newby proposed openstack-infra/project-config: Add conditional skips for neutron jobs  https://review.openstack.org/152298
2015-02-10T15:39:48  <jbooboo> quantumfly: i woke up the moment the zuul config change was approved
2015-02-10T15:40:46  <jbooboo> bare-precise | building | 0.73
2015-02-10T15:40:48  <jbooboo> jeez ^
2015-02-10T15:41:04  <foobio> gate-system-config-puppet-syntax NOT_REGISTERED
2015-02-10T15:41:09  <foobio> saw that
2015-02-10T15:41:09  <jbooboo> foobio: ^^
2015-02-10T15:41:13  <foobio> yeah
2015-02-10T15:41:18  <foobio> jbooboo: is that in rax?
2015-02-10T15:41:22  <jbooboo> yup
2015-02-10T15:41:30  <jbooboo> all 3 of the ones building are
2015-02-10T15:41:42  <foobio> it's "waiting" for a floating ip to become available and get assigned i think
2015-02-10T15:41:53  <foobio> er, not a floating ip
2015-02-10T15:41:55  <jroll> floating ip in rax, huh
2015-02-10T15:41:56  <foobio> but an ip address
2015-02-10T15:42:29  <marun> sdague: I'm happy to ensure that testr is installed as part of nodepool prep.  Any pointers as to how to do that?
2015-02-10T15:42:31  <jbooboo> i kind of wish that if nova did not have the resources to complete an operation it would just say so
2015-02-10T15:42:51  <foobio> at least we've been told in the past when nova boot calls don't complete for up to an hour in rackspace it's because nova didn't have a global ipv4 address to turn over and assign to the instance
2015-02-10T15:42:55  <mordred> quantumfly: sorry - haven't looked yet - I dove straight back in to nodepool-dib
2015-02-10T15:42:57  <mordred> quantumfly: let me look now
2015-02-10T15:43:13  <jbooboo> marun: why do you want to install testr in nodepool?
2015-02-10T15:43:15  *** sdake has joined #openstack-infra
2015-02-10T15:43:19  <openstackgerrit> Sergey Skripnick proposed openstack-infra/project-config: Add rally-ci group with label-Verified permission  https://review.openstack.org/154532
2015-02-10T15:43:33  <marun> jbooboo: this - https://review.openstack.org/#/c/154299/
2015-02-10T15:43:45  *** achanda has quit IRC
2015-02-10T15:44:04  <sdague> jbooboo: I suggested it become part of the base image, instead of installing on the fly
2015-02-10T15:44:08  <quantumfly> it should happen as part of the job. we dont install any other python libs globally
2015-02-10T15:44:11  <marun> jbooboo: sdague suggested that installing testr on-demand for jobs that don't have devstack install it system-wide was a bad idea.
2015-02-10T15:44:32  <jbooboo> sdague: yeah, make sense... but i wonder, why not run it out of the venv?  what needs to use testr?
2015-02-10T15:44:35  *** pradk has joined #openstack-infra
2015-02-10T15:44:35  <jbooboo> marun: ^
2015-02-10T15:44:42  <kgiusti> sileht: mordred: fyi - looks like python-qpid-proton-0.8.2.tar.gz should be available on pypi.  I'll try running the amqp1 functional tests against it now - fingers (toes, eyes) crossed...
2015-02-10T15:44:49  <mtreinish> jbooboo: it's the subunit artifact processing
2015-02-10T15:44:50  <mordred> kgiusti: woohoo!
2015-02-10T15:44:51  <marun> jbooboo: quantumfly suggested that it would be preferable to do it system-wide
2015-02-10T15:45:19  <marun> jbooboo: if we wanted to do it out of a venv if it wasn't installed globally, we'd have to add a config option to d-g so that the d-g wrapper would know which venv to target
2015-02-10T15:45:42  <quantumfly> jbooboo tempest expects it globally so rather than a bunch of logic to find testr I figured use the expectation it is global
2015-02-10T15:45:53  <jbooboo> mtreinish: what artifact processing?
2015-02-10T15:46:02  <marun> e.g. /top/stack/new/neutron/.tox/dsvm-functional
2015-02-10T15:46:25  <marun> jbooboo: https://github.com/openstack-infra/devstack-gate/blob/master/functions.sh#L514
2015-02-10T15:46:29  <sileht> kgiusti, cool thanks
2015-02-10T15:46:37  <marun> jbooboo: post-processing of testr results for display as html
2015-02-10T15:46:54  <marun> jbooboo: tempest already did it, I'm working on allowing non-tempest jobs to use the same code
2015-02-10T15:47:09  <marun> jbooboo: we were previously copy-n-pasting into hook scripts
2015-02-10T15:47:32  <mtreinish> jbooboo: pulling the most recent subunit stream out of the testrepository, to both store it on the log server and make the html page everyone is fond of
2015-02-10T15:47:44  <marun> jbooboo: the catch is that tempest installs testr system-wide, but non-tempest jobs running out of venv's do not
2015-02-10T15:47:47  <kgiusti> sileht: mordred: no - thank you folks, I'm the one who messed it up to begin with.  :P   I'll let you know how the functional tests go.
2015-02-10T15:47:52  *** sdake has quit IRC
2015-02-10T15:48:00  *** sdake has joined #openstack-infra
2015-02-10T15:48:43  *** stevemar has joined #openstack-infra
2015-02-10T15:49:23  *** hdd has joined #openstack-infra
2015-02-10T15:49:29  <jbooboo> marun, sdague, mtreinish, quantumfly: so we probably want it in a system-wide venv, like zuul-cloner and subunit2sql, right?
2015-02-10T15:49:53  <sdague> jbooboo: seems reasonable to me
2015-02-10T15:50:09  *** skolekonov has quit IRC
2015-02-10T15:50:20  <mordred> I feel like AFS should be able to solve this, but for the life of me I can't think how
2015-02-10T15:50:48  <marun> jbooboo: any pointers as to which repo to propose a change to, to make that happen?
2015-02-10T15:51:09  <mtreinish> jbooboo: sure, although we kill the subunit2sql venv after it runs in nodepool. We could just remove the rm and reuse it for this
2015-02-10T15:51:12  <quantumfly> jbooboo I think that over complicates it but ok
2015-02-10T15:51:25  *** naggappan has quit IRC
2015-02-10T15:52:12  <jbooboo> quantumfly: but it's a python program, it might have dependencies, etc; shouldn't we isolate it from the global environment?
2015-02-10T15:52:17  *** rwsu-afk is now known as rwsu
2015-02-10T15:52:20  <quantumfly> its been installed by jobs globally for a long time, and that apparently works
2015-02-10T15:52:33  <jbooboo> quantumfly: which jobs?
2015-02-10T15:52:40  <quantumfly> tempest jobs
2015-02-10T15:52:49  <jbooboo> quantumfly: right, that's not globally though
2015-02-10T15:53:05  <quantumfly> yes it is or the current code doesnt work
2015-02-10T15:53:15  <quantumfly> mtreinish ^
2015-02-10T15:53:25  <jbooboo> quantumfly: i mean it's not all jobs
2015-02-10T15:53:30  *** dhritishikhar_ has joined #openstack-infra
2015-02-10T15:53:48  <marun> jbooboo: all dsvm jobs?
2015-02-10T15:53:49  <quantumfly> no just those expecting to run the testr processing
2015-02-10T15:54:17  <jbooboo> quantumfly: i do agree it would be nice if the job itself did this
2015-02-10T15:54:18  *** tsg has quit IRC
2015-02-10T15:54:18  *** yfried_ is now known as yfried|afk
2015-02-10T15:54:19  <mtreinish> quantumfly: yeah it's being installed by devstack. Although jogo has a patch up to stop that
2015-02-10T15:54:21  <jbooboo> (which it already does)
2015-02-10T15:54:51  *** ssam2 has quit IRC
2015-02-10T15:54:55  <jbooboo> but how to handle the different places it might be installed?
2015-02-10T15:54:57  *** _amrith_ is now known as amrith
2015-02-10T15:55:22  *** cnesa has quit IRC
2015-02-10T15:55:33  <marun> jbooboo: as previously suggested, a configuration variable indicating a venv to target is one option
2015-02-10T15:55:36  <jbooboo> i was initially confused because to date, this code has only run if we're running tempest in d-g
2015-02-10T15:56:10  <jbooboo> but we're talking about other jobs re-using the framework
2015-02-10T15:56:26  <marun> correct. re-use instead of copy-n-paste
2015-02-10T15:56:46  <jbooboo> marun: presumably you have a hook function that's something like "cd /path/to/neutron/; tox" right?
2015-02-10T15:56:59  <marun> jbooboo: correct
2015-02-10T15:57:22  <jbooboo> marun, quantumfly: so that could be followed by "process_results /path/to/neutron/.tox/something" ?
2015-02-10T15:57:51  <quantumfly> you could pass in the env bin path yes
2015-02-10T15:58:01  <quantumfly> you need testr and python to be run out of that
2015-02-10T15:58:02  <marun> jbooboo: we are already doing something similar in our copy/paste solution
2015-02-10T15:58:04  <marun> https://github.com/openstack/neutron/blob/master/neutron/tests/contrib/post_test_hook.sh#L61
2015-02-10T15:58:06  *** ociuhandu has joined #openstack-infra
2015-02-10T15:58:35  *** ghostpl has joined #openstack-infra
2015-02-10T15:59:26  <marun> so if you'd prefer, I could remove the DEVSTACK_GATE_TESTR_ARTIFACT_TARGET option and require that hook scripts call the function to process as suggested
2015-02-10T15:59:44  <jbooboo> that seems fairly reasonable; any reason not to do that?
2015-02-10T16:00:13  <marun> there is 1
2015-02-10T16:00:37  <jbooboo> (wow, nodepool gave up on the bare-precise nodes)
2015-02-10T16:00:46  <marun> if we want to change the function, we'd have to coordinate landing the change across an ever-increasing number of jobs
2015-02-10T16:01:01  <marun> if it's localized to d-g, then maintenance would be much simpler
2015-02-10T16:01:12  <marun> I'm not sure how much it will change, though.
2015-02-10T16:01:16  <jbooboo> marun: oh, i was still thinking the function would be in d-g, but would just take some args
2015-02-10T16:01:36  *** jaypipes has quit IRC
2015-02-10T16:01:54  <jbooboo> marun: or is that what you meant too, but you meant changing the function signature/api?
2015-02-10T16:01:58  <marun> jbooboo: Sure, I'm just saying that we'd have to enforce a hard contract on that function signature
2015-02-10T16:02:01  <marun> jbooboo: yeah
2015-02-10T16:02:09  <jbooboo> gotcha
2015-02-10T16:02:18  <marun> jbooboo: I'm not staying that's a deal-breaker, just that it's something to consider.
2015-02-10T16:02:22  <foobio> jbooboo: we just grew a ready bare-precise in rax-iad at least
2015-02-10T16:02:27  <jbooboo> yay
2015-02-10T16:02:47  <foobio> just one, but that's enough to get jobs registered
2015-02-10T16:03:30  *** signed8bit has joined #openstack-infra
2015-02-10T16:03:34  <openstackgerrit> Merged openstack-infra/elastic-recheck: Add query for cells volume exercise bug 1420322  https://review.openstack.org/154508
2015-02-10T16:03:35  <openstack> bug 1420322 in OpenStack Compute (nova) "gate-devstack-dsvm-cells fails in volumes exercise with "Server ex-vol-inst not deleted"" [Medium,Triaged] https://launchpad.net/bugs/1420322
2015-02-10T16:03:46  <foobio> wind warning here today. hopefully the power will hold up
2015-02-10T16:03:56  <marun> foobio: whereabouts?
2015-02-10T16:04:07  <foobio> marun: islands off the coast of north carolina
2015-02-10T16:04:23  <marun> foobio: ah, nice.  you live on an island?
2015-02-10T16:04:38  <jbooboo> quantumfly, sdague: what do you think about that?
2015-02-10T16:04:45  *** mtanino has joined #openstack-infra
2015-02-10T16:04:45  <foobio> just finished strapping down or bringing in everything which might go airborne at categoty 1 hurricane windspeeds (though this is a noreaster, so it's just gusts not sustained)
2015-02-10T16:04:47  *** esmute has quit IRC
2015-02-10T16:04:51  <foobio> marun: yep
2015-02-10T16:05:26  <marun> foobio: Bridge or ferry/boat to the mainland?
2015-02-10T16:05:47  <foobio> marun: we have a couple bridges... it's only a few miles to the mainland
2015-02-10T16:05:51  <jbooboo> foobio: enqueued 140043
2015-02-10T16:05:54  <quantumfly> jbooboo: being explicit about the python bin path is fine too
2015-02-10T16:06:00  <foobio> still, enough wind to send your trashcan a few blocks away
2015-02-10T16:06:07  <jbooboo> foobio: it pulled in both changes it depended on (including the abandoned one)
2015-02-10T16:06:07  *** BadCub has quit IRC
2015-02-10T16:06:16  <foobio> jbooboo: i see that--looking good!
2015-02-10T16:06:20  *** BadCub has joined #openstack-infra
2015-02-10T16:07:19  *** NobodyCam has quit IRC
2015-02-10T16:07:28  <marun> foobio: I grew up on a peninsula whose access to civilization was a 40m ferry ride. I like living near water.  But it was sheltered ocean - no hurricanes!
2015-02-10T16:07:31  *** esmute has joined #openstack-infra
2015-02-10T16:07:35  *** NobodyCam has joined #openstack-infra
2015-02-10T16:07:49  <jbooboo> foobio: enqueued 152508 and it pulled in the drupal change too
2015-02-10T16:07:50  *** achanda has joined #openstack-infra
2015-02-10T16:07:54  *** yfried|afk is now known as yfried_
2015-02-10T16:08:17  *** che-arne has joined #openstack-infra
2015-02-10T16:08:36  *** achanda has quit IRC
2015-02-10T16:09:23  *** enikanorov__ has joined #openstack-infra
2015-02-10T16:09:38  <foobio> i suppose we could turn off the click to expand on the non-live changes, though maybe that's unnecessary complication in the js
2015-02-10T16:09:53  *** enikanorov_ has quit IRC
2015-02-10T16:10:08  <foobio> the grey subway dots will make it pretty obvious anyway i think
2015-02-10T16:10:19  <foobio> also the eta is sort of meaningless for them
2015-02-10T16:10:21  <marun> jbooboo, quantumfly, sdague: so, our choices are a) set a bin path to testr b) require that hook scripts explicitly call a function?
2015-02-10T16:10:52  *** crc32 has joined #openstack-infra
2015-02-10T16:10:54  <quantumfly> marun: and I think a is a subset of b right?
2015-02-10T16:11:47  <marun> quantumfly: hmmm, I hadn't thought so. I was thinking that a) was automatic post-processing as we're already doing but setting a bin path via a configuration option
2015-02-10T16:11:48  *** jkraj has joined #openstack-infra
2015-02-10T16:12:08  <jbooboo> marun: what's doing the post-processing?
2015-02-10T16:12:16  <marun> jbooboo: currently, d-g cleanup.
2015-02-10T16:12:27  <jbooboo> oh i thought it only did it for tempest
2015-02-10T16:12:28  <marun> jbooboo: or, do you mean executable?
2015-02-10T16:12:36  <marun> jbooboo: it did, until I refactored :)
2015-02-10T16:12:42  <marun> https://review.openstack.org/#/c/153677/
2015-02-10T16:13:21  <marun> jbooboo: but it's just a function call, so whether it happens in the post-hook or in cleanup doesn't really matter
2015-02-10T16:13:22  <jbooboo> this is when you learn that my mental model of openstack-infra is kept up to date entirely by code reviews :)
2015-02-10T16:13:30  <marun> jbooboo: heh
2015-02-10T16:13:34  <foobio> marun: worth noting we explicitly call testr from an existing (tox-created) venv for post-processing of tox-based jobs, but outside of tox's execution... so running it directly from a venv isn't too unusual for us in other contexts
2015-02-10T16:13:57  <marun> foobio: is that run-tox.sh in project-config?
2015-02-10T16:14:02  *** jerryz has quit IRC
2015-02-10T16:14:03  <quantumfly> foobio: is ATC based only on changes made to master?
2015-02-10T16:14:30  <marun> foobio: looks like it, ok
2015-02-10T16:14:42  <quantumfly> foobio: looking at the EOL icehouse thread and supposedly you don't get atc for stable branch maintenance?
2015-02-10T16:14:49  <jbooboo> marun: ok, so the choices you presented were basically between two ways of providing info to that function -- a) variables b) arguments ?
2015-02-10T16:14:50  <foobio> marun: yep
2015-02-10T16:15:03  <marun> jbooboo: hmmm... maybe we should be using run-tox.sh instead?
2015-02-10T16:15:14  <marun> jbooboo: it already runs out of a venv
2015-02-10T16:15:25  <jbooboo> marun: if that would work, then maybe so.
2015-02-10T16:15:25  <marun> https://github.com/openstack-infra/project-config/blob/master/jenkins/scripts/run-tox.sh#L14
2015-02-10T16:15:33  <marun> oh, I remember the sticking point
2015-02-10T16:15:40  *** ssam2 has joined #openstack-infra
2015-02-10T16:15:43  <marun> https://github.com/openstack-infra/project-config/blob/master/jenkins/scripts/run-tox.sh#L76
2015-02-10T16:15:43  <quantumfly> marun: that would be a c) option :) the only thing that would have to be understood there is log scping
2015-02-10T16:15:46  *** dustins_ has quit IRC
2015-02-10T16:15:52  <foobio> quantumfly: it's based on gerrit owners of changes merged in a specific time period to projects counted in the official set
2015-02-10T16:15:56  <quantumfly> oh sudo checking too
2015-02-10T16:16:03  <marun> we'd have to make that configurale
2015-02-10T16:16:17  <marun> so that the sudo-requiring functional jobs wouldn't trip that check
2015-02-10T16:16:24  <quantumfly> foobio: so any change within the window regardless of branch (feature/, master, stable/) should be included right?
2015-02-10T16:16:37  <foobio> quantumfly: yep see https://git.openstack.org/cgit/openstack-infra/system-config/tree/tools/atc/email_stats.py
2015-02-10T16:16:59  *** sarob has joined #openstack-infra
2015-02-10T16:17:06  <foobio> quantumfly: the challenge for stable branch maintenance is that the people may be 100% reviewer and 0% change owner
2015-02-10T16:17:08  <marun> quantumfly: also, the permissions that tox runs as would need to be configurable iirc
2015-02-10T16:17:25  <foobio> quantumfly: hence adding zul to the extra-atcs list in openstack/governance recently
2015-02-10T16:17:29  <marun> I'm not sure anymore why we need to run as different users though :/
2015-02-10T16:17:51  <quantumfly> foobio: right because they are backports so author isn't reset
2015-02-10T16:18:13  <foobio> quantumfly: well, the stable branch managers are likely not doing the backports
2015-02-10T16:18:24  <jbooboo> marun: in devstack it's so that we can revoke sudo from the user after setup (to ensure rootwrap, etc, are correctly tested)
2015-02-10T16:18:29  <quantumfly> marun: to exercise root wrap irc
2015-02-10T16:18:56  <foobio> quantumfly: gerrit owner is set based on who uploads the change i think, but if you're only reviewing backports and not uploading backports, you don't show up in the set of change owners
2015-02-10T16:19:00  <jbooboo> (but retain sudo for the devstack-gate script itself)
2015-02-10T16:19:00  <quantumfly> foobio: http://lists.openstack.org/pipermail/openstack-dev/2015-February/056457.html is the specific thread entry
2015-02-10T16:19:02  <marun> ah, ok.  that makes sense.  so run-tox.sh would have to able to change the user
2015-02-10T16:19:15  <foobio> quantumfly: thanks, been behind on e-mail this morning
2015-02-10T16:19:21  <quantumfly> foobio: in this particular case the claim appears to be "I have pushed backports but get no recognition"
2015-02-10T16:19:34  <quantumfly> foobio: which may be true to stackalytics but should't be for ATC rolls
2015-02-10T16:19:55  <marun> jbooboo, quantumfly: Ok, I'll propose a patch for project-config that updates run-tox.sh to support what we need for functional testing.
2015-02-10T16:19:59  <quantumfly> I have also read reed's ask.o.o answer and don't know how that conclusion was reached
2015-02-10T16:20:03  <quantumfly> marun: kk
2015-02-10T16:20:10  *** mpaolino has quit IRC
2015-02-10T16:20:21  <marun> and if that gets accepted I'll revert the d-g processing to target only tempest
2015-02-10T16:20:33  <marun> quantumfly, foobio, jbooboo: thank you!
2015-02-10T16:20:43  * reed on a call ... 
2015-02-10T16:20:48  <jbooboo> marun, quantumfly: perhaps what we really need is a refactor of the run-tox script to use functions for these tasks; so we could have unit test and functional test variants of the scripts
2015-02-10T16:20:54  <quantumfly> reed: ya its fine we can discuss after
2015-02-10T16:21:10  *** ChuckC has quit IRC
2015-02-10T16:21:11  <jbooboo> marun: (these scripts are basically ancient; most of the code dates from when we had 6 projects)
2015-02-10T16:21:26  <jbooboo> maybe 4
2015-02-10T16:21:28  *** jgallard__ has quit IRC
2015-02-10T16:21:40  *** ChuckC has joined #openstack-infra
2015-02-10T16:21:49  *** sarob has quit IRC
2015-02-10T16:21:53  *** jgallard__ has joined #openstack-infra
2015-02-10T16:22:16  *** crc32 has quit IRC
2015-02-10T16:22:24  <jbooboo> marun: and btw, sorry for muddling things, but thank you very much for digging into this :)
2015-02-10T16:23:05  *** esmute has quit IRC
2015-02-10T16:24:12  *** yfried_ is now known as yfried|afk
2015-02-10T16:24:25  *** NobodyCam has quit IRC
2015-02-10T16:24:25  *** juice has quit IRC
2015-02-10T16:24:29  *** carl_baldwin has joined #openstack-infra
2015-02-10T16:24:35  *** abhirc_ has joined #openstack-infra
2015-02-10T16:24:52  *** BadCub has quit IRC
2015-02-10T16:24:54  *** hashar has quit IRC
2015-02-10T16:25:25  *** vipul has quit IRC
2015-02-10T16:25:51  *** NobodyCam has joined #openstack-infra
2015-02-10T16:26:26  *** juice has joined #openstack-infra
2015-02-10T16:26:32  *** esmute has joined #openstack-infra
2015-02-10T16:26:38  <jbooboo> foobio: the precise apply job in 152508 has succeeded (it failed in previous runs without crd)
2015-02-10T16:26:40  *** vipul has joined #openstack-infra
2015-02-10T16:26:41  *** ChuckC_ has joined #openstack-infra
2015-02-10T16:26:51  *** BadCub has joined #openstack-infra
2015-02-10T16:26:55  *** hashar has joined #openstack-infra
2015-02-10T16:26:58  *** yfried|afk is now known as yfried_
2015-02-10T16:27:03  <foobio> i think that's a good sign it's working as designed
2015-02-10T16:27:07  <jbooboo> yaay!
2015-02-10T16:27:15  *** abhirc has quit IRC
2015-02-10T16:28:03  *** HeOS has quit IRC
2015-02-10T16:28:22  <quantumfly> foobio: jbooboo: did that depend on zuul cloner to get everything set up properly?
2015-02-10T16:28:29  <quantumfly> eg g-g-p wouldn't have worked right?
2015-02-10T16:28:50  <marun> jbooboo: I'll be happy to refactor as part of the work.  :)
2015-02-10T16:28:55  <foobio> quantumfly: well, it depends on having working integration test jobs
2015-02-10T16:29:16  <foobio> quantumfly: so devstack-gate or zuul-cloner based currently i think
2015-02-10T16:29:18  <quantumfly> foobio: ah right its the integration not git set up that really matters
2015-02-10T16:30:13  *** chlong has quit IRC
2015-02-10T16:30:13  *** yamahata has quit IRC
2015-02-10T16:30:14  *** ChuckC has quit IRC
2015-02-10T16:31:05  <jbooboo> foobio: right
2015-02-10T16:33:24  *** che-arne has quit IRC
2015-02-10T16:34:14  *** scheuran has quit IRC
2015-02-10T16:34:36  <SpamapS> quantumfly: reading backscroll.. no I have not booted the image I made just yet
2015-02-10T16:35:17  *** koolhead17 has quit IRC
2015-02-10T16:36:20  *** unicell1 has joined #openstack-infra
2015-02-10T16:36:23  *** e0ne is now known as e0ne_
2015-02-10T16:37:08  *** hashar has quit IRC
2015-02-10T16:37:39  *** cdent_ has joined #openstack-infra
2015-02-10T16:37:57  *** unicell has quit IRC
2015-02-10T16:39:21  *** unicell1 has quit IRC
2015-02-10T16:39:24  *** e0ne_ is now known as e0ne
2015-02-10T16:40:22  *** cdent has quit IRC
2015-02-10T16:40:50  *** cdent_ has quit IRC
2015-02-10T16:41:32  *** cdent has joined #openstack-infra
2015-02-10T16:42:17  *** ashleighfarnham has joined #openstack-infra
2015-02-10T16:43:12  *** juice has quit IRC
2015-02-10T16:43:22  *** NobodyCam has quit IRC
2015-02-10T16:43:23  *** jesusaurus has quit IRC
2015-02-10T16:43:30  *** esmute has quit IRC
2015-02-10T16:43:50  *** dtantsur is now known as dtantsur|afk
2015-02-10T16:43:51  *** yfried_ is now known as yfried|afk
2015-02-10T16:43:56  *** ayoung_sleep is now known as ayoung
2015-02-10T16:44:01  *** BadCub has quit IRC
2015-02-10T16:44:02  *** vipul has quit IRC
2015-02-10T16:44:19  <quantumfly> reed: to recap there is a claim (on a thread about EOLing icehouse) that one potential reason there is little interest in stable branch maintenance is that doing so does not grant you ATC status
2015-02-10T16:44:46  <reed> I saw that thread, I need to gather some details
2015-02-10T16:44:55  <quantumfly> reed: foobio has refuted this here and my reading of the ATC generation script seems to confirm. Probably best if you or foobio respond to the list with a definitive answer
2015-02-10T16:45:04  *** esmute has joined #openstack-infra
2015-02-10T16:45:14  <reed> quantumfly, that's my thought too, that he's wrong and foobio is right
2015-02-10T16:45:20  *** BadCub has joined #openstack-infra
2015-02-10T16:45:21  *** NobodyCam has joined #openstack-infra
2015-02-10T16:45:22  <quantumfly> reed: I mentioned you because our ask.o.o answer about atc stuff was linked as evidence that only master counts but I cannot get that out of the ask thread when I read it
2015-02-10T16:45:27  *** juice has joined #openstack-infra
2015-02-10T16:45:41  <reed> quantumfly, thanks, I thought my English failed there
2015-02-10T16:45:43  <quantumfly> s/our/your/
2015-02-10T16:46:04  <foobio> reed: quantumfly: i've just replied on that thread and will reply on the ask.o.o entry as well
2015-02-10T16:46:10  *** vipul has joined #openstack-infra
2015-02-10T16:46:20  <quantumfly> foobio: awesome thanks a bunch
2015-02-10T16:46:25  <reed> the other thing he says wrong is that analytics looks at trunk only... not sure about stackalytics but activity.o.o does all activity in the whole repo
2015-02-10T16:46:27  *** jesusaurus has joined #openstack-infra
2015-02-10T16:46:43  <reed> will reply in a bit
2015-02-10T16:46:48  <quantumfly> reed: I think the analytics thing is a slight issue. basically when you backport a change the original author retains authorship
2015-02-10T16:46:59  * reed stuck in some administrativia still
2015-02-10T16:47:12  <quantumfly> reed: so the backporter isn't credited as author. They are the change owner and committer which is different and if analytics only focuses on the author that will happen
2015-02-10T16:47:14  <reed> quantumfly, that's a more interesting issue indeed, like counting co-author
2015-02-10T16:47:15  *** doude has quit IRC
2015-02-10T16:47:25  <quantumfly> yup
2015-02-10T16:48:37  *** shashankhegde has joined #openstack-infra
2015-02-10T16:49:44  *** bdpayne has joined #openstack-infra
2015-02-10T16:49:46  <foobio> it's annoying that askbot comments are limited and you can't follow up to your comment with a second comment to increase that limit
2015-02-10T16:49:48  *** ssam2 has quit IRC
2015-02-10T16:49:54  *** tiswanso has quit IRC
2015-02-10T16:50:03  <openstackgerrit> Merged openstack/requirements: Update gabbi to 0.6.0  https://review.openstack.org/153301
2015-02-10T16:50:27  <foobio> length-limited i mean
2015-02-10T16:51:12  *** gyee has joined #openstack-infra
2015-02-10T16:51:25  *** tqtran has joined #openstack-infra
2015-02-10T16:51:50  <reed> foobio, the idea is that you provide an answer instead or (with enough karma) fix someone else's answer
2015-02-10T16:51:50  *** tiswanso_ has joined #openstack-infra
2015-02-10T16:51:55  <reed> comments are useless
2015-02-10T16:52:20  <pc_m> quantumfly: Can you review https://review.openstack.org/#/c/154487/? This is to restore an accidentally reverted change.
2015-02-10T16:52:31  <foobio> reed: agreed, except when people misinterpret comments into other contexts and there's not enough space to provide clear rebuttals to them
2015-02-10T16:52:48  <reed> let's clarify the answer then
2015-02-10T16:53:16  <openstackgerrit> Derek Higgins proposed openstack-infra/system-config: Set hp1 max-node to 0  https://review.openstack.org/154561
2015-02-10T16:53:25  <foobio> reed: i think the answer is perfectly clear, and the comment thread which ensued after it is where misunderstandings are arising from
2015-02-10T16:53:41  <reed> exactly my point: comments are useless :)
2015-02-10T16:53:48  <reed> delete them :)
2015-02-10T16:53:58  <openstackgerrit> Derek Higgins proposed openstack-infra/system-config: Set hp1 max-servers: to 0  https://review.openstack.org/154561
2015-02-10T16:53:58  *** yfried|afk is now known as yfried_
2015-02-10T16:53:59  *** bswartz has quit IRC
2015-02-10T16:54:41  <quantumfly> pc_m: done. How did those changes not conflict? or did they and the rebase was not proper?
2015-02-10T16:54:49  <foobio> reed: i'm pretty sure that all of kevin's misunderstandings from that are not based at all on the answer, but instead on the commentary dialogue (no doubt he googled until he found some discussion which sounded vague enough to support his assumption)
2015-02-10T16:54:52  <derekh> Hi, could somebody take a look at https://review.openstack.org/154561 to stop using hp1 while its failing tests
2015-02-10T16:55:14  *** shashankhegde has quit IRC
2015-02-10T16:55:17  *** arxcruz has quit IRC
2015-02-10T16:55:18  <quantumfly> yolanda: still around? I left a couple comments on 137401
2015-02-10T16:55:19  *** ihrachyshka has quit IRC
2015-02-10T16:55:40  <pc_m> quantumfly: Thanks! Not sure.
2015-02-10T16:55:46  <pc_m> dougwig: ^^
2015-02-10T16:55:55  <foobio> quantumfly: i think the rebase reverted the conflict rather than accommodate it
2015-02-10T16:56:14  <quantumfly> foobio: gotcha
2015-02-10T16:56:49  *** afazekas has quit IRC
2015-02-10T16:56:59  *** coolsvap_ is now known as coolsvap
2015-02-10T16:58:07  <openstackgerrit> Clark Boylan proposed openstack-infra/puppet-project_config: Provide way to specify repo ref  https://review.openstack.org/154300
2015-02-10T16:58:15  <quantumfly> jbooboo: ^ that should make puppet lint happy
2015-02-10T16:59:02  <jbooboo> foobio, mrmartin: 152508 passes tests :)
2015-02-10T16:59:03  <reed> foobio, I edited the answer to include your comment
2015-02-10T16:59:15  *** otter768 has joined #openstack-infra
2015-02-10T16:59:35  *** luqas has quit IRC
2015-02-10T17:00:07  <jd__> knock knock! hello there – could we fill this https://review.openstack.org/#/admin/groups/600,members group with oslo-core at least? cc dims__ dhellmann
2015-02-10T17:00:13  *** sarob has joined #openstack-infra
2015-02-10T17:00:14  <foobio> reed: wfm. hopefully that will help
2015-02-10T17:00:18  <dims__> you beat me jd__
2015-02-10T17:00:29  <jd__> :-)
2015-02-10T17:00:46  <foobio> jd__: in the pas we've just added dhellmann and let him set it up however he wants from there
2015-02-10T17:01:18  <foobio> jd__: dims__: which i've now done
2015-02-10T17:01:38  <foobio> s/pas/past
2015-02-10T17:01:45  *** bswartz has joined #openstack-infra
2015-02-10T17:02:10  *** ssam2 has joined #openstack-infra
2015-02-10T17:02:40  <quantumfly> mordred: https://review.openstack.org/#/c/154304/ https://review.openstack.org/#/c/154305/ and https://review.openstack.org/154300 :)
2015-02-10T17:03:40  <jd__> foobio: thanks
2015-02-10T17:03:47  *** otter768 has quit IRC
2015-02-10T17:03:47  <quantumfly> mordred: the change to the puppet-ansible repo is the one I am least sure about
2015-02-10T17:03:58  *** koolhead17 has joined #openstack-infra
2015-02-10T17:04:11  <mordred> quantumfly: yah - I have some thoughts but am in a meeting - I promise - responding is next up
2015-02-10T17:05:43  <dims__> foobio: thanks!
2015-02-10T17:06:00  *** e0ne has quit IRC
2015-02-10T17:06:08  *** nijaba_ is now known as nijaba
2015-02-10T17:06:14  *** yamahata has joined #openstack-infra
2015-02-10T17:06:42  <openstackgerrit> Merged openstack-infra/project-config: Restore lost changes to neutron-vpnaas  https://review.openstack.org/154487
2015-02-10T17:06:50  <quantumfly> nibalizer: can you explain how the thing in 153823 makes testing harder for non rooters?
2015-02-10T17:07:01  *** jistr has quit IRC
2015-02-10T17:07:12  *** jcoufal has quit IRC
2015-02-10T17:07:25  <quantumfly> nibalizer: is it because puppetmaster is set? When I test locally I always use puppet apply
2015-02-10T17:07:36  <quantumfly> nibalizer: so not sure I understand the issue there
2015-02-10T17:08:29  <quantumfly> derekh: +2
2015-02-10T17:08:48  <derekh> quantumfly, thanks
2015-02-10T17:09:12  *** yamahata has quit IRC
2015-02-10T17:09:24  *** gokrokve_ has joined #openstack-infra
2015-02-10T17:09:25  <nibalizer> quantumfly: it creates a lock between site.pp and that file
2015-02-10T17:09:29  <openstackgerrit> Merged openstack-infra/system-config: Zuul status: Use a grey icon for non-live changes  https://review.openstack.org/154232
2015-02-10T17:09:31  <nibalizer> its better now that its certname instead of fqdn
2015-02-10T17:09:35  <quantumfly> nibalizer: I still do not follow
2015-02-10T17:09:39  <quantumfly> nibalizer: a lock?
2015-02-10T17:09:50  *** yamahata has joined #openstack-infra
2015-02-10T17:09:58  *** MaxV has quit IRC
2015-02-10T17:09:59  <quantumfly> nibalizer: I don't doubt there is something that makes live difficult I just have no understanding of it with my use of puppet apply
2015-02-10T17:10:13  <mordred> just so that everyone is aware - the only thing worse than systemd is a system where SOME things are in systemd and SOME things are not
2015-02-10T17:10:14  <nibalizer> yea puppet apply works
2015-02-10T17:10:22  *** ChuckC has joined #openstack-infra
2015-02-10T17:10:34  *** MaxV has joined #openstack-infra
2015-02-10T17:10:40  <nibalizer> i prefer to test with a master
2015-02-10T17:11:00  <nibalizer> because then i can have my master set up and massage code there, then spin up and down clients as I want
2015-02-10T17:11:24  <quantumfly> assuming you have a local master how does certname make life difficult? you can use the same certnames that we use
2015-02-10T17:11:57  <quantumfly> then it should just work (tm) right?
2015-02-10T17:12:04  <nibalizer> ya i think you're right, there might not actually be a problem now
2015-02-10T17:12:28  <nibalizer> my problems are all from when that was fqdn
2015-02-10T17:12:52  *** gokrokve has quit IRC
2015-02-10T17:13:09  <nibalizer> i honestly haven't spun up my infra testing environment in some time
2015-02-10T17:13:13  <nibalizer> been busy with other stuff
2015-02-10T17:13:42  *** Chuck__ has joined #openstack-infra
2015-02-10T17:14:02  *** ChuckC_ has quit IRC
2015-02-10T17:14:33  <nibalizer> also that line is ... weird
2015-02-10T17:14:59  <nibalizer> i guess its okay, but its asserting what is already true, if that makes sense?
2015-02-10T17:15:03  *** MaxV has quit IRC
2015-02-10T17:15:10  <dhellmann> foobio: could you add me to oslo-versionedobjects-release so I can update that one, too, please? https://review.openstack.org/#/admin/groups/601,members
2015-02-10T17:15:34  *** dustins has joined #openstack-infra
2015-02-10T17:15:42  <foobio> dhellmann: done
2015-02-10T17:15:43  *** jkraj has quit IRC
2015-02-10T17:16:37  <dhellmann> foobio: thanks!
2015-02-10T17:17:01  *** ChuckC has quit IRC
2015-02-10T17:19:39  *** kgiusti has quit IRC
2015-02-10T17:19:42  *** hashar has joined #openstack-infra
2015-02-10T17:20:09  <openstackgerrit> Sergey Skripnick proposed openstack-infra/project-config: Add rally-ci group with label-Verified permission  https://review.openstack.org/154532
2015-02-10T17:21:52  *** amotoki has quit IRC
2015-02-10T17:22:25  *** jpich has quit IRC
2015-02-10T17:22:41  *** unicell has joined #openstack-infra
2015-02-10T17:22:46  *** wznoinsk_ has joined #openstack-infra
2015-02-10T17:23:25  *** coolsvap is now known as coolsvap_
2015-02-10T17:23:57  *** juice has quit IRC
2015-02-10T17:25:13  *** wznoinsk is now known as wznoinski__
2015-02-10T17:25:15  *** esmute has quit IRC
2015-02-10T17:25:15  *** wznoinski__ is now known as wznoinsk__
2015-02-10T17:25:24  *** esmute has joined #openstack-infra
2015-02-10T17:25:47  <asselin_> anyone seen this? not able to start nodepool: http://paste.openstack.org/show/170829/
2015-02-10T17:25:51  *** bswartz has quit IRC
2015-02-10T17:25:57  *** juice has joined #openstack-infra
2015-02-10T17:26:13  <zaro> morning
2015-02-10T17:27:09  *** wznoinsk_ is now known as wznoinsk
2015-02-10T17:28:04  <quantumfly> nibalizer ya the first time we run we pass the certname as an arg iirc
2015-02-10T17:28:23  <quantumfly> so its true but not otherwise configured. this configures it
2015-02-10T17:29:32  <quantumfly> asselin_ upgrade your version of lockfile
2015-02-10T17:29:42  *** mpaolino has joined #openstack-infra
2015-02-10T17:29:50  *** wznoinsk has quit IRC
2015-02-10T17:29:58  *** jedimike has quit IRC
2015-02-10T17:30:18  <mrmartin> jbooboo: 152508 is testing together with dependent patch?
2015-02-10T17:30:52  <pleia2> good morning
2015-02-10T17:31:09  <openstackgerrit> Merged openstack-infra/storyboard: Fix notifications tests docstrings referencing map_resource method  https://review.openstack.org/154402
2015-02-10T17:31:28  *** wznoinsk has joined #openstack-infra
2015-02-10T17:32:30  *** annegentle has quit IRC
2015-02-10T17:33:03  <asselin_> quantumfly, thanks
2015-02-10T17:33:23  <quantumfly> asselin_ fix is in review. we were depending on lockfile instead of having pytjon-daemon pull it in
2015-02-10T17:33:42  <quantumfly> this confused pip so fix is remove lockfile from our dep list
2015-02-10T17:33:49  *** tiswanso_ has quit IRC
2015-02-10T17:34:05  <asselin_> ok i see
2015-02-10T17:34:06  *** sputnik13 has joined #openstack-infra
2015-02-10T17:34:08  *** wznoinsk has quit IRC
2015-02-10T17:34:13  *** ildikov has quit IRC
2015-02-10T17:34:23  *** wznoinsk has joined #openstack-infra
2015-02-10T17:34:23  *** tiswanso has joined #openstack-infra
2015-02-10T17:34:55  *** yfried_ is now known as yfried|afk
2015-02-10T17:35:08  *** jlibosva has quit IRC
2015-02-10T17:35:22  <jbooboo> mrmartin: yep!
2015-02-10T17:35:30  <mrmartin> awesome!
2015-02-10T17:39:30  *** ianw has quit IRC
2015-02-10T17:40:51  *** emagana has joined #openstack-infra
2015-02-10T17:41:05  <foobio> just to bring over the discussion from #openstack-qa, it looks like we will need to manually merge stable/juno global requirements pin 151770 since it won't pass grenade jobs without stable/juno grenade fix 153702 (which in turn depends on the reqs pin being in place)
2015-02-10T17:41:13  <foobio> mtreinish: jogo: ^
2015-02-10T17:41:34  <foobio> any objection to me exercising gerrit superpowers to merge 151770 now?
2015-02-10T17:41:37  *** lnxnut_ has joined #openstack-infra
2015-02-10T17:41:44  *** emagana_ has joined #openstack-infra
2015-02-10T17:41:56  <foobio> adam_g: ^
2015-02-10T17:42:02  *** bswartz has joined #openstack-infra
2015-02-10T17:42:32  *** mpaolino has quit IRC
2015-02-10T17:42:38  *** esmute has quit IRC
2015-02-10T17:43:11  *** BadCub has quit IRC
2015-02-10T17:43:45  *** vipul has quit IRC
2015-02-10T17:43:53  *** juice has quit IRC
2015-02-10T17:44:10  *** jesusaurus has quit IRC
2015-02-10T17:44:33  <mtreinish> foobio: I support you excercising you powers
2015-02-10T17:44:40  *** esmute has joined #openstack-infra
2015-02-10T17:44:40  * mtreinish shields his eyes
2015-02-10T17:44:52  *** lnxnut has quit IRC
2015-02-10T17:44:56  *** shashankhegde has joined #openstack-infra
2015-02-10T17:44:58  *** juice has joined #openstack-infra
2015-02-10T17:45:01  *** emagana has quit IRC
2015-02-10T17:45:07  *** BadCub has joined #openstack-infra
2015-02-10T17:45:28  * foobio tries to use his powers only for good, less often for personal amusement
2015-02-10T17:45:38  *** vipul has joined #openstack-infra
2015-02-10T17:46:06  *** koolhead_ has joined #openstack-infra
2015-02-10T17:46:38  *** ghostpl has quit IRC
2015-02-10T17:46:40  *** jesusaurus has joined #openstack-infra
2015-02-10T17:46:40  *** Ryan_Lane has joined #openstack-infra
2015-02-10T17:46:58  *** ashleighfarnham has quit IRC
2015-02-10T17:48:17  *** Chuck__ is now known as ChuckC
2015-02-10T17:48:25  *** koolhead17 has quit IRC
2015-02-10T17:49:00  *** ashleighfarnham has joined #openstack-infra
2015-02-10T17:49:50  <quantumfly> foobio the superhero we deserve
2015-02-10T17:50:04  <quantumfly> or is it we dont deserve? english is hard
2015-02-10T17:51:02  *** e0ne has joined #openstack-infra
2015-02-10T17:52:02  <openstackgerrit> Merged openstack-infra/project-config: gnocchi: install the git repo  https://review.openstack.org/154398
2015-02-10T17:52:36  *** melwitt has joined #openstack-infra
2015-02-10T17:53:30  <foobio> hearing no objections, i don the cape
2015-02-10T17:54:23  *** avozza is now known as zz_avozza
2015-02-10T17:54:56  <foobio> mtreinish: jogo: adam_g: done. should be safe to put 153702 through normally now
2015-02-10T17:55:39  <jogo> foobio: thanks
2015-02-10T17:55:46  *** dhritishikhar_ has quit IRC
2015-02-10T17:56:28  *** MaxV has joined #openstack-infra
2015-02-10T17:56:32  *** bhuvan has joined #openstack-infra
2015-02-10T17:58:26  <openstackgerrit> Michael Krotscheck proposed openstack-infra/storyboard: Removed unsupported python versions from setup.cfg  https://review.openstack.org/154582
2015-02-10T17:58:50  *** changbl has joined #openstack-infra
2015-02-10T17:59:27  *** derekh has quit IRC
2015-02-10T18:01:01  *** wznoinsk_mobl has joined #openstack-infra
2015-02-10T18:01:31  *** dannywilson has joined #openstack-infra
2015-02-10T18:02:07  *** dannywilson has quit IRC
2015-02-10T18:02:32  *** signed8bit has quit IRC
2015-02-10T18:02:33  *** dannywilson has joined #openstack-infra
2015-02-10T18:03:21  *** _nadya_ has quit IRC
2015-02-10T18:04:04  <david-lyle> jbooboo, quantumfly or foobio, some time ago the previous owner of the openstack-horizon channel added a bunch of flags on that room, I was not so lucky, can one of you please give me the operator status at least
2015-02-10T18:04:07  <openstackgerrit> Merged openstack-infra/project-config: Adds networking-hyperv in StackForge  https://review.openstack.org/153691
2015-02-10T18:04:30  <david-lyle> *flags for you on that room
2015-02-10T18:04:33  *** yfried|afk is now known as yfried_
2015-02-10T18:04:57  *** sdake has quit IRC
2015-02-10T18:04:58  *** wznoinsk has quit IRC
2015-02-10T18:05:25  *** ashleighfarnham has quit IRC
2015-02-10T18:05:29  <foobio> david-lyle: sure, freenode confirms you're logged in, so i'm pretty sure i'm talking to the real you ;)
2015-02-10T18:05:54  *** shashankhegde has quit IRC
2015-02-10T18:06:06  <david-lyle> foobio: most of the time
2015-02-10T18:06:24  *** patrickeast has joined #openstack-infra
2015-02-10T18:06:35  <david-lyle> foobio: thank you
2015-02-10T18:07:35  *** gokrokve_ has quit IRC
2015-02-10T18:08:44  <foobio> david-lyle: i added the same flags for you that our general irc operators have on that channel
2015-02-10T18:09:26  <foobio> david-lyle: though you had a couple of other flags already (O and V) which i left on as well
2015-02-10T18:09:29  <openstackgerrit> Lance Bragstad proposed openstack/requirements: Add python-keyczar to global-requirements.py  https://review.openstack.org/154590
2015-02-10T18:09:32  <david-lyle> foobio, perfect. 3 releases in, I can change the channel topic, progress as promised
2015-02-10T18:10:00  *** harlowja has joined #openstack-infra
2015-02-10T18:10:07  <foobio> coming along nicely! ;)
2015-02-10T18:11:17  *** kgiusti has joined #openstack-infra
2015-02-10T18:11:22  *** wznoinsk_mobl has quit IRC
2015-02-10T18:11:22  *** hashar has quit IRC
2015-02-10T18:12:55  *** andreykurilin_ has quit IRC
2015-02-10T18:13:12  *** thedodd has quit IRC
2015-02-10T18:14:06  *** abhirc_ has quit IRC
2015-02-10T18:14:26  *** abhirc has joined #openstack-infra
2015-02-10T18:14:38  *** tsg has joined #openstack-infra
2015-02-10T18:15:11  *** jaypipes has joined #openstack-infra
2015-02-10T18:15:20  *** ihrachyshka has joined #openstack-infra
2015-02-10T18:17:29  *** dalgaaf has quit IRC
2015-02-10T18:18:45  *** achanda has joined #openstack-infra
2015-02-10T18:19:09  *** vigneshvar has joined #openstack-infra
2015-02-10T18:19:41  *** thedodd has joined #openstack-infra
2015-02-10T18:20:19  <quantumfly> foobio k9 exploded on one of your messages to the eol threads. so weird
2015-02-10T18:20:34  <foobio> asploded how?
2015-02-10T18:21:13  * foobio tries to stick to plain text e-mail... i don't even think i've crypto-signed any messages to that thread
2015-02-10T18:21:16  <quantumfly> (no subject) and no content but apparently enough header to associate with the thread
2015-02-10T18:22:25  *** openstackgerrit has quit IRC
2015-02-10T18:22:46  *** openstackgerrit has joined #openstack-infra
2015-02-10T18:23:43  *** esmute has quit IRC
2015-02-10T18:24:17  *** thedodd has quit IRC
2015-02-10T18:24:27  *** juice has quit IRC
2015-02-10T18:24:28  *** yfried_ is now known as yfried|afk
2015-02-10T18:25:28  *** thedodd has joined #openstack-infra
2015-02-10T18:26:08  *** Ala has quit IRC
2015-02-10T18:26:13  <mordred> jbooboo, quantumfly: ok. I have ubuntu working on rackspace but can't get centos working. for nodepool-dib that's obviously not a big deal
2015-02-10T18:26:14  *** pelix has quit IRC
2015-02-10T18:26:19  <mordred> HOWEVER - the reason I can't get it working is systemd
2015-02-10T18:26:30  <mordred> so there is a problem to solve at some point if we want to add fedora or debian nodes
2015-02-10T18:26:41  <mordred> that said - centos7 has a weird hybrid thing going on
2015-02-10T18:26:44  *** esmute has joined #openstack-infra
2015-02-10T18:26:53  <mordred> so it's quite possible that it'll be less bonghits on debian/fedora
2015-02-10T18:26:58  *** juice has joined #openstack-infra
2015-02-10T18:27:00  <mordred> so I might try them next
2015-02-10T18:27:16  <mordred> (I don't want to declare that it's usable knowing that there is a looming broken thing)
2015-02-10T18:27:28  <greghaynes> I know some of the tripleo rhers were doing centos7 work on dib...
2015-02-10T18:27:39  <greghaynes> so in theory it should work
2015-02-10T18:28:36  *** hdd has quit IRC
2015-02-10T18:29:15  *** jp_at_hp has quit IRC
2015-02-10T18:29:28  <SpamapS> I think it's more that centos7/rhel7's networking works very differently than fedora/debian's networking with systemd.
2015-02-10T18:29:59  <greghaynes> aye, fun
2015-02-10T18:30:18  <mordred> greghaynes: this is also about getting network info from the rax config-drive ... so it's an extra special beasty
2015-02-10T18:30:26  <mordred> centos7 itself is working just fine
2015-02-10T18:30:51  <mordred> also - centos7 does not have "ifdown -a; ifup -a"
2015-02-10T18:30:57  <mordred> you have to specify interfaces
2015-02-10T18:31:04  *** crc32 has joined #openstack-infra
2015-02-10T18:31:22  <greghaynes> Ive been running into an error when making nodepool trusty images where prepare_tempest_testrepository.py fails with chown: cannot access ‘/opt/git/openstack/tempest/preseed-streams’: No such file or directory
2015-02-10T18:31:53  <greghaynes> AIUI preseed streams is a testr thing... theres a severe lack of debug info though
2015-02-10T18:32:19  *** shashankhegde has joined #openstack-infra
2015-02-10T18:32:35  <SpamapS> mordred: 'service networking restart' doesn't work?
2015-02-10T18:32:46  <SpamapS> that used to be a thing anyway
2015-02-10T18:33:43  *** jgallard__ has quit IRC
2015-02-10T18:35:38  *** tsg has quit IRC
2015-02-10T18:36:01  <openstackgerrit> MORITA Kazutaka proposed openstack-infra/project-config: Add test job for sheepdog devstack plugin  https://review.openstack.org/154605
2015-02-10T18:38:03  *** crc32 has quit IRC
2015-02-10T18:38:33  <openstackgerrit> gordon chung proposed openstack/requirements: add ceilometermiddleware  https://review.openstack.org/154607
2015-02-10T18:39:56  <quantumfly> greghaynes mtreinish
2015-02-10T18:40:02  <pleia2> quantumfly: so I'm back to trying to figure out what the intent is for all these devstack-gate jobs, what is the goal here, vote on the -icehouse but not voting on -juno? back in september we were voting on icehouse but not havana: https://review.openstack.org/#/c/122885/ (see Jenkins' check build on patchset 2)
2015-02-10T18:40:14  *** yfried|afk is now known as yfried_
2015-02-10T18:40:25  <foobio> quantumfly: the three messages i sent related to those threads are http://lists.openstack.org/pipermail/openstack-dev/2015-February/056465.html 056472.html and 056476.html any idea which one of those is broken in k9?
2015-02-10T18:40:33  * greghaynes summons an mtreinish
2015-02-10T18:40:55  <quantumfly> pleia2 I think tempest wants them voting and d-g does not
2015-02-10T18:41:08  <quantumfly> pleia2 so likely we need 2 sets of jobs
2015-02-10T18:41:21  <pleia2> quantumfly: for both icehouse and juno, or?
2015-02-10T18:41:29  <quantumfly> foobio the one about stable tempest helping defcore
2015-02-10T18:41:39  <quantumfly> pleia2 ya for both branches
2015-02-10T18:42:00  <pleia2> ok, thanks, I'll see where this goes and change it again if we learn differently
2015-02-10T18:42:40  <foobio> greghaynes: make sure you didn't accidentally run it once as root and pollute the ownership of stuff in your cache
2015-02-10T18:43:00  *** ssam2 has quit IRC
2015-02-10T18:43:15  *** BadCub has quit IRC
2015-02-10T18:43:17  <foobio> greghaynes: we were getting errors which looked basically like that some of the time which turned out to be local cache ownership issues
2015-02-10T18:43:20  <greghaynes> foobio: this is as the result of a nodepool dib image build, so I hope tats not an issue ;)
2015-02-10T18:43:25  <greghaynes> oh
2015-02-10T18:43:52  *** vipul has quit IRC
2015-02-10T18:43:55  *** NobodyCam has quit IRC
2015-02-10T18:44:07  *** BadCub has joined #openstack-infra
2015-02-10T18:44:17  <foobio> greghaynes: if someone previously did a 'sudo nodepool image-create foo' then parts of the cache could be root-owned and inaccessible to the nodepool user which nodepool is trying that as when run from its periodic scheduler
2015-02-10T18:44:24  *** jesusaurus has quit IRC
2015-02-10T18:44:35  *** esmute has quit IRC
2015-02-10T18:44:37  <greghaynes> aye :(
2015-02-10T18:44:38  *** vipul has joined #openstack-infra
2015-02-10T18:44:54  *** NobodyCam has joined #openstack-infra
2015-02-10T18:44:55  <foobio> greghaynes: try to chown -R nodepool:nodepool /your/cache/dir
2015-02-10T18:45:02  *** Sukhdev has joined #openstack-infra
2015-02-10T18:45:06  <foobio> and see if that fixes it
2015-02-10T18:45:12  <pc_m> quantumfly: ping
2015-02-10T18:45:15  *** esmute has joined #openstack-infra
2015-02-10T18:45:18  <quantumfly> pong
2015-02-10T18:45:32  <greghaynes> wow, there is definitely things in the cache not owned by me
2015-02-10T18:45:34  <greghaynes> thats a bad sign
2015-02-10T18:45:54  <pc_m> quantumfly: Had a question on coverage testing... Is there a way to collect coverage info for dsvm-functional modules too?
2015-02-10T18:46:22  *** mgariepy has left #openstack-infra
2015-02-10T18:47:18  *** gokrokve has joined #openstack-infra
2015-02-10T18:47:20  <pc_m> quantumfly: I ran "tox -e cover" and don't have an omit clause. The functional modules all show 0 lines coverage.
2015-02-10T18:47:31  <quantumfly> pc_m run your tests and services under coverage
2015-02-10T18:48:02  <quantumfly> tox -ecover is purely for whatever is run by tox -epy27
2015-02-10T18:48:27  <pc_m> quantumfly: Any pointers on how that is done? link?
2015-02-10T18:49:15  <quantumfly> pc_m http://nedbatchelder.com/code/coverage/ is the coverage docs
2015-02-10T18:49:33  <pc_m> quantumfly: thanks!
2015-02-10T18:49:37  <quantumfly> but basically instead of python somescript you run coverage somescript
2015-02-10T18:49:50  <foobio> pc_m: you might want to engage #openstack-qa but in general the topic of trying to get coverage from functional/integration tests has come up many times, several solutions have been tried with a variety of trade-offs, and is generally non-trivial
2015-02-10T18:50:57  <pc_m> foobio: Ah, good to know. I was wondering how to run the tests for those functional modules.
2015-02-10T18:51:12  *** markus_z has quit IRC
2015-02-10T18:51:30  <pc_m> foobio: Is there any documentation on the methods that you know of?
2015-02-10T18:52:15  <quantumfly> I am going to miss first bit of meeting looks like. errand is running long
2015-02-10T18:52:21  <foobio> pc_m: for unit tests it's easier because execution happens in a sort of rarified environment, but threading is a major challenge
2015-02-10T18:54:17  <foobio> pc_m: looks like there may be some helpful hints in https://bitbucket.org/ned/coveragepy/issue/149
2015-02-10T18:55:15  <pc_m> foobio: cool
2015-02-10T18:56:32  <foobio> pc_m: anyway my memory's fuzzy but i know the qa team have discussed it in prior summit sessions and some of them likely recall the specific challenges
2015-02-10T18:56:40  *** dmsimard has quit IRC
2015-02-10T18:56:43  <jhesketh> Morning
2015-02-10T18:57:19  <anteaya> morning jhesketh
2015-02-10T18:58:34  <mtreinish> greghaynes: what's up?
2015-02-10T18:59:03  <foobio> pleia2: have a change proposed yet for adding your user to openstack_project::base and our global site manifest?
2015-02-10T18:59:23  *** tsg has joined #openstack-infra
2015-02-10T18:59:24  *** _nadya_ has joined #openstack-infra
2015-02-10T18:59:43  <morganfainberg> anteaya, FYI our meeting ran short - i know you use us as a reminder for -infra
2015-02-10T18:59:44  *** ianw has joined #openstack-infra
2015-02-10T18:59:47  <morganfainberg> anteaya, ;)
2015-02-10T18:59:47  <foobio> meeting time
2015-02-10T18:59:52  <foobio> in 10 secs
2015-02-10T19:00:03  <anteaya> morganfainberg: :) I saw you earlier
2015-02-10T19:00:11  *** otter768 has joined #openstack-infra
2015-02-10T19:00:15  *** emagana_ has quit IRC
2015-02-10T19:00:28  <anteaya> morganfainberg: and thanks
2015-02-10T19:00:32  *** wznoinsk_mobl has joined #openstack-infra
2015-02-10T19:00:33  <pleia2> foobio: nope!
2015-02-10T19:00:41  *** gyee has quit IRC
2015-02-10T19:00:41  <openstackgerrit> Khai Do proposed openstack-infra/system-config: Add the luanchpadlib OS package to review-dev.o.o  https://review.openstack.org/154612
2015-02-10T19:01:01  *** esmute has quit IRC
2015-02-10T19:01:11  <foobio> pleia2: i guess that's the next item for your to do list ;)
2015-02-10T19:01:17  *** tiswanso has quit IRC
2015-02-10T19:01:36  <pleia2> foobio: sure thing :)
2015-02-10T19:01:51  <mtreinish> greghaynes: oh, you're hitting issues with the preseed-testrepository script in nodepool
2015-02-10T19:01:58  <mtreinish> do you have a stack trace
2015-02-10T19:02:06  <greghaynes> mtreinish: hey, yep
2015-02-10T19:02:10  <greghaynes> mtreinish: no stack trace
2015-02-10T19:02:19  *** vipul has quit IRC
2015-02-10T19:02:28  *** NobodyCam has quit IRC
2015-02-10T19:02:30  *** BadCub has quit IRC
2015-02-10T19:02:38  *** tiswanso_ has joined #openstack-infra
2015-02-10T19:02:43  <greghaynes> mtreinish: it fails on chowning that dir because it doesnt exist, the prepare_tempest_repository script I assume is what should make it?
2015-02-10T19:02:50  *** dims__ has quit IRC
2015-02-10T19:03:11  *** dims__ has joined #openstack-infra
2015-02-10T19:03:23  *** ashleighfarnham has joined #openstack-infra
2015-02-10T19:03:25  <mtreinish> greghaynes: yeah the script makes it: http://git.openstack.org/cgit/openstack-infra/project-config/tree/nodepool/scripts/prepare_tempest_testrepository.py#n52
2015-02-10T19:03:47  *** esmute has joined #openstack-infra
2015-02-10T19:03:47  *** NobodyCam has joined #openstack-infra
2015-02-10T19:03:54  *** ivar-lazzaro has joined #openstack-infra
2015-02-10T19:04:16  *** dims_ has joined #openstack-infra
2015-02-10T19:04:27  <greghaynes> ah! I notice there is not checking of return code there
2015-02-10T19:04:31  * greghaynes adds this
2015-02-10T19:04:36  *** BadCub has joined #openstack-infra
2015-02-10T19:04:38  *** bradjones has joined #openstack-infra
2015-02-10T19:04:39  *** ashleighfarnham has quit IRC
2015-02-10T19:04:53  *** otter768 has quit IRC
2015-02-10T19:05:08  *** vipul has joined #openstack-infra
2015-02-10T19:05:16  *** ivar-lazzaro has quit IRC
2015-02-10T19:06:09  *** tobiash_ has joined #openstack-infra
2015-02-10T19:06:30  *** ivar-lazzaro has joined #openstack-infra
2015-02-10T19:06:42  *** tobiash has quit IRC
2015-02-10T19:06:47  <foobio> psh, error handling... who needs that?!?
2015-02-10T19:06:53  <mordred> foobio: NOBODY
2015-02-10T19:07:11  *** wznoinsk has joined #openstack-infra
2015-02-10T19:07:52  *** dims__ has quit IRC
2015-02-10T19:08:04  <mtreinish> greghaynes: is there a return code for os.mkdir, I thought it just raised an IOError
2015-02-10T19:08:43  <greghaynes> you may be right, is that all that is happening with that call?
2015-02-10T19:09:06  *** dmorita has joined #openstack-infra
2015-02-10T19:09:27  <greghaynes> anyhow, well find out momentarially when my build fails :)
2015-02-10T19:09:35  <openstackgerrit> Steve Martinelli proposed openstack-infra/devstack-gate: Add oslo.policy to devstack-vm-gate-wrap.sh  https://review.openstack.org/154615
2015-02-10T19:09:57  *** _nadya_ has quit IRC
2015-02-10T19:09:57  *** ashleighfarnham has joined #openstack-infra
2015-02-10T19:10:23  *** wznoinsk_mobl has quit IRC
2015-02-10T19:10:49  <sdague> jbooboo: so I a funny thing happens with the depends on - http://status.openstack.org/zuul/
2015-02-10T19:11:09  <sdague> see 154216,3 and 154575,2 in that list
2015-02-10T19:11:52  *** EmilienM is now known as EmilienM|afk
2015-02-10T19:11:55  *** jesusaurus has joined #openstack-infra
2015-02-10T19:12:45  <foobio> sdague: i think https://review.openstack.org/154232 hasn't taken effect yet to make that a little more obvious
2015-02-10T19:12:47  <yolanda> quantumfly, i answered you as well
2015-02-10T19:12:57  <yolanda> i want to talk with you about the testing
2015-02-10T19:12:58  *** tiswanso_ has quit IRC
2015-02-10T19:13:19  *** shashankhegde has quit IRC
2015-02-10T19:13:47  <sdague> foobio: so, not quite. 154575,2 shows up as both a live and non-live change
2015-02-10T19:13:50  <foobio> sdague: oh, actually after i force-reloaded my cache of the javascript for that updated
2015-02-10T19:14:26  <foobio> sdague: yeah, it's both a live and non-live change
2015-02-10T19:14:37  <sdague> shouldn't it only be one?
2015-02-10T19:14:50  <foobio> sdague: it's being tested itself as a live change, but also appears as a non-live change applied while testing 154216,3
2015-02-10T19:15:03  <sdague> ok, I guess I assumed that it would only show up once
2015-02-10T19:15:37  <foobio> sdague: i don't think the goal was to collapse those, but maybe that's a good improvement to consider
2015-02-10T19:15:49  <jbooboo> sdague: yeah, that might be slightly confusing from ux, but is sort of comforting when you think about what might happen if the parent fails; at least this makes it clear that no matter the outcome, the child will still be tested
2015-02-10T19:16:17  <jhesketh> sdague: http://logs.openstack.org/92/154292/1/check/check-dg-tempest-dsvm-full/ddceb0d/index.html
2015-02-10T19:16:28  <jhesketh> sdague: so I think the most obvious thing that is missing is the documentation
2015-02-10T19:16:32  <sdague> jbooboo: yep, I get it now. I might try to mock up some different visual metaphor for this so that it doesn't confuse people
2015-02-10T19:16:44  *** tiswanso_ has joined #openstack-infra
2015-02-10T19:17:00  <sdague> jhesketh: are all those changes coming from swift?
2015-02-10T19:17:04  <sdague> like all the logs?
2015-02-10T19:17:05  <jbooboo> yeah.  also, it looks like grey dots are in now, so if you don't have those, you should reload
2015-02-10T19:17:33  <jhesketh> sdague: the link I sent you is since index.html isn't stored locally. Once you browse to a log, you'll probably need to append ?source=swift
2015-02-10T19:17:36  <greghaynes> mtreinish: success! now I have a traceback :)
2015-02-10T19:17:45  <greghaynes> tyty
2015-02-10T19:17:47  <openstackgerrit> Ian Wienand proposed openstack-infra/nodepool: Add generate-log-config command  https://review.openstack.org/153904
2015-02-10T19:18:28  <mtreinish> greghaynes: what's it say?
2015-02-10T19:18:31  *** dims__ has joined #openstack-infra
2015-02-10T19:18:38  *** shashankhegde has joined #openstack-infra
2015-02-10T19:18:49  *** mrunge has quit IRC
2015-02-10T19:19:43  <greghaynes> mtreinish: http://paste.ubuntu.com/10162632/
2015-02-10T19:20:18  <sdague> jhesketh: is the index static or or dynamically generated, I forget?
2015-02-10T19:20:29  <jhesketh> sdague: static
2015-02-10T19:20:30  *** elliottk has quit IRC
2015-02-10T19:21:08  <sdague> do you have an instance of - http://logs.openstack.org/92/154292/1/check/check-dg-tempest-dsvm-full/ddceb0d/logs/  that's off swift?
2015-02-10T19:21:20  *** dims_ has quit IRC
2015-02-10T19:22:03  <greghaynes> mtreinish: gonna need some debugging, but I at least know where to look now
2015-02-10T19:22:29  <mtreinish> greghaynes: isn't that because of the paren around stats, out? if it was a tuple response you wouldn't need them
2015-02-10T19:22:36  <mtreinish> also that looks like the script is out of date
2015-02-10T19:23:00  <mtreinish> because it's trying to run testr as part of the image create (which doesn't work for a number of reasons)
2015-02-10T19:23:13  <greghaynes> ah
2015-02-10T19:23:35  <jhesketh> sdague: yes, append index.html: http://logs.openstack.org/92/154292/1/check/check-dg-tempest-dsvm-full/ddceb0d/logs/index.html
2015-02-10T19:23:42  *** esmute has quit IRC
2015-02-10T19:23:52  <mtreinish> greghaynes: https://review.openstack.org/#/c/151732/
2015-02-10T19:24:21  <greghaynes> you are correct, I am out of date
2015-02-10T19:24:21  <jhesketh> sdague: which will happen automatically if the local copy isn't there. Also will be slightly faster if you could please see my comments on https://review.openstack.org/#/c/141260/\
2015-02-10T19:24:45  <quantumfly> yolanda we should build images in tests the same way we build in prod
2015-02-10T19:25:14  <patrickeast> has anyone run into problems with python-daemon 2.0.5? i updated my zuul and nodepool nodes today and ran into errors like http://paste.openstack.org/show/170892/, i saw this change https://github.com/openstack-infra/zuul/commit/7e11bd727606afa5d55cddfa07439ae646e0f330 and tried to roll it back to 2.0.4 and things work better now
2015-02-10T19:25:17  <patrickeast> is this a known issue?
2015-02-10T19:25:28  <yolanda> quantumfly, what do you mean? about the image testing spec?
2015-02-10T19:26:49  *** esmute has joined #openstack-infra
2015-02-10T19:27:06  <sdague> jhesketh: ok, so feedback. I find the icons extremely helpful in the apache view, the text content type just feels busy. K / M vs. KiB MiB would be nice to fix. And the size column needs right justification because it's a list of numbers.
2015-02-10T19:27:56  <quantumfly> yolanda just that we shouldnt special case the fake image builds that way
2015-02-10T19:28:02  <asselin__> patrickeast, <quantumfly> asselin_ upgrade your version of lockfile
2015-02-10T19:28:16  *** andreykurilin_ has joined #openstack-infra
2015-02-10T19:28:21  <asselin__> patrickeast, see the scrollback
2015-02-10T19:28:21  <quantumfly> yolanda can you have the tests poll the db?
2015-02-10T19:28:23  <yolanda> ah, quantumfly, i know, i added a comment, because if i remove builds from the taskmanager, then tests fail
2015-02-10T19:28:36  <yolanda> didn't want to update the testing behaviour
2015-02-10T19:28:43  <yolanda> so that's why i wanted feedback
2015-02-10T19:28:59  <jhesketh> sdague: okay, that shouldn't be too difficult
2015-02-10T19:29:00  <patrickeast> asselin__: awesome, thanks!
2015-02-10T19:29:10  <yolanda> so it's fine for me to poll database, but then it will be just an special case for it? or shall we update tests generally?
2015-02-10T19:29:29  <quantumfly> yes tests will have to be updated
2015-02-10T19:29:38  <sdague> jhesketh: the help text, might be nice to add, though honestly I don't know how many folks are really using it
2015-02-10T19:29:46  <sdague> so I'd say let people complain
2015-02-10T19:30:09  <foobio> patrickeast: asselin__: proposed fix for that is https://review.openstack.org/148252
2015-02-10T19:30:26  <foobio> which should cause daemon to pull in an appropriately new lockfile release on its own
2015-02-10T19:30:28  <sdague> or... can we enable server side includes and just pull it in that way?
2015-02-10T19:30:30  <yolanda> quantumfly, ok.. so hall we create a different change for that? not sure if we want to mess it
2015-02-10T19:30:52  <yolanda> first update tests to poll database instead of relying on taskmanager in an independent change
2015-02-10T19:30:54  <patrickeast> foobio: oo nice
2015-02-10T19:31:01  <quantumfly> no I think it should be part of the change that changes image building
2015-02-10T19:31:07  <jhesketh> sdague: I think it makes more sense to include the help text staticly so that as the logs/docs change the old text is still relevent
2015-02-10T19:31:08  <mtreinish> sdague: ah, all that time I spent decoding the filenames is going to disappear...
2015-02-10T19:31:11  <quantumfly> since they are couples
2015-02-10T19:31:12  <asselin__> foobio, wierd, my issue was with nodepool...perhaps another similar fix is needed?
2015-02-10T19:31:27  *** andreykurilin_ has quit IRC
2015-02-10T19:31:32  <patrickeast> i saw the same problem with nodepool and zuul
2015-02-10T19:31:39  <yolanda> quantumfly , ok, i'm fine with it.. i try to send changes in smallest commits as possible, but this is related
2015-02-10T19:31:42  <foobio> asselin__: yep. also jenkins-job-builder. i think we patched it in jjb already but not sure about nodepool
2015-02-10T19:31:49  <sdague> jhesketh: I guess, part of the reason it was nice to have it dynamic is that it let us be helpful with older logs as well
2015-02-10T19:31:49  <yolanda> let's see if i have some time this week to work on it
2015-02-10T19:31:57  <sdague> when we realized it was less clear
2015-02-10T19:32:22  <asselin__> foobio, we're going to get a merge conflict fyi. not sure the status of this: https://review.openstack.org/#/c/149336/
2015-02-10T19:32:40  *** Guest92220 has joined #openstack-infra
2015-02-10T19:32:46  <jhesketh> sdague: sure, but the older logs have it now and will continue to since they'll still be fetched from disk. Newer logs will all have the help text if we turn it on soon enough
2015-02-10T19:33:13  <sdague> right, but that does get updated, and typically when it does, we want to post date it
2015-02-10T19:33:27  <sdague> also, it means we can use the same text files as on the static server
2015-02-10T19:33:58  <sdague> unless we have a mechanism to bulk rebuild the index files
2015-02-10T19:34:28  <foobio> asselin__: indeed. one or the other can rebase when the time comes
2015-02-10T19:34:34  *** samueldmq is now known as samueldmq-away
2015-02-10T19:35:18  <jhesketh> sdague: what if the log format changes and we want to update the help text in a way that doesn't apply to older logs?
2015-02-10T19:35:52  <jhesketh> my feeling is that by the time we update the help text people aren't interested in older logs anyway
2015-02-10T19:40:47  *** maxbit has joined #openstack-infra
2015-02-10T19:41:24  <openstackgerrit> Matt Riedemann proposed openstack-infra/project-config: Make gate-ceilometer-python34 only run on master branch  https://review.openstack.org/154631
2015-02-10T19:41:29  <mriedem> foobio: mtreinish: ^
2015-02-10T19:42:35  <mtreinish> mriedem: +1
2015-02-10T19:42:52  <quantumfly> yolanda was this a problem with earlier patchsets?
2015-02-10T19:43:05  <yolanda> no, saw it in the latest one
2015-02-10T19:43:37  *** NobodyCam has quit IRC
2015-02-10T19:43:39  <sdague> jhesketh: honestly, that documentation tends to lag by months behind file changes
2015-02-10T19:43:51  <sdague> so the opposite has always been true
2015-02-10T19:44:13  *** BadCub has quit IRC
2015-02-10T19:44:18  <yolanda> it was waiting forever for image to be created, and if i moved it to task manager it was finding it properly
2015-02-10T19:44:27  *** NobodyCam has joined #openstack-infra
2015-02-10T19:44:28  <quantumfly> yolanda maybe we should sort that out? perhaps that indicates older patchsets might work better?
2015-02-10T19:44:30  *** BadCub has joined #openstack-infra
2015-02-10T19:45:20  <yolanda> quantumfly, didn't did so much, lack of time so i did a small rebase... but this was quite a significant change, a new method added, so it may affect test behaviour in some way
2015-02-10T19:45:50  *** VijayTripathi has joined #openstack-infra
2015-02-10T19:46:13  <jhesketh> sdague: fair, but the real fix there would be not to lag so much? (I know, much easier said than done)
2015-02-10T19:46:15  <yolanda> but you see, tests passed in previous changes, and i didn't update tests
2015-02-10T19:46:47  <mtreinish> jhesketh: yeah I mean jogo and I only went through and updated things after a ML thread about how the help was wrong
2015-02-10T19:46:57  <mtreinish> it doesn't really get updated otherwise
2015-02-10T19:47:24  *** dprince has quit IRC
2015-02-10T19:47:44  <quantumfly> yolanda right thats why I am wondering if older versions might be better? I will run some local testing in a bit
2015-02-10T19:48:17  <yolanda> quantumfly, nice, sorry to don't help so much but this week is impossible for me
2015-02-10T19:48:38  <quantumfly> its ok just making sure I understand what is going on :)
2015-02-10T19:48:39  <yolanda> i'd like to be more involved in nodepool, so please share what you get
2015-02-10T19:48:44  <quantumfly> will do
2015-02-10T19:49:17  <yolanda> cool
2015-02-10T19:52:01  <sdague> so is this just a red herring - http://logs.openstack.org/94/152994/6/check/check-devstack-dsvm-updown/eaba588/console.html#_2015-02-10_17_16_36_476 ?
2015-02-10T19:53:35  <openstackgerrit> Merged openstack-infra/reviewstats: Add tchaypo as core  https://review.openstack.org/150332
2015-02-10T19:54:28  <mtreinish> sdague: the job passed? was that not supposed to happen?
2015-02-10T19:54:29  <openstackgerrit> Merged openstack-infra/reviewstats: Update Heat's core team  https://review.openstack.org/150750
2015-02-10T19:54:48  <sdague> mtreinish: the job passed
2015-02-10T19:55:02  <sdague> but that output looks like it would be an error
2015-02-10T19:55:12  <sdague> I'm curious if we just need to fix a d-g thing
2015-02-10T19:57:25  *** baoli has quit IRC
2015-02-10T19:58:22  <tchaypo> ironic.
2015-02-10T19:59:40  <openstackgerrit> Andrey Pavlov proposed openstack-infra/project-config: Ajust gating jobs for ec2-api project  https://review.openstack.org/154640
2015-02-10T20:01:04  *** Guest92220 is now known as annegentle
2015-02-10T20:01:08  <tristanC> Hello folks, I wanted to talk during the meeting about that 'include: layout-file' feature presented here: https://review.openstack.org/#/c/152290/. What is the way forward to get that feature accepted ?
2015-02-10T20:01:15  *** vipul has quit IRC
2015-02-10T20:01:21  <jbooboo> tristanC: wait for someone to review it
2015-02-10T20:01:27  <jhesketh> tristanC: I just had a look and will review it shortly
2015-02-10T20:01:45  <tristanC> oh alright, great :)
2015-02-10T20:01:54  *** NobodyCam has quit IRC
2015-02-10T20:01:57  <jhesketh> tristanC: quick question though (possibly also directed at jbooboo), would it be better to have a conf.d type directory rather than having to specify includes?
2015-02-10T20:01:57  *** jesusaurus has quit IRC
2015-02-10T20:02:07  *** BadCub has quit IRC
2015-02-10T20:02:13  *** esmute has quit IRC
2015-02-10T20:02:13  <anteaya> no tc meeting?
2015-02-10T20:02:24  <quantumfly> also there is a spec for that
2015-02-10T20:02:31  <quantumfly> so the change should hopefully implement the spec
2015-02-10T20:02:52  <jhesketh> quantumfly: a spec for splitting zuul's conf?
2015-02-10T20:02:56  <quantumfly> jhesketh: yes
2015-02-10T20:03:00  <quantumfly> let me get a link
2015-02-10T20:03:03  <jhesketh> oh, I must have missed that one
2015-02-10T20:03:05  <jhesketh> thanks
2015-02-10T20:03:11  <tristanC> quantumfly: oups, I didn't knew that...
2015-02-10T20:03:37  *** dprince has joined #openstack-infra
2015-02-10T20:03:47  <foobio> http://specs.openstack.org/openstack-infra/infra-specs/specs/zuul_split.html
2015-02-10T20:03:51  <tristanC> jhesketh: yes sure, I just went the naive approach and extended the 'include' directive...
2015-02-10T20:03:51  <foobio> is the spec
2015-02-10T20:03:52  *** esmute has joined #openstack-infra
2015-02-10T20:03:56  *** BadCub has joined #openstack-infra
2015-02-10T20:04:00  <jhesketh> speaking of specs, there is a new version of bower for horizon sutff https://review.openstack.org/#/c/154297/
2015-02-10T20:04:07  *** NobodyCam has joined #openstack-infra
2015-02-10T20:04:08  *** bhuvan has quit IRC
2015-02-10T20:04:08  <quantumfly> https://review.openstack.org/#/c/133249/
2015-02-10T20:04:08  *** vipul has joined #openstack-infra
2015-02-10T20:04:20  <quantumfly> its merged so it just needs to be implemented
2015-02-10T20:04:47  *** jesusaurus has joined #openstack-infra
2015-02-10T20:04:54  <jhesketh> yep and has my preference for a conf dir rather than specific files
2015-02-10T20:05:09  *** rfolco has quit IRC
2015-02-10T20:05:13  *** aysyd has quit IRC
2015-02-10T20:05:45  *** yfried_ is now known as yfried|afk
2015-02-10T20:06:06  <tristanC> foobio: thanks for the link, good to know there is an infra-specs repository :)
2015-02-10T20:06:45  <foobio> tristanC: we're not as disorganized and impulsive as some people might claim ;)
2015-02-10T20:07:08  <foobio> well, i am, but the rest are sensible folk
2015-02-10T20:07:17  *** Rockyg has joined #openstack-infra
2015-02-10T20:07:48  <tristanC> alright, I can rework the proposed review to accomodate a conf.d like collection of files
2015-02-10T20:09:08  <tristanC> though, while trying to refactor the layout.yaml of project-config, I found out a lot of dependencies, e.g. triple-o project adding a pipeline that is used in most project
2015-02-10T20:09:09  <foobio> quantumfly: jbooboo: mordred: zaro: looking at http://cacti.openstack.org/cacti/graph_view.php?action=tree&tree_id=1&leaf_id=9 before i go firing up the trusty replacement for review.o.o, i'm thinking we're good for sticking with the 30g ram flavor we're already using, but if we want to resize now is the time to discuss it
2015-02-10T20:09:53  <quantumfly> foobio: yes I agree, don't forget the ssd volume for git repos too
2015-02-10T20:10:04  <quantumfly> though maybe we can just detach, then reattach to new node?
2015-02-10T20:10:12  <quantumfly> I personally like rsync for simplicity though
2015-02-10T20:10:30  * sc68cal scratches his head at http://paste.openstack.org/show/170926/
2015-02-10T20:10:43  <sc68cal> odd failure installing tempest via devstack..
2015-02-10T20:12:23  *** bhuvan has joined #openstack-infra
2015-02-10T20:12:33  <quantumfly> sc68cal: maybe you don't have sudo rights with that user?
2015-02-10T20:13:31  <sc68cal> nope, it's a devstack run so the stack user has the sudo privs
2015-02-10T20:13:59  *** shashankhegde has quit IRC
2015-02-10T20:14:01  <krtaylor> foobio, did we reach a conclusion on review.o.o upgrade date?
2015-02-10T20:14:14  *** bswartz has quit IRC
2015-02-10T20:14:23  <quantumfly> sc68cal: devstack-gate removes the stack user's sudo rights
2015-02-10T20:14:40  <quantumfly> sc68cal: so if running d-g twice it would fail like that iirc. Just pointing out there are scenarios where this likely won't work
2015-02-10T20:14:43  <sc68cal> ah you know what - I think it's related to I78d51f04ed01da4ce8aa0e127be028f969d3b4f8 just merged
2015-02-10T20:15:10  *** ldnunes has quit IRC
2015-02-10T20:15:17  <jbooboo> asselin__: what's your best guess for how long the rule update would take at hp?
2015-02-10T20:15:27  *** achanda has quit IRC
2015-02-10T20:15:31  <asselin__> jbooboo, 2 months
2015-02-10T20:15:34  <jbooboo> asselin__: (it seemed like you were saying the 2 month figure involved an error that had to be corrected last time)
2015-02-10T20:15:44  <asselin__> jbooboo, cody-somerville would know best
2015-02-10T20:15:48  <pleia2> is it incidental or intentional that root admins are also storyboard admins?
2015-02-10T20:15:57  <jbooboo> pleia2: intentional
2015-02-10T20:16:01  *** wznoinsk has quit IRC
2015-02-10T20:16:04  <foobio> asselin__: make cody-somerville personally change the firewall rules ;)
2015-02-10T20:16:05  <jbooboo> pleia2: they are also gerrit admins, we'll fix that soon
2015-02-10T20:16:07  *** wznoinsk_mobl has joined #openstack-infra
2015-02-10T20:16:08  <pleia2> jbooboo: thanks
2015-02-10T20:16:11  <asselin__> jbooboo, it my case it was 2 months + 1 month to fix the fat fingered mistake
2015-02-10T20:16:12  <jbooboo> cody-somerville: ?
2015-02-10T20:16:24  <cody-somerville> Heya.
2015-02-10T20:16:26  <cody-somerville> Whats needed? :)
2015-02-10T20:16:27  <asselin__> that only affected by site (wrong ip)
2015-02-10T20:17:06  <quantumfly> yolanda: so my local tests don't seem to be returning. I assume this is the behavior your saw with images not going ready
2015-02-10T20:17:13  <jbooboo> cody-somerville: gerrit's ip will be changing.  what's the minimum turnaround time for hp to upgrade firewall egress rules?
2015-02-10T20:17:22  <yolanda> yes, same one
2015-02-10T20:17:30  *** wznoinsk_mobl has quit IRC
2015-02-10T20:17:31  *** cnesa has joined #openstack-infra
2015-02-10T20:17:42  <yolanda> when you test the change with testr directly you see the issue, that is just watiing for getimage
2015-02-10T20:17:51  *** ashleighfarnham has quit IRC
2015-02-10T20:18:14  <cody-somerville> minimum? It'll depend on queue length. And they have scheduled times for deploys. So I'd say it'll probably take a month to two months.
2015-02-10T20:18:34  <quantumfly> yolanda: I wonder if that incidicates that the actual daemon won't see the image go ready either
2015-02-10T20:18:43  *** bswartz has joined #openstack-infra
2015-02-10T20:19:08  <yolanda> quantumfly, but the actual daemon will do real tests
2015-02-10T20:19:25  <quantumfly> yolanda: ya I need to read up on that portion of the code
2015-02-10T20:19:27  *** esmute has quit IRC
2015-02-10T20:19:27  <yolanda> real checks, i mean
2015-02-10T20:19:56  *** _nadya_ has joined #openstack-infra
2015-02-10T20:21:04  *** jesusaurus has quit IRC
2015-02-10T20:21:11  *** achanda has joined #openstack-infra
2015-02-10T20:21:14  *** vipul has quit IRC
2015-02-10T20:21:32  *** BadCub has quit IRC
2015-02-10T20:21:52  *** NobodyCam has quit IRC
2015-02-10T20:21:58  *** changbl has quit IRC
2015-02-10T20:22:03  <jbooboo> quantumfly, foobio, mordred: what do you think about 1 month, so schedule for mar 21?
2015-02-10T20:22:12  <quantumfly> yolanda: I think this doesn't work because UploadImageTask needs to have its main() method called
2015-02-10T20:22:20  <quantumfly> jbooboo: that weekend also works for me
2015-02-10T20:22:39  <quantumfly> jbooboo: It is a bit frustrating that our ability to progress is impeded by arbitrary corporate rules in $locations though
2015-02-10T20:22:43  <jbooboo> i could be convinced that 1 month is a good notice period.  honestly, i still feel like 2 months is us bending backwards to enable hp's dysfunction.
2015-02-10T20:22:45  *** NobodyCam has joined #openstack-infra
2015-02-10T20:22:57  <quantumfly> jbooboo: yes I would -1 2 months
2015-02-10T20:23:02  <quantumfly> 1 month seems to be reasonable ish
2015-02-10T20:23:06  *** zz_avozza is now known as avozza
2015-02-10T20:23:23  *** esmute has joined #openstack-infra
2015-02-10T20:23:27  *** BadCub has joined #openstack-infra
2015-02-10T20:23:38  *** vipul has joined #openstack-infra
2015-02-10T20:23:48  <quantumfly> yolanda: I think we should go back to the patchset 5 type change
2015-02-10T20:23:56  <mordred> I'm fine with that - and just for the record, I agree - I think it's crazy that this is a conversation
2015-02-10T20:23:59  <quantumfly> yolanda: since that doesn't treat the image upload as a Task object which requires the task managers
2015-02-10T20:24:05  <yolanda> quantumfly, looking
2015-02-10T20:24:27  <mordred> I mainly just want to make sure that the folks who work at places as broken as HP is don't get screwed in the process
2015-02-10T20:24:33  <foobio> jbooboo: looks like that's right on the heels of feature freeze, so may be quiet-ish
2015-02-10T20:24:44  <quantumfly> mordred: and the majority of them won't be. https works fine for pushing code and reviewing code
2015-02-10T20:24:47  <foobio> jbooboo: possibly the best choice that close to release
2015-02-10T20:25:00  *** jesusaurus has joined #openstack-infra
2015-02-10T20:25:08  <foobio> jbooboo: and i'm around that weekend as well
2015-02-10T20:25:08  <mordred> quantumfly: k
2015-02-10T20:25:11  <quantumfly> mordred: the only people that need to do crazyness are folks like asselin__ that either have to do silly proxying or wait for firewall updates (or both) to run third party CIs with zuul
2015-02-10T20:25:30  <quantumfly> mordred: we know this works because it is how you get around China's firewall
2015-02-10T20:25:31  <jbooboo> yeah, i feel like 1 month is a perfectly defensible time frame for that kind of update
2015-02-10T20:25:44  <krtaylor> ++
2015-02-10T20:25:48  <jbooboo> so it's a little painful for us, and a little painful for third parties
2015-02-10T20:25:53  <jbooboo> which is the nature of all good compromises :)
2015-02-10T20:26:05  <asselin__> correct, only impacts thirdparty who use zuul
2015-02-10T20:26:20  <foobio> as long as feature freeze doesn't get delayed for some reason we should be fine with that date i think
2015-02-10T20:26:53  <foobio> asselin__: only impacts third parties who have their zuul server stuck behind obnoxious egress filters they can't control
2015-02-10T20:26:53  <yolanda> quantumfly, so you mean getting rid of the uploadimagetask object?
2015-02-10T20:26:54  *** r1chardj0n3s_afk is now known as r1chardj0n3s
2015-02-10T20:26:55  <anteaya> I should be around march 21
2015-02-10T20:27:07  <yolanda> this was created on future patches
2015-02-10T20:27:28  *** signed8bit has joined #openstack-infra
2015-02-10T20:27:38  <asselin__> foobio, correct.
2015-02-10T20:27:39  <jbooboo> also, we should be pretty clear that an ip change can happen at any time
2015-02-10T20:28:03  <jbooboo> if there is some problem with the server, we may have to move to a new ip with little or no notice
2015-02-10T20:28:06  <mordred> yah
2015-02-10T20:28:11  <quantumfly> yolanda: yup
2015-02-10T20:28:16  <mordred> it IS a cloud, after all
2015-02-10T20:28:17  <asselin__> for everyone else on our team, we used corkscrew
2015-02-10T20:28:18  <quantumfly> yolanda: I commented on the change
2015-02-10T20:28:46  <anteaya> jbooboo: agreed folks should know that
2015-02-10T20:28:59  <jbooboo> so, happy to do some work to avoid breaking people with scheduled work, but we absolutely can't promise that there will always be notice
2015-02-10T20:29:10  <yolanda> quantumfly , nice, i like your proposal
2015-02-10T20:29:23  <mordred> wenlock: ^^ you guys have magical pony powers - the above conversation might be of interest
2015-02-10T20:29:41  <mordred> wenlock: maybe someone could get 29418 blanket-outbound approved ...
2015-02-10T20:29:47  *** sparkycollier has joined #openstack-infra
2015-02-10T20:29:51  <wenlock> mordred, was just reading that, not sure which stream of conv though, trying to find the begining
2015-02-10T20:29:55  <wenlock> can you summarize?
2015-02-10T20:30:00  <asselin__> this is what we used for 'normal' gerrit usage: http://paste.openstack.org/show/170931/
2015-02-10T20:30:13  <mordred> wenlock: we're moving the gerrit server so it's IP is going to change
2015-02-10T20:30:19  <mordred> wenlock: and HP has stupid firewall rules
2015-02-10T20:30:24  <asselin__> if we can find a working solution for zuul as quantumfly says exists, that would be fine with me
2015-02-10T20:30:26  *** maxbit has quit IRC
2015-02-10T20:30:28  <mordred> wenlock: I think that sums it up
2015-02-10T20:30:30  <mordred> :)
2015-02-10T20:30:38  <wenlock> ahh yes,mordred, i know someone that knows someone that can help us fix that in our network
2015-02-10T20:30:41  <wenlock> we did it before
2015-02-10T20:30:44  <quantumfly> asselin__: with https that shouldnt be necessary, you just need an http proxy and a different gerrit remote (one that uses https)
2015-02-10T20:30:51  <yolanda> quantumfly, i'll file a change tomororw, first thing in the morning :)
2015-02-10T20:30:54  <yolanda> i want to have this updated
2015-02-10T20:30:57  <mordred> wenlock: awesome - I'll be sure to ping you when we have the new IP
2015-02-10T20:31:03  <quantumfly> yolanda: sounds good, thank you
2015-02-10T20:31:09  <wenlock> bottom line, its just an ncs request, osanchez had set that up for us
2015-02-10T20:31:25  <wenlock> mordred sure, i'll forward to osanchez to help us kick that
2015-02-10T20:31:25  *** amrith is now known as _amrith_
2015-02-10T20:31:26  <asselin__> quantumfly, sorry, not following
2015-02-10T20:31:27  <yolanda> oh, see that caching of floating ips got merged, i didn't realize :)
2015-02-10T20:31:38  <yolanda> i need to sync nodepool this week , want to have these patches
2015-02-10T20:31:40  <quantumfly> asselin__: gerrit 2.8 accepts changes over https
2015-02-10T20:31:57  <quantumfly> asselin__: so you don't need corkscrew and all that. You just need to be able to https out which is super common in corp envs
2015-02-10T20:32:12  <wenlock> ohh thats nice, quantumfly, is git-review smart enough to make that switch?
2015-02-10T20:32:21  <quantumfly> wenlock: if you change your gerrit remote
2015-02-10T20:32:22  <asselin__> quantumfly, ok nice.
2015-02-10T20:32:39  <asselin__> quantumfly, and for zuul, we can connect vis https?
2015-02-10T20:32:48  <quantumfly> asselin__: no zuul requires ssh stream events
2015-02-10T20:32:50  <wenlock> quantumfly not in the .gitreview file?
2015-02-10T20:33:15  <quantumfly> wenlock: no because that would require changing all .gitreview files and using https across the board which I will personally -2 in projects I have the power to do that in :)
2015-02-10T20:33:51  <wenlock> ic, so it stays as a personal choice
2015-02-10T20:33:54  <quantumfly> I don't want to have to deal with gerrit https passwords
2015-02-10T20:34:00  <quantumfly> I think ssh as the default is best
2015-02-10T20:34:17  <quantumfly> https is then useable for those that it is easier for
2015-02-10T20:34:37  <wenlock> ahh, i thought it would use pub keys, eek if it doesn't
2015-02-10T20:35:02  <quantumfly> it uses the gerrit http password which you can get in your settings pages
2015-02-10T20:35:13  <quantumfly> same thing used for REST api access
2015-02-10T20:35:15  *** EmilienM|afk is now known as EmilienM
2015-02-10T20:35:22  <foobio> yeah, if gerrit https supported x.509 client certs for auth it would make some of this saner
2015-02-10T20:35:36  <wenlock> yep
2015-02-10T20:35:52  <quantumfly> foobio: not sure I agree, I would have a hard enough time deal with x.509 certs for my self
2015-02-10T20:36:05  <quantumfly> I can only imagine how much support that would require for the general use bas
2015-02-10T20:36:27  <quantumfly> keystone devs and foobio would be the only group with reliable push access :)
2015-02-10T20:36:28  <wenlock> quantumfly ive been seeing that alot in other api's using https:// protocols though..
2015-02-10T20:36:34  <foobio> well, it's no more complicated than pubkey auth for ssh, just not as well-known
2015-02-10T20:36:37  <wenlock> quantumfly, docker api example
2015-02-10T20:36:46  <quantumfly> foobio: it is in that openssl is the worst set of tools for a user ever
2015-02-10T20:36:50  <quantumfly> foobio: even worse than socat
2015-02-10T20:36:53  <morganfainberg> hm. keystone.
2015-02-10T20:37:05  <quantumfly> foobio: ssh-keygen on the other hand is simple and easy
2015-02-10T20:37:07  <stevemar> quantumfly, keystone you say
2015-02-10T20:37:16  <morganfainberg> quantumfly, i heard keystone
2015-02-10T20:37:17  <r1chardj0n3s> morning
2015-02-10T20:37:17  <sc68cal> Yeah i'm still trying to figure out why tempest is failing to install (http://paste.openstack.org/show/170926/) - it's a brand new VM, never run devstack before on it
2015-02-10T20:37:19  <quantumfly> ha I highlighted all of keystone :)
2015-02-10T20:37:23  <morganfainberg> stevemar, ^^
2015-02-10T20:37:31  <r1chardj0n3s> jhesketh: it seems things are busy in infra-land ;)
2015-02-10T20:38:16  <morganfainberg> client certs are probably not fun for most people to deal with
2015-02-10T20:38:21  <quantumfly> sc68cal: can you try running that command directly?
2015-02-10T20:38:32  <quantumfly> morganfainberg: exactly
2015-02-10T20:39:06  <quantumfly> I always end up reading docs, then getting sad that the docs are terrible, then reading more docs, eventually giving in and just running commands until something works, but it doesn't work so I go back to the terrible docs
2015-02-10T20:39:11  <jhesketh> r1chardj0n3s: things are always busy in infra-land
2015-02-10T20:39:13  <quantumfly> then heartbleed happens and it all makes sense
2015-02-10T20:39:21  <r1chardj0n3s> :)
2015-02-10T20:39:38  <foobio> new ip addresses for trusty review.o.o replacement: 104.130.159.134 2001:4800:7818:102:be76:4eff:fe05:9b12
2015-02-10T20:39:45  *** ashleighfarnham has joined #openstack-infra
2015-02-10T20:39:48  <foobio> has someone already started a draft announcement?
2015-02-10T20:40:07  <sc68cal> quantumfly: yeah, it's the "tox -e venv" command inside the tempest git dir
2015-02-10T20:40:09  <quantumfly> foobio: I had not, maybe I should do that but also lunch
2015-02-10T20:40:17  *** tsg_ has joined #openstack-infra
2015-02-10T20:40:17  <foobio> i can get it going
2015-02-10T20:40:20  <sc68cal> run by devstack near the end
2015-02-10T20:40:25  <quantumfly> sc68cal: that doesn't look like a tox comamdn, it is installing globally not in a tox env
2015-02-10T20:40:31  *** ildikov has joined #openstack-infra
2015-02-10T20:40:52  <quantumfly> oh I see tox in the command that is weird
2015-02-10T20:40:53  <wenlock> foobio, so review.openstack.org will be 104.130.159.134, any others on 29418 ???
2015-02-10T20:41:34  <anteaya> foobio: they should be able to access review-dev should they not?
2015-02-10T20:41:40  <wenlock> foobio btw, what was the old ip?
2015-02-10T20:41:51  <foobio> wenlock: we have a review-dev which is useful for testing things on if you want, 104.239.132.36 2001:4800:7818:104:be76:4eff:fe05:a763
2015-02-10T20:41:55  <quantumfly> sc68cal: I do not know why a tox venv python would be updating /usr/local
2015-02-10T20:42:08  <wenlock> foobio, perfect, ty
2015-02-10T20:42:09  <quantumfly> wenlock: host review.openstack.org :)
2015-02-10T20:42:23  <foobio> wenlock: old (current) review.openstack.org is 23.253.232.87 2001:4800:7815:104:3bc3:d7f6:ff03:bf5d
2015-02-10T20:42:40  <foobio> also in dns
2015-02-10T20:42:41  <sc68cal> quantumfly: neither do i
2015-02-10T20:42:43  <wenlock> foobio , quantumfly ty, i'll see if i can dig up those old request
2015-02-10T20:42:45  *** tsg has quit IRC
2015-02-10T20:42:48  <wenlock> and have things updated on our end
2015-02-10T20:42:50  *** MaxV has quit IRC
2015-02-10T20:42:53  *** VijayTripathi has quit IRC
2015-02-10T20:43:25  *** MaxV has joined #openstack-infra
2015-02-10T20:43:33  *** achanda has quit IRC
2015-02-10T20:43:44  <wenlock> mordred, no email needed if that info is good
2015-02-10T20:43:49  *** claudiub_ has quit IRC
2015-02-10T20:44:56  *** Sukhdev has quit IRC
2015-02-10T20:45:27  *** timo has joined #openstack-infra
2015-02-10T20:45:37  <quantumfly> wenlock: we have to send email for everyone else
2015-02-10T20:45:51  *** timo is now known as Guest68417
2015-02-10T20:46:08  <wenlock> quantumfly, yep, i was referring to the message he was sending me.
2015-02-10T20:46:14  <quantumfly> oh
2015-02-10T20:46:15  <wenlock> on the info foobio just relayed
2015-02-10T20:46:27  *** gokrokve has quit IRC
2015-02-10T20:46:54  *** gokrokve has joined #openstack-infra
2015-02-10T20:47:23  <sc68cal> quantumfly: reverting 9f1612e7afd9de56bc70d5c5b1c63ad5181d84ab fixes the issue - https://review.openstack.org/#/c/150928/
2015-02-10T20:48:10  <quantumfly> sc68cal: so that was tested, interesting that its breaking for you
2015-02-10T20:48:14  *** MaxV has quit IRC
2015-02-10T20:48:22  <quantumfly> sc68cal: and this is a fresh host right?
2015-02-10T20:48:24  <sc68cal> yup
2015-02-10T20:48:30  <sc68cal> quantumfly: https://bugs.launchpad.net/devstack/+bug/1420480
2015-02-10T20:48:32  <openstack> Launchpad bug 1420480 in devstack "DevStack fails to install tempest" [Undecided,New]
2015-02-10T20:48:47  <quantumfly> sc68cal: its a tempest bug if reverting that change fixes it
2015-02-10T20:49:16  *** mestery has joined #openstack-infra
2015-02-10T20:49:43  <wenlock> foobio, do you have dates yet for when those will cut over?
2015-02-10T20:50:04  <sc68cal> quantumfly: ok - going to do a full run with the revert in my VM and see if it completes the run
2015-02-10T20:50:06  <wenlock> foobio, the new ip's that is
2015-02-10T20:50:26  <sc68cal> quantumfly: believe me, I nuked the VM 3 times and ran devstack and got this error each time
2015-02-10T20:50:51  <quantumfly> sc68cal: sure just pointing out you filed the bug in devstack but it would be tempest if tempest broke it
2015-02-10T20:50:51  <sc68cal> it's possible that some other change is triggering it
2015-02-10T20:51:20  *** gokrokve has quit IRC
2015-02-10T20:51:28  <quantumfly> sc68cal: also what version of pip and setuptools are ou using? devstack should update both to latest but maybe that doesn't happen for some reason?
2015-02-10T20:51:30  *** mestery has quit IRC
2015-02-10T20:51:58  <sc68cal> quantumfly: pip 6.0.8 from /usr/local/lib/python2.7/dist-packages (python 2.7)
2015-02-10T20:52:22  *** Guest68417 has quit IRC
2015-02-10T20:52:25  <quantumfly> ya thats up to date so no problem there
2015-02-10T20:52:43  <sc68cal> I had clean runs this morning :-\
2015-02-10T20:52:53  <sc68cal> err... that sounds wrong
2015-02-10T20:53:01  <quantumfly> heh
2015-02-10T20:53:05  <anteaya> wenlock: well march 21 is being offered as an option with no clear acceptance that I have seen
2015-02-10T20:53:15  <anteaya> wenlock: so dates to be determined
2015-02-10T20:53:30  <quantumfly> sc68cal: also ubuntu 14.04? fedora 21? I am assuming a debuntu version based ont he /usr/local stuff
2015-02-10T20:53:34  *** _amrith_ is now known as amrith
2015-02-10T20:53:36  <sc68cal> 14.04
2015-02-10T20:53:38  <foobio> wenlock: i'm presently drafting the announcement so we can reach a consensus on the schedule
2015-02-10T20:54:01  <anteaya> wenlock: part of the date selection process was understanding how long big corps needed to update
2015-02-10T20:54:43  *** shashankhegde has joined #openstack-infra
2015-02-10T20:54:58  *** nicodemos has quit IRC
2015-02-10T20:55:18  <wenlock> anteaya last time we did it it took us 3 months, but i anticipate updates to take less than 30 days
2015-02-10T20:55:18  <anteaya> was/is
2015-02-10T20:55:22  *** crc32 has joined #openstack-infra
2015-02-10T20:55:27  *** CIBuilds has joined #openstack-infra
2015-02-10T20:55:37  <anteaya> wenlock: that is useful information to incorprate into out date selection, thank you
2015-02-10T20:55:43  <wenlock> anteaya i need to get the request going though to find out what the window will be, let me see if i can find a specific SLA they provide
2015-02-10T20:55:47  <anteaya> out/our
2015-02-10T20:55:54  <anteaya> wenlock: awesome
2015-02-10T20:58:15  <foobio> draft announcement is at https://etherpad.openstack.org/p/nMchefon2n
2015-02-10T20:58:46  <foobio> i had some stuff in there about using the gerrit rest api with git-review but ripped it back out because i don't know of any concise documentation we can point people at for the current release
2015-02-10T20:59:08  *** mriedem has quit IRC
2015-02-10T20:59:11  *** BadCub has quit IRC
2015-02-10T20:59:27  *** esmute has quit IRC
2015-02-10T20:59:33  *** jesusaurus has quit IRC
2015-02-10T20:59:42  *** vipul has quit IRC
2015-02-10T20:59:49  *** NobodyCam has quit IRC
2015-02-10T20:59:54  <quantumfly> foobio: +2 I have a mail list thread on the https stuff
2015-02-10T21:00:02  <quantumfly> foobio: let me get a link to that and you can just refer to it
2015-02-10T21:00:47  <foobio> quantumfly: awesome--thanks!
2015-02-10T21:00:53  <quantumfly> foobio: http://lists.openstack.org/pipermail/openstack-dev/2014-September/045383.html thread starts there
2015-02-10T21:01:02  *** otter768 has joined #openstack-infra
2015-02-10T21:01:12  *** BobBall is now known as BobBall_AWOL
2015-02-10T21:01:30  <quantumfly> http://lists.openstack.org/pipermail/openstack-dev/2014-September/045385.html has my directions
2015-02-10T21:01:58  <quantumfly> and ZZelle has info on using a git credential manager
2015-02-10T21:01:59  *** VijayTripathi has joined #openstack-infra
2015-02-10T21:02:27  *** mriedem has joined #openstack-infra
2015-02-10T21:02:55  <quantumfly> sc68cal: fwiw I can run `tox -evenv -- ls` in an up to date tempest repo just fine
2015-02-10T21:03:03  <quantumfly> sc68cal: so possibly that devstack is doing something funny
2015-02-10T21:03:18  <sc68cal> dunno - it's totally not touched
2015-02-10T21:03:38  <sc68cal> 5fc64f1fcba9a971e3c7f9e6100fd84d10678425 is the sha of devstack
2015-02-10T21:03:40  <quantumfly> and I really need to go get lunch now. so back in a bit
2015-02-10T21:04:17  <sc68cal> quantumfly: no problem
2015-02-10T21:04:28  *** sdake has joined #openstack-infra
2015-02-10T21:05:43  <openstackgerrit> Khai Do proposed openstack-infra/project-config: Setup project to run jobs on jenkins-dev.o.o  https://review.openstack.org/153739
2015-02-10T21:05:58  *** otter768 has quit IRC
2015-02-10T21:06:07  <jbooboo> foobio: made suggested addition
2015-02-10T21:06:33  <jbooboo> foobio: lgtm
2015-02-10T21:07:04  *** baoli has joined #openstack-infra
2015-02-10T21:07:19  <jbooboo> and i do think we pretty much have consensus on mar 21 at this point
2015-02-10T21:07:38  <foobio> jbooboo: thanks--that helps
2015-02-10T21:08:11  *** esmute has joined #openstack-infra
2015-02-10T21:08:49  <wenlock> anteaya, i found the answer in our faq from network connectivity services.   Normal request are 90 days, expedited request are 30 days.
2015-02-10T21:10:00  *** Alexandra_ has joined #openstack-infra
2015-02-10T21:10:02  <jbooboo> so, the good (?) news is that we have sufficient time to file an expedited request.
2015-02-10T21:10:14  <wenlock> jbooboo, hehe yep
2015-02-10T21:10:33  <jbooboo> the bad news is that if we ever had a problem with the gerrit server that resulted in an immediate ip change, hp would get a one month vacation from having to work on openstack
2015-02-10T21:10:40  <wenlock> it also helps if we can use the same request number as we did the first time, so i have to get that from my team who filed it
2015-02-10T21:10:56  <foobio> okay, if nobody else has any feedback on the announcement at https://etherpad.openstack.org/p/nMchefon2n i'll go ahead and send it
2015-02-10T21:11:00  *** CIBuilds is now known as Tim_O
2015-02-10T21:11:09  <wenlock> jbooboo, would be nice if it was a pool of 5 ip's or something or 1 ip in each zone that it could possibly live in
2015-02-10T21:11:39  *** vipul has joined #openstack-infra
2015-02-10T21:11:41  <wenlock> foobio, wondering if there were backup ip's included, would be nice for future issues.
2015-02-10T21:12:03  <jbooboo> wenlock: yes it would, but rax doesn't have floating ips, and we can't use their load-balancer product with non-http things :(
2015-02-10T21:12:04  <foobio> wenlock: lots of things would be nice, but our service providers assign ip addresses when we build a new instance
2015-02-10T21:12:29  *** BadCub has joined #openstack-infra
2015-02-10T21:12:35  <openstackgerrit> Khai Do proposed openstack-infra/project-config: Setup a project to test zuul-dev.o.o periodic pipeline  https://review.openstack.org/154667
2015-02-10T21:12:43  <wenlock> foobio, jbooboo, gotcha
2015-02-10T21:12:43  *** NobodyCam has joined #openstack-infra
2015-02-10T21:12:47  *** esmute has quit IRC
2015-02-10T21:12:50  <foobio> wenlock: it's this new-fangled "cloud" concept you might have heard of already ;)
2015-02-10T21:12:53  *** jesusaurus has joined #openstack-infra
2015-02-10T21:12:58  <wenlock> haha
2015-02-10T21:13:30  <wenlock> foobio, im starting to get familiar with it....funny enough that was the same issue raised on other teams we're doing pilots with
2015-02-10T21:13:53  <foobio> wenlock: great to know there's some consensus around pain points at least
2015-02-10T21:13:57  <wenlock> old networks suck
2015-02-10T21:14:10  *** amrith is now known as _amrith_
2015-02-10T21:14:28  *** esmute has joined #openstack-infra
2015-02-10T21:14:29  <openstackgerrit> Khai Do proposed openstack-infra/project-config: Setup a project to test zuul-dev.o.o periodic pipeline  https://review.openstack.org/154667
2015-02-10T21:14:52  *** stevemar has quit IRC
2015-02-10T21:15:32  *** sparkycollier has quit IRC
2015-02-10T21:16:26  *** marun has quit IRC
2015-02-10T21:18:13  <foobio> okay, announcement sent
2015-02-10T21:20:40  *** radez_g0n3 is now known as radez
2015-02-10T21:21:01  *** Hefeweizen has quit IRC
2015-02-10T21:21:45  *** achanda has joined #openstack-infra
2015-02-10T21:21:58  <anteaya> foobio: thanks
2015-02-10T21:28:26  *** bswartz has quit IRC
2015-02-10T21:30:21  <openstackgerrit> Elizabeth K. Joseph proposed openstack-infra/system-config: Add Elizabeth K. Joseph to servers and storyboard  https://review.openstack.org/154672
2015-02-10T21:32:18  *** emagana has joined #openstack-infra
2015-02-10T21:32:20  <zaro> jbooboo: was wondering, where is the gerrit trove db? rax or hp?
2015-02-10T21:33:00  <foobio> zaro: rackspace dfw region
2015-02-10T21:33:03  *** rlandy has quit IRC
2015-02-10T21:33:13  <foobio> zaro: same provider and region as the server connecting to it
2015-02-10T21:33:31  <openstackgerrit> Elizabeth K. Joseph proposed openstack-infra/system-config: Add Elizabeth K. Joseph to servers and storyboard  https://review.openstack.org/154672
2015-02-10T21:33:53  *** Alexandra_ has quit IRC
2015-02-10T21:35:11  *** jsavak has joined #openstack-infra
2015-02-10T21:36:38  <zaro> I just asked SlickNik about the connection timeout and he says that rax might be using something in front of the trove db, repose?, and there's a timeout setting there as well.
2015-02-10T21:37:55  *** dmsimard_away has joined #openstack-infra
2015-02-10T21:37:55  *** dmsimard_away is now known as dmsimard
2015-02-10T21:38:12  *** joesavak has quit IRC
2015-02-10T21:39:47  *** mestery has joined #openstack-infra
2015-02-10T21:40:15  *** baoli has quit IRC
2015-02-10T21:40:46  *** baoli has joined #openstack-infra
2015-02-10T21:41:36  *** _nadya_ has quit IRC
2015-02-10T21:42:10  <foobio> zaro: ooh, interesting
2015-02-10T21:42:27  <foobio> that sounds entirely possible
2015-02-10T21:43:26  <zaro> know anybody we can ask about that?
2015-02-10T21:44:05  <anteaya> would JayF be someone we could ask?
2015-02-10T21:44:05  <jbooboo> https://etherpad.openstack.org/p/Kukz1pmRkY
2015-02-10T21:44:29  <foobio> jroll: phschwartz: do either of you happen to know why can tell us about possible timeouts for established sockets to trove databases?
2015-02-10T21:44:40  <jbooboo> foobio, quantumfly, sdague: https://etherpad.openstack.org/p/Kukz1pmRkY
2015-02-10T21:44:46  <jbooboo> anteaya: ^
2015-02-10T21:44:49  *** dannywilson has quit IRC
2015-02-10T21:45:03  <jbooboo> lemme know if that looks like it's ready for the -dev list.
2015-02-10T21:45:08  *** dannywilson has joined #openstack-infra
2015-02-10T21:45:25  <jroll> foobio: uhhhhh
2015-02-10T21:45:27  <JayF> I don't know things about trove?
2015-02-10T21:45:31  *** Sukhdev has joined #openstack-infra
2015-02-10T21:45:58  <jroll> foobio: can you clarify? I can try to round someone up
2015-02-10T21:46:20  <mtreinish> jbooboo: does it detect if you did a circular dependency to know not to do that?
2015-02-10T21:46:29  <jroll> foobio: is this a problem or a question you have?
2015-02-10T21:46:56  <jbooboo> mtreinish: see section "Cycles" :)
2015-02-10T21:47:00  <SlickNik> zaro / foobio: I'm trying to see if I can reach out to some of the RAX folks who help operate trove their public cloud to see if I can find out some more about it as well.
2015-02-10T21:47:02  <foobio> jroll: we have server instances in dfw using cloud databases in dfw and see the connections to them time out in a matter of a few minutes
2015-02-10T21:47:07  *** ociuhandu has quit IRC
2015-02-10T21:47:26  <mtreinish> jbooboo: heh, didn't get that far
2015-02-10T21:47:43  <anteaya> jbooboo: yes was reading, nicely communicated
2015-02-10T21:47:45  <jbooboo> mtreinish: i did also inclued "don't create a cycle" in the tldr :)
2015-02-10T21:48:03  <jroll> foobio: lemme ask around, can you put in a support ticket while you're at it?
2015-02-10T21:48:12  <jbooboo> mtreinish: i should put it in the tltldrdr
2015-02-10T21:48:19  <mtreinish> jbooboo: that's why I asked. You said don't do it, but I was curious why
2015-02-10T21:48:25  <anteaya> jbooboo: in the case of a patch series that is tested together in check and then one of the dependent patches is removed, what happens?
2015-02-10T21:48:34  <mtreinish> err curios what would happen if I didn't listen
2015-02-10T21:48:36  <jbooboo> oh good, hopefully it will encourage people to keep reading then :)
2015-02-10T21:48:44  <anteaya> jbooboo: dependencies is removed
2015-02-10T21:49:23  <foobio> jroll: i think i tried previously, but was unable to reproduce the behavior using the command-line mysqlclient
2015-02-10T21:49:29  <jbooboo> anteaya: still asking about in check?  so like if one is abandoned while something depending on it is testing?
2015-02-10T21:49:31  *** bswartz has joined #openstack-infra
2015-02-10T21:49:41  <jbooboo> anteaya: or were you asking what happens in gate?
2015-02-10T21:50:02  <foobio> jroll: though we've had a couple database-using applications written in entirely unrelated frameworks display similar behavior
2015-02-10T21:50:09  <jroll> foobio: hrm, weird. is there traffic moving over it when it times out? it does connect at all, correct?
2015-02-10T21:50:11  <zaro> foobio: remember it only repros for us when connectionpool=true
2015-02-10T21:50:20  <jroll> oh
2015-02-10T21:50:21  <jbooboo> anteaya: (regardless, the answer is "nothing happens in check" and "it is removed in gate")
2015-02-10T21:50:34  <jroll> foobio: zaro: maybe a connection limit thing?
2015-02-10T21:50:59  <jbooboo> zaro: connectionpool!=true means make a new connection each time
2015-02-10T21:51:01  *** gyee has joined #openstack-infra
2015-02-10T21:51:08  <foobio> jroll: yeah, it behaves like an idle timeout, but mysqlclient reports that the trove instance is configured for default (many hours) idle timeout
2015-02-10T21:51:08  <jbooboo> jroll: there are about 4 connections involved
2015-02-10T21:51:21  <zaro> jroll: it only disconnect on after idling for about 5 mins.
2015-02-10T21:51:22  <jroll> foobio: right, I'm wondering if there's network gear killing it
2015-02-10T21:51:30  <jroll> I've seen this with F5s
2015-02-10T21:51:31  <foobio> jroll: i'm assuming there probably is
2015-02-10T21:51:49  <foobio> jroll: such as the f5 big-ip default 5-minute socket timeout, yeah
2015-02-10T21:51:53  <jroll> yeah... idk if this is something I can get folks to fix but I can try
2015-02-10T21:51:55  <jroll> yeah
2015-02-10T21:51:59  <foobio> used to manage dozens of them myself
2015-02-10T21:52:13  <foobio> that was one of the things we always had to bump for customers
2015-02-10T21:52:46  <jroll> foobio: right, that's what this looks like, I'll see if I can do something though it will likely need a ticket to get traction
2015-02-10T21:52:48  *** asselin_ has quit IRC
2015-02-10T21:52:52  <anteaya> jbooboo: was asking about the jenkins comment
2015-02-10T21:53:03  *** dannywilson has quit IRC
2015-02-10T21:53:06  <foobio> anyway, i can try to write something up in a ticket, but i'm not sure how to describe a concise case to reproduce it
2015-02-10T21:53:26  *** dannywilson has joined #openstack-infra
2015-02-10T21:53:30  <jroll> foobio: just give what you have and we'll see how it goes
2015-02-10T21:53:31  <anteaya> jbooboo: to know if some patch was tested with another patch in one set of tests and if the dependency relationship is removed or changed to recheck it to test both together again
2015-02-10T21:54:25  <anteaya> jbooboo: and yes, figured it wouldn't work in gate but might be helpful at some point to have a comment with the tests to know if the testing environment (which patches it was tested wtih) has changed
2015-02-10T21:54:40  <anteaya> if I am making sense
2015-02-10T21:54:45  *** dkliban is now known as dkliban_afk
2015-02-10T21:55:03  <jroll> foobio: to be clear, pass me the ticket id when you have it
2015-02-10T21:55:40  <jbooboo> anteaya: to remove or change the dependency relationship, you would have to upload a new version of the patch
2015-02-10T21:55:56  <anteaya> jbooboo: that is true
2015-02-10T21:56:05  <jbooboo> anteaya: so that would be obvious.  if there's a transitive dependency relationship and something in the middle changes, then, yeah, the results of the thing on the end are now invalid
2015-02-10T21:56:05  *** iccha has joined #openstack-infra
2015-02-10T21:56:18  <iccha> hey I hear some trouble with instances in dfw with mysql
2015-02-10T21:56:24  <iccha> anyone got an instance id?
2015-02-10T21:56:27  <anteaya> iccha: you are here
2015-02-10T21:56:35  <anteaya> iccha: I'm so glad
2015-02-10T21:56:51  <jbooboo> anteaya: but then gerrit will say that it depends on an outdated patch.  so that should be apparent too.
2015-02-10T21:57:02  <anteaya> okay
2015-02-10T21:57:11  <anteaya> I'll look for that
2015-02-10T21:57:15  <pleia2> welcome iccha, zaro was looking into some trove issues
2015-02-10T21:57:24  <anteaya> jbooboo: I added a question to line 108 in the etherpad
2015-02-10T21:57:28  <pleia2> I think he'd be the one to chat with
2015-02-10T21:57:30  <foobio> iccha: i can get you the nova and trove instance uuids for one known to be causing a problem anyway
2015-02-10T21:57:32  <anteaya> or asked you a question
2015-02-10T21:57:32  <jbooboo> anteaya: yeah, working out the timestamp now
2015-02-10T21:57:37  <anteaya> jbooboo: cool, thanks
2015-02-10T21:57:49  <iccha> thanks foobio that ll be useful
2015-02-10T21:57:57  <jroll> iccha: you got this then?
2015-02-10T22:00:08  <iccha> ya i pinged our ops and they have not heard about anything else in dfw, so having instance id might help
2015-02-10T22:00:19  <foobio> iccha: we're seeing it, for example, with established mysql sockets originating from nova instance 9d3ff96d-920d-4d4f-854e-7057d268795c to trove instance f8bc89f6-adfb-4e89-9312-ea38b8c63fb0 (both in dfw)
2015-02-10T22:00:54  <foobio> iccha: this has been going on for months, maybe a year, probably for at least as long as we've been using rackspace trove instances
2015-02-10T22:01:29  <foobio> we already moved one service off of a trove instance and back onto a local mysql database on the server due to similar behavior
2015-02-10T22:01:50  *** crc32 has quit IRC
2015-02-10T22:02:01  <foobio> i'm assuming this is something inherent in the design of the deployment
2015-02-10T22:02:53  <ttx> fun part about Liberty is... I ran a test poll with yesterday's ballot set and Lizard won
2015-02-10T22:03:00  *** dimtruck is now known as zz_dimtruck
2015-02-10T22:03:17  <mtreinish> ttx: did some one write a bot for last min voting?
2015-02-10T22:03:28  <ttx> mtreinish: I checked for that
2015-02-10T22:03:37  <foobio> iccha: basically the common thread between the cases we've seen is that the client end doesn't know that the server has dropped its established socket, and then throws an error and has to reconnect. and this seems to happen after only a few (~3) minutes of inactivity on the socket
2015-02-10T22:03:50  <ttx> mtreinish: nothing obvious in the last line
2015-02-10T22:04:16  <foobio> ttx: mtreinish: people who love liberty also love procrastinating?
2015-02-10T22:04:18  <ttx> mtreinish: here was yesterday's test: http://civs.cs.cornell.edu/cgi-bin/results.pl?id=E_7d805614c0655c5d
2015-02-10T22:04:24  *** Hefeweizen has joined #openstack-infra
2015-02-10T22:04:48  <sdague> foobio: sounds pretty 'merican
2015-02-10T22:04:56  <mtreinish> foobio: heh, probably
2015-02-10T22:05:18  *** e0ne has quit IRC
2015-02-10T22:05:22  <mtreinish> ttx: yeah comparing that with the final set doesn't reall show anything obvious
2015-02-10T22:05:59  <ttx> lookign at trends on the poll, all I can say is that Lizard started strong but Liberty caught up
2015-02-10T22:06:00  * mtreinish inner conspiracy nut is disappointed
2015-02-10T22:06:12  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for disabling bad pipelines  https://review.openstack.org/154367
2015-02-10T22:06:35  <sdague> mordred: http://logs.openstack.org/37/151037/2/check/check-requirements-integration-dsvm/087d1d7/console.html#_2015-02-10_21_46_35_337 ???
2015-02-10T22:06:42  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Refactor sources out of triggers  https://review.openstack.org/118993
2015-02-10T22:06:42  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add gerrit reviews into patchset approvals  https://review.openstack.org/97390
2015-02-10T22:06:43  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for negative requirements  https://review.openstack.org/102726
2015-02-10T22:06:43  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Configure triggers dynamically  https://review.openstack.org/119534
2015-02-10T22:06:44  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add support for 'connection' concept  https://review.openstack.org/121528
2015-02-10T22:06:44  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Call driver methods more dynamically  https://review.openstack.org/119533
2015-02-10T22:06:45  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for triggers  https://review.openstack.org/119532
2015-02-10T22:06:45  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for sources  https://review.openstack.org/119531
2015-02-10T22:06:46  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Add base class for reporters  https://review.openstack.org/119530
2015-02-10T22:07:03  <sdague> error in setup command: Error parsing /tmp/tmp.A8NOB41seo/projects/installceilometer/setup.cfg: ValueError: git history requires a target version of pbr.version.SemanticVersion(2014.2.3), but target version is pbr.version.SemanticVersion(2014.2.2)
2015-02-10T22:07:26  <jhesketh> sdague: just wondering if you were able to respond to my comments on https://review.openstack.org/#/c/141260/ please
2015-02-10T22:07:30  <mtreinish> sdague: that's because after the most recent release no one bumped the version string on stable's setup.cfg
2015-02-10T22:07:38  <mtreinish> mriedem: has patches to fix it everywhere
2015-02-10T22:07:46  <mtreinish> fwiw, it's on that tracking etherpad as #2
2015-02-10T22:07:47  <sdague> mtreinish: oh, so all of stable juno is bust?
2015-02-10T22:07:52  <sdague> for a new reason
2015-02-10T22:07:56  <mtreinish> sdague: yeah pretty much
2015-02-10T22:08:08  <mtreinish> which is part of what we were raising on the list...
2015-02-10T22:08:27  *** dustins has quit IRC
2015-02-10T22:09:12  <quantumfly> though pbr enforcement of that is unreleased
2015-02-10T22:09:15  <quantumfly> I think
2015-02-10T22:09:55  *** joesavak has joined #openstack-infra
2015-02-10T22:10:17  <mtreinish> quantumfly: oh right it was reverted at one point
2015-02-10T22:10:20  *** crainte has joined #openstack-infra
2015-02-10T22:10:48  <jbooboo> anyone have any further thoughts on the CRD email?  or shall i fire it off?
2015-02-10T22:10:50  <crainte> iccha '-')/
2015-02-10T22:11:06  *** bswartz has quit IRC
2015-02-10T22:11:24  <quantumfly> jbooboo I just realized it will break sdagues hopes for no tests on only commit changes
2015-02-10T22:11:34  <quantumfly> but I dont think that needs to be in the email
2015-02-10T22:11:44  <jbooboo> quantumfly: ?
2015-02-10T22:11:53  *** vipul has quit IRC
2015-02-10T22:11:54  <sdague> quantumfly: 0.10.7 right?
2015-02-10T22:11:57  <foobio> jbooboo: crd announcement lgtm
2015-02-10T22:12:14  <foobio> sorry, slow reader and keep getting sucked into other broken things
2015-02-10T22:12:17  <quantumfly> jbooboo sdague wants/wanted to not test patches that only update the commit message
2015-02-10T22:12:20  <iccha> foobio: crainte is our ops engineer who is looking currently into your issue
2015-02-10T22:12:20  <anteaya> jbooboo: lgtm too
2015-02-10T22:12:22  *** NobodyCam has quit IRC
2015-02-10T22:12:31  <quantumfly> sdague no thats off a featyre branch without semver
2015-02-10T22:12:45  <anteaya> jbooboo: mostly this will just create a flood of questions but the email is clear enough that now I think I know what is going on
2015-02-10T22:12:52  <sdague> quantumfly: here is the freeze - http://logs.openstack.org/37/151037/2/check/check-requirements-integration-dsvm/087d1d7/logs/pip-freeze.txt.gz
2015-02-10T22:12:57  *** VijayTripathi1 has joined #openstack-infra
2015-02-10T22:12:59  *** jsavak has quit IRC
2015-02-10T22:13:00  *** MaxV has joined #openstack-infra
2015-02-10T22:13:05  <foobio> iccha: crainte: thanks. as much as anything we were curious whether this was an intentional part of the design and if so why such a short timeout was chosen
2015-02-10T22:13:06  <anteaya> so when they pop in here hopefully I can say something coherent and useful
2015-02-10T22:13:25  *** VijayTripathi has quit IRC
2015-02-10T22:13:25  <sdague> quantumfly: so I think the no tests on commit message change will just need to be smarter.... possibly zuul smarter
2015-02-10T22:13:38  <crainte> foobio not that i'm aware of, typically you see that kind of timeout when you put the server behind a load balancer. That doesn't seem to be the case here though
2015-02-10T22:13:42  <jbooboo> quantumfly: i don't think it ends all hope of that.  but that isn't straightforward to start with.
2015-02-10T22:13:45  *** mrmartin has quit IRC
2015-02-10T22:13:52  <sdague> jbooboo: agreed
2015-02-10T22:13:55  <zaro> jbooboo: does depends-on require the full change id?
2015-02-10T22:14:01  <jbooboo> zaro: yes
2015-02-10T22:14:06  <jbooboo> zaro: probably
2015-02-10T22:14:08  <jbooboo> :)
2015-02-10T22:14:19  <jbooboo> zaro: maybe not but let's say it does
2015-02-10T22:14:20  *** NobodyCam has joined #openstack-infra
2015-02-10T22:14:28  <sdague> let's all pretend
2015-02-10T22:14:33  <anteaya> it does for me
2015-02-10T22:14:37  <foobio> crainte: would a packet capture help at all?
2015-02-10T22:14:51  <jbooboo> i'll put that in the email and send it off.
2015-02-10T22:15:12  <crainte> foobio i'm watching traffic on the database instance now but there is a big lack of mysql traffic. trying to find your cloud server and capture traffic on that end as well
2015-02-10T22:15:32  <crainte> foobio if you have anything to generate mysql traffic to the instance please do
2015-02-10T22:15:40  *** vipul has joined #openstack-infra
2015-02-10T22:15:46  <foobio> crainte: right, one of the reasons we suspect an idle timeout is because this is a fairly idle system. i can cause it to do things now
2015-02-10T22:15:54  *** VijayTripathi has joined #openstack-infra
2015-02-10T22:16:05  <jroll> foobio: are you getting a tcp reset?
2015-02-10T22:16:33  *** tiswanso_ has quit IRC
2015-02-10T22:16:33  <jroll> crainte: is there an F5 in front of the dbaas stuff?
2015-02-10T22:16:43  <foobio> jroll: i'm not sure in this particular case. i haven't fired up tcpdump to see if i can get it to happen while i'm watching
2015-02-10T22:17:03  *** thedodd has quit IRC
2015-02-10T22:17:26  *** VijayTripathi1 has quit IRC
2015-02-10T22:17:43  <zaro> jbooboo: ok.  lgtm
2015-02-10T22:17:55  <iccha> jroll: no f5
2015-02-10T22:18:03  <jroll> oh, interesting
2015-02-10T22:18:09  <sdague> quantumfly: oh, the install pbr from repo parts are still in there
2015-02-10T22:18:26  <ekarlso> hey guys, I have a git requirement in requirements.txt, how can I make devstack honor my requirement there and not the one in global reqs ?
2015-02-10T22:18:38  *** claudiub has joined #openstack-infra
2015-02-10T22:18:43  <zaro> foobio: which trove db are we looking at?  review.o.o or review-dev.o,o?
2015-02-10T22:18:51  <foobio> zaro: review-dev
2015-02-10T22:19:15  <zaro> foobio: i set the connectionpool to false so it's not gonna timeout anymore.
2015-02-10T22:19:31  <foobio> zaro: oh
2015-02-10T22:19:39  <ekarlso> I've even added LIBS_FROM_GIT=kazoo
2015-02-10T22:19:42  <zaro> shall i change it back to true
2015-02-10T22:19:42  <openstackgerrit> Sean Dague proposed openstack/requirements: don't install pbr from upstream source  https://review.openstack.org/154687
2015-02-10T22:19:43  <zaro> ?
2015-02-10T22:19:44  <ekarlso> without it being honored :(
2015-02-10T22:19:51  <foobio> zaro: how easy would it be to put it back so that rackspace can troubleshoot?
2015-02-10T22:19:58  *** mriedem has quit IRC
2015-02-10T22:20:05  <zaro> easy, doing now
2015-02-10T22:20:21  *** tiswanso has joined #openstack-infra
2015-02-10T22:20:23  <foobio> zaro: thanks, i'll start tcpdump while it's up and running and then try to catch a timeout
2015-02-10T22:20:47  *** mriedem has joined #openstack-infra
2015-02-10T22:20:48  <mriedem> mtreinish: sdague: https://review.openstack.org/#/q/Ib8a29258d99de75b49a9b19aef36bb99bc5fcac0,n,z
2015-02-10T22:21:05  <sdague> ekarlso: LIBS_FROM_GIT only works for libraries that have git install paths in devstack
2015-02-10T22:21:09  <mriedem> mtreinish: sdague: the ceilometer one depends on https://review.openstack.org/#/c/154631/
2015-02-10T22:21:15  <zaro> ok, done.  it should timeout in about 3-5 mins
2015-02-10T22:21:15  <ekarlso> sdague: :'(
2015-02-10T22:21:18  <sdague> mriedem: so we could just fix the tests
2015-02-10T22:21:26  <ekarlso> sdague: so no way to pull a lib from git =?
2015-02-10T22:21:39  <sdague> ekarlso: make it an external devstack plugin
2015-02-10T22:21:41  <foobio> zaro: thanks, i'll start the tcpdump in a couple minutes and then try to interact with the site and see what we catch
2015-02-10T22:21:53  <ekarlso> sdague: eh, really ? :|
2015-02-10T22:21:57  *** unicell has quit IRC
2015-02-10T22:22:05  <ekarlso> sounds like a bit of crap atm
2015-02-10T22:22:16  <crainte> foobio iccha zaro https://gist.github.com/crainte/abf7b44ad74da0bac342 :P
2015-02-10T22:23:03  <anteaya> ekarlso: let's ensure our language supports a positive work environment
2015-02-10T22:23:09  <foobio> crainte: is that 120 seconds timeout for inactive sessions?
2015-02-10T22:23:09  <zaro> crainte: 120 was exactly what we were seeing.
2015-02-10T22:23:44  <ekarlso> anteaya: ok, I meant it's really sad that I can't specify a requirement from git and have it installed..
2015-02-10T22:23:45  <foobio> crainte: when queried the mysqld running there claims to have default session timeouts (which i think are something like 12 hours)
2015-02-10T22:23:49  <ekarlso> withou
2015-02-10T22:23:58  <ekarlso> without having to do semi-hacks to get it in there
2015-02-10T22:24:07  <anteaya> ekarlso: and your clearly explained statement does so wonderfully
2015-02-10T22:24:12  *** crc32 has joined #openstack-infra
2015-02-10T22:24:25  <anteaya> ekarlso: and yes requirements are difficult
2015-02-10T22:24:28  <foobio> ekarlso: semi-hacks like releasing software>
2015-02-10T22:24:35  *** pc_m has quit IRC
2015-02-10T22:24:51  <sdague> the external devstack plugins also aren't semi-hacks
2015-02-10T22:25:28  *** tiswanso has quit IRC
2015-02-10T22:25:38  <crainte> foobio zaro updated that gist
2015-02-10T22:25:40  <zaro> foobio: i just saw the timeout
2015-02-10T22:25:51  <foobio> zaro: yep, i'm looking at the capture now
2015-02-10T22:25:58  <crainte> the show variables does return 28800 but the show global returns the configured 120
2015-02-10T22:26:14  <sdague> mriedem: this might fix it as well - https://review.openstack.org/#/c/154688/
2015-02-10T22:26:25  <sdague> anyway, time to call it a night, see you folks in the morning
2015-02-10T22:26:26  <foobio> crainte: yep, tcp reset coming back from the database server/port
2015-02-10T22:26:50  *** stevemar has joined #openstack-infra
2015-02-10T22:27:03  <foobio> crainte: thanks--that explains our confusion and the behavior we're seeing
2015-02-10T22:27:11  <foobio> jbooboo: ^ https://gist.github.com/crainte/abf7b44ad74da0bac342
2015-02-10T22:27:17  <jbooboo> foobio: following
2015-02-10T22:27:27  <jbooboo> not sure i understand the difference between 'show variables' and 'show global variables'
2015-02-10T22:27:59  *** mriedem has quit IRC
2015-02-10T22:28:40  <foobio> crainte: is the global wait_timeout configurable from the client side or is that immutable and set by rackspace?
2015-02-10T22:29:02  <crainte> looking it up before i make that suggestion :P
2015-02-10T22:29:11  *** dprince has quit IRC
2015-02-10T22:29:39  <jbooboo> (or why the global scope would override the session scope)
2015-02-10T22:30:23  <crainte> foobio looks like it is configurable via control panel/api
2015-02-10T22:30:44  <jbooboo> OOOH
2015-02-10T22:31:03  <jbooboo> i think that if we had a mysql lib client query that value it would show 120 in both places
2015-02-10T22:31:06  *** elliottk_ has joined #openstack-infra
2015-02-10T22:31:23  *** arosen has joined #openstack-infra
2015-02-10T22:31:31  <jbooboo> but the _interactive_ sessions get the default set from interactive_timout, so that's what we see as the session (non-global) value
2015-02-10T22:31:46  <arosen> Hi, I keep hitting these error in my CI runs pretty frequently: ReadTimeoutError: HTTPConnectionPool(host='pypi.dfw.openstack.org', port=80): Read timed out.
2015-02-10T22:31:50  <jbooboo> non-interactive (eg, gerrit) sessions get their value initialized from global wait_timout
2015-02-10T22:31:50  *** cnesa has quit IRC
2015-02-10T22:32:20  <arosen> I was wondering if there was anything obvious I could do. Is there a better mirror or ..?
2015-02-10T22:32:27  <foobio> this explains why i also wasn't able to reproduce the idle timeout behavior with an idle mysqlclient cli session
2015-02-10T22:32:32  <jbooboo> arosen: this is for your own third-party ci?
2015-02-10T22:32:37  <arosen> http://logs2.aaronorosen.com/88/153088/8/check/dsvm-tempest-full-congress-nodepool/cd8fd02/logs/devstacklog.txt.gz#_2015-02-10_22_29_15_134 <-- it works for a while
2015-02-10T22:32:42  <arosen> jbooboo:  yup
2015-02-10T22:32:52  <foobio> arosen: use pypi.python.org instead
2015-02-10T22:33:16  <jbooboo> arosen, foobio: ++
2015-02-10T22:33:48  <arosen> if I set that in /etc/nodepool/scripts/configure_mirrors.sh do i need to rebuild the image?
2015-02-10T22:33:54  <dansmith> jbooboo: thanks for the extra awesome
2015-02-10T22:34:33  <jbooboo> dansmith: you're welcome!
2015-02-10T22:34:34  <foobio> crainte: so i'm looking in the dashboard and it's not obvious where you would adjust these values, but presumably they can be set via the cli/api?
2015-02-10T22:34:50  <mordred> jbooboo: yes to your above statement
2015-02-10T22:34:54  <mordred> sorry I wasn't here to chime in
2015-02-10T22:35:04  <crainte> foobio correct, in the dashboard it's Databases > Configurations
2015-02-10T22:35:18  <crainte> you basically build a set of default configurations and then apply that set to an instance
2015-02-10T22:35:20  <openstackgerrit> Joshua Hesketh proposed openstack-infra/zuul: Update the description for grey icons on status pg  https://review.openstack.org/154690
2015-02-10T22:35:21  <foobio> crainte: ooh! i was looking at instances
2015-02-10T22:35:28  <jbooboo> mordred: np; sounds like we understand the problem and hopefully ^^ might be able to fix it!
2015-02-10T22:35:47  <foobio> crainte: aha, so we can create a new db config and then apply that. thanks
2015-02-10T22:35:53  <crainte> correct
2015-02-10T22:36:05  <mordred> jbooboo: yay!
2015-02-10T22:36:08  <jbooboo> mordred: i am, however, going to blame mysql for being slightly insane in this regard.
2015-02-10T22:36:42  <mordred> jbooboo: well ... there is actually a good reason for it - but I agree it's not unconfusing
2015-02-10T22:37:44  *** NobodyCam has quit IRC
2015-02-10T22:37:56  <elliottk_> hi all. i could use some help from someone familiar with the JJB email-ext module. is there anyone here who is?
2015-02-10T22:38:02  *** NobodyCam has joined #openstack-infra
2015-02-10T22:38:43  <zaro> sure, ask away
2015-02-10T22:38:53  <elliottk_> thanks, zaro
2015-02-10T22:38:56  <foobio> jbooboo: mordred: quantumfly: zaro: so anyway, we probably want to create a custom config with the wait_timeout cranked up to a more reasonable value and then apply that named configuration to all our trove instances
2015-02-10T22:39:42  <quantumfly> 8 hours
2015-02-10T22:40:15  <elliottk_> i'm trying to configure my email-ext so that the failure trigger and success trigger sections have, perhaps, different recipients as well as different subject lines, for example
2015-02-10T22:40:16  <mordred> oh - wait - hang on - I may have been missing the context on the why here
2015-02-10T22:40:18  <jbooboo> mordred: which? initializing one value from an identically named other value?  or selectively initializing it from a third, different value in certain circumstances?  :)
2015-02-10T22:40:19  <dims__> jbooboo, folks, very cool. ("Depends-On")
2015-02-10T22:40:21  *** elliottk_ has left #openstack-infra
2015-02-10T22:40:22  <mordred> foobio: what was the base problem?
2015-02-10T22:40:39  *** elliottk_ has joined #openstack-infra
2015-02-10T22:40:40  <mordred> jbooboo: how else are you going to justify highly-paid consultants?
2015-02-10T22:40:51  <mordred> foobio: this is for the trove connection from ... gerrit?
2015-02-10T22:40:55  <jbooboo> mordred: you're right, there was a good reason :)
2015-02-10T22:41:27  <foobio> mordred: yep
2015-02-10T22:41:27  <jbooboo> foobio, quantumfly: 8 hours (mysql default) sounds good.
2015-02-10T22:41:47  <foobio> mordred: rackspace default for new trove instances seems to be 2 minutes idle timeout
2015-02-10T22:41:48  <mordred> ok. it does not bother me as a setting for gerrit
2015-02-10T22:41:58  <jbooboo> mordred: would it bother you for something else?
2015-02-10T22:42:14  <jbooboo> eg, storyboard?
2015-02-10T22:42:18  *** mwagner_lap has quit IRC
2015-02-10T22:42:28  <zaro> i'm noticing that this little bit of puppet doesn't seem to work.  http://git.openstack.org/cgit/openstack-infra/system-config/tree/modules/openstack_project/manifests/gerrit.pp#n274
2015-02-10T22:42:30  <crainte> foobio this might just be a mysql 5.1 default (for rackspace) I'll try to get it updated to a higher value. Our 5.6 instances seem to have 3600
2015-02-10T22:42:44  <mordred> it would - often times in higher-volume (potentially higher numbers of connections) because of the way thread memory works - you want to reap and re-create rather than hold open for ages
2015-02-10T22:43:04  <mordred> for instance, for web properties, having a wait_timeout of over 1 is almost never correct
2015-02-10T22:43:05  <foobio> crainte: interesting. i wonder if that changed in response to customer feedback ;)
2015-02-10T22:43:10  <openstackgerrit> Joe Gordon proposed openstack-infra/devstack-gate: Disable install tempest by default  https://review.openstack.org/154694
2015-02-10T22:43:12  <jbooboo> http://dev.mysql.com/doc/refman/5.1/en/server-system-variables.html#sysvar_wait_timeout
2015-02-10T22:43:13  <zaro> the source is a soft link, not an actual file.  does anybody know if that should work?
2015-02-10T22:43:22  <mordred> BUT - as with all tuning, it depends on usage
2015-02-10T22:43:30  <jbooboo> foobio, crainte, mordred: i thought that mysql doc was saying the default was 8 hours
2015-02-10T22:43:30  <mordred> and the way gerrit is using this I would imagine it's fine
2015-02-10T22:43:32  <mordred> yes
2015-02-10T22:43:36  <mordred> the default is 8 hours
2015-02-10T22:43:44  <mordred> mysql is notorious for having bad defaults
2015-02-10T22:44:10  <jbooboo> mordred: do you think we should have a lower value for storyboard?
2015-02-10T22:44:13  <mordred> the real thing is that we noticed at all - gerrit shoudl be transparently reconnecting
2015-02-10T22:44:16  <crainte> jbooboo mysql default, but rackspace configs override it. we currently have 120s for mysql 5.1 and 3600s for mysql 5.6
2015-02-10T22:44:25  <jbooboo> crainte: gotcha
2015-02-10T22:45:16  <foobio> mordred: fwiw i strongly suspect this is what was happening to paste/lodgeit as well. it was using sqlalchemy (purportedly) and should have been automagically detecting and reconnecting via mysql ping functionality
2015-02-10T22:45:17  <mordred> jbooboo: apps _should_ be designed such that a network interruption to the db does not cause a failed operation, but merely a reconnect - if they want to appropriately deal with HA systems and whatnot
2015-02-10T22:45:17  <quantumfly> mordred we thought that about lodgeit too
2015-02-10T22:45:53  <mordred> yah - clearly neither is actually designed to dtrt here - and they're not high traffic enough - so I thin kthe wait_timeout is fine
2015-02-10T22:46:02  <foobio> mordred: we were also seeing it from jeepyb's gerritdb module until i added an explicit mysql ping call to it
2015-02-10T22:46:06  <mordred> I'd like to think about it more for storyboard - but not right now - it's not an urgent setting
2015-02-10T22:46:13  <elliottk_> zaro: what i'm trying to do is use the email-ext module to allow me to have different recipients and different subjects, depending on if the job fails or succeeds.  i have not been able to figure out how to do this
2015-02-10T22:46:50  <jbooboo> mordred: yeah, i'm not sure how forcing a disconnect rather than just expecting clients to cycle their own connections is preferable.  i'm looking forward to hearing war stories over beer that explain all.  :)
2015-02-10T22:47:08  <elliottk_> the config files of jenkins-ui-generated jobs have a deeper level of email notification than i have been able to create using jjb
2015-02-10T22:47:30  <mordred> jbooboo: it's actually to deal with poorly-behaving clients :)
2015-02-10T22:47:35  <elliottk_> i can paste a couple config files if that would help
2015-02-10T22:47:36  *** mfink_ has quit IRC
2015-02-10T22:47:47  *** Rockyg has quit IRC
2015-02-10T22:48:10  <mordred> jbooboo: but poorly behaving clients in a runaway web app that's getting slammed can up the memory pressure inside of mysql, cause all queries to get slower and death by thundering herd
2015-02-10T22:48:15  <elliottk_> zaro: or some screenshots, if that's even better
2015-02-10T22:48:16  <mordred> we have no web apps that see that kind of traffic
2015-02-10T22:48:47  <openstackgerrit> Joshua Hesketh proposed openstack-infra/os-loganalyze: Assume trailing slashes want to load indexes  https://review.openstack.org/141260
2015-02-10T22:49:05  <mordred> jbooboo: the other thing is that you want to make sure that your app handles disconnects properly so that it can handle db HA motions properly
2015-02-10T22:49:22  <foobio> mordred: jbooboo: it's entirely likely that the rackspace default difference between mysql 5.1 and 5.6 (2 minutes vs an hour) is why it's only the things we put onto trove early seemed to be doing this but things we added later weren't (because they got 5.6)
2015-02-10T22:49:25  *** shashankhegde has quit IRC
2015-02-10T22:49:28  <mordred> then - if your app _Does_ ... because MySQL connection cost is so low, but because the internal thread scheduling is so bad
2015-02-10T22:49:39  <jbooboo> foobio: yeah
2015-02-10T22:49:47  <mordred> you may want to trigger disconnects while idle _anyway_ so that the mysql thread scheduler can do a better job
2015-02-10T22:49:58  *** shashankhegde has joined #openstack-infra
2015-02-10T22:50:13  <mordred> it's one of those places where you really want all of the parts of the system to be resilient to get it to _really_ scream
2015-02-10T22:50:13  <zaro> elliottk_: the jjb email-ext module might need to be updated
2015-02-10T22:50:41  <zaro> elliottk_: are there any existing tests in that for it?
2015-02-10T22:51:09  <elliottk_> zaro: i'm not sure what you mean by "any existing tests"
2015-02-10T22:51:13  *** Tim_O has quit IRC
2015-02-10T22:51:49  <elliottk_> zaro: are you saying the jjb email-ext module may not current do what i need?
2015-02-10T22:51:55  <zaro> elliottk_: http://git.openstack.org/cgit/openstack-infra/jenkins-job-builder/tree/tests/publishers/fixtures/email-ext001.yaml
2015-02-10T22:52:08  *** achanda has quit IRC
2015-02-10T22:52:25  *** esmute has quit IRC
2015-02-10T22:52:30  <foobio> zaro: i've applied a 28800 second wait_timeout config to the review-dev db
2015-02-10T22:52:31  <elliottk_> zaro: yes, this is the same as the page i'm using:  http://ci.openstack.org/jenkins-job-builder/publishers.html
2015-02-10T22:52:45  *** hdd has joined #openstack-infra
2015-02-10T22:53:08  <elliottk_> but from what i'm seeing, it does not currently support having different info for different email triggers
2015-02-10T22:53:09  <zaro> foobio: cool.  i assume we don't need to restart Gerrit.
2015-02-10T22:53:20  <foobio> zaro: doesn't seem so
2015-02-10T22:53:44  *** timcline has quit IRC
2015-02-10T22:53:56  <zaro> foobio: i'm using review-dev.o.o so will let you know if it makes a difference.
2015-02-10T22:54:00  <foobio> zaro: i've used review-dev's ui again to get it to reconnect, so i'll check it again in 5-10 minutes and a few more times over the evening too
2015-02-10T22:54:51  *** niska has quit IRC
2015-02-10T22:55:32  *** camunoz_gone has quit IRC
2015-02-10T22:55:47  *** BadCub has quit IRC
2015-02-10T22:55:53  *** vipul has quit IRC
2015-02-10T22:55:56  <jogo> mordred: what does this mean http://logs.openstack.org/80/154680/1/check/check-requirements-integration-dsvm/c983c3a/console.html#_2015-02-10_22_26_13_283
2015-02-10T22:56:24  *** NobodyCam has quit IRC
2015-02-10T22:56:39  *** achanda has joined #openstack-infra
2015-02-10T22:56:41  <zaro> elliottk_: different info?  what type of other info were you expecting?  i see failure, success, and aborted
2015-02-10T22:56:43  <jogo> mordred: ohh never mind, I sdague fixued those
2015-02-10T22:56:47  <jogo> just need to poke a few patches
2015-02-10T22:57:12  <jogo> ihrachyshka: https://review.openstack.org/#/q/Ib8a29258d99de75b49a9b19aef36bb99bc5fcac0,n,z are ready  Ithink
2015-02-10T22:57:16  *** niska has joined #openstack-infra
2015-02-10T22:57:31  *** camunoz_gone has joined #openstack-infra
2015-02-10T22:57:38  *** vipul has joined #openstack-infra
2015-02-10T22:58:10  *** esmute has joined #openstack-infra
2015-02-10T22:58:11  *** NobodyCam has joined #openstack-infra
2015-02-10T22:59:03  <SlickNik> iccha / crainte: Thanks for following up with the wait_timeout matter!
2015-02-10T22:59:25  *** dannywilson has quit IRC
2015-02-10T23:00:23  <zaro> elliottk_: i think you just need to have multiple '- email-ext' definitions.
2015-02-10T23:00:31  <foobio> SlickNik: iccha: crainte: definitely--huge thanks. didn't realize the global values could override the reported session values, nor that we could set them ourselves. this ought to help tremendously
2015-02-10T23:01:14  *** dannywilson has joined #openstack-infra
2015-02-10T23:01:31  *** dannywilson has quit IRC
2015-02-10T23:01:32  <elliottk_> zaro: oh! i hadn't thought of that. let me try
2015-02-10T23:01:42  <zaro> yeah thanks a bunch. that timeout was annoying the bleepers out of me.
2015-02-10T23:01:48  *** BadCub has joined #openstack-infra
2015-02-10T23:01:57  *** otter768 has joined #openstack-infra
2015-02-10T23:01:57  *** bknudson has quit IRC
2015-02-10T23:01:58  *** dmorita has quit IRC
2015-02-10T23:02:23  <crainte> foobio SlickNik np. i have a PR in now to make the change when new instances are created, so hopefully this won't creep up again
2015-02-10T23:02:32  *** patrickeast_ has joined #openstack-infra
2015-02-10T23:02:54  *** patrickeast has quit IRC
2015-02-10T23:02:55  *** patrickeast_ is now known as patrickeast
2015-02-10T23:03:39  <anteaya> as a note, I'm afk for tomorrow running errands
2015-02-10T23:03:57  *** dannywil_ has joined #openstack-infra
2015-02-10T23:03:57  <mordred> kk
2015-02-10T23:04:10  *** dannywil_ has quit IRC
2015-02-10T23:04:38  *** dannywilson has joined #openstack-infra
2015-02-10T23:05:55  <foobio> ooh, there's a devstack change cross-repo-depending on a devstack-gate change in the check pipeline right now
2015-02-10T23:06:08  <mordred> foobio: NEAT
2015-02-10T23:06:23  *** otter768 has quit IRC
2015-02-10T23:06:47  <dansmith> I'm about to push up a 23 patch set across four projects
2015-02-10T23:06:50  *** reed has quit IRC
2015-02-10T23:06:57  <dansmith> (no not really)
2015-02-10T23:07:07  <foobio> dansmith: i was about to not be at all surprised
2015-02-10T23:07:09  <jbooboo> by pure coincidence, i'm about to leave for the day!
2015-02-10T23:07:10  *** Alexandra_ has joined #openstack-infra
2015-02-10T23:07:15  <dansmith> heh
2015-02-10T23:07:18  <jbooboo> (oh, then, uh, not really)
2015-02-10T23:07:27  <dansmith> heh
2015-02-10T23:07:51  <jogo> mordred: so I think this patch is old enough https://review.openstack.org/#/c/121251/1
2015-02-10T23:07:58  *** kgiusti has quit IRC
2015-02-10T23:08:11  <jogo> mordred: actually we may want to revisit what belongs in openstack/openstack
2015-02-10T23:08:12  *** hdd has quit IRC
2015-02-10T23:08:16  *** armax has quit IRC
2015-02-10T23:08:19  <foobio> yep, jogo seems to be taking crd for a spin with devstack change 154689 so that he can actually see whether it works with the devstack-gate change 154694 it's depending on
2015-02-10T23:08:27  <jogo> now that we have decoupled a lot of projects from the gate
2015-02-10T23:09:55  *** alexpilotti has joined #openstack-infra
2015-02-10T23:10:00  <openstackgerrit> K Jonathan Harker proposed openstack-infra/jenkins-job-builder: The email publisher needs a list of recipients  https://review.openstack.org/153432
2015-02-10T23:10:32  *** alexpilotti has quit IRC
2015-02-10T23:11:20  *** baoli has quit IRC
2015-02-10T23:11:22  <mordred> jogo: uhm. yeah
2015-02-10T23:11:26  *** doug-fish has left #openstack-infra
2015-02-10T23:11:49  *** baoli has joined #openstack-infra
2015-02-10T23:11:52  <elliottk_> zaro: i don't believe the recommendation of having multiple email-ext definitions is going to solve my problem
2015-02-10T23:12:12  <jogo> mordred: maybe make openstack/openstack everything under openstack
2015-02-10T23:12:22  <jogo> and not just 'integrated gate' openstack
2015-02-10T23:12:24  <elliottk_> zaro: i need one definition with, for example, a different subject for a success trigger and a different one for a failure trigger
2015-02-10T23:12:28  *** joesavak has quit IRC
2015-02-10T23:12:40  <mordred> jogo: well ... in the new world order - is there any benefit in that repo anymore?
2015-02-10T23:12:53  <mordred> jogo: (just asking - I don't know if I have an answer)
2015-02-10T23:12:55  <lifeless> does it have a definition even?
2015-02-10T23:13:06  <mordred> lifeless: right now it's everything that's in the integrated gate
2015-02-10T23:13:07  <jogo> mordred: I think so, for tracking purposes
2015-02-10T23:13:11  <elliottk_> zaro: i'm not sure how to make it clear the problem i'm having.  i can upload some screenshots or config.xml snippets if that could help
2015-02-10T23:13:18  <lifeless> mordred: I know that
2015-02-10T23:13:18  *** alexpilotti has joined #openstack-infra
2015-02-10T23:13:22  <jogo> mordred: to say opentack landed x patches this week
2015-02-10T23:13:23  <lifeless> mordred: the context was new world order...
2015-02-10T23:13:27  <mordred> lifeless: then why did you ask? :)
2015-02-10T23:13:30  * mordred trolls lifeless
2015-02-10T23:13:38  * lifeless trouts mordred 
2015-02-10T23:13:40  <mordred> jogo: nod
2015-02-10T23:13:46  * mordred llamas lifeless
2015-02-10T23:13:51  <jogo> mordred: because I think this graph is neato https://github.com/openstack/openstack/graphs/commit-activity
2015-02-10T23:14:02  *** BadCub has quit IRC
2015-02-10T23:14:07  *** esmute has quit IRC
2015-02-10T23:14:07  <mordred> jogo: what if we just made you a graph like that out of graphite?
2015-02-10T23:14:29  <jogo> mordred: having a single git tree is still useful for debugging things
2015-02-10T23:14:30  <mtreinish> mordred: would it be as pretty?
2015-02-10T23:14:44  <mordred> mtreinish: it would be prettier, as it wouldn't be tainted by that terrible URL :)
2015-02-10T23:14:46  *** vipul has quit IRC
2015-02-10T23:14:48  *** NobodyCam has quit IRC
2015-02-10T23:14:55  <jogo> even if some were release based things and other are install from source
2015-02-10T23:15:02  <mtreinish> heh, fair enough :)
2015-02-10T23:15:16  <jogo> mordred: but I would settle for a graphite graph
2015-02-10T23:16:50  *** NobodyCam has joined #openstack-infra
2015-02-10T23:17:08  *** esmute has joined #openstack-infra
2015-02-10T23:17:13  <openstackgerrit> Akihiro Motoki proposed openstack-infra/project-config: Add networking-nec project to StackForge  https://review.openstack.org/154705
2015-02-10T23:18:47  <openstackgerrit> Elizabeth K. Joseph proposed openstack-infra/project-config: Make devstack-gate stable release tests non-voting  https://review.openstack.org/154706
2015-02-10T23:19:08  *** vipul has joined #openstack-infra
2015-02-10T23:19:31  <quantumfly> mordred: its a handy way to track numbers if nothing else
2015-02-10T23:19:41  <quantumfly> gah I was scrolled up
2015-02-10T23:20:10  *** shashankhegde has quit IRC
2015-02-10T23:20:22  * mordred hands quantumfly a llama
2015-02-10T23:21:04  <jogo> mordred: I'll propose a change to openstack/openstack and we can discuss it there
2015-02-10T23:21:10  <quantumfly> mordred: I can report that slingtv espn seems to work pretty well. so there is no reason to have cable anymore
2015-02-10T23:21:35  <mordred> jogo: kk
2015-02-10T23:21:44  <mordred> quantumfly: woot
2015-02-10T23:21:48  *** BadCub has joined #openstack-infra
2015-02-10T23:22:14  <zaro> jbooboo: was wondering why ZUUL_PIPELINE param is sent for silent pipeline but not for periodic pipeline?  is that something that's configurable?
2015-02-10T23:22:21  *** hdd has joined #openstack-infra
2015-02-10T23:22:46  <jbooboo> zaro: it should always be sent
2015-02-10T23:22:47  <zaro> *i mean sent to jenkins
2015-02-10T23:23:25  <zaro> jbooboo: i don't see it in some of the pipelines.. https://jenkins-dev.openstack.org/job/gate-noop/
2015-02-10T23:24:27  <zaro> jbooboo: ohh wait, i do see it. it's just not in the jenkins desription for the job.
2015-02-10T23:24:34  *** crainte has quit IRC
2015-02-10T23:26:34  <zaro> jbooboo: jenkins build info is set by zuul as well right?  i guess that's the problem.  why is it different for different jobs?
2015-02-10T23:27:42  *** amitgandhinz has quit IRC
2015-02-10T23:27:45  <openstackgerrit> Merged openstack-infra/project-config: Make gate-ceilometer-python34 only run on master branch  https://review.openstack.org/154631
2015-02-10T23:28:19  *** gyee has quit IRC
2015-02-10T23:28:20  *** iccha has left #openstack-infra
2015-02-10T23:29:17  *** tsg_ has quit IRC
2015-02-10T23:30:39  <zaro> foobio: good sign, i haven't seen a timeout yet.
2015-02-10T23:31:08  <foobio> zaro: same here
2015-02-10T23:31:37  *** esmute has quit IRC
2015-02-10T23:31:53  *** mestery has quit IRC
2015-02-10T23:33:20  *** BadCub has quit IRC
2015-02-10T23:33:22  *** NobodyCam has quit IRC
2015-02-10T23:34:01  *** vipul has quit IRC
2015-02-10T23:34:59  *** elliottk_ has left #openstack-infra
2015-02-10T23:36:42  *** mestery has joined #openstack-infra
2015-02-10T23:37:09  *** esmute has joined #openstack-infra
2015-02-10T23:37:23  *** marun has joined #openstack-infra
2015-02-10T23:38:08  *** vipul has joined #openstack-infra
2015-02-10T23:38:43  *** ihrachyshka has quit IRC
2015-02-10T23:39:14  *** chlong has joined #openstack-infra
2015-02-10T23:40:38  *** BadCub has joined #openstack-infra
2015-02-10T23:41:05  *** NobodyCam has joined #openstack-infra
2015-02-10T23:42:07  *** vigneshvar has quit IRC
2015-02-10T23:44:17  *** ociuhandu has joined #openstack-infra
2015-02-10T23:44:17  *** unicell has joined #openstack-infra
2015-02-10T23:44:23  <jhesketh> mordred, jbooboo: so, rethinking on the bower mirror stuff, I've rerolled https://review.openstack.org/#/c/154297/ if you get a chance :-) (no pressure)
2015-02-10T23:45:25  *** Sukhdev has quit IRC
2015-02-10T23:45:31  *** nelsnelson has quit IRC
2015-02-10T23:45:57  *** nelsnelson has joined #openstack-infra
2015-02-10T23:46:01  *** nelsnelson has quit IRC
2015-02-10T23:46:07  *** dims_ has joined #openstack-infra
2015-02-10T23:46:25  *** emagana has quit IRC
2015-02-10T23:46:45  <openstackgerrit> Merged openstack-infra/system-config: Only start 1 subunit worker per node  https://review.openstack.org/151725
2015-02-10T23:47:11  *** emagana has joined #openstack-infra
2015-02-10T23:47:44  *** dims__ has quit IRC
2015-02-10T23:49:35  <openstackgerrit> Merged openstack-infra/system-config: Update Jenkins doc to reference nodepool  https://review.openstack.org/149051
2015-02-10T23:49:36  <openstackgerrit> K Jonathan Harker proposed openstack-infra/puppet-elasticsearch: Make the number of shards and replicas tunable  https://review.openstack.org/154711
2015-02-10T23:50:34  *** sabeen2 has quit IRC
2015-02-10T23:50:34  *** dims_ has quit IRC
2015-02-10T23:51:34  *** bswartz has joined #openstack-infra
2015-02-10T23:51:38  *** emagana has quit IRC
2015-02-10T23:53:25  <openstackgerrit> Joe Gordon proposed openstack-infra/devstack-gate: DO NOT MERGE: testing aiopcpu with tempest full  https://review.openstack.org/136504
2015-02-10T23:54:08  *** adalbas has quit IRC
2015-02-10T23:54:30  *** cdent has quit IRC
2015-02-10T23:56:38  *** carl_baldwin has quit IRC
2015-02-10T23:56:58  *** camunoz_gone is now known as camunoz
2015-02-10T23:57:42  *** mestery has quit IRC
2015-02-10T23:58:53  *** Alexandra_ has quit IRC
